define("ember-addons/utils/extract-value", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = extractValue;
  function extractValue(desc) {
    return desc.value || typeof desc.initializer === "function" && desc.initializer();
  }
});
define("ember-addons/utils/handle-descriptor", ["exports", "@ember/object", "./extract-value"], function (exports, _object, _extractValue) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = handleDescriptor;

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  function handleDescriptor(target, key, desc) {
    var params = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];

    return {
      enumerable: desc.enumerable,
      configurable: desc.configurable,
      writeable: desc.writeable,
      initializer: function initializer() {
        var computedDescriptor = void 0;

        if (desc.writable) {
          var val = (0, _extractValue.default)(desc);
          if ((typeof val === "undefined" ? "undefined" : _typeof(val)) === "object") {
            var value = {};
            if (val.get) {
              value.get = callUserSuppliedGet(params, val.get);
            }
            if (val.set) {
              value.set = callUserSuppliedSet(params, val.set);
            }
            computedDescriptor = value;
          } else {
            computedDescriptor = callUserSuppliedGet(params, val);
          }
        } else {
          throw new Error("ember-computed-decorators does not support using getters and setters");
        }

        return _object.computed.apply(null, params.concat(computedDescriptor));
      }
    };
  }

  function niceAttr(attr) {
    var parts = attr.split(".");
    var i = void 0;

    for (i = 0; i < parts.length; i++) {
      if (parts[i] === "@each" || parts[i] === "[]" || parts[i].indexOf("{") !== -1) {
        break;
      }
    }

    return parts.slice(0, i).join(".");
  }

  function callUserSuppliedGet(params, func) {
    params = params.map(niceAttr);
    return function () {
      var _this = this;

      var paramValues = params.map(function (p) {
        return (0, _object.get)(_this, p);
      });

      return func.apply(this, paramValues);
    };
  }

  function callUserSuppliedSet(params, func) {
    params = params.map(niceAttr);
    return function (key, value) {
      var _this2 = this;

      var paramValues = params.map(function (p) {
        return (0, _object.get)(_this2, p);
      });
      paramValues.unshift(value);

      return func.apply(this, paramValues);
    };
  }
});
define("ember-addons/utils/is-descriptor", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = isDescriptor;

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  function isDescriptor(item) {
    return item && (typeof item === "undefined" ? "undefined" : _typeof(item)) === "object" && "writable" in item && "enumerable" in item && "configurable" in item;
  }
});
define("discourse-common/config/environment", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = { environment: Ember.testing ? "test" : "development" };
});
define("discourse-common/helpers/bound-i18n", ["exports", "discourse-common/lib/helpers"], function (exports, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(function (key, params) {
    return I18n.t(key, params.hash);
  });
});
define("discourse-common/helpers/component-for-collection", ["discourse-common/lib/helpers"], function (_helpers) {
  "use strict";

  (0, _helpers.registerUnbound)("component-for-collection", function (collectionIdentifier, selectKit) {
    return selectKit.modifyComponentForCollection(collectionIdentifier);
  });
});
define("discourse-common/helpers/component-for-row", ["discourse-common/lib/helpers"], function (_helpers) {
  "use strict";

  (0, _helpers.registerUnbound)("component-for-row", function (collectionForIdentifier, item, selectKit) {
    return selectKit.modifyComponentForRow(collectionForIdentifier, item);
  });
});
define("discourse-common/helpers/d-icon", ["discourse-common/lib/helpers", "discourse-common/lib/icon-library"], function (_helpers, _iconLibrary) {
  "use strict";

  (0, _helpers.registerUnbound)("d-icon", function (id, params) {
    return new Handlebars.SafeString((0, _iconLibrary.renderIcon)("string", id, params));
  });
});
define("discourse-common/helpers/fa-icon", ["exports", "discourse-common/lib/helpers", "discourse-common/lib/icon-library", "discourse-common/lib/deprecated"], function (exports, _helpers, _iconLibrary, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.iconHTML = iconHTML;
  function iconHTML(id, params) {
    return (0, _iconLibrary.renderIcon)("string", id, params);
  }

  (0, _helpers.registerUnbound)("fa-icon", function (icon, params) {
    (0, _deprecated.default)("Use `{{d-icon}}` instead of `{{fa-icon}}");
    return new Handlebars.SafeString(iconHTML(icon, params));
  });
});
define("discourse-common/helpers/get-url", ["discourse-common/lib/helpers", "discourse-common/lib/get-url"], function (_helpers, _getUrl) {
  "use strict";

  (0, _helpers.registerUnbound)("get-url", function (value) {
    return (0, _getUrl.default)(value);
  });
});
define("discourse-common/helpers/i18n", ["discourse-common/lib/helpers"], function (_helpers) {
  "use strict";

  (0, _helpers.registerUnbound)("i18n", function (key, params) {
    return I18n.t(key, params);
  });
  (0, _helpers.registerUnbound)("i18n-yes-no", function (value, params) {
    return I18n.t(value ? "yes_value" : "no_value", params);
  });
});
define("discourse-common/helpers/popular-themes", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  var POPULAR_THEMES = exports.POPULAR_THEMES = [{
    name: "Graceful",
    value: "https://github.com/discourse/graceful",
    preview: "https://theme-creator.discourse.org/theme/awesomerobot/graceful",
    description: "A light and graceful theme for Discourse.",
    meta_url: "https://meta.discourse.org/t/a-graceful-theme-for-discourse/93040"
  }, {
    name: "Material Design Theme",
    value: "https://github.com/discourse/material-design-stock-theme",
    preview: "https://newmaterial.trydiscourse.com",
    description: "Inspired by Material Design, this theme comes with several color palettes (incl. a dark one).",
    meta_url: "https://meta.discourse.org/t/material-design-stock-theme/47142"
  }, {
    name: "Minima",
    value: "https://github.com/discourse/minima",
    preview: "https://theme-creator.discourse.org/theme/awesomerobot/minima",
    description: "A minimal theme with reduced UI elements and focus on text.",
    meta_url: "https://meta.discourse.org/t/minima-a-minimal-theme-for-discourse/108178"
  }, {
    name: "Sam's Simple Theme",
    value: "https://github.com/discourse/discourse-simple-theme",
    preview: "https://theme-creator.discourse.org/theme/sam/simple",
    description: "Simplified front page design with classic colors and typography.",
    meta_url: "https://meta.discourse.org/t/sams-personal-minimal-topic-list-design/23552"
  }, {
    name: "Vincent",
    value: "https://github.com/discourse/discourse-vincent-theme",
    preview: "https://theme-creator.discourse.org/theme/awesomerobot/vincent",
    description: "An elegant dark theme with a few color palettes.",
    meta_url: "https://meta.discourse.org/t/discourse-vincent-theme/76662"
  }, {
    name: "Brand Header",
    value: "https://github.com/discourse/discourse-brand-header",
    description: "Add an extra top header with your logo, navigation links and social icons.",
    meta_url: "https://meta.discourse.org/t/brand-header-theme-component/77977",
    component: true
  }, {
    name: "Custom Header Links",
    value: "https://github.com/discourse/discourse-custom-header-links",
    preview: "https://theme-creator.discourse.org/theme/Johani/custom-header-links",
    description: "Easily add custom text-based links to the header.",
    meta_url: "https://meta.discourse.org/t/custom-header-links/90588",
    component: true
  }, {
    name: "Category Banners",
    value: "https://github.com/discourse/discourse-category-banners",
    preview: "https://theme-creator.discourse.org/theme/awesomerobot/discourse-category-banners",
    description: "Show banners on category pages using your existing category details.",
    meta_url: "https://meta.discourse.org/t/discourse-category-banners/86241",
    component: true
  }, {
    name: "Kanban Board",
    value: "https://github.com/discourse/discourse-kanban-theme",
    preview: "https://theme-creator.discourse.org/theme/david/kanban",
    description: "Display and organize topics using a Kanban board interface.",
    meta_url: "https://meta.discourse.org/t/kanban-board-theme-component/118164",
    component: true
  }, {
    name: "Hamburger Theme Selector",
    value: "https://github.com/discourse/discourse-hamburger-theme-selector",
    description: "Displays a theme selector in the hamburger menu provided there is more than one user-selectable theme.",
    meta_url: "https://meta.discourse.org/t/hamburger-theme-selector/61210",
    component: true
  }, {
    name: "Header Submenus",
    value: "https://github.com/discourse/discourse-header-submenus",
    preview: "https://theme-creator.discourse.org/theme/Johani/header-submenus",
    description: "Lets you build a header menu with submenus (dropdowns).",
    meta_url: "https://meta.discourse.org/t/header-submenus/94584",
    component: true
  }, {
    name: "Alternative Logos",
    value: "https://github.com/discourse/discourse-alt-logo",
    description: "Add alternative logos for dark / light themes.",
    meta_url: "https://meta.discourse.org/t/alternative-logo-for-dark-themes/88502",
    component: true
  }, {
    name: "Automatic Table of Contents",
    value: "https://github.com/discourse/DiscoTOC",
    description: "Generates an interactive table of contents on the sidebar of your topic with a simple click in the composer.",
    meta_url: "https://meta.discourse.org/t/discotoc-automatic-table-of-contents/111143",
    component: true
  }, {
    name: "Easy Responsive Footer",
    value: "https://github.com/discourse/Discourse-easy-footer",
    preview: "https://theme-creator.discourse.org/theme/Johani/easy-footer",
    description: "Add a fully responsive footer without writing any HTML.",
    meta_url: "https://meta.discourse.org/t/easy-responsive-footer/95818",
    component: true
  }];
});
define("discourse-common/lib/attribute-hook", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  // FROM: https://github.com/Matt-Esch/virtual-dom
  // License: MIT

  function AttributeHook(namespace, value) {
    if (!(this instanceof AttributeHook)) {
      return new AttributeHook(namespace, value);
    }

    this.namespace = namespace;
    this.value = value;
  }

  AttributeHook.prototype.hook = function (node, prop, prev) {
    if (prev && prev.type === "AttributeHook" && prev.value === this.value && prev.namespace === this.namespace) {
      return;
    }

    node.setAttributeNS(this.namespace, prop, this.value);
  };

  AttributeHook.prototype.unhook = function (node, prop, next) {
    if (next && next.type === "AttributeHook" && next.namespace === this.namespace) {
      return;
    }

    var colonPosition = prop.indexOf(":");
    var localName = colonPosition > -1 ? prop.substr(colonPosition + 1) : prop;
    node.removeAttributeNS(this.namespace, localName);
  };

  AttributeHook.prototype.type = "AttributeHook";

  exports.default = AttributeHook;
});
define("discourse-common/lib/deprecated", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = deprecated;
  function deprecated(msg) {
    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    msg = ["Deprecation notice:", msg];
    if (opts.since) {
      msg.push("(deprecated since Discourse " + opts.since + ")");
    }
    if (opts.dropFrom) {
      msg.push("(removal in Discourse " + opts.dropFrom + ")");
    }
    msg = msg.join(" ");

    if (opts.raiseError) {
      throw msg;
    }
    console.warn(msg); // eslint-disable-line no-console
  }
});
define("discourse-common/lib/get-owner", ["exports", "discourse-common/lib/deprecated"], function (exports, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.getOwner = getOwner;
  exports.getRegister = getRegister;
  function getOwner(obj) {
    if (Ember.getOwner) {
      return Ember.getOwner(obj) || Discourse.__container__;
    }

    return obj.container;
  }

  // `this.container` is deprecated, but we can still build a container-like
  // object for components to use
  function getRegister(obj) {
    var owner = getOwner(obj);
    var register = {
      lookup: function lookup() {
        return owner.lookup.apply(owner, arguments);
      },
      lookupFactory: function lookupFactory() {
        if (owner.factoryFor) {
          return owner.factoryFor.apply(owner, arguments);
        } else if (owner._lookupFactory) {
          return owner._lookupFactory.apply(owner, arguments);
        }
      },

      deprecateContainer: function deprecateContainer(target) {
        Object.defineProperty(target, "container", {
          get: function get() {
            (0, _deprecated.default)("Use `this.register` or `getOwner` instead of `this.container`");
            return register;
          }
        });
      }
    };

    return register;
  }
});
define("discourse-common/lib/get-url", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = getURL;
  var baseUri = void 0;

  function getURL(url) {
    if (!url) return url;

    if (!baseUri) {
      baseUri = $('meta[name="discourse-base-uri"]').attr("content") || "";
    }

    // if it's a non relative URL, return it.
    if (url !== "/" && !/^\/[^\/]/.test(url)) return url;

    var found = url.indexOf(baseUri);

    if (found >= 0 && found < 3) return url;
    if (url[0] !== "/") url = "/" + url;

    return baseUri + url;
  }
});
define("discourse-common/lib/helpers", ["exports", "@ember/object", "@ember/component/helper", "discourse-common/lib/raw-handlebars"], function (exports, _object, _helper, _rawHandlebars) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.makeArray = makeArray;
  exports.htmlHelper = htmlHelper;
  exports.registerHelper = registerHelper;
  exports.findHelper = findHelper;
  exports.registerHelpers = registerHelpers;
  exports.registerUnbound = registerUnbound;

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  function makeArray(obj) {
    if (obj === null || obj === undefined) {
      return [];
    }
    return Array.isArray(obj) ? obj : [obj];
  }

  function htmlHelper(fn) {
    return _helper.default.helper(function () {
      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      args = args.length > 1 ? args[0].concat({ hash: args[args.length - 1] }) : args;
      return new Handlebars.SafeString(fn.apply(this, args) || "");
    });
  }

  var _helpers = {};

  function rawGet(ctx, property, options) {
    if (options.types && options.data.view) {
      var view = options.data.view;
      return view.getStream ? view.getStream(property).value() : view.getAttr(property);
    } else {
      return (0, _object.get)(ctx, property);
    }
  }

  function registerHelper(name, fn) {
    _helpers[name] = _helper.default.helper(fn);
  }

  function findHelper(name) {
    return _helpers[name] || _helpers[name.dasherize()];
  }

  function registerHelpers(registry) {
    Object.keys(_helpers).forEach(function (name) {
      registry.register("helper:" + name, _helpers[name], { singleton: false });
    });
  }

  function resolveParams(ctx, options) {
    var params = {};
    var hash = options.hash;

    if (hash) {
      if (options.hashTypes) {
        Object.keys(hash).forEach(function (k) {
          var type = options.hashTypes[k];
          if (type === "STRING" || type === "StringLiteral" || type === "SubExpression") {
            params[k] = hash[k];
          } else if (type === "ID" || type === "PathExpression") {
            params[k] = rawGet(ctx, hash[k], options);
          }
        });
      } else {
        params = hash;
      }
    }
    return params;
  }

  function registerUnbound(name, fn) {
    var func = function func() {
      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      var options = args.pop();
      var properties = args;

      for (var i = 0; i < properties.length; i++) {
        if (options.types && (options.types[i] === "ID" || options.types[i] === "PathExpression")) {
          properties[i] = rawGet(this, properties[i], options);
        }
      }

      return fn.call.apply(fn, [this].concat(properties, [resolveParams(this, options)]));
    };

    _helpers[name] = _helper.default.extend({
      compute: function compute(params, args) {
        return fn.apply(undefined, _toConsumableArray(params).concat([args]));
      }
    });
    _rawHandlebars.default.registerHelper(name, func);
  }
});
define("discourse-common/lib/icon-library", ["exports", "virtual-dom", "discourse-common/lib/attribute-hook", "discourse-common/lib/deprecated"], function (exports, _virtualDom, _attributeHook, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.replaceIcon = replaceIcon;
  exports.renderIcon = renderIcon;
  exports.iconHTML = iconHTML;
  exports.iconNode = iconNode;
  exports.convertIconClass = convertIconClass;
  exports.registerIconRenderer = registerIconRenderer;


  var SVG_NAMESPACE = "http://www.w3.org/2000/svg";
  var _renderers = [];

  var REPLACEMENTS = {
    "d-tracking": "bell",
    "d-muted": "discourse-bell-slash",
    "d-regular": "far-bell",
    "d-watching": "discourse-bell-exclamation",
    "d-watching-first": "discourse-bell-one",
    "d-drop-expanded": "caret-down",
    "d-drop-collapsed": "caret-right",
    "d-unliked": "far-heart",
    "d-liked": "heart",
    "notification.mentioned": "at",
    "notification.group_mentioned": "at",
    "notification.quoted": "quote-right",
    "notification.replied": "reply",
    "notification.posted": "reply",
    "notification.edited": "pencil-alt",
    "notification.liked": "heart",
    "notification.liked_2": "heart",
    "notification.liked_many": "heart",
    "notification.liked_consolidated": "heart",
    "notification.private_message": "far-envelope",
    "notification.invited_to_private_message": "far-envelope",
    "notification.invited_to_topic": "hand-point-right",
    "notification.invitee_accepted": "user",
    "notification.moved_post": "sign-out-alt",
    "notification.linked": "link",
    "notification.granted_badge": "certificate",
    "notification.topic_reminder": "far-clock",
    "notification.watching_first_post": "discourse-bell-one",
    "notification.group_message_summary": "users",
    "notification.post_approved": "check",
    "notification.membership_request_accepted": "user-plus",
    "notification.membership_request_consolidated": "users"
  };

  // TODO: use lib/svg_sprite/fa4-renames.json here
  // Note: these should not be edited manually. They define the fa4-fa5 migration
  var fa4Replacements = {
    "500px": "fab-500px",
    "address-book-o": "far-address-book",
    "address-card-o": "far-address-card",
    adn: "fab-adn",
    amazon: "fab-amazon",
    android: "fab-android",
    angellist: "fab-angellist",
    apple: "fab-apple",
    "area-chart": "chart-area",
    "arrow-circle-o-down": "far-arrow-alt-circle-down",
    "arrow-circle-o-left": "far-arrow-alt-circle-left",
    "arrow-circle-o-right": "far-arrow-alt-circle-right",
    "arrow-circle-o-up": "far-arrow-alt-circle-up",
    arrows: "arrows-alt",
    "arrows-alt": "expand-arrows-alt",
    "arrows-h": "arrows-alt-h",
    "arrows-v": "arrows-alt-v",
    "asl-interpreting": "american-sign-language-interpreting",
    automobile: "car",
    bandcamp: "fab-bandcamp",
    bank: "university",
    "bar-chart": "far-chart-bar",
    "bar-chart-o": "far-chart-bar",
    bathtub: "bath",
    battery: "battery-full",
    "battery-0": "battery-empty",
    "battery-1": "battery-quarter",
    "battery-2": "battery-half",
    "battery-3": "battery-three-quarters",
    "battery-4": "battery-full",
    behance: "fab-behance",
    "behance-square": "fab-behance-square",
    "bell-o": "far-bell",
    "bell-slash-o": "far-bell-slash",
    bitbucket: "fab-bitbucket",
    "bitbucket-square": "fab-bitbucket",
    bitcoin: "fab-btc",
    "black-tie": "fab-black-tie",
    bluetooth: "fab-bluetooth",
    "bluetooth-b": "fab-bluetooth-b",
    "bookmark-o": "far-bookmark",
    btc: "fab-btc",
    "building-o": "far-building",
    buysellads: "fab-buysellads",
    cab: "taxi",
    calendar: "calendar-alt",
    "calendar-check-o": "far-calendar-check",
    "calendar-minus-o": "far-calendar-minus",
    "calendar-o": "far-calendar",
    "calendar-plus-o": "far-calendar-plus",
    "calendar-times-o": "far-calendar-times",
    "caret-square-o-down": "far-caret-square-down",
    "caret-square-o-left": "far-caret-square-left",
    "caret-square-o-right": "far-caret-square-right",
    "caret-square-o-up": "far-caret-square-up",
    cc: "far-closed-captioning",
    "cc-amex": "fab-cc-amex",
    "cc-diners-club": "fab-cc-diners-club",
    "cc-discover": "fab-cc-discover",
    "cc-jcb": "fab-cc-jcb",
    "cc-mastercard": "fab-cc-mastercard",
    "cc-paypal": "fab-cc-paypal",
    "cc-stripe": "fab-cc-stripe",
    "cc-visa": "fab-cc-visa",
    chain: "link",
    "chain-broken": "unlink",
    "check-circle-o": "far-check-circle",
    "check-square-o": "far-check-square",
    chrome: "fab-chrome",
    "circle-o": "far-circle",
    "circle-o-notch": "circle-notch",
    "circle-thin": "far-circle",
    clipboard: "far-clipboard",
    "clock-o": "far-clock",
    clone: "far-clone",
    close: "times",
    "cloud-download": "cloud-download-alt",
    "cloud-upload": "cloud-upload-alt",
    cny: "yen-sign",
    "code-fork": "code-branch",
    codepen: "fab-codepen",
    codiepie: "fab-codiepie",
    "comment-o": "far-comment",
    commenting: "far-comment-dots",
    "commenting-o": "far-comment-dots",
    "comments-o": "far-comments",
    compass: "far-compass",
    connectdevelop: "fab-connectdevelop",
    contao: "fab-contao",
    copyright: "far-copyright",
    "creative-commons": "fab-creative-commons",
    "credit-card": "far-credit-card",
    "credit-card-alt": "credit-card",
    css3: "fab-css3",
    cutlery: "utensils",
    dashboard: "tachometer-alt",
    dashcube: "fab-dashcube",
    deafness: "deaf",
    dedent: "outdent",
    delicious: "fab-delicious",
    deviantart: "fab-deviantart",
    diamond: "far-gem",
    digg: "fab-digg",
    discord: "fab-discord",
    dollar: "dollar-sign",
    "dot-circle-o": "far-dot-circle",
    dribbble: "fab-dribbble",
    "drivers-license": "id-card",
    "drivers-license-o": "far-id-card",
    dropbox: "fab-dropbox",
    drupal: "fab-drupal",
    edge: "fab-edge",
    eercast: "fab-sellcast",
    empire: "fab-empire",
    "envelope-o": "far-envelope",
    "envelope-open-o": "far-envelope-open",
    envira: "fab-envira",
    etsy: "fab-etsy",
    eur: "euro-sign",
    euro: "euro-sign",
    exchange: "exchange-alt",
    expeditedssl: "fab-expeditedssl",
    "external-link": "external-link-alt",
    "external-link-square": "external-link-square-alt",
    eye: "far-eye",
    "eye-slash": "far-eye-slash",
    eyedropper: "eye-dropper",
    fa: "fab-font-awesome",
    facebook: "fab-facebook-f",
    "facebook-f": "fab-facebook-f",
    "facebook-official": "fab-facebook",
    "facebook-square": "fab-facebook-square",
    feed: "rss",
    "file-archive-o": "far-file-archive",
    "file-audio-o": "far-file-audio",
    "file-code-o": "far-file-code",
    "file-excel-o": "far-file-excel",
    "file-image-o": "far-file-image",
    "file-movie-o": "far-file-video",
    "file-o": "far-file",
    "file-pdf-o": "far-file-pdf",
    "file-photo-o": "far-file-image",
    "file-picture-o": "far-file-image",
    "file-powerpoint-o": "far-file-powerpoint",
    "file-sound-o": "far-file-audio",
    "file-text": "file-alt",
    "file-text-o": "far-file-alt",
    "file-video-o": "far-file-video",
    "file-word-o": "far-file-word",
    "file-zip-o": "far-file-archive",
    "files-o": "far-copy",
    firefox: "fab-firefox",
    "first-order": "fab-first-order",
    "flag-o": "far-flag",
    flash: "bolt",
    flickr: "fab-flickr",
    "floppy-o": "far-save",
    "folder-o": "far-folder",
    "folder-open-o": "far-folder-open",
    "font-awesome": "fab-font-awesome",
    fonticons: "fab-fonticons",
    "fort-awesome": "fab-fort-awesome",
    forumbee: "fab-forumbee",
    foursquare: "fab-foursquare",
    "free-code-camp": "fab-free-code-camp",
    "frown-o": "far-frown",
    "futbol-o": "far-futbol",
    gbp: "pound-sign",
    ge: "fab-empire",
    gear: "cog",
    gears: "cogs",
    "get-pocket": "fab-get-pocket",
    gg: "fab-gg",
    "gg-circle": "fab-gg-circle",
    git: "fab-git",
    "git-square": "fab-git-square",
    github: "fab-github",
    "github-alt": "fab-github-alt",
    "github-square": "fab-github-square",
    gitlab: "fab-gitlab",
    gittip: "fab-gratipay",
    glass: "glass-martini",
    glide: "fab-glide",
    "glide-g": "fab-glide-g",
    google: "fab-google",
    "google-plus": "fab-google-plus-g",
    "google-plus-circle": "fab-google-plus",
    "google-plus-official": "fab-google-plus",
    "google-plus-square": "fab-google-plus-square",
    "google-wallet": "fab-google-wallet",
    gratipay: "fab-gratipay",
    grav: "fab-grav",
    group: "users",
    "hacker-news": "fab-hacker-news",
    "hand-grab-o": "far-hand-rock",
    "hand-lizard-o": "far-hand-lizard",
    "hand-o-down": "far-hand-point-down",
    "hand-o-left": "far-hand-point-left",
    "hand-o-right": "far-hand-point-right",
    "hand-o-up": "far-hand-point-up",
    "hand-paper-o": "far-hand-paper",
    "hand-peace-o": "far-hand-peace",
    "hand-pointer-o": "far-hand-pointer",
    "hand-rock-o": "far-hand-rock",
    "hand-scissors-o": "far-hand-scissors",
    "hand-spock-o": "far-hand-spock",
    "hand-stop-o": "far-hand-paper",
    "handshake-o": "far-handshake",
    "hard-of-hearing": "deaf",
    "hdd-o": "far-hdd",
    header: "heading",
    "heart-o": "far-heart",
    "hospital-o": "far-hospital",
    hotel: "bed",
    "hourglass-1": "hourglass-start",
    "hourglass-2": "hourglass-half",
    "hourglass-3": "hourglass-end",
    "hourglass-o": "far-hourglass",
    houzz: "fab-houzz",
    html5: "fab-html5",
    "id-card-o": "far-id-card",
    ils: "shekel-sign",
    image: "far-image",
    imdb: "fab-imdb",
    inr: "rupee-sign",
    instagram: "fab-instagram",
    institution: "university",
    "internet-explorer": "fab-internet-explorer",
    intersex: "transgender",
    ioxhost: "fab-ioxhost",
    joomla: "fab-joomla",
    jpy: "yen-sign",
    jsfiddle: "fab-jsfiddle",
    "keyboard-o": "far-keyboard",
    krw: "won-sign",
    lastfm: "fab-lastfm",
    "lastfm-square": "fab-lastfm-square",
    leanpub: "fab-leanpub",
    legal: "gavel",
    "lemon-o": "far-lemon",
    "level-down": "level-down-alt",
    "level-up": "level-up-alt",
    "life-bouy": "far-life-ring",
    "life-buoy": "far-life-ring",
    "life-ring": "far-life-ring",
    "life-saver": "far-life-ring",
    "lightbulb-o": "far-lightbulb",
    "line-chart": "chart-line",
    linkedin: "fab-linkedin-in",
    "linkedin-square": "fab-linkedin",
    linode: "fab-linode",
    linux: "fab-linux",
    "list-alt": "far-list-alt",
    "long-arrow-down": "long-arrow-alt-down",
    "long-arrow-left": "long-arrow-alt-left",
    "long-arrow-right": "long-arrow-alt-right",
    "long-arrow-up": "long-arrow-alt-up",
    "mail-forward": "share",
    "mail-reply": "reply",
    "mail-reply-all": "reply-all",
    "map-marker": "map-marker-alt",
    "map-o": "far-map",
    maxcdn: "fab-maxcdn",
    meanpath: "fab-font-awesome",
    medium: "fab-medium",
    meetup: "fab-meetup",
    "meh-o": "far-meh",
    "minus-square-o": "far-minus-square",
    mixcloud: "fab-mixcloud",
    mobile: "mobile-alt",
    "mobile-phone": "mobile-alt",
    modx: "fab-modx",
    money: "far-money-bill-alt",
    "moon-o": "far-moon",
    "mortar-board": "graduation-cap",
    navicon: "bars",
    "newspaper-o": "far-newspaper",
    "object-group": "far-object-group",
    "object-ungroup": "far-object-ungroup",
    odnoklassniki: "fab-odnoklassniki",
    "odnoklassniki-square": "fab-odnoklassniki-square",
    opencart: "fab-opencart",
    openid: "fab-openid",
    opera: "fab-opera",
    "optin-monster": "fab-optin-monster",
    pagelines: "fab-pagelines",
    "paper-plane-o": "far-paper-plane",
    paste: "far-clipboard",
    patreon: "fab-patreon",
    "pause-circle-o": "far-pause-circle",
    paypal: "fab-paypal",
    pencil: "pencil-alt",
    "pencil-square": "pen-square",
    "pencil-square-o": "far-edit",
    photo: "far-image",
    "picture-o": "far-image",
    "pie-chart": "chart-pie",
    "pied-piper": "fab-pied-piper",
    "pied-piper-alt": "fab-pied-piper-alt",
    "pied-piper-pp": "fab-pied-piper-pp",
    pinterest: "fab-pinterest",
    "pinterest-p": "fab-pinterest-p",
    "pinterest-square": "fab-pinterest-square",
    "play-circle-o": "far-play-circle",
    "plus-square-o": "far-plus-square",
    "product-hunt": "fab-product-hunt",
    qq: "fab-qq",
    "question-circle-o": "far-question-circle",
    quora: "fab-quora",
    ra: "fab-rebel",
    ravelry: "fab-ravelry",
    rebel: "fab-rebel",
    reddit: "fab-reddit",
    "reddit-alien": "fab-reddit-alien",
    "reddit-square": "fab-reddit-square",
    refresh: "sync",
    registered: "far-registered",
    remove: "times",
    renren: "fab-renren",
    reorder: "bars",
    repeat: "redo",
    resistance: "fab-rebel",
    rmb: "yen-sign",
    "rotate-left": "undo",
    "rotate-right": "redo",
    rouble: "ruble-sign",
    rub: "ruble-sign",
    ruble: "ruble-sign",
    rupee: "rupee-sign",
    s15: "bath",
    safari: "fab-safari",
    scissors: "cut",
    scribd: "fab-scribd",
    sellsy: "fab-sellsy",
    send: "paper-plane",
    "send-o": "far-paper-plane",
    "share-square-o": "far-share-square",
    shekel: "shekel-sign",
    sheqel: "shekel-sign",
    shield: "shield-alt",
    shirtsinbulk: "fab-shirtsinbulk",
    "sign-in": "sign-in-alt",
    "sign-out": "sign-out-alt",
    signing: "sign-language",
    simplybuilt: "fab-simplybuilt",
    skyatlas: "fab-skyatlas",
    skype: "fab-skype",
    slack: "fab-slack",
    sliders: "sliders-h",
    slideshare: "fab-slideshare",
    "smile-o": "far-smile",
    snapchat: "fab-snapchat",
    "snapchat-ghost": "fab-snapchat-ghost",
    "snapchat-square": "fab-snapchat-square",
    "snowflake-o": "far-snowflake",
    "soccer-ball-o": "far-futbol",
    "sort-alpha-asc": "sort-alpha-down",
    "sort-alpha-desc": "sort-alpha-up",
    "sort-amount-asc": "sort-amount-down",
    "sort-amount-desc": "sort-amount-up",
    "sort-asc": "sort-up",
    "sort-desc": "sort-down",
    "sort-numeric-asc": "sort-numeric-down",
    "sort-numeric-desc": "sort-numeric-up",
    soundcloud: "fab-soundcloud",
    spoon: "utensil-spoon",
    spotify: "fab-spotify",
    "square-o": "far-square",
    "stack-exchange": "fab-stack-exchange",
    "stack-overflow": "fab-stack-overflow",
    "star-half-empty": "far-star-half",
    "star-half-full": "far-star-half",
    "star-half-o": "far-star-half",
    "star-o": "far-star",
    steam: "fab-steam",
    "steam-square": "fab-steam-square",
    "sticky-note-o": "far-sticky-note",
    "stop-circle-o": "far-stop-circle",
    stumbleupon: "fab-stumbleupon",
    "stumbleupon-circle": "fab-stumbleupon-circle",
    "sun-o": "far-sun",
    superpowers: "fab-superpowers",
    support: "far-life-ring",
    tablet: "tablet-alt",
    tachometer: "tachometer-alt",
    telegram: "fab-telegram",
    television: "tv",
    "tencent-weibo": "fab-tencent-weibo",
    themeisle: "fab-themeisle",
    thermometer: "thermometer-full",
    "thermometer-0": "thermometer-empty",
    "thermometer-1": "thermometer-quarter",
    "thermometer-2": "thermometer-half",
    "thermometer-3": "thermometer-three-quarters",
    "thermometer-4": "thermometer-full",
    "thumb-tack": "thumbtack",
    "thumbs-o-down": "far-thumbs-down",
    "thumbs-o-up": "far-thumbs-up",
    ticket: "ticket-alt",
    "times-circle-o": "far-times-circle",
    "times-rectangle": "window-close",
    "times-rectangle-o": "far-window-close",
    "toggle-down": "far-caret-square-down",
    "toggle-left": "far-caret-square-left",
    "toggle-right": "far-caret-square-right",
    "toggle-up": "far-caret-square-up",
    trash: "trash-alt",
    "trash-o": "far-trash-alt",
    trello: "fab-trello",
    tripadvisor: "fab-tripadvisor",
    try: "lira-sign",
    tumblr: "fab-tumblr",
    "tumblr-square": "fab-tumblr-square",
    "turkish-lira": "lira-sign",
    twitch: "fab-twitch",
    twitter: "fab-twitter",
    "twitter-square": "fab-twitter-square",
    unsorted: "sort",
    usb: "fab-usb",
    usd: "dollar-sign",
    "user-circle-o": "far-user-circle",
    "user-o": "far-user",
    vcard: "address-card",
    "vcard-o": "far-address-card",
    viacoin: "fab-viacoin",
    viadeo: "fab-viadeo",
    "viadeo-square": "fab-viadeo-square",
    "video-camera": "video",
    vimeo: "fab-vimeo-v",
    "vimeo-square": "fab-vimeo-square",
    vine: "fab-vine",
    vk: "fab-vk",
    vkontakte: "fab-vk",
    "volume-control-phone": "phone-volume",
    warning: "exclamation-triangle",
    wechat: "fab-weixin",
    weibo: "fab-weibo",
    weixin: "fab-weixin",
    whatsapp: "fab-whatsapp",
    "wheelchair-alt": "fab-accessible-icon",
    "wikipedia-w": "fab-wikipedia-w",
    "window-close-o": "far-window-close",
    "window-maximize": "far-window-maximize",
    "window-restore": "far-window-restore",
    windows: "fab-windows",
    won: "won-sign",
    wordpress: "fab-wordpress",
    wpbeginner: "fab-wpbeginner",
    wpexplorer: "fab-wpexplorer",
    wpforms: "fab-wpforms",
    xing: "fab-xing",
    "xing-square": "fab-xing-square",
    "y-combinator": "fab-y-combinator",
    "y-combinator-square": "fab-hacker-news",
    yahoo: "fab-yahoo",
    yc: "fab-y-combinator",
    "yc-square": "fab-hacker-news",
    yelp: "fab-yelp",
    yen: "yen-sign",
    yoast: "fab-yoast",
    youtube: "fab-youtube",
    "youtube-play": "fab-youtube",
    "youtube-square": "fab-youtube-square"
  };

  function replaceIcon(source, destination) {
    REPLACEMENTS[source] = destination;
  }

  function renderIcon(renderType, id, params) {
    for (var i = 0; i < _renderers.length; i++) {
      var renderer = _renderers[i];
      var rendererForType = renderer[renderType];

      if (rendererForType) {
        var icon = { id: id, replacementId: REPLACEMENTS[id] };
        var result = rendererForType(icon, params || {});
        if (result) {
          return result;
        }
      }
    }
  }

  function iconHTML(id, params) {
    return renderIcon("string", id, params);
  }

  function iconNode(id, params) {
    return renderIcon("node", id, params);
  }

  function convertIconClass(icon) {
    return icon.replace("far fa-", "far-").replace("fab fa-", "fab-").replace("fas fa-", "").replace("fa-", "").trim();
  }

  // TODO: Improve how helpers are registered for vdom compliation
  if (typeof Discourse !== "undefined") {
    Discourse.__widget_helpers.iconNode = iconNode;
  }

  function registerIconRenderer(renderer) {
    _renderers.unshift(renderer);
  }

  function iconClasses(icon, params) {
    // "notification." is invalid syntax for classes, use replacement instead
    var dClass = icon.replacementId && icon.id.indexOf("notification.") > -1 ? icon.replacementId : icon.id;

    var classNames = "fa d-icon d-icon-" + dClass + " svg-icon";

    if (params && params["class"]) {
      classNames += " " + params["class"];
    }

    return classNames;
  }

  function warnIfMissing(id) {
    if (typeof Discourse !== "undefined" && Discourse.Environment === "development" && !Discourse.disableMissingIconWarning && Discourse.SvgIconList && Discourse.SvgIconList.indexOf(id) === -1) {
      console.warn("The icon \"" + id + "\" is missing from the SVG subset."); // eslint-disable-line no-console
    }
  }

  var reportedIcons = [];

  function warnIfDeprecated(oldId, newId) {
    (0, _deprecated.default)("Please replace all occurrences of \"" + oldId + "\"\" with \"" + newId + "\". FontAwesome 4.7 icon names are now deprecated and will be removed in the next release.");
    if (!Discourse.testing && !reportedIcons.includes(oldId)) {
      var errorData = {
        message: "FA icon deprecation: replace \"" + oldId + "\"\" with \"" + newId + "\".",
        stacktrace: Error().stack
      };

      Ember.$.ajax(Discourse.BaseUri + "/logs/report_js_error", {
        data: errorData,
        type: "POST",
        cache: false
      });

      reportedIcons.push(oldId);
    }
  }

  function handleIconId(icon) {
    var id = icon.replacementId || icon.id || "";

    if (fa4Replacements.hasOwnProperty(id)) {
      warnIfDeprecated(id, fa4Replacements[id]);
      id = fa4Replacements[id];
    }

    // TODO: clean up "thumbtack unpinned" at source instead of here
    id = id.replace(" unpinned", "");

    warnIfMissing(id);
    return id;
  }

  // default resolver is font awesome
  registerIconRenderer({
    name: "font-awesome",

    string: function string(icon, params) {
      var id = handleIconId(icon);
      var html = "<svg class='" + iconClasses(icon, params) + " svg-string'";

      if (params.label) {
        html += " aria-hidden='true'";
      }
      html += " xmlns=\"" + SVG_NAMESPACE + "\"><use xlink:href=\"#" + id + "\" /></svg>";
      if (params.label) {
        html += "<span class='sr-only'>" + params.label + "</span>";
      }
      if (params.title) {
        html = "<span class=\"svg-icon-title\" title='" + I18n.t(params.title).replace(/'/g, "&#39;") + "'>" + html + "</span>";
      }
      if (params.translatedtitle) {
        html = "<span class=\"svg-icon-title\" title='" + params.translatedtitle.replace(/'/g, "&#39;") + "'>" + html + "</span>";
      }
      return html;
    },
    node: function node(icon, params) {
      var id = handleIconId(icon);
      var classes = iconClasses(icon, params) + " svg-node";

      var svg = (0, _virtualDom.h)("svg", {
        attributes: { class: classes, "aria-hidden": true },
        namespace: SVG_NAMESPACE
      }, [(0, _virtualDom.h)("use", {
        "xlink:href": (0, _attributeHook.default)("http://www.w3.org/1999/xlink", "#" + id),
        namespace: SVG_NAMESPACE
      })]);

      if (params.title) {
        return (0, _virtualDom.h)("span", {
          title: params.title,
          attributes: { class: "svg-icon-title" }
        }, [svg]);
      } else {
        return svg;
      }
    }
  });
});
define("discourse-common/lib/raw-handlebars-helpers", ["exports", "@ember/object"], function (exports, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.registerRawHelpers = registerRawHelpers;
  function registerRawHelpers(hbs, handlebarsClass) {
    if (!hbs.helpers) {
      hbs.helpers = Object.create(handlebarsClass.helpers);
    }

    hbs.helpers["get"] = function (context, options) {
      if (!context || !options.contexts) {
        return;
      }

      if (typeof context !== "string") {
        return context;
      }

      var firstContext = options.contexts[0];
      var val = firstContext[context];

      if (context.toString().indexOf("controller.") === 0) {
        context = context.slice(context.indexOf(".") + 1);
      }

      return val === undefined ? (0, _object.get)(firstContext, context) : val;
    };

    // #each .. in support (as format is transformed to this)
    hbs.registerHelper("each", function (localName, inKeyword, contextName, options) {
      var list = (0, _object.get)(this, contextName);
      var output = [];
      var innerContext = Object.create(this);
      for (var i = 0; i < list.length; i++) {
        innerContext[localName] = list[i];
        output.push(options.fn(innerContext));
      }
      return output.join("");
    });

    function stringCompatHelper(fn) {
      var old = hbs.helpers[fn];
      hbs.helpers[fn] = function (context, options) {
        return old.apply(this, [hbs.helpers.get(context, options), options]);
      };
    }

    // HACK: Ensure that the variable is resolved only once.
    // The "get" function will be called twice because both `if` and `unless`
    // helpers are patched to resolve the variable and `unless` is implemented
    // as not `if`. For example, for {{#unless var}} will generate a stack
    // trace like:
    //
    // - patched-unless("var")  "var" is resolved to its value, val
    // - unless(val)            unless is implemented as !if
    // - !patched-if(val)       val is already resolved, but it is resolved again
    // - !if(???)               at this point, ??? usually stands for undefined
    //
    // The following code ensures that patched-unless will call `if` directly,
    // `patched-unless("var")` will return `!if(val)`.
    var oldIf = hbs.helpers["if"];
    hbs.helpers["unless"] = function (context, options) {
      return oldIf.apply(this, [hbs.helpers.get(context, options), {
        fn: options.inverse,
        inverse: options.fn,
        hash: options.hash
      }]);
    };

    stringCompatHelper("if");
    stringCompatHelper("with");
  }
});
define("discourse-common/lib/raw-handlebars", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.template = template;
  exports.precompile = precompile;
  exports.compile = compile;
  // This is a mechanism for quickly rendering templates which is Ember aware
  // templates are highly compatible with Ember so you don't need to worry about calling "get"
  // and discourseComputed properties function, additionally it uses stringParams like Ember does

  var RawHandlebars = Handlebars.create();

  function buildPath(blk, args) {
    var result = {
      type: "PathExpression",
      data: false,
      depth: blk.path.depth,
      loc: blk.path.loc
    };

    // Server side precompile doesn't have jquery.extend
    Object.keys(args).forEach(function (a) {
      result[a] = args[a];
    });

    return result;
  }

  function replaceGet(ast) {
    var visitor = new Handlebars.Visitor();
    visitor.mutating = true;

    visitor.MustacheStatement = function (mustache) {
      if (!(mustache.params.length || mustache.hash)) {
        mustache.params[0] = mustache.path;
        mustache.path = buildPath(mustache, {
          parts: ["get"],
          original: "get",
          strict: true,
          falsy: true
        });
      }
      return Handlebars.Visitor.prototype.MustacheStatement.call(this, mustache);
    };

    // rewrite `each x as |y|` as each y in x`
    // This allows us to use the same syntax in all templates
    visitor.BlockStatement = function (block) {
      if (block.path.original === "each" && block.params.length === 1) {
        var paramName = block.program.blockParams[0];
        block.params = [buildPath(block, { original: paramName }), { type: "CommentStatement", value: "in" }, block.params[0]];
        delete block.program.blockParams;
      }

      return Handlebars.Visitor.prototype.BlockStatement.call(this, block);
    };

    visitor.accept(ast);
  }

  if (Handlebars.Compiler) {
    RawHandlebars.Compiler = function () {};
    RawHandlebars.Compiler.prototype = Object.create(Handlebars.Compiler.prototype);
    RawHandlebars.Compiler.prototype.compiler = RawHandlebars.Compiler;

    RawHandlebars.JavaScriptCompiler = function () {};

    RawHandlebars.JavaScriptCompiler.prototype = Object.create(Handlebars.JavaScriptCompiler.prototype);
    RawHandlebars.JavaScriptCompiler.prototype.compiler = RawHandlebars.JavaScriptCompiler;
    RawHandlebars.JavaScriptCompiler.prototype.namespace = "RawHandlebars";

    RawHandlebars.precompile = function (value, asObject) {
      var ast = Handlebars.parse(value);
      replaceGet(ast);

      var options = {
        knownHelpers: {
          get: true
        },
        data: true,
        stringParams: true
      };

      asObject = asObject === undefined ? true : asObject;

      var environment = new RawHandlebars.Compiler().compile(ast, options);
      return new RawHandlebars.JavaScriptCompiler().compile(environment, options, undefined, asObject);
    };

    RawHandlebars.compile = function (string) {
      var ast = Handlebars.parse(string);
      replaceGet(ast);

      // this forces us to rewrite helpers
      var options = { data: true, stringParams: true };
      var environment = new RawHandlebars.Compiler().compile(ast, options);
      var templateSpec = new RawHandlebars.JavaScriptCompiler().compile(environment, options, undefined, true);

      var t = RawHandlebars.template(templateSpec);
      t.isMethod = false;

      return t;
    };
  }

  function template() {
    return RawHandlebars.template.apply(this, arguments);
  }

  function precompile() {
    return RawHandlebars.precompile.apply(this, arguments);
  }

  function compile() {
    return RawHandlebars.compile.apply(this, arguments);
  }

  exports.default = RawHandlebars;
});
define("discourse-common/mixins/focus-event", ["exports", "@ember/runloop", "discourse-common/lib/get-owner", "@ember/object/mixin"], function (exports, _runloop, _getOwner, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    ready: function ready() {
      this._super.apply(this, arguments);

      this._onChangeHandler = (0, _runloop.bind)(this, this._onChange);

      // Default to true
      Discourse.set("hasFocus", true);

      document.addEventListener("visibilitychange", this._onChangeHandler);
      document.addEventListener("resume", this._onChangeHandler);
      document.addEventListener("freeze", this._onChangeHandler);
    },
    reset: function reset() {
      this._super.apply(this, arguments);

      document.removeEventListener("visibilitychange", this._onChangeHandler);
      document.removeEventListener("resume", this._onChangeHandler);
      document.removeEventListener("freeze", this._onChangeHandler);

      this._onChangeHandler = null;
    },
    _onChange: function _onChange() {
      var container = (0, _getOwner.getOwner)(this);
      var appEvents = container.lookup("service:app-events");

      if (document.visibilityState === "hidden") {
        if (Discourse.hasFocus) {
          Discourse.set("hasFocus", false);
          appEvents.trigger("discourse:focus-changed", false);
        }
      } else {
        if (!Discourse.hasFocus) {
          Discourse.set("hasFocus", true);
          appEvents.trigger("discourse:focus-changed", true);
        }
      }
    }
  });
});
define("discourse-common/resolver", ["exports", "discourse-common/lib/helpers", "@ember/object", "discourse-common/lib/deprecated", "@ember/string"], function (exports, _helpers, _object, _deprecated, _string) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.setResolverOption = setResolverOption;
  exports.getResolverOption = getResolverOption;
  exports.buildResolver = buildResolver;


  var _options = {};

  function setResolverOption(name, value) {
    _options[name] = value;
  }

  function getResolverOption(name) {
    return _options[name];
  }

  function parseName(fullName) {
    var nameParts = fullName.split(":");
    var type = nameParts[0];
    var fullNameWithoutType = nameParts[1];
    var namespace = (0, _object.get)(this, "namespace");
    var root = namespace;

    return {
      fullName: fullName,
      type: type,
      fullNameWithoutType: fullNameWithoutType,
      name: fullNameWithoutType,
      root: root,
      resolveMethodName: "resolve" + (0, _string.classify)(type)
    };
  }

  function buildResolver(baseName) {
    return Ember.DefaultResolver.extend({
      parseName: parseName,

      resolveRouter: function resolveRouter(parsedName) {
        var routerPath = baseName + "/router";
        if (requirejs.entries[routerPath]) {
          var module = requirejs(routerPath, null, null, true);
          return module.default;
        }
        return this._super(parsedName);
      },
      normalize: function normalize(fullName) {
        if (fullName === "app-events:main") {
          (0, _deprecated.default)("`app-events:main` has been replaced with `service:app-events`", { since: "2.4.0" });
          return "service:app-events";
        }

        var split = fullName.split(":");
        if (split.length > 1) {
          var appBase = baseName + "/" + split[0] + "s/";
          var adminBase = "admin/" + split[0] + "s/";

          // Allow render 'admin/templates/xyz' too
          split[1] = split[1].replace(".templates", "").replace("/templates", "");

          // Try slashes
          var dashed = (0, _string.dasherize)(split[1].replace(/\./g, "/"));
          if (requirejs.entries[appBase + dashed] || requirejs.entries[adminBase + dashed]) {
            return split[0] + ":" + dashed;
          }

          // Try with dashes instead of slashes
          dashed = (0, _string.dasherize)(split[1].replace(/\./g, "-"));
          if (requirejs.entries[appBase + dashed] || requirejs.entries[adminBase + dashed]) {
            return split[0] + ":" + dashed;
          }
        }
        return this._super(fullName);
      },
      customResolve: function customResolve(parsedName) {
        // If we end with the name we want, use it. This allows us to define components within plugins.
        var suffix = parsedName.type + "s/" + parsedName.fullNameWithoutType,
            dashed = (0, _string.dasherize)(suffix),
            moduleName = Object.keys(requirejs.entries).find(function (e) {
          return e.indexOf(suffix, e.length - suffix.length) !== -1 || e.indexOf(dashed, e.length - dashed.length) !== -1;
        });

        var module;
        if (moduleName) {
          module = requirejs(moduleName, null, null, true /* force sync */);
          if (module && module["default"]) {
            module = module["default"];
          }
        }
        return module;
      },
      resolveWidget: function resolveWidget(parsedName) {
        return this.customResolve(parsedName) || this._super(parsedName);
      },
      resolveAdapter: function resolveAdapter(parsedName) {
        return this.customResolve(parsedName) || this._super(parsedName);
      },
      resolveModel: function resolveModel(parsedName) {
        return this.customResolve(parsedName) || this._super(parsedName);
      },
      resolveView: function resolveView(parsedName) {
        return this.customResolve(parsedName) || this._super(parsedName);
      },
      resolveHelper: function resolveHelper(parsedName) {
        return (0, _helpers.findHelper)(parsedName.fullNameWithoutType) || this.customResolve(parsedName) || this._super(parsedName);
      },
      resolveController: function resolveController(parsedName) {
        return this.customResolve(parsedName) || this._super(parsedName);
      },
      resolveComponent: function resolveComponent(parsedName) {
        return this.customResolve(parsedName) || this._super(parsedName);
      },
      resolveService: function resolveService(parsedName) {
        return this.customResolve(parsedName) || this._super(parsedName);
      },
      resolveRoute: function resolveRoute(parsedName) {
        if (parsedName.fullNameWithoutType === "basic") {
          return requirejs("discourse/routes/discourse", null, null, true).default;
        }

        return this.customResolve(parsedName) || this._super(parsedName);
      },
      findLoadingTemplate: function findLoadingTemplate(parsedName) {
        if (parsedName.fullNameWithoutType.match(/loading$/)) {
          return Ember.TEMPLATES.loading;
        }
      },
      findConnectorTemplate: function findConnectorTemplate(parsedName) {
        var full = parsedName.fullNameWithoutType.replace("components/", "");
        if (full.indexOf("connectors") === 0) {
          return Ember.TEMPLATES["javascripts/" + full];
        }
      },
      resolveTemplate: function resolveTemplate(parsedName) {
        return this.findPluginMobileTemplate(parsedName) || this.findPluginTemplate(parsedName) || this.findMobileTemplate(parsedName) || this.findTemplate(parsedName) || this.findLoadingTemplate(parsedName) || this.findConnectorTemplate(parsedName) || Ember.TEMPLATES.not_found;
      },
      findPluginTemplate: function findPluginTemplate(parsedName) {
        var pluginParsedName = this.parseName(parsedName.fullName.replace("template:", "template:javascripts/"));
        return this.findTemplate(pluginParsedName);
      },
      findPluginMobileTemplate: function findPluginMobileTemplate(parsedName) {
        if (_options.mobileView) {
          var pluginParsedName = this.parseName(parsedName.fullName.replace("template:", "template:javascripts/mobile/"));
          return this.findTemplate(pluginParsedName);
        }
      },
      findMobileTemplate: function findMobileTemplate(parsedName) {
        if (_options.mobileView) {
          var mobileParsedName = this.parseName(parsedName.fullName.replace("template:", "template:mobile/"));
          return this.findTemplate(mobileParsedName);
        }
      },
      findTemplate: function findTemplate(parsedName) {
        var withoutType = parsedName.fullNameWithoutType,
            slashedType = withoutType.replace(/\./g, "/"),
            decamelized = withoutType.decamelize(),
            dashed = decamelized.replace(/\./g, "-").replace(/\_/g, "-"),
            templates = Ember.TEMPLATES;

        return this._super(parsedName) || templates[slashedType] || templates[withoutType] || templates[withoutType.replace(/\.raw$/, "")] || templates[dashed] || templates[decamelized.replace(/\./, "/")] || templates[decamelized.replace(/\_/, "/")] || templates[baseName + "/templates/" + withoutType] || this.findAdminTemplate(parsedName) || this.findUnderscoredTemplate(parsedName);
      },
      findUnderscoredTemplate: function findUnderscoredTemplate(parsedName) {
        var decamelized = parsedName.fullNameWithoutType.decamelize();
        var underscored = decamelized.replace(/\-/g, "_");
        return Ember.TEMPLATES[underscored];
      },
      findAdminTemplate: function findAdminTemplate(parsedName) {
        var decamelized = parsedName.fullNameWithoutType.decamelize();
        if (decamelized.indexOf("components") === 0) {
          var comPath = "admin/templates/" + decamelized;
          var compTemplate = Ember.TEMPLATES["javascripts/" + comPath] || Ember.TEMPLATES[comPath];
          if (compTemplate) {
            return compTemplate;
          }
        }

        if (decamelized === "javascripts/admin") {
          return Ember.TEMPLATES["admin/templates/admin"];
        }

        if (decamelized.indexOf("admin") === 0 || decamelized.indexOf("javascripts/admin") === 0) {
          decamelized = decamelized.replace(/^admin\_/, "admin/templates/");
          decamelized = decamelized.replace(/^admin\./, "admin/templates/");
          decamelized = decamelized.replace(/\./g, "_");

          var dashed = decamelized.replace(/_/g, "-");
          return Ember.TEMPLATES[decamelized] || Ember.TEMPLATES[dashed] || Ember.TEMPLATES[dashed.replace("admin-", "admin/")];
        }
      }
    });
  }
});
define("discourse-common/utils/decorators", ["exports", "ember-addons/utils/handle-descriptor", "ember-addons/utils/is-descriptor", "ember-addons/utils/extract-value", "@ember/runloop", "ember-addons/decorator-alias", "ember-addons/macro-alias"], function (exports, _handleDescriptor, _isDescriptor, _extractValue, _runloop, _decoratorAlias, _macroAlias) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.uniq = exports.union = exports.sum = exports.sort = exports.setDiff = exports.reads = exports.or = exports.oneWay = exports.notEmpty = exports.not = exports.none = exports.min = exports.max = exports.match = exports.mapBy = exports.map = exports.lte = exports.lt = exports.gte = exports.gt = exports.filterBy = exports.filter = exports.equal = exports.empty = exports.collect = exports.bool = exports.and = exports.alias = exports.observes = exports.on = undefined;
  exports.default = discourseComputedDecorator;
  exports.afterRender = afterRender;
  exports.readOnly = readOnly;
  function discourseComputedDecorator() {
    for (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {
      params[_key] = arguments[_key];
    }

    // determine if user called as @discourseComputed('blah', 'blah') or @discourseComputed
    if ((0, _isDescriptor.default)(params[params.length - 1])) {
      return _handleDescriptor.default.apply(undefined, arguments);
    } else {
      return function () /* target, key, desc */{
        return _handleDescriptor.default.apply(undefined, Array.prototype.slice.call(arguments).concat([params]));
      };
    }
  }

  function afterRender(target, name, descriptor) {
    var originalFunction = descriptor.value;
    descriptor.value = function () {
      var _this = this,
          _arguments = arguments;

      (0, _runloop.next)(function () {
        (0, _runloop.schedule)("afterRender", function () {
          if (_this.element && !_this.isDestroying && !_this.isDestroyed) {
            return originalFunction.apply(_this, _arguments);
          }
        });
      });
    };
  }

  function readOnly(target, name, desc) {
    return {
      writable: false,
      enumerable: desc.enumerable,
      configurable: desc.configurable,
      initializer: function initializer() {
        var value = (0, _extractValue.default)(desc);
        return value.readOnly();
      }
    };
  }

  var on = exports.on = (0, _decoratorAlias.default)(Ember.on, "Can not `on` without event names");
  var observes = exports.observes = (0, _decoratorAlias.default)(Ember.observer, "Can not `observe` without property names");

  var alias = exports.alias = (0, _macroAlias.default)(Ember.computed.alias);
  var and = exports.and = (0, _macroAlias.default)(Ember.computed.and);
  var bool = exports.bool = (0, _macroAlias.default)(Ember.computed.bool);
  var collect = exports.collect = (0, _macroAlias.default)(Ember.computed.collect);
  var empty = exports.empty = (0, _macroAlias.default)(Ember.computed.empty);
  var equal = exports.equal = (0, _macroAlias.default)(Ember.computed.equal);
  var filter = exports.filter = (0, _macroAlias.default)(Ember.computed.filter);
  var filterBy = exports.filterBy = (0, _macroAlias.default)(Ember.computed.filterBy);
  var gt = exports.gt = (0, _macroAlias.default)(Ember.computed.gt);
  var gte = exports.gte = (0, _macroAlias.default)(Ember.computed.gte);
  var lt = exports.lt = (0, _macroAlias.default)(Ember.computed.lt);
  var lte = exports.lte = (0, _macroAlias.default)(Ember.computed.lte);
  var map = exports.map = (0, _macroAlias.default)(Ember.computed.map);
  var mapBy = exports.mapBy = (0, _macroAlias.default)(Ember.computed.mapBy);
  var match = exports.match = (0, _macroAlias.default)(Ember.computed.match);
  var max = exports.max = (0, _macroAlias.default)(Ember.computed.max);
  var min = exports.min = (0, _macroAlias.default)(Ember.computed.min);
  var none = exports.none = (0, _macroAlias.default)(Ember.computed.none);
  var not = exports.not = (0, _macroAlias.default)(Ember.computed.not);
  var notEmpty = exports.notEmpty = (0, _macroAlias.default)(Ember.computed.notEmpty);
  var oneWay = exports.oneWay = (0, _macroAlias.default)(Ember.computed.oneWay);
  var or = exports.or = (0, _macroAlias.default)(Ember.computed.or);
  var reads = exports.reads = (0, _macroAlias.default)(Ember.computed.reads);
  var setDiff = exports.setDiff = (0, _macroAlias.default)(Ember.computed.setDiff);
  var sort = exports.sort = (0, _macroAlias.default)(Ember.computed.sort);
  var sum = exports.sum = (0, _macroAlias.default)(Ember.computed.sum);
  var union = exports.union = (0, _macroAlias.default)(Ember.computed.union);
  var uniq = exports.uniq = (0, _macroAlias.default)(Ember.computed.uniq);
});
define("ember-addons/decorator-alias", ["exports", "./utils/extract-value"], function (exports, _extractValue) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = decoratorAlias;
  function decoratorAlias(fn, errorMessage) {
    return function () {
      for (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {
        params[_key] = arguments[_key];
      }

      // determine if user called as @discourseComputed('blah', 'blah') or @discourseComputed
      if (params.length === 0) {
        throw new Error(errorMessage);
      } else {
        return function (target, key, desc) {
          return {
            enumerable: desc.enumerable,
            configurable: desc.configurable,
            writable: desc.writable,
            initializer: function initializer() {
              var value = (0, _extractValue.default)(desc);
              return fn.apply(null, params.concat(value));
            }
          };
        };
      }
    };
  }
});
define("ember-addons/macro-alias", ["exports", "./utils/is-descriptor"], function (exports, _isDescriptor) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = macroAlias;

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  function handleDescriptor(target, property, desc, fn) {
    var params = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];

    return {
      enumerable: desc.enumerable,
      configurable: desc.configurable,
      writable: desc.writable,
      initializer: function initializer() {
        return fn.apply(undefined, _toConsumableArray(params));
      }
    };
  }

  function macroAlias(fn) {
    return function () {
      for (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {
        params[_key] = arguments[_key];
      }

      if ((0, _isDescriptor.default)(params[params.length - 1])) {
        return handleDescriptor.apply(undefined, params.concat([fn]));
      } else {
        return function (target, property, desc) {
          return handleDescriptor(target, property, desc, fn, params);
        };
      }
    };
  }
});
define("ember-addons/fmt", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (str, formats) {
    var cachedFormats = formats;

    if (!_.isArray(cachedFormats) || arguments.length > 2) {
      cachedFormats = new Array(arguments.length - 1);

      for (var i = 1, l = arguments.length; i < l; i++) {
        cachedFormats[i - 1] = arguments[i];
      }
    }

    // first, replace any ORDERED replacements.
    var idx = 0; // the current index for non-numerical replacements
    return str.replace(/%@([0-9]+)?/g, function (s, argIndex) {
      argIndex = argIndex ? parseInt(argIndex, 10) - 1 : idx++;
      s = cachedFormats[argIndex];
      return typeof s === "string" ? s : s === null ? "(null)" : s === undefined ? "" : "" + s;
    });
  };
});
/* eslint-disable */

// Any IE only polyfill should be moved in discourse-internet-explorer plugin

// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/flags#Polyfill
// IE and EDGE
if (RegExp.prototype.flags === undefined) {
  Object.defineProperty(RegExp.prototype, "flags", {
    configurable: true,
    get: function() {
      return this.toString().match(/[gimsuy]*$/)[0];
    }
  });
}

// https://github.com/uxitten/polyfill/blob/master/string.polyfill.js
// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart
if (!String.prototype.padStart) {
  String.prototype.padStart = function padStart(targetLength, padString) {
    targetLength = targetLength >> 0; //truncate if number, or convert non-number to 0;
    padString = String(typeof padString !== "undefined" ? padString : " ");
    if (this.length >= targetLength) {
      return String(this);
    } else {
      targetLength = targetLength - this.length;
      if (targetLength > padString.length) {
        padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed
      }
      return padString.slice(0, targetLength) + String(this);
    }
  };
}

// https://github.com/uxitten/polyfill/blob/master/string.polyfill.js
// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padEnd
if (!String.prototype.padEnd) {
  String.prototype.padEnd = function padEnd(targetLength, padString) {
    targetLength = targetLength >> 0; //floor if number or convert non-number to 0;
    padString = String(typeof padString !== "undefined" ? padString : " ");
    if (this.length > targetLength) {
      return String(this);
    } else {
      targetLength = targetLength - this.length;
      if (targetLength > padString.length) {
        padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed
      }
      return String(this) + padString.slice(0, targetLength);
    }
  };
}

/* eslint-enable */
;
define("select-kit/components/admin-group-selector", ["exports", "select-kit/components/multi-select"], function (exports, _multiSelect) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _multiSelect.default.extend({
    pluginApiIdentifiers: ["admin-group-selector"],
    classNames: ["admin-group-selector"],
    selectKitOptions: {
      allowAny: false
    }
  });
});
define("select-kit/components/categories-admin-dropdown", ["exports", "select-kit/components/dropdown-select-box", "@ember/object", "discourse/lib/computed"], function (exports, _dropdownSelectBox, _object, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _dropdownSelectBox.default.extend({
    pluginApiIdentifiers: ["categories-admin-dropdown"],
    classNames: ["categories-admin-dropdown"],
    fixedCateoryPositions: (0, _computed.setting)("fixed_category_positions"),

    selectKitOptions: {
      icon: "bars",
      showFullTitle: false,
      autoFilterable: false,
      filterable: false
    },

    content: (0, _object.computed)(function () {
      var items = [{
        id: "create",
        name: I18n.t("category.create"),
        description: I18n.t("category.create_long"),
        icon: "plus"
      }];

      if (this.fixedCateoryPositions) {
        items.push({
          id: "reorder",
          name: I18n.t("categories.reorder.title"),
          description: I18n.t("categories.reorder.title_long"),
          icon: "random"
        });
      }

      return items;
    })
  });
});
define("select-kit/components/category-chooser", ["exports", "select-kit/components/combo-box", "discourse/models/permission-type", "discourse/models/category", "discourse/helpers/category-link", "@ember/object", "@ember/utils", "discourse/lib/computed"], function (exports, _comboBox, _permissionType, _category, _categoryLink, _object, _utils, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _comboBox.default.extend({
    pluginApiIdentifiers: ["category-chooser"],
    classNames: ["category-chooser"],
    allowUncategorizedTopics: (0, _computed.setting)("allow_uncategorized_topics"),
    fixedCategoryPositionsOnCreate: (0, _computed.setting)("fixed_category_positions_on_create"),

    selectKitOptions: {
      filterable: true,
      allowUncategorized: false,
      allowSubCategories: true,
      permissionType: _permissionType.default.FULL,
      excludeCategoryId: null,
      scopedCategoryId: null
    },

    modifyComponentForRow: function modifyComponentForRow() {
      return "category-row";
    },
    modifyNoSelection: function modifyNoSelection() {
      if (!(0, _utils.isNone)(this.selectKit.options.none)) {
        var none = this.selectKit.options.none;
        var isString = typeof none === "string";
        return this.defaultItem(null, I18n.t(isString ? this.selectKit.options.none : "category.none").htmlSafe());
      } else if (this.allowUncategorizedTopics || this.selectKit.options.allowUncategorized) {
        return _category.default.findUncategorized();
      } else {
        return this.defaultItem(null, I18n.t("category.choose").htmlSafe());
      }
    },
    modifySelection: function modifySelection(content) {
      if (this.selectKit.hasSelection) {
        var category = _category.default.findById(this.value);

        (0, _object.set)(content, "label", (0, _categoryLink.categoryBadgeHTML)(category, {
          link: false,
          hideParent: !!category.parent_category_id,
          allowUncategorized: true,
          recursive: true
        }).htmlSafe());
      }

      return content;
    },
    search: function search(filter) {
      var _this = this;

      if (filter) {
        return this.content.filter(function (item) {
          var category = _category.default.findById(_this.getValue(item));
          var categoryName = _this.getName(item);

          if (category && category.parentCategory) {
            var parentCategoryName = _this.getName(category.parentCategory);
            return _this._matchCategory(filter, categoryName) || _this._matchCategory(filter, parentCategoryName);
          } else {
            return _this._matchCategory(filter, categoryName);
          }
        });
      } else {
        return this.content;
      }
    },


    content: (0, _object.computed)("selectKit.{filter,options.scopedCategoryId}", function () {
      if (!this.selectKit.filter && this.selectKit.options.scopedCategoryId) {
        return this.categoriesByScope(this.selectKit.options.scopedCategoryId);
      } else {
        return this.categoriesByScope();
      }
    }),

    categoriesByScope: function categoriesByScope() {
      var _this2 = this;

      var scopedCategoryId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      var categories = this.fixedCategoryPositionsOnCreate ? _category.default.list() : _category.default.listByActivity();

      if (scopedCategoryId) {
        var scopedCat = _category.default.findById(scopedCategoryId);
        scopedCategoryId = scopedCat.parent_category_id || scopedCat.id;
      }

      var excludeCategoryId = this.selectKit.options.excludeCategoryId;

      return categories.filter(function (category) {
        var categoryId = _this2.getValue(category);

        if (scopedCategoryId && categoryId !== scopedCategoryId && category.parent_category_id !== scopedCategoryId) {
          return false;
        }

        if (_this2.selectKit.options.allowSubCategories === false && category.parentCategory) {
          return false;
        }

        if (_this2.selectKit.options.allowUncategorized === false && category.isUncategorizedCategory || excludeCategoryId === categoryId) {
          return false;
        }

        var permissionType = _this2.selectKit.options.permissionType;
        if (permissionType) {
          return permissionType === category.permission;
        }

        return true;
      });
    },
    _matchCategory: function _matchCategory(filter, categoryName) {
      return this._normalize(categoryName).indexOf(filter) > -1;
    }
  });
});
define("select-kit/components/category-drop", ["exports", "@ember/object/computed", "@ember/object", "select-kit/components/combo-box", "discourse/lib/url", "discourse/models/category", "discourse/helpers/category-link"], function (exports, _computed, _object, _comboBox, _url, _category, _categoryLink) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.ALL_CATEGORIES_ID = exports.NO_CATEGORIES_ID = undefined;
  var NO_CATEGORIES_ID = exports.NO_CATEGORIES_ID = "no-categories";
  var ALL_CATEGORIES_ID = exports.ALL_CATEGORIES_ID = "all-categories";

  exports.default = _comboBox.default.extend({
    pluginApiIdentifiers: ["category-drop"],
    classNameBindings: ["categoryStyle"],
    classNames: ["category-drop"],
    value: (0, _computed.readOnly)("category.id"),
    content: (0, _computed.readOnly)("categoriesWithShortcuts.[]"),
    tagName: "li",
    categoryStyle: (0, _computed.readOnly)("siteSettings.category_style"),
    noCategoriesLabel: I18n.t("categories.no_subcategory"),

    selectKitOptions: {
      filterable: true,
      none: "category.all",
      caretDownIcon: "caret-right",
      caretUpIcon: "caret-down",
      fullWidthOnMobile: true,
      noSubcategories: false,
      subCategory: false,
      clearable: false,
      hideParentCategory: "hideParentCategory",
      allowUncategorized: true,
      countSubcategories: false,
      autoInsertNoneItem: false,
      displayCategoryDescription: "displayCategoryDescription",
      headerComponent: "category-drop/category-drop-header"
    },

    modifyComponentForRow: function modifyComponentForRow() {
      return "category-row";
    },


    displayCategoryDescription: (0, _object.computed)(function () {
      return !(this.get("currentUser.staff") || this.get("currentUser.trust_level") > 0);
    }),

    hideParentCategory: (0, _object.computed)(function () {
      return this.options.subCategory || false;
    }),

    categoriesWithShortcuts: (0, _object.computed)("categories.[]", "value", "selectKit.options.{subCategory,noSubcategories}", function () {
      var shortcuts = [];

      if (this.value || this.selectKit.options.noSubcategories && this.selectKit.options.subCategory) {
        shortcuts.push({
          id: ALL_CATEGORIES_ID,
          name: this.allCategoriesLabel
        });
      }

      if (this.selectKit.options.subCategory && (this.value || !this.selectKit.options.noSubcategories)) {
        shortcuts.push({
          id: NO_CATEGORIES_ID,
          name: this.noCategoriesLabel
        });
      }

      var results = this._filterUncategorized(this.categories || []);
      return shortcuts.concat(results);
    }),

    modifyNoSelection: function modifyNoSelection() {
      if (this.selectKit.options.noSubcategories) {
        return this.defaultItem(NO_CATEGORIES_ID, this.noCategoriesLabel);
      } else {
        return this.defaultItem(ALL_CATEGORIES_ID, this.allCategoriesLabel);
      }
    },
    modifySelection: function modifySelection(content) {
      if (this.value) {
        var category = _category.default.findById(this.value);
        content.title = category.title;
        content.label = (0, _categoryLink.categoryBadgeHTML)(category, {
          link: false,
          allowUncategorized: this.selectKit.options.allowUncategorized,
          hideParent: true
        }).htmlSafe();
      }

      return content;
    },


    parentCategoryName: (0, _computed.readOnly)("selectKit.options.parentCategory.name"),

    parentCategoryUrl: (0, _computed.readOnly)("selectKit.options.parentCategory.url"),

    allCategoriesLabel: (0, _object.computed)("parentCategoryName", "selectKit.options.subCategory", function () {
      if (this.selectKit.options.subCategory) {
        return I18n.t("categories.all_subcategories", {
          categoryName: this.parentCategoryName
        });
      }

      return I18n.t("categories.all");
    }),

    allCategoriesUrl: (0, _object.computed)("parentCategoryUrl", "selectKit.options.subCategory", function () {
      return Discourse.getURL(this.selectKit.options.subCategory ? this.parentCategoryUrl || "/" : "/");
    }),

    noCategoriesUrl: (0, _object.computed)("parentCategoryUrl", function () {
      return Discourse.getURL(this.parentCategoryUrl + "/none");
    }),

    search: function search(filter) {
      if (filter) {
        var results = Discourse.Category.search(filter);
        results = this._filterUncategorized(results).sort(function (a, b) {
          if (a.parent_category_id && !b.parent_category_id) {
            return 1;
          } else if (!a.parent_category_id && b.parent_category_id) {
            return -1;
          } else {
            return 0;
          }
        });
        return results;
      } else {
        return this._filterUncategorized(this.content);
      }
    },


    actions: {
      onChange: function onChange(value) {
        var categoryURL = void 0;

        if (value === ALL_CATEGORIES_ID) {
          categoryURL = this.allCategoriesUrl;
        } else if (value === NO_CATEGORIES_ID) {
          categoryURL = this.noCategoriesUrl;
        } else {
          var categoryId = parseInt(value, 10);
          var category = _category.default.findById(categoryId);
          var slug = Discourse.Category.slugFor(category);
          categoryURL = "/c/" + slug;
        }

        _url.default.routeToUrl(categoryURL);

        return false;
      }
    },

    _filterUncategorized: function _filterUncategorized(content) {
      var _this = this;

      if (!this.siteSettings.allow_uncategorized_topics || !this.selectKit.options.allowUncategorized) {
        content = content.filter(function (c) {
          return c.id !== _this.site.uncategorized_category_id;
        });
      }

      return content;
    }
  });
});
define("select-kit/components/category-drop/category-drop-header", ["exports", "@ember/object/computed", "@ember/runloop", "select-kit/components/combo-box/combo-box-header", "discourse-common/utils/decorators"], function (exports, _computed, _runloop, _comboBoxHeader, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _comboBoxHeader.default.extend((_dec = (0, _decorators.default)("selectedContent.color"), _dec2 = (0, _decorators.default)("selectedContent.text_color"), _dec3 = (0, _decorators.default)("selectedContent", "categoryBackgroundColor", "categoryTextColor"), (_obj = {
    layoutName: "select-kit/templates/components/category-drop/category-drop-header",
    classNames: ["category-drop-header"],
    classNameBindings: ["categoryStyleClass"],
    categoryStyleClass: (0, _computed.readOnly)("site.category_style"),

    categoryBackgroundColor: function categoryBackgroundColor(categoryColor) {
      return categoryColor || "#e9e9e9";
    },
    categoryTextColor: function categoryTextColor(_categoryTextColor) {
      return _categoryTextColor || "#333";
    },
    categoryStyle: function categoryStyle(category, categoryBackgroundColor, categoryTextColor) {
      var categoryStyle = this.siteSettings.category_style;

      if (categoryStyle === "bullet") return;

      if (category) {
        if (categoryBackgroundColor || categoryTextColor) {
          var style = "";
          if (categoryBackgroundColor) {
            if (categoryStyle === "box") {
              style += "border-color: #" + categoryBackgroundColor + "; background-color: #" + categoryBackgroundColor + ";";
              if (categoryTextColor) {
                style += "color: #" + categoryTextColor + ";";
              }
            }
          }
          return style.htmlSafe();
        }
      }
    },
    didInsertElement: function didInsertElement() {
      var _this = this;

      this._super.apply(this, arguments);

      (0, _runloop.schedule)("afterRender", function () {
        if (_this.categoryStyle) {
          _this.element.setAttribute("style", _this.categoryStyle);
          _this.element.querySelector(".caret-icon").setAttribute("style", _this.categoryStyle);
        }
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "categoryBackgroundColor", [_dec], Object.getOwnPropertyDescriptor(_obj, "categoryBackgroundColor"), _obj), _applyDecoratedDescriptor(_obj, "categoryTextColor", [_dec2], Object.getOwnPropertyDescriptor(_obj, "categoryTextColor"), _obj), _applyDecoratedDescriptor(_obj, "categoryStyle", [_dec3], Object.getOwnPropertyDescriptor(_obj, "categoryStyle"), _obj)), _obj)));
});
define("select-kit/components/category-notifications-button", ["exports", "@ember/object/computed", "select-kit/components/notifications-button"], function (exports, _computed, _notificationsButton) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _notificationsButton.default.extend({
    pluginApiIdentifiers: ["category-notifications-button"],
    classNames: ["category-notifications-button"],
    isHidden: (0, _computed.or)("category.deleted"),

    selectKitOptions: {
      i18nPrefix: "i18nPrefix",
      showFullTitle: false
    },

    i18nPrefix: "category.notifications"
  });
});
define("select-kit/components/category-row", ["exports", "@ember/object/computed", "select-kit/components/select-kit/select-kit-row", "discourse/models/category", "discourse/helpers/category-link", "@ember/utils", "@ember/object", "discourse/lib/computed"], function (exports, _computed, _selectKitRow, _category, _categoryLink, _utils, _object, _computed2) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitRow.default.extend({
    layoutName: "select-kit/templates/components/category-row",
    classNames: ["category-row"],
    hideParentCategory: (0, _computed.bool)("selectKit.options.hideParentCategory"),
    allowUncategorized: (0, _computed.bool)("selectKit.options.allowUncategorized"),
    categoryLink: (0, _computed.bool)("selectKit.options.categoryLink"),
    countSubcategories: (0, _computed.bool)("selectKit.options.countSubcategories"),
    allowUncategorizedTopics: (0, _computed2.setting)("allow_uncategorized_topics"),

    displayCategoryDescription: (0, _object.computed)("selectKit.options.displayCategoryDescription", function () {
      var option = this.selectKit.options.displayCategoryDescription;
      if ((0, _utils.isNone)(option)) {
        return true;
      }

      return option;
    }),

    title: (0, _object.computed)("descriptionText", "description", "categoryName", function () {
      return this.descriptionText || this.description || this.categoryName;
    }),

    categoryName: (0, _computed.reads)("category.name"),

    categoryDescription: (0, _computed.reads)("category.description"),

    categoryDescriptionText: (0, _computed.reads)("category.description_text"),

    category: (0, _object.computed)("rowValue", "rowName", function () {
      if ((0, _utils.isEmpty)(this.rowValue)) {
        var uncat = _category.default.findUncategorized();
        if (uncat && uncat.name === this.rowName) {
          return uncat;
        }
      } else {
        return _category.default.findById(parseInt(this.rowValue, 10));
      }
    }),

    badgeForCategory: (0, _object.computed)("category", "parentCategory", function () {
      return (0, _categoryLink.categoryBadgeHTML)(this.category, {
        link: this.categoryLink,
        allowUncategorized: this.allowUncategorizedTopics || this.allowUncategorized,
        hideParent: !!this.parentCategory,
        topicCount: this.topicCount
      }).htmlSafe();
    }),

    badgeForParentCategory: (0, _object.computed)("parentCategory", function () {
      return (0, _categoryLink.categoryBadgeHTML)(this.parentCategory, {
        link: this.categoryLink,
        allowUncategorized: this.allowUncategorizedTopics || this.allowUncategorized,
        recursive: true
      }).htmlSafe();
    }),

    parentCategory: (0, _object.computed)("parentCategoryId", function () {
      return _category.default.findById(this.parentCategoryId);
    }),

    hasParentCategory: (0, _computed.bool)("parentCategoryId"),

    parentCategoryId: (0, _computed.reads)("category.parent_category_id"),

    categoryTotalTopicCount: (0, _computed.reads)("category.totalTopicCount"),

    categoryTopicCount: (0, _computed.reads)("category.topic_count"),

    topicCount: (0, _object.computed)("categoryTotalTopicCount", "categoryTopicCount", "countSubcategories", function () {
      return this.countSubcategories ? this.categoryTotalTopicCount : this.categoryTopicCount;
    }),

    shouldDisplayDescription: (0, _object.computed)("displayCategoryDescription", "categoryDescription", function () {
      return this.displayCategoryDescription && this.categoryDescription && this.categoryDescription !== "null";
    }),

    descriptionText: (0, _object.computed)("categoryDescriptionText", function () {
      if (this.categoryDescriptionText) {
        return this._formatDescription(this.categoryDescriptionText);
      }
    }),

    description: (0, _object.computed)("categoryDescription", function () {
      if (this.categoryDescription) {
        return this._formatDescription(this.categoryDescription);
      }
    }),

    _formatDescription: function _formatDescription(description) {
      var limit = 200;
      return "" + description.substr(0, limit) + (description.length > limit ? "&hellip;" : "");
    }
  });
});
define("select-kit/components/category-selector", ["exports", "@ember/object", "@ember/object/computed", "discourse-common/lib/helpers", "select-kit/components/multi-select", "discourse/models/category"], function (exports, _object, _computed, _helpers, _multiSelect, _category) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _multiSelect.default.extend({
    pluginApiIdentifiers: ["category-selector"],
    classNames: ["category-selector"],
    categories: null,
    blacklist: null,

    selectKitOptions: {
      filterable: true,
      allowAny: false,
      allowUncategorized: "allowUncategorized",
      displayCategoryDescription: false,
      selectedNameComponent: "multi-select/selected-category"
    },

    init: function init() {
      this._super.apply(this, arguments);

      if (!this.categories) this.set("categories", []);
      if (!this.blacklist) this.set("blacklist", []);
    },


    content: (0, _object.computed)("categories.[]", "blacklist.[]", function () {
      var _this = this;

      var blacklist = (0, _helpers.makeArray)(this.blacklist);
      return _category.default.list().filter(function (category) {
        return _this.categories.includes(category) || !blacklist.includes(category);
      });
    }),

    value: (0, _computed.mapBy)("categories", "id"),

    filterComputedContent: function filterComputedContent(computedContent, filter) {
      var _this2 = this;

      var regex = new RegExp(filter, "i");
      return computedContent.filter(function (category) {
        return _this2._normalize((0, _object.get)(category, "name")).match(regex);
      });
    },


    actions: {
      onChange: function onChange(values) {
        this.attrs.onChange(values.map(function (v) {
          return _category.default.findById(v);
        }).filter(Boolean));
        return false;
      }
    }
  });
});
define("select-kit/components/color-palettes", ["exports", "select-kit/components/combo-box"], function (exports, _comboBox) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _comboBox.default.extend({
    pluginApiIdentifiers: ["color-palettes"],
    classNames: ["color-palettes"],

    modifyComponentForRow: function modifyComponentForRow() {
      return "color-palettes/color-palettes-row";
    }
  });
});
define("select-kit/components/color-palettes/color-palettes-row", ["exports", "discourse/lib/utilities", "select-kit/components/select-kit/select-kit-row", "@ember/object"], function (exports, _utilities, _selectKitRow, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitRow.default.extend({
    classNames: ["color-palettes-row"],

    layoutName: "select-kit/templates/components/color-palettes/color-palettes-row",

    palettes: (0, _object.computed)("item.colors.[]", function () {
      return (this.item.colors || []).map(function (color) {
        return "#" + (0, _utilities.escapeExpression)(color.hex);
      }).map(function (hex) {
        return "<span class=\"palette\" style=\"background-color:" + hex + "\"></span>";
      }).join("").htmlSafe();
    })
  });
});
define("select-kit/components/combo-box", ["exports", "select-kit/components/single-select", "@ember/object"], function (exports, _singleSelect, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _singleSelect.default.extend({
    pluginApiIdentifiers: ["combo-box"],
    classNames: ["combobox", "combo-box"],

    selectKitOptions: {
      caretUpIcon: "caret-up",
      caretDownIcon: "caret-down",
      autoFilterable: "autoFilterable",
      clearable: false,
      headerComponent: "combo-box/combo-box-header"
    },

    autoFilterable: _object.computed.gte("content.length", 10)
  });
});
define("select-kit/components/combo-box/combo-box-header", ["exports", "@ember/object/computed", "select-kit/components/select-kit/single-select-header", "@ember/object"], function (exports, _computed, _singleSelectHeader, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _singleSelectHeader.default.extend({
    layoutName: "select-kit/templates/components/combo-box/combo-box-header",
    classNames: ["combo-box-header"],
    clearable: (0, _computed.reads)("selectKit.options.clearable"),
    caretUpIcon: (0, _computed.reads)("selectKit.options.caretUpIcon"),
    caretDownIcon: (0, _computed.reads)("selectKit.options.caretDownIcon"),
    shouldDisplayClearableButton: (0, _computed.and)("clearable", "value"),

    caretIcon: (0, _object.computed)("selectKit.isExpanded", "caretUpIcon", "caretDownIcon", function () {
      return this.selectKit.isExpanded ? this.caretUpIcon : this.caretDownIcon;
    })
  });
});
define("select-kit/components/composer-actions", ["exports", "select-kit/components/dropdown-select-box", "discourse/models/composer", "discourse/models/draft", "@ember/object", "@ember/string", "@ember/utils"], function (exports, _dropdownSelectBox, _composer, _draft, _object, _string, _utils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports._clearSnapshots = _clearSnapshots;


  // Component can get destroyed and lose state
  var _topicSnapshot = null;
  var _postSnapshot = null;

  function _clearSnapshots() {
    _topicSnapshot = null;
    _postSnapshot = null;
  }

  exports.default = _dropdownSelectBox.default.extend({
    pluginApiIdentifiers: ["composer-actions"],
    classNames: ["composer-actions"],

    selectKitOptions: {
      icon: "share",
      filterable: false,
      showFullTitle: false
    },

    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);

      // if we change topic we want to change both snapshots
      if (this.get("composerModel.topic") && (!_topicSnapshot || this.get("composerModel.topic.id") !== _topicSnapshot.id)) {
        _topicSnapshot = this.get("composerModel.topic");
        _postSnapshot = this.get("composerModel.post");
      }

      // if we hit reply on a different post we want to change postSnapshot
      if (this.get("composerModel.post") && (!_postSnapshot || this.get("composerModel.post.id") !== _postSnapshot.id)) {
        _postSnapshot = this.get("composerModel.post");
      }

      if ((0, _utils.isEmpty)(this.content)) {
        this.set("selectKit.isHidden", true);
      }
    },
    modifySelection: function modifySelection() {
      return {};
    },


    content: (0, _object.computed)(function () {
      var items = [];

      if (this.action !== _composer.CREATE_TOPIC && this.action !== _composer.CREATE_SHARED_DRAFT && _topicSnapshot) {
        items.push({
          name: I18n.t("composer.composer_actions.reply_as_new_topic.label"),
          description: I18n.t("composer.composer_actions.reply_as_new_topic.desc"),
          icon: "plus",
          id: "reply_as_new_topic"
        });
      }

      if (this.action !== _composer.REPLY && _postSnapshot || this.action === _composer.REPLY && _postSnapshot && !(this.replyOptions.userAvatar && this.replyOptions.userLink)) {
        items.push({
          name: I18n.t("composer.composer_actions.reply_to_post.label", {
            postNumber: _postSnapshot.post_number,
            postUsername: _postSnapshot.username
          }),
          description: I18n.t("composer.composer_actions.reply_to_post.desc"),
          icon: "share",
          id: "reply_to_post"
        });
      }

      if (this.siteSettings.enable_personal_messages && this.action !== _composer.PRIVATE_MESSAGE) {
        items.push({
          name: I18n.t("composer.composer_actions.reply_as_private_message.label"),
          description: I18n.t("composer.composer_actions.reply_as_private_message.desc"),
          icon: "envelope",
          id: "reply_as_private_message"
        });
      }

      if (this.action !== _composer.REPLY && _topicSnapshot || this.action === _composer.REPLY && _topicSnapshot && this.replyOptions.userAvatar && this.replyOptions.userLink && this.replyOptions.topicLink) {
        items.push({
          name: I18n.t("composer.composer_actions.reply_to_topic.label"),
          description: I18n.t("composer.composer_actions.reply_to_topic.desc"),
          icon: "share",
          id: "reply_to_topic"
        });
      }

      // if answered post is a whisper, we can only answer with a whisper so no need for toggle
      if (this.canWhisper && (!_postSnapshot || _postSnapshot && _postSnapshot.post_type !== this.site.post_types.whisper)) {
        items.push({
          name: I18n.t("composer.composer_actions.toggle_whisper.label"),
          description: I18n.t("composer.composer_actions.toggle_whisper.desc"),
          icon: "far-eye-slash",
          id: "toggle_whisper"
        });
      }

      var showCreateTopic = false;
      if (this.action === _composer.CREATE_SHARED_DRAFT) {
        showCreateTopic = true;
      }

      if (this.action === _composer.CREATE_TOPIC) {
        if (this.site.shared_drafts_category_id) {
          // Shared Drafts Choice
          items.push({
            name: I18n.t("composer.composer_actions.shared_draft.label"),
            description: I18n.t("composer.composer_actions.shared_draft.desc"),
            icon: "far-clipboard",
            id: "shared_draft"
          });
        }

        // Edge case: If personal messages are disabled, it is possible to have
        // no items which stil renders a button that pops up nothing. In this
        // case, add an option for what you're currently doing.
        if (items.length === 0) {
          showCreateTopic = true;
        }
      }

      if (showCreateTopic) {
        items.push({
          name: I18n.t("composer.composer_actions.create_topic.label"),
          description: I18n.t("composer.composer_actions.reply_as_new_topic.desc"),
          icon: "share",
          id: "create_topic"
        });
      }

      var showToggleTopicBump = this.get("currentUser.staff") || this.get("currentUser.trust_level") === 4;

      if (this.action === _composer.REPLY && showToggleTopicBump) {
        items.push({
          name: I18n.t("composer.composer_actions.toggle_topic_bump.label"),
          description: I18n.t("composer.composer_actions.toggle_topic_bump.desc"),
          icon: "anchor",
          id: "toggle_topic_bump"
        });
      }

      return items;
    }),

    _replyFromExisting: function _replyFromExisting(options, post, topic) {
      this.closeComposer();
      this.openComposer(options, post, topic);
    },
    _openComposer: function _openComposer(options) {
      this.closeComposer();
      this.openComposer(options);
    },
    toggleWhisperSelected: function toggleWhisperSelected(options, model) {
      model.toggleProperty("whisper");
    },
    toggleTopicBumpSelected: function toggleTopicBumpSelected(options, model) {
      model.toggleProperty("noBump");
    },
    replyToTopicSelected: function replyToTopicSelected(options) {
      options.action = _composer.REPLY;
      options.topic = _topicSnapshot;
      options.skipDraftCheck = true;
      this._openComposer(options);
    },
    replyToPostSelected: function replyToPostSelected(options) {
      options.action = _composer.REPLY;
      options.post = _postSnapshot;
      options.skipDraftCheck = true;
      this._openComposer(options);
    },
    replyAsNewTopicSelected: function replyAsNewTopicSelected(options) {
      var _this = this;

      _draft.default.get("new_topic").then(function (response) {
        if (response.draft) {
          bootbox.confirm(I18n.t("composer.composer_actions.reply_as_new_topic.confirm"), function (result) {
            if (result) _this._replyAsNewTopicSelect(options);
          });
        } else {
          _this._replyAsNewTopicSelect(options);
        }
      });
    },
    _replyAsNewTopicSelect: function _replyAsNewTopicSelect(options) {
      options.action = _composer.CREATE_TOPIC;
      options.categoryId = this.get("composerModel.topic.category.id");
      options.disableScopedCategory = true;
      options.skipDraftCheck = true;
      this._replyFromExisting(options, _postSnapshot, _topicSnapshot);
    },
    replyAsPrivateMessageSelected: function replyAsPrivateMessageSelected(options) {
      var usernames = void 0;

      if (_postSnapshot && !_postSnapshot.get("yours")) {
        var postUsername = _postSnapshot.get("username");
        if (postUsername) {
          usernames = postUsername;
        }
      } else if (this.get("composerModel.topic")) {
        var stream = this.get("composerModel.topic.postStream");

        if (stream.get("firstPostPresent")) {
          var post = stream.get("posts.firstObject");
          if (post && !post.get("yours") && post.get("username")) {
            usernames = post.get("username");
          }
        }
      }

      options.action = _composer.PRIVATE_MESSAGE;
      options.usernames = usernames;
      options.archetypeId = "private_message";
      options.skipDraftCheck = true;

      this._replyFromExisting(options, _postSnapshot, _topicSnapshot);
    },
    _switchCreate: function _switchCreate(options, action) {
      options.action = action;
      options.categoryId = this.get("composerModel.categoryId");
      options.topicTitle = this.get("composerModel.title");
      options.tags = this.get("composerModel.tags");
      options.skipDraftCheck = true;
      this._openComposer(options);
    },
    createTopicSelected: function createTopicSelected(options) {
      this._switchCreate(options, _composer.CREATE_TOPIC);
    },
    sharedDraftSelected: function sharedDraftSelected(options) {
      this._switchCreate(options, _composer.CREATE_SHARED_DRAFT);
    },


    actions: {
      onChange: function onChange(value) {
        var action = (0, _string.camelize)(value) + "Selected";
        if (this[action]) {
          this[action](this.composerModel.getProperties("draftKey", "draftSequence", "reply", "disableScopedCategory"), this.composerModel);
        } else {
          // eslint-disable-next-line no-console
          console.error("No method '" + action + "' found");
        }
      }
    }
  });
});
define("select-kit/components/create-color-row", ["exports", "select-kit/components/select-kit/select-kit-row", "discourse/lib/utilities", "@ember/runloop"], function (exports, _selectKitRow, _utilities, _runloop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitRow.default.extend({
    layoutName: "select-kit/templates/components/create-color-row",
    classNames: ["create-color-row"],

    didReceiveAttrs: function didReceiveAttrs() {
      var _this = this;

      this._super.apply(this, arguments);

      (0, _runloop.schedule)("afterRender", function () {
        var color = (0, _utilities.escapeExpression)(_this.rowValue);
        _this.element.style.borderLeftColor = "#" + color;
      });
    }
  });
});
define("select-kit/components/dropdown-select-box", ["exports", "select-kit/components/single-select"], function (exports, _singleSelect) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _singleSelect.default.extend({
    pluginApiIdentifiers: ["dropdown-select-box"],
    classNames: ["dropdown-select-box"],

    selectKitOptions: {
      autoFilterable: false,
      filterable: false,
      showFullTitle: true,
      headerComponent: "dropdown-select-box/dropdown-select-box-header"
    },

    modifyComponentForRow: function modifyComponentForRow() {
      return "dropdown-select-box/dropdown-select-box-row";
    }
  });
});
define("select-kit/components/dropdown-select-box/dropdown-select-box-header", ["exports", "select-kit/components/select-kit/single-select-header", "@ember/object", "@ember/object/computed"], function (exports, _singleSelectHeader, _object, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _singleSelectHeader.default.extend({
    layoutName: "select-kit/templates/components/dropdown-select-box/dropdown-select-box-header",
    classNames: ["btn-default", "dropdown-select-box-header"],
    tagName: "button",
    classNameBindings: ["btnClassName"],
    showFullTitle: (0, _computed.readOnly)("selectKit.options.showFullTitle"),
    attributeBindings: ["buttonType:type"],
    buttonType: "button",

    btnClassName: (0, _object.computed)("showFullTitle", function () {
      return "btn " + (this.showFullTitle ? "btn-icon-text" : "no-text btn-icon");
    })
  });
});
define("select-kit/components/dropdown-select-box/dropdown-select-box-row", ["exports", "@ember/object/computed", "select-kit/components/select-kit/select-kit-row"], function (exports, _computed, _selectKitRow) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitRow.default.extend({
    layoutName: "select-kit/templates/components/dropdown-select-box/dropdown-select-box-row",
    classNames: ["dropdown-select-box-row"],

    description: (0, _computed.readOnly)("item.description")
  });
});
define("select-kit/components/future-date-input-selector", ["exports", "@ember/object", "@ember/object/computed", "@ember/utils", "select-kit/components/combo-box", "discourse/controllers/edit-topic-timer", "select-kit/components/future-date-input-selector/mixin"], function (exports, _object, _computed, _utils, _comboBox, _editTopicTimer, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.FORMAT = exports.TIMEFRAMES = undefined;
  exports.timeframeDetails = timeframeDetails;


  var TIMEFRAME_BASE = {
    enabled: function enabled() {
      return true;
    },
    when: function when() {
      return null;
    },
    icon: "briefcase",
    displayWhen: true
  };

  function buildTimeframe(opts) {
    return jQuery.extend({}, TIMEFRAME_BASE, opts);
  }

  var TIMEFRAMES = exports.TIMEFRAMES = [buildTimeframe({
    id: "later_today",
    format: "h a",
    enabled: function enabled(opts) {
      return opts.canScheduleToday;
    },
    when: function when(time) {
      return time.hour(18).minute(0);
    },
    icon: "far-moon"
  }), buildTimeframe({
    id: "tomorrow",
    format: "ddd, h a",
    when: function when(time, timeOfDay) {
      return time.add(1, "day").hour(timeOfDay).minute(0);
    },
    icon: "far-sun"
  }), buildTimeframe({
    id: "later_this_week",
    format: "ddd, h a",
    enabled: function enabled(opts) {
      return !opts.canScheduleToday && opts.day < 4;
    },
    when: function when(time, timeOfDay) {
      return time.add(2, "day").hour(timeOfDay).minute(0);
    }
  }), buildTimeframe({
    id: "this_weekend",
    format: "ddd, h a",
    enabled: function enabled(opts) {
      return opts.day < 5 && opts.includeWeekend;
    },
    when: function when(time, timeOfDay) {
      return time.day(6).hour(timeOfDay).minute(0);
    },
    icon: "bed"
  }), buildTimeframe({
    id: "next_week",
    format: "ddd, h a",
    enabled: function enabled(opts) {
      return opts.day !== 7;
    },
    when: function when(time, timeOfDay) {
      return time.add(1, "week").day(1).hour(timeOfDay).minute(0);
    },
    icon: "briefcase"
  }), buildTimeframe({
    id: "two_weeks",
    format: "MMM D",
    when: function when(time, timeOfDay) {
      return time.add(2, "week").hour(timeOfDay).minute(0);
    },
    icon: "briefcase"
  }), buildTimeframe({
    id: "next_month",
    format: "MMM D",
    enabled: function enabled(opts) {
      return opts.now.date() !== moment().endOf("month").date();
    },
    when: function when(time, timeOfDay) {
      return time.add(1, "month").startOf("month").hour(timeOfDay).minute(0);
    },
    icon: "briefcase"
  }), buildTimeframe({
    id: "two_months",
    format: "MMM D",
    enabled: function enabled(opts) {
      return opts.includeMidFuture;
    },
    when: function when(time, timeOfDay) {
      return time.add(2, "month").startOf("month").hour(timeOfDay).minute(0);
    },
    icon: "briefcase"
  }), buildTimeframe({
    id: "three_months",
    format: "MMM D",
    enabled: function enabled(opts) {
      return opts.includeMidFuture;
    },
    when: function when(time, timeOfDay) {
      return time.add(3, "month").startOf("month").hour(timeOfDay).minute(0);
    },
    icon: "briefcase"
  }), buildTimeframe({
    id: "four_months",
    format: "MMM D",
    enabled: function enabled(opts) {
      return opts.includeMidFuture;
    },
    when: function when(time, timeOfDay) {
      return time.add(4, "month").startOf("month").hour(timeOfDay).minute(0);
    },
    icon: "briefcase"
  }), buildTimeframe({
    id: "six_months",
    format: "MMM D",
    enabled: function enabled(opts) {
      return opts.includeFarFuture;
    },
    when: function when(time, timeOfDay) {
      return time.add(6, "month").startOf("month").hour(timeOfDay).minute(0);
    },
    icon: "briefcase"
  }), buildTimeframe({
    id: "one_year",
    format: "MMM D",
    enabled: function enabled(opts) {
      return opts.includeFarFuture;
    },
    when: function when(time, timeOfDay) {
      return time.add(1, "year").startOf("day").hour(timeOfDay).minute(0);
    },
    icon: "briefcase"
  }), buildTimeframe({
    id: "forever",
    enabled: function enabled(opts) {
      return opts.includeFarFuture;
    },
    when: function when(time, timeOfDay) {
      return time.add(1000, "year").hour(timeOfDay).minute(0);
    },
    icon: "gavel",
    displayWhen: false
  }), buildTimeframe({
    id: "pick_date_and_time",
    enabled: function enabled(opts) {
      return opts.includeDateTime;
    },
    icon: "far-calendar-plus"
  }), buildTimeframe({
    id: "set_based_on_last_post",
    enabled: function enabled(opts) {
      return opts.includeBasedOnLastPost;
    },
    icon: "far-clock"
  })];

  var _timeframeById = null;
  function timeframeDetails(id) {
    if (!_timeframeById) {
      _timeframeById = {};
      TIMEFRAMES.forEach(function (t) {
        return _timeframeById[t.id] = t;
      });
    }
    return _timeframeById[id];
  }

  var FORMAT = exports.FORMAT = "YYYY-MM-DD HH:mmZ";

  exports.default = _comboBox.default.extend(_mixin.default, {
    pluginApiIdentifiers: ["future-date-input-selector"],
    classNames: ["future-date-input-selector"],
    isCustom: (0, _computed.equal)("value", "pick_date_and_time"),
    isBasedOnLastPost: (0, _computed.equal)("value", "set_based_on_last_post"),

    selectKitOptions: {
      autoInsertNoneItem: false,
      headerComponent: "future-date-input-selector/future-date-input-selector-header"
    },

    modifyComponentForRow: function modifyComponentForRow() {
      return "future-date-input-selector/future-date-input-selector-row";
    },


    content: (0, _object.computed)(function () {
      var _this = this;

      var now = moment();
      var opts = {
        now: now,
        day: now.day(),
        includeWeekend: this.includeWeekend,
        includeMidFuture: this.includeMidFuture || true,
        includeFarFuture: this.includeFarFuture,
        includeDateTime: this.includeDateTime,
        includeBasedOnLastPost: this.statusType === _editTopicTimer.CLOSE_STATUS_TYPE,
        canScheduleToday: 24 - now.hour() > 6
      };

      return TIMEFRAMES.filter(function (tf) {
        return tf.enabled(opts);
      }).map(function (tf) {
        return {
          id: tf.id,
          name: I18n.t("topic.auto_update_input." + tf.id),
          datetime: _this._computeDatetimeForValue(tf.id),
          icons: _this._computeIconsForValue(tf.id)
        };
      });
    }),

    actions: {
      onChange: function onChange(value) {
        if (value !== "pick_date_and_time" || !this.isBasedOnLastPost) {
          var _updateAt = this._updateAt(value),
              time = _updateAt.time;

          if (time && !(0, _utils.isEmpty)(value)) {
            this.attrs.onChangeInput && this.attrs.onChangeInput(time.locale("en").format(FORMAT));
          }
        }

        this.attrs.onChange && this.attrs.onChange(value);
      }
    }
  });
});
define("select-kit/components/future-date-input-selector/future-date-input-selector-header", ["exports", "select-kit/components/combo-box/combo-box-header"], function (exports, _comboBoxHeader) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _comboBoxHeader.default.extend({
    layoutName: "select-kit/templates/components/future-date-input-selector/future-date-input-selector-header",
    classNames: "future-date-input-selector-header"
  });
});
define("select-kit/components/future-date-input-selector/future-date-input-selector-row", ["exports", "select-kit/components/select-kit/select-kit-row"], function (exports, _selectKitRow) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitRow.default.extend({
    layoutName: "select-kit/templates/components/future-date-input-selector/future-date-input-selector-row",
    classNames: ["future-date-input-selector-row"]
  });
});
define("select-kit/components/future-date-input-selector/mixin", ["exports", "discourse/controllers/edit-topic-timer", "select-kit/components/future-date-input-selector", "@ember/object/mixin", "@ember/utils"], function (exports, _editTopicTimer, _futureDateInputSelector, _mixin, _utils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    _computeIconsForValue: function _computeIconsForValue(value) {
      var _updateAt = this._updateAt(value),
          icon = _updateAt.icon;

      if (icon) {
        return icon.split(",");
      }

      return [];
    },
    _computeDatetimeForValue: function _computeDatetimeForValue(value) {
      if ((0, _utils.isNone)(value)) {
        return null;
      }

      var _updateAt2 = this._updateAt(value),
          time = _updateAt2.time;

      if (time) {
        var details = (0, _futureDateInputSelector.timeframeDetails)(value);
        if (!details.displayWhen) {
          time = null;
        }
        if (time && details.format) {
          return time.format(details.format);
        }
      }
      return time;
    },
    _updateAt: function _updateAt(selection) {
      var details = (0, _futureDateInputSelector.timeframeDetails)(selection);

      if (details) {
        return {
          time: details.when(moment(), this.statusType !== _editTopicTimer.CLOSE_STATUS_TYPE ? 8 : 18),
          icon: details.icon
        };
      }

      return { time: moment() };
    }
  });
});
define("select-kit/components/group-dropdown", ["exports", "@ember/object/computed", "select-kit/components/combo-box", "discourse/lib/url", "@ember/object", "discourse/lib/computed"], function (exports, _computed, _comboBox, _url, _object, _computed2) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _comboBox.default.extend({
    pluginApiIdentifiers: ["group-dropdown"],
    classNames: ["group-dropdown"],
    content: (0, _computed.reads)("groupsWithShortcut"),
    tagName: "li",
    valueProperty: null,
    nameProperty: null,
    hasManyGroups: (0, _computed.gte)("content.length", 10),
    enableGroupDirectory: (0, _computed2.setting)("enable_group_directory"),

    selectKitOptions: {
      caretDownIcon: "caret-right",
      caretUpIcon: "caret-down",
      filterable: "hasManyGroups"
    },

    groupsWithShortcut: (0, _object.computed)("groups.[]", function () {
      var shortcuts = [];

      if (this.enableGroupDirectory || this.get("currentUser.staff")) {
        shortcuts.push(I18n.t("groups.index.all").toLowerCase());
      }

      return shortcuts.concat(this.groups);
    }),

    actions: {
      onChange: function onChange(groupName) {
        if ((this.groups || []).includes(groupName)) {
          _url.default.routeToUrl("/g/" + groupName);
        } else {
          _url.default.routeToUrl("/g");
        }
      }
    }
  });
});
define("select-kit/components/group-members-dropdown", ["exports", "select-kit/components/dropdown-select-box", "@ember/object"], function (exports, _dropdownSelectBox, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  exports.default = _dropdownSelectBox.default.extend((_obj = {
    classNames: ["group-members-dropdown"],

    selectKitOptions: {
      icon: "bars",
      showFullTitle: false
    },

    content: (0, _object.computed)(function () {
      var items = [{
        id: "showAddMembersModal",
        name: I18n.t("groups.add_members.title"),
        icon: "user-plus"
      }];

      if (this.currentUser.admin) {
        items.push({
          id: "showBulkAddModal",
          name: I18n.t("admin.groups.bulk_add.title"),
          icon: "users"
        });
      }

      return items;
    }),

    onChange: function onChange(id) {
      this.attrs && this.attrs[id] && this.attrs[id]();
    }
  }, (_applyDecoratedDescriptor(_obj, "onChange", [_object.action], Object.getOwnPropertyDescriptor(_obj, "onChange"), _obj)), _obj));
});
define("select-kit/components/group-notifications-button", ["exports", "select-kit/components/notifications-button"], function (exports, _notificationsButton) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _notificationsButton.default.extend({
    pluginApiIdentifiers: ["group-notifications-button"],
    classNames: ["group-notifications-button"],

    selectKitOptions: {
      i18nPrefix: "i18nPrefix"
    },

    i18nPrefix: "groups.notifications"
  });
});
define("select-kit/components/icon-picker", ["exports", "select-kit/components/multi-select", "@ember/object", "discourse/lib/ajax", "discourse-common/lib/helpers", "discourse-common/lib/icon-library"], function (exports, _multiSelect, _object, _ajax, _helpers, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  exports.default = _multiSelect.default.extend({
    pluginApiIdentifiers: ["icon-picker"],
    classNames: ["icon-picker"],

    init: function init() {
      this._super.apply(this, arguments);

      this._cachedIconsList = null;

      if (Discourse.Environment === "development") {
        Discourse.disableMissingIconWarning = true;
      }
    },


    content: (0, _object.computed)("value.[]", function () {
      return (0, _helpers.makeArray)(this.value).map(this._processIcon);
    }),

    search: function search() {
      var _this = this;

      var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";

      if (filter === "" && this._cachedIconsList && this._cachedIconsList.length) {
        return this._cachedIconsList;
      } else {
        return (0, _ajax.ajax)("/svg-sprite/picker-search", {
          data: { filter: filter }
        }).then(function (icons) {
          icons = icons.map(_this._processIcon);
          if (filter === "") {
            _this._cachedIconsList = icons;
          }
          return icons;
        });
      }
    },
    _processIcon: function _processIcon(icon) {
      var iconName = (typeof icon === "undefined" ? "undefined" : _typeof(icon)) === "object" ? icon.id : icon,
          strippedIconName = (0, _iconLibrary.convertIconClass)(iconName);

      var spriteEl = "#svg-sprites",
          holder = "ajax-icon-holder";

      if ((typeof icon === "undefined" ? "undefined" : _typeof(icon)) === "object") {
        if ($(spriteEl + " ." + holder).length === 0) $(spriteEl).append("<div class=\"" + holder + "\" style='display: none;'></div>");

        if (!$(spriteEl + " symbol#" + strippedIconName).length) {
          $(spriteEl + " ." + holder).append("<svg xmlns='http://www.w3.org/2000/svg'>" + icon.symbol + "</svg>");
        }
      }

      return {
        id: iconName,
        name: iconName,
        icon: strippedIconName
      };
    },
    willDestroyElement: function willDestroyElement() {
      $("#svg-sprites .ajax-icon-holder").remove();
      this._super.apply(this, arguments);

      this._cachedIconsList = null;

      if (Discourse.Environment === "development") {
        delete Discourse.disableMissingIconWarning;
      }
    },


    actions: {
      onChange: function onChange(value, item) {
        if (this.selectKit.options.maximum === 1) {
          value = value.length ? value[0] : null;
          item = item.length ? item[0] : null;
        }

        this.attrs.onChange && this.attrs.onChange(value, item);
      }
    }
  });
});
define("select-kit/components/list-setting", ["exports", "select-kit/components/multi-select", "select-kit/components/select-kit", "@ember/object", "@ember/object/computed", "discourse-common/lib/helpers"], function (exports, _multiSelect, _selectKit, _object, _computed, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  exports.default = _multiSelect.default.extend({
    pluginApiIdentifiers: ["list-setting"],
    classNames: ["list-setting"],
    choices: null,
    nameProperty: null,
    valueProperty: null,
    content: (0, _computed.readOnly)("choices"),

    selectKitOptions: {
      filterable: true,
      selectedNameComponent: "selectedNameComponent"
    },

    modifyComponentForRow: function modifyComponentForRow(collection) {
      if (collection === _selectKit.MAIN_COLLECTION && this.settingName && this.settingName.indexOf("color") > -1) {
        return "create-color-row";
      }
    },


    selectedNameComponent: (0, _object.computed)("settingName", function () {
      if (this.settingName && this.settingName.indexOf("color") > -1) {
        return "selected-color";
      } else {
        return "selected-name";
      }
    }),

    deselect: function deselect(value) {
      this.onChangeChoices && this.onChangeChoices([].concat(_toConsumableArray(new Set([value].concat(_toConsumableArray((0, _helpers.makeArray)(this.choices)))))));

      this._super.apply(this, arguments);
    }
  });
});
define("select-kit/components/mini-tag-chooser", ["exports", "@ember/object/computed", "select-kit/components/combo-box", "select-kit/mixins/tags", "discourse-common/lib/helpers", "@ember/object", "discourse/lib/computed", "select-kit/components/select-kit"], function (exports, _computed, _comboBox, _tags, _helpers, _object, _computed2, _selectKit) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  var SELECTED_TAGS_COLLECTION = "MINI_TAG_CHOOSER_SELECTED_TAGS";
  exports.default = _comboBox.default.extend(_tags.default, {
    headerComponent: "mini-tag-chooser/mini-tag-chooser-header",
    pluginApiIdentifiers: ["mini-tag-chooser"],
    attributeBindings: ["selectKit.options.categoryId:category-id"],
    classNames: ["mini-tag-chooser"],
    classNameBindings: ["noTags"],
    noTags: (0, _computed.empty)("value"),
    maxTagSearchResults: (0, _computed2.setting)("max_tag_search_results"),
    maxTagsPerTopic: (0, _computed2.setting)("max_tags_per_topic"),
    highlightedTag: null,
    singleSelect: false,

    collections: (0, _object.computed)("mainCollection.[]", "errorsCollection.[]", "highlightedTag", function () {
      return this._super.apply(this, arguments);
    }),

    selectKitOptions: {
      fullWidthOnMobile: true,
      filterable: true,
      caretDownIcon: "caretIcon",
      caretUpIcon: "caretIcon",
      termMatchesForbidden: false,
      categoryId: null,
      everyTag: false,
      none: "tagging.choose_for_topic",
      closeOnChange: false,
      maximum: "maximumSelectedTags",
      autoInsertNoneItem: false
    },

    modifyComponentForRow: function modifyComponentForRow(collection, item) {
      if (this.getValue(item) === this.selectKit.filter) {
        return "select-kit/select-kit-row";
      }

      return "tag-row";
    },
    modifyComponentForCollection: function modifyComponentForCollection(collection) {
      if (collection === SELECTED_TAGS_COLLECTION) {
        return "mini-tag-chooser/selected-collection";
      }
    },
    modifyContentForCollection: function modifyContentForCollection(collection) {
      if (collection === SELECTED_TAGS_COLLECTION) {
        return {
          selectedTags: this.value,
          highlightedTag: this.highlightedTag
        };
      }
    },


    allowAnyTag: (0, _computed.or)("allowCreate", "site.can_create_tag"),

    maximumSelectedTags: (0, _object.computed)(function () {
      return parseInt(this.options.limit || this.selectKit.options.maximum || this.maxTagsPerTopic, 10);
    }),

    init: function init() {
      this._super.apply(this, arguments);

      this.insertAfterCollection(_selectKit.ERRORS_COLLECTION, SELECTED_TAGS_COLLECTION);
    },


    caretIcon: (0, _object.computed)("value.[]", function () {
      var maximum = this.selectKit.options.maximum;
      return maximum && (0, _helpers.makeArray)(this.value).length >= parseInt(maximum, 10) ? null : "plus";
    }),

    modifySelection: function modifySelection(content) {
      var minimum = this.selectKit.options.minimum;
      if (minimum && (0, _helpers.makeArray)(this.value).length < parseInt(minimum, 10)) {
        var key = this.selectKit.options.minimumLabel || "select_kit.min_content_not_reached";
        var label = I18n.t(key, { count: this.selectKit.options.minimum });
        content.title = content.name = content.label = label;
      } else {
        content.name = content.value = (0, _helpers.makeArray)(this.value).join(",");
        content.title = content.label = (0, _helpers.makeArray)(this.value).join(", ");

        if (content.label.length > 32) {
          content.label = content.label.slice(0, 32) + "...";
        }
      }

      return content;
    },
    search: function search(filter) {
      var data = {
        q: filter || "",
        limit: this.maxTagSearchResults,
        categoryId: this.selectKit.options.categoryId
      };

      if (this.value) {
        data.selected_tags = this.value.slice(0, 100);
      }

      if (!this.selectKit.options.everyTag) data.filterForInput = true;

      return this.searchTags("/tags/filter/search", data, this._transformJson);
    },
    _transformJson: function _transformJson(context, json) {
      var results = json.results;

      context.setProperties({
        termMatchesForbidden: json.forbidden ? true : false,
        termMatchErrorMessage: json.forbidden_message
      });

      if (context.get("siteSettings.tags_sort_alphabetically")) {
        results = results.sort(function (a, b) {
          return a.text.localeCompare(b.text);
        });
      }

      results = results.filter(function (r) {
        return !(0, _helpers.makeArray)(context.tags).includes(r.id);
      }).map(function (result) {
        return { id: result.text, name: result.text, count: result.count };
      });

      return results;
    },
    select: function select(value) {
      this._reset();

      if (!this.validateSelect(value)) {
        return;
      }

      var tags = [].concat(_toConsumableArray(new Set((0, _helpers.makeArray)(this.value).concat(value))));
      this.selectKit.change(tags, tags);
    },
    deselect: function deselect(value) {
      this._reset();

      var tags = [].concat(_toConsumableArray(new Set((0, _helpers.makeArray)(this.value).removeObject(value))));
      this.selectKit.change(tags, tags);
    },
    _reset: function _reset() {
      this.clearErrors();
      this.set("highlightedTag", null);
    },
    _onKeydown: function _onKeydown(event) {
      var value = (0, _helpers.makeArray)(this.value);

      if (event.keyCode === 8) {
        this._onBackspace(this.value, this.highlightedTag);
      } else if (event.keyCode === 37) {
        if (this.highlightedTag) {
          var index = value.indexOf(this.highlightedTag);
          var highlightedTag = value[index - 1] ? value[index - 1] : value.lastObject;
          this.set("highlightedTag", highlightedTag);
        } else {
          this.set("highlightedTag", value.lastObject);
        }
      } else if (event.keyCode === 39) {
        if (this.highlightedTag) {
          var _index = value.indexOf(this.highlightedTag);
          var _highlightedTag = value[_index + 1] ? value[_index + 1] : value.firstObject;
          this.set("highlightedTag", _highlightedTag);
        } else {
          this.set("highlightedTag", value.firstObject);
        }
      } else {
        this.set("highlightedTag", null);
      }

      return true;
    },
    _onBackspace: function _onBackspace(value, highlightedTag) {
      if (value && value.length) {
        if (!highlightedTag) {
          this.set("highlightedTag", value.lastObject);
        } else {
          this.deselect(highlightedTag);
        }
      }
    }
  });
});
define("select-kit/components/mini-tag-chooser/mini-tag-chooser-header", ["exports", "select-kit/components/combo-box/combo-box-header"], function (exports, _comboBoxHeader) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _comboBoxHeader.default.extend({
    layoutName: "select-kit/templates/components/mini-tag-chooser/mini-tag-chooser-header",
    classNames: ["mini-tag-chooser-header"]
  });
});
define("select-kit/components/mini-tag-chooser/selected-collection", ["exports", "@ember/component", "@ember/object", "@ember/object/computed"], function (exports, _component, _object, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    layoutName: "select-kit/templates/components/mini-tag-chooser/selected-collection",
    classNames: ["mini-tag-chooser-selected-collection", "selected-tags"],
    isVisible: (0, _computed.notEmpty)("selectedTags.[]"),
    selectedTags: (0, _computed.reads)("collection.content.selectedTags.[]"),
    highlightedTag: (0, _computed.reads)("collection.content.highlightedTag"),

    tags: (0, _object.computed)("selectedTags.[]", "highlightedTag", "selectKit.filter", function () {
      var _this = this;

      if (!this.selectedTags) {
        return [];
      }

      var tags = this.selectedTags;
      if (tags.length >= 20 && this.selectKit.filter) {
        tags = tags.filter(function (t) {
          return t.indexOf(_this.selectKit.filter) >= 0;
        });
      } else if (tags.length >= 20) {
        tags = tags.slice(0, 20);
      }

      tags = tags.map(function (selectedTag) {
        var classNames = ["selected-tag"];
        if (selectedTag === _this.highlightedTag) {
          classNames.push("is-highlighted");
        }

        return {
          value: selectedTag,
          classNames: classNames.join(" ")
        };
      });

      return tags;
    }),

    actions: {
      deselectTag: function deselectTag(tag) {
        return this.selectKit.deselect(tag);
      }
    }
  });
});
define("select-kit/components/multi-select", ["exports", "discourse-common/lib/deprecated", "select-kit/components/select-kit", "@ember/object", "discourse-common/lib/helpers", "@ember/utils"], function (exports, _deprecated, _selectKit, _object, _helpers, _utils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKit.default.extend({
    pluginApiIdentifiers: ["multi-select"],
    layoutName: "select-kit/templates/components/multi-select",
    classNames: ["multi-select"],
    multiSelect: true,

    selectKitOptions: {
      none: "select_kit.default_header_text",
      clearable: true,
      filterable: true,
      filterIcon: null,
      clearOnClick: true,
      closeOnChange: false,
      autoInsertNoneItem: false,
      headerComponent: "multi-select/multi-select-header",
      filterComponent: "multi-select/multi-select-filter"
    },

    search: function search(filter) {
      var _this = this;

      return this._super(filter).filter(function (content) {
        return !(0, _helpers.makeArray)(_this.selectedContent).includes(content);
      });
    },
    deselect: function deselect(item) {
      var _this2 = this;

      this.clearErrors();

      var newContent = this.selectedContent.filter(function (content) {
        return _this2.getValue(item) !== _this2.getValue(content);
      });

      this.selectKit.change(this.valueProperty ? newContent.mapBy(this.valueProperty) : newContent, newContent);
    },
    select: function select(value, item) {
      if (!(0, _utils.isPresent)(value)) {
        if (!this.validateSelect(this.selectKit.highlighted)) {
          return;
        }

        this.selectKit.change((0, _helpers.makeArray)(this.value).concat((0, _helpers.makeArray)(this.getValue(this.selectKit.highlighted))), (0, _helpers.makeArray)(this.selectedContent).concat((0, _helpers.makeArray)(this.selectKit.highlighted)));
      } else {
        var existingItem = this.findValue(this.mainCollection, this.selectKit.valueProperty ? item : value);
        if (existingItem) {
          if (!this.validateSelect(item)) {
            return;
          }
        }

        var newValues = (0, _helpers.makeArray)(this.value).concat((0, _helpers.makeArray)(value));
        var newContent = (0, _helpers.makeArray)(this.selectedContent).concat((0, _helpers.makeArray)(item));

        this.selectKit.change(newValues, newContent.length ? newContent : (0, _helpers.makeArray)(this.defaultItem(value, value)));
      }
    },


    selectedContent: (0, _object.computed)("value.[]", "content.[]", function () {
      var _this3 = this;

      var value = (0, _helpers.makeArray)(this.value).map(function (v) {
        return _this3.selectKit.options.castInteger && _this3._isNumeric(v) ? Number(v) : v;
      });

      if (value.length) {
        var content = [];

        value.forEach(function (v) {
          if (_this3.selectKit.valueProperty) {
            var c = (0, _helpers.makeArray)(_this3.content).findBy(_this3.selectKit.valueProperty, v);
            if (c) {
              content.push(c);
            }
          } else {
            if ((0, _helpers.makeArray)(_this3.content).includes(v)) {
              content.push(v);
            }
          }
        });

        return this.selectKit.modifySelection(content || []);
      } else {
        return this.selectKit.noneItem;
      }
    }),

    _onKeydown: function _onKeydown(event) {
      if (event.keyCode === 8) {
        event.stopPropagation();

        var input = this.getFilterInput();
        if (input && !input.value.length >= 1) {
          var selected = this.element.querySelectorAll(".select-kit-header .choice.select-kit-selected-name");

          if (selected.length) {
            var lastSelected = selected[selected.length - 1];
            if (lastSelected) {
              if (lastSelected.classList.contains("is-highlighted")) {
                this.deselect(this.selectedContent.lastObject);
              } else {
                lastSelected.classList.add("is-highlighted");
              }
            }
          }
        }
      } else {
        var _selected = this.element.querySelectorAll(".select-kit-header .choice.select-kit-selected-name");
        _selected.forEach(function (s) {
          return s.classList.remove("is-highlighted");
        });
      }

      return true;
    },
    handleDeprecations: function handleDeprecations() {
      this._super.apply(this, arguments);

      this._deprecateValues();
    },
    _deprecateValues: function _deprecateValues() {
      if (this.values && !this.value) {
        (0, _deprecated.default)("The `values` property is deprecated for multi-select. Use `value` instead", {
          since: "v2.4.0"
        });

        this.set("value", this.values);
      }
    }
  });
});
define("select-kit/components/multi-select/multi-select-filter", ["exports", "discourse-common/utils/decorators", "select-kit/components/select-kit/select-kit-filter"], function (exports, _decorators, _selectKitFilter) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  var _Ember = Ember,
      isEmpty = _Ember.isEmpty;
  exports.default = _selectKitFilter.default.extend((_dec = (0, _decorators.default)("placeholder", "selectKit.hasSelection"), (_obj = {
    layoutName: "select-kit/templates/components/select-kit/select-kit-filter",
    classNames: ["multi-select-filter"],

    computedPlaceholder: function computedPlaceholder(placeholder, hasSelection) {
      if (hasSelection) return "";
      return isEmpty(placeholder) ? "" : I18n.t(placeholder);
    }
  }, (_applyDecoratedDescriptor(_obj, "computedPlaceholder", [_dec], Object.getOwnPropertyDescriptor(_obj, "computedPlaceholder"), _obj)), _obj)));
});
define("select-kit/components/multi-select/multi-select-header", ["exports", "select-kit/components/select-kit/select-kit-header", "@ember/object", "discourse-common/lib/helpers"], function (exports, _selectKitHeader, _object, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitHeader.default.extend({
    classNames: ["multi-select-header"],
    layoutName: "select-kit/templates/components/multi-select/multi-select-header",

    selectedNames: (0, _object.computed)("selectedContent", function () {
      var _this = this;

      return (0, _helpers.makeArray)(this.selectedContent).map(function (c) {
        return _this.getName(c);
      });
    }),

    selectedValue: (0, _object.computed)("selectedContent", function () {
      var _this2 = this;

      return (0, _helpers.makeArray)(this.selectedContent).map(function (c) {
        if (_this2.getName(c) !== _this2.getName(_this2.selectKit.noneItem)) {
          return _this2.getValue(c);
        }

        return null;
      }).filter(Boolean);
    })
  });
});
define("select-kit/components/multi-select/selected-category", ["exports", "select-kit/components/selected-name", "discourse/helpers/category-link", "@ember/object"], function (exports, _selectedName, _categoryLink, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectedName.default.extend({
    classNames: ["selected-category"],
    layoutName: "select-kit/templates/components/multi-select/selected-category",

    badge: (0, _object.computed)("item", function () {
      return (0, _categoryLink.categoryBadgeHTML)(this.item, {
        allowUncategorized: true,
        link: false
      }).htmlSafe();
    })
  });
});
define("select-kit/components/multi-select/selected-color", ["exports", "select-kit/components/selected-name", "discourse-common/utils/decorators"], function (exports, _selectedName, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _selectedName.default.extend((_dec = (0, _decorators.default)("name"), (_obj = {
    classNames: ["select-kit-selected-color"],

    footerContent: function footerContent(name) {
      return ("<span class=\"color-preview\" style=\"background:#" + name + "\"></span>").htmlSafe();
    }
  }, (_applyDecoratedDescriptor(_obj, "footerContent", [_dec], Object.getOwnPropertyDescriptor(_obj, "footerContent"), _obj)), _obj)));
});
define("select-kit/components/none-category-row", ["exports", "select-kit/components/category-row", "discourse/helpers/category-link", "discourse-common/utils/decorators"], function (exports, _categoryRow, _categoryLink, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _categoryRow.default.extend((_dec = (0, _decorators.default)("category"), (_obj = {
    layoutName: "select-kit/templates/components/category-row",
    classNames: "none category-row",

    badgeForCategory: function badgeForCategory(category) {
      return (0, _categoryLink.categoryBadgeHTML)(category, {
        link: this.categoryLink,
        allowUncategorized: true,
        hideParent: true
      }).htmlSafe();
    }
  }, (_applyDecoratedDescriptor(_obj, "badgeForCategory", [_dec], Object.getOwnPropertyDescriptor(_obj, "badgeForCategory"), _obj)), _obj)));
});
define("select-kit/components/notifications-button", ["exports", "select-kit/components/dropdown-select-box", "discourse/lib/notification-levels", "@ember/object"], function (exports, _dropdownSelectBox, _notificationLevels, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _dropdownSelectBox.default.extend({
    pluginApiIdentifiers: ["notifications-button"],
    classNames: ["notifications-button"],
    content: _notificationLevels.allLevels,
    nameProperty: "key",

    selectKitOptions: {
      autoFilterable: false,
      filterable: false,
      i18nPrefix: "",
      i18nPostfix: ""
    },

    modifyComponentForRow: function modifyComponentForRow() {
      return "notifications-button/notifications-button-row";
    },
    modifySelection: function modifySelection(content) {
      content = content || {};
      var _selectKit$options = this.selectKit.options,
          i18nPrefix = _selectKit$options.i18nPrefix,
          i18nPostfix = _selectKit$options.i18nPostfix;

      (0, _object.setProperties)(content, {
        label: I18n.t(i18nPrefix + "." + this.buttonForValue.key + i18nPostfix + ".title"),
        icon: this.buttonForValue.icon
      });
      return content;
    },


    buttonForValue: (0, _object.computed)("value", function () {
      return (0, _notificationLevels.buttonDetails)(this.value);
    })
  });
});
define("select-kit/components/notifications-button/notifications-button-row", ["exports", "@ember/object/computed", "@ember/object", "select-kit/components/dropdown-select-box/dropdown-select-box-row", "discourse/lib/utilities"], function (exports, _computed, _object, _dropdownSelectBoxRow, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _dropdownSelectBoxRow.default.extend({
    classNames: ["notifications-button-row"],
    i18nPrefix: (0, _computed.readOnly)("selectKit.options.i18nPrefix"),
    i18nPostfix: (0, _computed.readOnly)("selectKit.options.i18nPostfix"),

    label: (0, _object.computed)("_start", function () {
      return (0, _utilities.escapeExpression)(I18n.t(this._start + ".title"));
    }),

    title: (0, _computed.readOnly)("label"),

    icons: (0, _object.computed)("title", "item.icon", function () {
      return [(0, _utilities.escapeExpression)(this.item.icon)];
    }),

    description: (0, _object.computed)("_start", function () {
      if (this.site && this.site.mobileView) {
        return null;
      }

      return (0, _utilities.escapeExpression)(I18n.t(this._start + ".description"));
    }),

    _start: (0, _object.computed)("i18nPrefix", "i18nPostfix", "rowName", function () {
      return this.i18nPrefix + "." + this.rowName + this.i18nPostfix;
    })
  });
});
define("select-kit/components/period-chooser", ["exports", "@ember/object/computed", "select-kit/components/dropdown-select-box"], function (exports, _computed, _dropdownSelectBox) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _dropdownSelectBox.default.extend({
    classNames: ["period-chooser"],
    content: (0, _computed.oneWay)("site.periods"),
    value: (0, _computed.readOnly)("period"),
    isVisible: (0, _computed.readOnly)("showPeriods"),
    valueProperty: null,
    nameProperty: null,

    modifyComponentForRow: function modifyComponentForRow() {
      return "period-chooser/period-chooser-row";
    },


    selectKitOptions: {
      filterable: false,
      autoFilterable: false,
      fullDay: "fullDay",
      headerComponent: "period-chooser/period-chooser-header"
    },

    actions: {
      onChange: function onChange(value) {
        if (this.action) {
          this.action(value);
        } else {
          this.attrs.onChange && this.attrs.onChange(value);
        }
      }
    }
  });
});
define("select-kit/components/period-chooser/period-chooser-header", ["exports", "select-kit/components/dropdown-select-box/dropdown-select-box-header", "discourse-common/utils/decorators"], function (exports, _dropdownSelectBoxHeader, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _dropdownSelectBoxHeader.default.extend((_dec = (0, _decorators.default)("selectKit.isExpanded"), (_obj = {
    layoutName: "select-kit/templates/components/period-chooser/period-chooser-header",
    classNames: ["period-chooser-header"],

    caretIcon: function caretIcon(isExpanded) {
      return isExpanded ? "caret-up" : "caret-down";
    }
  }, (_applyDecoratedDescriptor(_obj, "caretIcon", [_dec], Object.getOwnPropertyDescriptor(_obj, "caretIcon"), _obj)), _obj)));
});
define("select-kit/components/period-chooser/period-chooser-row", ["exports", "select-kit/components/dropdown-select-box/dropdown-select-box-row", "discourse-common/utils/decorators"], function (exports, _dropdownSelectBoxRow, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _dropdownSelectBoxRow.default.extend((_dec = (0, _decorators.default)("rowName"), (_obj = {
    layoutName: "select-kit/templates/components/period-chooser/period-chooser-row",
    classNames: ["period-chooser-row"],

    title: function title(rowName) {
      return I18n.t("filters.top." + (rowName || "this_week")).title;
    }
  }, (_applyDecoratedDescriptor(_obj, "title", [_dec], Object.getOwnPropertyDescriptor(_obj, "title"), _obj)), _obj)));
});
define("select-kit/components/pinned-button", ["exports", "@ember/component", "discourse-common/utils/decorators"], function (exports, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("topic.pinned_globally", "pinned"), _dec2 = (0, _decorators.default)("pinned", "topic.deleted", "topic.unpinned"), (_obj = {
    pluginApiIdentifiers: ["pinned-button"],
    descriptionKey: "help",
    classNames: "pinned-button",
    classNameBindings: ["isHidden"],
    layoutName: "select-kit/templates/components/pinned-button",

    reasonText: function reasonText(pinnedGlobally, pinned) {
      var globally = pinnedGlobally ? "_globally" : "";
      var pinnedKey = pinned ? "pinned" + globally : "unpinned";
      var key = "topic_statuses." + pinnedKey + ".help";
      return I18n.t(key);
    },
    isHidden: function isHidden(pinned, deleted, unpinned) {
      return deleted || !pinned && !unpinned;
    }
  }, (_applyDecoratedDescriptor(_obj, "reasonText", [_dec], Object.getOwnPropertyDescriptor(_obj, "reasonText"), _obj), _applyDecoratedDescriptor(_obj, "isHidden", [_dec2], Object.getOwnPropertyDescriptor(_obj, "isHidden"), _obj)), _obj)));
});
define("select-kit/components/pinned-options", ["exports", "select-kit/components/dropdown-select-box", "discourse-common/lib/icon-library", "@ember/object"], function (exports, _dropdownSelectBox, _iconLibrary, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  var UNPINNED = "unpinned";
  var PINNED = "pinned";

  exports.default = _dropdownSelectBox.default.extend((_obj = {
    pluginApiIdentifiers: ["pinned-options"],
    classNames: ["pinned-options"],

    modifySelection: function modifySelection(content) {
      var pinnedGlobally = this.get("topic.pinned_globally");
      var pinned = this.value;
      var globally = pinnedGlobally ? "_globally" : "";
      var state = pinned ? "pinned" + globally : UNPINNED;
      var title = I18n.t("topic_statuses." + state + ".title");

      content.label = ("<span>" + title + "</span>" + (0, _iconLibrary.iconHTML)("caret-down")).htmlSafe();
      content.title = title;
      content.name = state;
      content.icon = "thumbtack" + (state === UNPINNED ? " unpinned" : "");
      return content;
    },


    content: (0, _object.computed)(function () {
      var globally = this.topic.pinned_globally ? "_globally" : "";

      return [{
        id: PINNED,
        name: I18n.t("topic_statuses.pinned" + globally + ".title"),
        description: this.site.mobileView ? null : I18n.t("topic_statuses.pinned" + globally + ".help"),
        icon: "thumbtack"
      }, {
        id: UNPINNED,
        name: I18n.t("topic_statuses.unpinned.title"),
        icon: "thumbtack unpinned",
        description: this.site.mobileView ? null : I18n.t("topic_statuses.unpinned.help")
      }];
    }),

    onChange: function onChange(value) {
      var topic = this.topic;

      if (value === UNPINNED) {
        return topic.clearPin();
      } else {
        return topic.rePin();
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "onChange", [_object.action], Object.getOwnPropertyDescriptor(_obj, "onChange"), _obj)), _obj));
});
define("select-kit/components/search-advanced-category-chooser", ["exports", "select-kit/components/category-chooser"], function (exports, _categoryChooser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _categoryChooser.default.extend({
    pluginApiIdentifiers: ["search-advanced-category-chooser"],
    classNames: ["search-advanced-category-chooser"],

    selectKitOptions: {
      allowUncategorized: true,
      clearable: true,
      none: "category.all",
      displayCategoryDescription: false,
      permissionType: null
    }
  });
});
define("select-kit/components/select-kit", ["exports", "@ember/object", "@ember/component", "discourse-common/lib/deprecated", "discourse-common/lib/helpers", "select-kit/mixins/utils", "select-kit/mixins/plugin-api", "@ember/object/mixin", "@ember/utils", "@ember/runloop", "rsvp"], function (exports, _object, _component, _deprecated2, _helpers, _utils, _pluginApi, _mixin, _utils2, _runloop, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.ERRORS_COLLECTION = exports.MAIN_COLLECTION = undefined;

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  var MAIN_COLLECTION = exports.MAIN_COLLECTION = "MAIN_COLLECTION";
  var ERRORS_COLLECTION = exports.ERRORS_COLLECTION = "ERRORS_COLLECTION";

  var EMPTY_OBJECT = Object.freeze({});
  var SELECT_KIT_OPTIONS = _mixin.default.create({
    mergedProperties: ["selectKitOptions"],
    selectKitOptions: EMPTY_OBJECT
  });

  exports.default = _component.default.extend(SELECT_KIT_OPTIONS, _pluginApi.default, _utils.default, {
    pluginApiIdentifiers: ["select-kit"],
    layoutName: "select-kit/templates/components/select-kit",
    classNames: ["select-kit"],
    classNameBindings: ["selectKit.isLoading:is-loading", "selectKit.isExpanded:is-expanded", "selectKit.isDisabled:is-disabled", "selectKit.isHidden:is-hidden", "selectKit.hasSelection:has-selection"],
    tabindex: 0,
    content: null,
    value: null,
    selectKit: null,
    mainCollection: null,
    errorsCollection: null,
    options: null,
    valueProperty: "id",
    nameProperty: "name",
    singleSelect: false,
    multiSelect: false,

    init: function init() {
      this._super.apply(this, arguments);

      this._searchPromise = null;

      this.set("errorsCollection", []);
      this._collections = [ERRORS_COLLECTION, MAIN_COLLECTION];

      !this.options && this.set("options", _object.default.create({}));

      this.handleDeprecations();

      this.set("selectKit", _object.default.create({
        uniqueID: Ember.guidFor(this),
        valueProperty: this.valueProperty,
        nameProperty: this.nameProperty,
        options: _object.default.create(),

        isLoading: false,
        isHidden: false,
        isExpanded: false,
        isFilterExpanded: false,
        hasSelection: false,
        hasNoContent: true,
        highlighted: null,
        noneItem: null,
        newItem: null,
        filter: null,

        modifyContent: (0, _runloop.bind)(this, this._modifyContentWrapper),
        modifySelection: (0, _runloop.bind)(this, this._modifySelectionWrapper),
        modifyComponentForRow: (0, _runloop.bind)(this, this._modifyComponentForRowWrapper),
        modifyContentForCollection: (0, _runloop.bind)(this, this._modifyContentForCollectionWrapper),
        modifyComponentForCollection: (0, _runloop.bind)(this, this._modifyComponentForCollectionWrapper),

        toggle: (0, _runloop.bind)(this, this._toggle),
        close: (0, _runloop.bind)(this, this._close),
        open: (0, _runloop.bind)(this, this._open),
        highlightNext: (0, _runloop.bind)(this, this._highlightNext),
        highlightPrevious: (0, _runloop.bind)(this, this._highlightPrevious),
        change: (0, _runloop.bind)(this, this._onChangeWrapper),
        select: (0, _runloop.bind)(this, this.select),
        deselect: (0, _runloop.bind)(this, this.deselect),

        onOpen: (0, _runloop.bind)(this, this._onOpenWrapper),
        onClose: (0, _runloop.bind)(this, this._onCloseWrapper),
        onInput: (0, _runloop.bind)(this, this._onInput),
        onClearSelection: (0, _runloop.bind)(this, this._onClearSelection),
        onHover: (0, _runloop.bind)(this, this._onHover),
        onKeydown: (0, _runloop.bind)(this, this._onKeydownWrapper)
      }));
    },
    _modifyComponentForRowWrapper: function _modifyComponentForRowWrapper(collection, item) {
      var component = this.modifyComponentForRow(collection, item);
      return component || "select-kit/select-kit-row";
    },
    modifyComponentForRow: function modifyComponentForRow() {},
    _modifyContentForCollectionWrapper: function _modifyContentForCollectionWrapper(identifier) {
      var collection = this.modifyContentForCollection(identifier);

      if (!collection) {
        switch (identifier) {
          case ERRORS_COLLECTION:
            collection = this.errorsCollection;
            break;
          default:
            collection = this.mainCollection;
            break;
        }
      }

      return collection;
    },
    modifyContentForCollection: function modifyContentForCollection() {},
    _modifyComponentForCollectionWrapper: function _modifyComponentForCollectionWrapper(identifier) {
      var component = this.modifyComponentForCollection(identifier);

      if (!component) {
        switch (identifier) {
          case ERRORS_COLLECTION:
            component = "select-kit/errors-collection";
            break;
          default:
            component = "select-kit/select-kit-collection";
            break;
        }
      }

      return component;
    },
    modifyComponentForCollection: function modifyComponentForCollection() {},
    didUpdateAttrs: function didUpdateAttrs() {
      this._super.apply(this, arguments);

      this.set("selectKit.isDisabled", this.isDisabled || false);

      this.handleDeprecations();
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      this._searchPromise && (0, _runloop.cancel)(this._searchPromise);

      if (this.popper) {
        this.popper.destroy();
        this.popper = null;
      }
    },
    didReceiveAttrs: function didReceiveAttrs() {
      var _this = this;

      this._super.apply(this, arguments);

      var computedOptions = {};
      Object.keys(this.selectKitOptions).forEach(function (key) {
        var value = _this.selectKitOptions[key];

        if (key === "componentForRow" || key === "contentForCollection" || key === "componentForCollection") {
          if (typeof value === "string") {
            computedOptions[key] = function () {
              return value;
            };
          } else {
            computedOptions[key] = (0, _runloop.bind)(_this, value);
          }

          return;
        }

        if (typeof value === "string" && value.indexOf(".") < 0 && value in _this) {
          var computedValue = (0, _object.get)(_this, value);
          if (typeof computedValue !== "function") {
            computedOptions[key] = (0, _object.get)(_this, value);
            return;
          }
        }
        computedOptions[key] = value;
      });
      this.selectKit.options.setProperties(Object.assign(computedOptions, this.options || {}));

      this.selectKit.setProperties({
        hasSelection: !(0, _utils2.isEmpty)(this.value),
        noneItem: this._modifyNoSelectionWrapper(),
        newItem: null
      });

      if (this.selectKit.isExpanded) {
        if (this._searchPromise) {
          (0, _runloop.cancel)(this._searchPromise);
        }
        this._searchPromise = this._searchWrapper(this.selectKit.filter);
      }

      if (this.computeContent) {
        this._deprecated("The `computeContent()` function is deprecated pass a `content` attribute or define a `content` computed property in your component.");

        this.set("content", this.computeContent());
      }
    },


    selectKitOptions: {
      showFullTitle: true,
      none: null,
      translatedNone: null,
      filterable: false,
      autoFilterable: "autoFilterable",
      filterIcon: "search",
      filterPlaceholder: "filterPlaceholder",
      translatedfilterPlaceholder: null,
      icon: null,
      icons: null,
      maximum: null,
      maximumLabel: null,
      minimum: null,
      minimumLabel: null,
      autoInsertNoneItem: true,
      clearOnClick: false,
      closeOnChange: true,
      limitMatches: null,
      placement: "bottom-start",
      filterComponent: "select-kit/select-kit-filter",
      selectedNameComponent: "selected-name",
      castInteger: false
    },

    autoFilterable: (0, _object.computed)("content.[]", "selectKit.filter", function () {
      return this.selectKit.filter && this.options.autoFilterable && this.content.length > 15;
    }),

    filterPlaceholder: (0, _object.computed)("options.allowAny", function () {
      return this.options.allowAny ? "select_kit.filter_placeholder_with_any" : "select_kit.filter_placeholder";
    }),

    collections: (0, _object.computed)("selectedContent.[]", "mainCollection.[]", "errorsCollection.[]", function () {
      var _this2 = this;

      return this._collections.map(function (identifier) {
        return {
          identifier: identifier,
          content: _this2.selectKit.modifyContentForCollection(identifier)
        };
      });
    }),

    createContentFromInput: function createContentFromInput(input) {
      return input;
    },
    validateCreate: function validateCreate(filter, content) {
      var _this3 = this;

      this.clearErrors();

      return filter.length > 0 && content && !content.map(function (c) {
        return _this3.getValue(c);
      }).includes(filter) && !(0, _helpers.makeArray)(this.value).includes(filter);
    },
    validateSelect: function validateSelect() {
      this.clearErrors();

      var selection = (0, _helpers.makeArray)(this.value);

      var maximum = this.selectKit.options.maximum;
      if (maximum && selection.length >= maximum) {
        var key = this.selectKit.options.maximumLabel || "select_kit.max_content_reached";
        this.addError(I18n.t(key, { count: maximum }));
        return false;
      }

      return true;
    },
    addError: function addError(error) {
      var _this4 = this;

      this.errorsCollection.pushObject(error);

      this._safeAfterRender(function () {
        return _this4.popper && _this4.popper.update();
      });
    },
    clearErrors: function clearErrors() {
      if (!this.element || this.isDestroyed || this.isDestroying) {
        return;
      }

      this.set("errorsCollection", []);
    },
    prependCollection: function prependCollection(identifier) {
      this._collections.unshift(identifier);
    },
    appendCollection: function appendCollection(identifier) {
      this._collections.push(identifier);
    },
    insertCollectionAtIndex: function insertCollectionAtIndex(identifier, index) {
      this._collections.insertAt(index, identifier);
    },
    insertBeforeCollection: function insertBeforeCollection(identifier, insertedIdentifier) {
      var index = this._collections.indexOf(identifier);
      this.insertCollectionAtIndex(insertedIdentifier, index - 1);
    },
    insertAfterCollection: function insertAfterCollection(identifier, insertedIdentifier) {
      var index = this._collections.indexOf(identifier);
      this.insertCollectionAtIndex(insertedIdentifier, index + 1);
    },
    _onInput: function _onInput(event) {
      this.popper && this.popper.update();

      if (this._searchPromise) {
        (0, _runloop.cancel)(this._searchPromise);
      }

      var input = (0, _pluginApi.applyOnInputPluginApiCallbacks)(this.pluginApiIdentifiers, event, this.selectKit);

      if (input) {
        (0, _runloop.debounce)(this, this._debouncedInput, event.target.value, 200);
      }
    },
    _debouncedInput: function _debouncedInput(filter) {
      this.selectKit.setProperties({ filter: filter, isLoading: true });
      this._searchPromise = this._searchWrapper(filter);
    },
    _onChangeWrapper: function _onChangeWrapper(value, items) {
      var _this5 = this;

      this.selectKit.set("filter", null);

      return new _rsvp.Promise(function (resolve) {
        if (!_this5.selectKit.valueProperty && _this5.selectKit.noneItem === value) {
          value = null;
          items = [];
        }

        value = (0, _helpers.makeArray)(value);
        items = (0, _helpers.makeArray)(items);

        if (_this5.multiSelect) {
          items = items.filter(function (i) {
            return i !== _this5.newItem && i !== _this5.noneItem && _this5.getValue(i) !== null;
          });

          if (_this5.selectKit.options.maximum === 1) {
            value = value.slice(0, 1);
            items = items.slice(0, 1);
          }
        }

        if (_this5.singleSelect) {
          value = (0, _utils2.isPresent)(value.firstObject) ? value.firstObject : null;
          items = (0, _utils2.isPresent)(items.firstObject) ? items.firstObject : null;
        }

        _this5._boundaryActionHandler("onChange", value, items);
        resolve(items);
      }).finally(function () {
        if (!_this5.isDestroying && !_this5.isDestroyed) {
          if (_this5.selectKit.options.closeOnChange) {
            _this5.selectKit.close();
          }

          _this5._safeAfterRender(function () {
            _this5._focusFilter();
            _this5.popper && _this5.popper.update();
          });
        }
      });
    },
    _modifyContentWrapper: function _modifyContentWrapper(content) {
      content = this.modifyContent(content);

      return (0, _pluginApi.applyContentPluginApiCallbacks)(this.pluginApiIdentifiers, content, this.selectKit);
    },
    modifyContent: function modifyContent(content) {
      return content;
    },
    _modifyNoSelectionWrapper: function _modifyNoSelectionWrapper() {
      var none = this.modifyNoSelection();

      return (0, _pluginApi.applyModifyNoSelectionPluginApiCallbacks)(this.pluginApiIdentifiers, none, this.selectKit);
    },
    modifyNoSelection: function modifyNoSelection() {
      if (this.selectKit.options.translatedNone) {
        return this.defaultItem(null, this.selectKit.options.translatedNone);
      }

      var none = this.selectKit.options.none;
      if ((0, _utils2.isNone)(none) && !this.selectKit.options.allowAny) return null;

      if ((0, _utils2.isNone)(none) && this.selectKit.options.allowAny && !this.selectKit.isExpanded) {
        return this.defaultItem(null, I18n.t("select_kit.filter_placeholder_with_any"));
      }

      var item = void 0;
      switch (typeof none === "undefined" ? "undefined" : _typeof(none)) {
        case "string":
          item = this.defaultItem(null, I18n.t(none));
          break;
        default:
          item = none;
      }

      return item;
    },
    _modifySelectionWrapper: function _modifySelectionWrapper(item) {
      (0, _pluginApi.applyHeaderContentPluginApiCallbacks)(this.pluginApiIdentifiers, item, this.selectKit);

      return this.modifySelection(item);
    },
    modifySelection: function modifySelection(item) {
      return item;
    },
    _onKeydownWrapper: function _onKeydownWrapper(event) {
      return this._boundaryActionHandler("onKeydown", event);
    },
    _onHover: function _onHover(value, item) {
      (0, _runloop.throttle)(this, this._highlight, item, 25, true);
    },
    _highlight: function _highlight(item) {
      this.selectKit.set("highlighted", item);
    },
    _boundaryActionHandler: function _boundaryActionHandler(actionName) {
      if (!this.element || this.isDestroying || this.isDestroyed) {
        return;
      }

      var boundaryAction = true;

      var privateActionName = "_" + actionName;
      var privateAction = (0, _object.get)(this, privateActionName);

      for (var _len = arguments.length, params = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        params[_key - 1] = arguments[_key];
      }

      if (privateAction) {
        boundaryAction = privateAction.call.apply(privateAction, [this].concat(params));
      }

      if (this.actions) {
        var componentAction = (0, _object.get)(this.actions, actionName);
        if (boundaryAction && componentAction) {
          boundaryAction = componentAction.call.apply(componentAction, [this].concat(params));
        }
      }

      var action = (0, _object.get)(this, actionName);
      if (boundaryAction && action) {
        boundaryAction = action.call.apply(action, [this].concat(params));
      }

      return boundaryAction;
    },
    deselect: function deselect() {
      this.clearErrors();
      this.selectKit.change(null, null);
    },
    search: function search(filter) {
      var _this6 = this;

      var content = this.content || [];
      if (filter) {
        filter = this._normalize(filter);
        content = content.filter(function (c) {
          var name = _this6._normalize(_this6.getName(c));
          return name && name.indexOf(filter) > -1;
        });
      }
      return content;
    },
    _searchWrapper: function _searchWrapper(filter) {
      var _this7 = this;

      this.clearErrors();
      this.setProperties({ mainCollection: [], "selectKit.isLoading": true });
      this._safeAfterRender(function () {
        return _this7.popper && _this7.popper.update();
      });

      var content = [];

      return _rsvp.Promise.resolve(this.search(filter)).then(function (result) {
        content = content.concat((0, _helpers.makeArray)(result));
        content = _this7.selectKit.modifyContent(content).filter(Boolean);

        if (_this7.selectKit.valueProperty) {
          content = content.uniqBy(_this7.selectKit.valueProperty);
        } else {
          content = content.uniq();
        }

        if (_this7.selectKit.options.limitMatches) {
          content = content.slice(0, _this7.selectKit.options.limitMatches);
        }

        var noneItem = _this7.selectKit.noneItem;
        if (_this7.selectKit.options.allowAny && filter && _this7.getName(noneItem) !== filter) {
          filter = _this7.createContentFromInput(filter);
          if (_this7.validateCreate(filter, content)) {
            _this7.selectKit.set("newItem", _this7.defaultItem(filter, filter));
            content.unshift(_this7.selectKit.newItem);
          }
        }

        var hasNoContent = (0, _utils2.isEmpty)(content);

        if (_this7.selectKit.hasSelection && noneItem && _this7.selectKit.options.autoInsertNoneItem) {
          content.unshift(noneItem);
        }

        _this7.set("mainCollection", content);

        _this7.selectKit.setProperties({
          highlighted: _this7.singleSelect && _this7.value ? _this7.itemForValue(_this7.value, _this7.mainCollection) : _this7.mainCollection.firstObject,
          isLoading: false,
          hasNoContent: hasNoContent
        });

        _this7._safeAfterRender(function () {
          _this7.popper && _this7.popper.update();
          _this7._focusFilter();
        });
      });
    },
    _safeAfterRender: function _safeAfterRender(fn) {
      var _this8 = this;

      (0, _runloop.next)(function () {
        (0, _runloop.schedule)("afterRender", function () {
          if (!_this8.element || _this8.isDestroyed || _this8.isDestroying) {
            return;
          }

          fn();
        });
      });
    },
    _scrollToRow: function _scrollToRow(rowItem) {
      var value = this.getValue(rowItem);
      var rowContainer = this.element.querySelector(".select-kit-row[data-value=\"" + value + "\"]");

      if (rowContainer) {
        var $collection = $(this.element.querySelector(".select-kit-collection"));

        var collectionTop = $collection.position().top;

        $collection.scrollTop($collection.scrollTop() + $(rowContainer).position().top - collectionTop);
      }
    },
    _highlightNext: function _highlightNext() {
      var highlightedIndex = this.mainCollection.indexOf(this.selectKit.highlighted);
      var newHighlightedIndex = highlightedIndex;
      var count = this.mainCollection.length;

      if (highlightedIndex < count - 1) {
        newHighlightedIndex = highlightedIndex + 1;
      } else {
        newHighlightedIndex = 0;
      }

      var highlighted = this.mainCollection.objectAt(newHighlightedIndex);
      if (highlighted) {
        this._scrollToRow(highlighted);
        this.set("selectKit.highlighted", highlighted);
      }
    },
    _highlightPrevious: function _highlightPrevious() {
      var highlightedIndex = this.mainCollection.indexOf(this.selectKit.highlighted);
      var newHighlightedIndex = highlightedIndex;
      var count = this.mainCollection.length;

      if (highlightedIndex > 0) {
        newHighlightedIndex = highlightedIndex - 1;
      } else {
        newHighlightedIndex = count - 1;
      }

      var highlighted = this.mainCollection.objectAt(newHighlightedIndex);
      if (highlighted) {
        this._scrollToRow(highlighted);
        this.set("selectKit.highlighted", highlighted);
      }
    },
    select: function select(value, item) {
      if (!(0, _utils2.isPresent)(value)) {
        if (!this.validateSelect(this.selectKit.highlighted)) {
          return;
        }

        this.selectKit.change(this.getValue(this.selectKit.highlighted), this.selectKit.highlighted);
      } else {
        var existingItem = this.findValue(this.mainCollection, item);
        if (existingItem) {
          if (!this.validateSelect(item)) {
            return;
          }
        }

        this.selectKit.change(value, item || this.defaultItem(value, value));
      }
    },
    _onClearSelection: function _onClearSelection() {
      this.selectKit.change(null, null);
    },
    _onOpenWrapper: function _onOpenWrapper(event) {
      var boundaryAction = this._boundaryActionHandler("onOpen");

      boundaryAction = (0, _pluginApi.applyOnOpenPluginApiCallbacks)(this.pluginApiIdentifiers, this.selectKit, event);

      return boundaryAction;
    },
    _onCloseWrapper: function _onCloseWrapper(event) {
      this._focusFilter(this.multiSelect);

      this.set("selectKit.highlighted", null);

      var boundaryAction = this._boundaryActionHandler("onClose");

      boundaryAction = (0, _pluginApi.applyOnClosePluginApiCallbacks)(this.pluginApiIdentifiers, this.selectKit, event);

      return boundaryAction;
    },
    _toggle: function _toggle(event) {
      if (this.selectKit.isExpanded) {
        this._close(event);
      } else {
        this._open(event);
      }
    },
    _close: function _close(event) {
      if (!this.selectKit.isExpanded) {
        return;
      }

      this.clearErrors();

      if (!this.selectKit.onClose(event)) {
        return;
      }

      this.selectKit.setProperties({
        isExpanded: false,
        filter: null
      });
    },
    _open: function _open(event) {
      var _this9 = this;

      if (this.selectKit.isExpanded) {
        return;
      }

      this.clearErrors();

      if (!this.selectKit.onOpen(event)) {
        return;
      }

      if (!this.popper) {
        var anchor = document.querySelector("[data-select-kit-id=" + this.selectKit.uniqueID + "-header]");
        var popper = document.querySelector("[data-select-kit-id=" + this.selectKit.uniqueID + "-body]");

        if (this.site && !this.site.mobileView && popper.offsetWidth < anchor.offsetWidth) {
          popper.style.minWidth = anchor.offsetWidth + "px";
        }

        var inModal = $(this.element).parents("#discourse-modal").length;

        if (this.site && !this.site.mobileView && inModal) {
          popper.style.width = anchor.offsetWidth + "px";
        }

        /* global Popper:true */
        this.popper = Popper.createPopper(anchor, popper, {
          eventsEnabled: false,
          strategy: inModal ? "fixed" : "absolute",
          placement: this.selectKit.options.placement,
          modifiers: [{
            name: "positionWrapper",
            phase: "afterWrite",
            enabled: true,
            fn: function fn(data) {
              var wrapper = _this9.element.querySelector(".select-kit-wrapper");
              if (wrapper) {
                var height = _this9.element.offsetHeight;

                var body = _this9.element.querySelector(".select-kit-body");
                if (body) {
                  height += body.offsetHeight;
                }

                var popperElement = data.state.elements.popper;
                if (popperElement && popperElement.getAttribute("data-popper-placement") === "top-start") {
                  _this9.element.classList.remove("is-under");
                  _this9.element.classList.add("is-above");
                } else {
                  _this9.element.classList.remove("is-above");
                  _this9.element.classList.add("is-under");
                }

                wrapper.style.width = _this9.element.offsetWidth + "px";
                wrapper.style.height = height + "px";
              }
            }
          }]
        });
      }

      this.selectKit.setProperties({
        isExpanded: true,
        isFilterExpanded: this.selectKit.options.filterable || this.selectKit.options.allowAny
      });

      if (this._searchPromise) {
        (0, _runloop.cancel)(this._searchPromise);
      }
      this._searchPromise = this._searchWrapper();

      this._safeAfterRender(function () {
        _this9._focusFilter();
        _this9.popper && _this9.popper.update();
      });
    },
    _focusFilter: function _focusFilter() {
      var _this10 = this;

      var forceHeader = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      this._safeAfterRender(function () {
        var input = _this10.getFilterInput();
        if (!forceHeader && input) {
          input.focus({ preventScroll: true });
        } else {
          var headerContainer = _this10.getHeader();
          headerContainer && headerContainer.focus({ preventScroll: true });
        }
      });
    },
    getFilterInput: function getFilterInput() {
      return document.querySelector("[data-select-kit-id=" + this.selectKit.uniqueID + "-filter] input");
    },
    getHeader: function getHeader() {
      return document.querySelector("[data-select-kit-id=" + this.selectKit.uniqueID + "-header]");
    },
    handleDeprecations: function handleDeprecations() {
      this._deprecateValueAttribute();
      this._deprecateMutations();
      this._deprecateOptions();
    },
    _deprecated: function _deprecated(text) {
      var discourseSetup = document.getElementById("data-discourse-setup");
      if (discourseSetup && discourseSetup.getAttribute("data-environment") === "development") {
        (0, _deprecated2.default)(text, { since: "v2.4.0" });
      }
    },
    _deprecateValueAttribute: function _deprecateValueAttribute() {
      if (this.valueAttribute || this.valueAttribute === null) {
        this._deprecated("The `valueAttribute` is deprecated. Use `valueProperty` instead");

        this.set("valueProperty", this.valueAttribute);
      }
    },
    _deprecateMutations: function _deprecateMutations() {
      var _this11 = this;

      this.actions = this.actions || {};
      this.attrs = this.attrs || {};

      if (!this.attrs.onChange && !this.actions.onChange) {
        this._deprecated("Implicit mutation has been deprecated, please use `onChange` handler");

        this.actions.onChange = this.attrs.onSelect || this.actions.onSelect || function (value) {
          return _this11.set("value", value);
        };
      }
    },
    _deprecateOptions: function _deprecateOptions() {
      var _this12 = this;

      var migrations = {
        headerIcon: "icon",
        onExpand: "onOpen",
        onCollapse: "onClose",
        allowAny: "options.allowAny",
        allowCreate: "options.allowAny",
        filterable: "options.filterable",
        excludeCategoryId: "options.excludeCategoryId",
        scopedCategoryId: "options.scopedCategoryId",
        allowUncategorized: "options.allowUncategorized",
        none: "options.none",
        rootNone: "options.none",
        isDisabled: "options.isDisabled",
        rootNoneLabel: "options.none",
        showFullTitle: "options.showFullTitle",
        title: "options.translatedNone",
        maximum: "options.maximum",
        minimum: "options.minimum",
        i18nPostfix: "options.i18nPostfix",
        i18nPrefix: "options.i18nPrefix",
        castInteger: "options.castInteger"
      };

      Object.keys(migrations).forEach(function (from) {
        var to = migrations[from];
        if (_this12.get(from) && !_this12.get(to)) {
          _this12._deprecated("The `" + from + "` attribute is deprecated. Use `" + to + "` instead");

          _this12.set(to, _this12.get(from));
        }
      });
    }
  });
});
define("select-kit/components/select-kit/errors-collection", ["exports", "@ember/component", "@ember/object/computed"], function (exports, _component, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    layoutName: "select-kit/templates/components/select-kit/errors-collection",
    classNames: ["select-kit-errors-collection"],
    tagName: "ul",
    isVisible: (0, _computed.notEmpty)("collection.content")
  });
});
define("select-kit/components/select-kit/select-kit-body", ["exports", "@ember/component", "@ember/object", "@ember/runloop"], function (exports, _component, _object, _runloop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    layoutName: "select-kit/templates/components/select-kit/select-kit-body",
    classNames: ["select-kit-body"],
    attributeBindings: ["selectKitId:data-select-kit-id"],
    selectKitId: (0, _object.computed)("selectKit.uniqueID", function () {
      return this.selectKit.uniqueID + "-body";
    }),
    rootEventType: "click",

    init: function init() {
      this._super.apply(this, arguments);

      this.handleRootMouseDownHandler = (0, _runloop.bind)(this, this.handleRootMouseDown);
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      document.addEventListener(this.rootEventType, this.handleRootMouseDownHandler, true);
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      document.removeEventListener(this.rootEventType, this.handleRootMouseDownHandler, true);
    },
    handleRootMouseDown: function handleRootMouseDown(event) {
      if (!this.selectKit.isExpanded) {
        return;
      }

      var headerElement = document.querySelector("[data-select-kit-id=" + this.selectKit.uniqueID + "-header]");

      if (headerElement && headerElement.contains(event.target)) {
        return;
      }

      if (this.element.contains(event.target)) {
        return;
      }

      this.selectKit.close(event);
    }
  });
});
define("select-kit/components/select-kit/select-kit-collection", ["exports", "@ember/component", "@ember/object/computed"], function (exports, _component, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    layoutName: "select-kit/templates/components/select-kit/select-kit-collection",
    classNames: ["select-kit-collection"],
    tagName: "ul",
    isVisible: (0, _computed.notEmpty)("collection")
  });
});
define("select-kit/components/select-kit/select-kit-create-row", ["exports", "select-kit/components/select-kit/select-kit-row"], function (exports, _selectKitRow) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitRow.default.extend({
    layoutName: "select-kit/templates/components/select-kit/select-kit-row",
    classNames: "create"
  });
});
define("select-kit/components/select-kit/select-kit-filter", ["exports", "@ember/component", "discourse-common/utils/decorators", "@ember/utils", "@ember/object", "@ember/object/computed", "select-kit/mixins/utils"], function (exports, _component, _decorators, _utils, _object, _computed, _utils2) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend(_utils2.default, (_dec = (0, _decorators.default)("selectKit.options.filterPlaceholder", "selectKit.options.translatedfilterPlaceholder"), (_obj = {
    layoutName: "select-kit/templates/components/select-kit/select-kit-filter",
    classNames: ["select-kit-filter"],
    classNameBindings: ["isExpanded:is-expanded"],
    attributeBindings: ["selectKitId:data-select-kit-id"],
    selectKitId: (0, _object.computed)("selectKit.uniqueID", function () {
      return this.selectKit.uniqueID + "-filter";
    }),

    isHidden: (0, _object.computed)("selectKit.options.{filterable,allowAny,autoFilterable}", "content.[]", function () {
      return !this.selectKit.options.filterable && !this.selectKit.options.allowAny && !this.selectKit.options.autoFilterable;
    }),

    isExpanded: (0, _computed.not)("isHidden"),

    placeholder: function placeholder(_placeholder, translatedPlaceholder) {
      return (0, _utils.isEmpty)(_placeholder) ? translatedPlaceholder ? translatedPlaceholder : "" : I18n.t(_placeholder);
    },


    actions: {
      onInput: function onInput(event) {
        this.selectKit.onInput(event);
        return true;
      },
      onKeydown: function onKeydown(event) {
        if (!this.selectKit.onKeydown(event)) {
          return false;
        }

        // Do nothing for left/right arrow
        if (event.keyCode === 37 || event.keyCode === 39) {
          return true;
        }

        // Up arrow
        if (event.keyCode === 38) {
          this.selectKit.highlightPrevious();
          return false;
        }

        // Down arrow
        if (event.keyCode === 40) {
          this.selectKit.highlightNext();
          return false;
        }

        // Escape
        if (event.keyCode === 27) {
          this.selectKit.close(event);
          return false;
        }

        // Enter
        if (event.keyCode === 13 && this.selectKit.highlighted) {
          this.selectKit.select(this.getValue(this.selectKit.highlighted), this.selectKit.highlighted);
          return false;
        }

        if (event.keyCode === 13 && !this.selectKit.highlighted) {
          this.element.querySelector("input").focus();
          return false;
        }

        // Tab
        if (event.keyCode === 9) {
          if (this.selectKit.highlighted && this.selectKit.isExpanded) {
            this.selectKit.select(this.getValue(this.selectKit.highlighted), this.selectKit.highlighted);
          }
          this.selectKit.close(event);
          return;
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "placeholder", [_dec], Object.getOwnPropertyDescriptor(_obj, "placeholder"), _obj)), _obj)));
});
define("select-kit/components/select-kit/select-kit-header", ["exports", "@ember/object", "@ember/component", "select-kit/mixins/utils", "@ember/runloop", "discourse-common/lib/helpers"], function (exports, _object, _component, _utils, _runloop, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend(_utils.default, {
    eventType: "click",

    click: function click(event) {
      if (typeof document === "undefined") return;
      if (this.isDestroyed || !this.selectKit || this.selectKit.isDisabled) return;
      if (this.eventType !== "click" || event.button !== 0) return;
      this.selectKit.toggle(event);
      return false;
    },


    classNames: ["select-kit-header"],
    classNameBindings: ["isFocused"],
    attributeBindings: ["tabindex", "ariaOwns:aria-owns", "ariaHasPopup:aria-haspopup", "ariaIsExpanded:aria-expanded", "selectKitId:data-select-kit-id", "roleButton:role", "selectedValue:data-value", "selectedNames:data-name", "serializedNames:title"],

    selectedValue: (0, _object.computed)("value", function () {
      return this.value === this.getValue(this.selectKit.noneItem) ? null : (0, _helpers.makeArray)(this.value).join(",");
    }),

    selectedNames: (0, _object.computed)("selectedContent.[]", function () {
      var _this = this;

      return (0, _helpers.makeArray)(this.selectedContent).map(function (s) {
        return _this.getName(s);
      }).join(",");
    }),

    icons: (0, _object.computed)("selectKit.options.{icon,icons}", function () {
      var icon = (0, _helpers.makeArray)(this.selectKit.options.icon);
      var icons = (0, _helpers.makeArray)(this.selectKit.options.icons);
      return icon.concat(icons).filter(Boolean);
    }),

    selectKitId: (0, _object.computed)("selectKit.uniqueID", function () {
      return this.selectKit.uniqueID + "-header";
    }),

    ariaIsExpanded: (0, _object.computed)("selectKit.isExpanded", function () {
      return this.selectKit.isExpanded ? "true" : "false";
    }),

    ariaHasPopup: true,

    ariaOwns: (0, _object.computed)("selectKit.uniqueID", function () {
      return "[data-select-kit-id=" + this.selectKit.uniqueID + "-body]";
    }),

    roleButton: "button",

    tabindex: 0,

    keyUp: function keyUp(event) {
      if (event.keyCode === 32) {
        event.preventDefault();
      }
    },
    keyDown: function keyDown(event) {
      var _this2 = this;

      if (this.selectKit.isDisabled) {
        return;
      }

      if (!this.selectKit.onKeydown(event)) {
        return false;
      }

      var onlyShiftKey = event.shiftKey && event.keyCode === 16;
      if (event.metaKey || onlyShiftKey) {
        return;
      }

      if (event.keyCode === 13) {
        // Enter
        if (this.selectKit.isExpanded) {
          if (this.selectKit.highlighted) {
            this.selectKit.select(this.getValue(this.selectKit.highlighted), this.selectKit.highlighted);
            return false;
          }
        } else {
          this.selectKit.close(event);
        }
      } else if (event.keyCode === 38) {
        // Up arrow
        if (this.selectKit.isExpanded) {
          this.selectKit.highlightPrevious();
        } else {
          this.selectKit.open(event);
        }
        return false;
      } else if (event.keyCode === 40) {
        // Down arrow
        if (this.selectKit.isExpanded) {
          this.selectKit.highlightNext();
        } else {
          this.selectKit.open(event);
        }
        return false;
      } else if (event.keyCode === 37 || event.keyCode === 39) {
        // Do nothing for left/right arrow
        return true;
      } else if (event.keyCode === 32) {
        // Space
        event.preventDefault(); // prevents the space to trigger a scroll page-next
        this.selectKit.toggle(event);
      } else if (event.keyCode === 27) {
        // Escape
        this.selectKit.close(event);
      } else if (event.keyCode === 8) {
        // Backspace
        this._focusFilterInput();
      } else if (event.keyCode === 9) {
        // Tab
        if (this.selectKit.highlighted && this.selectKit.isExpanded) {
          this.selectKit.select(this.getValue(this.selectKit.highlighted), this.selectKit.highlighted);
        }
        this.selectKit.close(event);
      } else if (this.selectKit.options.filterable || this.selectKit.options.autoFilterable || this.selectKit.options.allowAny) {
        if (this.selectKit.isExpanded) {
          this._focusFilterInput();
        } else {
          this.selectKit.open(event);
          (0, _runloop.schedule)("afterRender", function () {
            return _this2._focusFilterInput();
          });
        }
      } else {
        if (this.selectKit.isExpanded) {
          return false;
        } else {
          return true;
        }
      }
    },
    _focusFilterInput: function _focusFilterInput() {
      var filterContainer = document.querySelector("[data-select-kit-id=" + this.selectKit.uniqueID + "-filter]");

      if (filterContainer) {
        filterContainer.style.display = "flex";

        var filterInput = filterContainer.querySelector(".filter-input");
        filterInput && filterInput.focus();
      }
    }
  });
});
define("select-kit/components/select-kit/select-kit-none-row", ["exports", "select-kit/components/select-kit/select-kit-row"], function (exports, _selectKitRow) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitRow.default.extend({
    layoutName: "select-kit/templates/components/select-kit/select-kit-row",
    classNames: "none"
  });
});
define("select-kit/components/select-kit/select-kit-row", ["exports", "@ember/component", "@ember/object", "discourse-common/lib/helpers", "@ember/object/internals", "select-kit/mixins/utils"], function (exports, _component, _object, _helpers, _internals, _utils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend(_utils.default, {
    layoutName: "select-kit/templates/components/select-kit/select-kit-row",
    classNames: ["select-kit-row"],
    tagName: "li",
    tabIndex: -1,
    attributeBindings: ["tabIndex", "title", "rowValue:data-value", "rowName:data-name", "ariaLabel:aria-label", "guid:data-guid"],
    classNameBindings: ["isHighlighted", "isSelected", "isNone", "isNone:none", "item.classNames"],

    isNone: (0, _object.computed)("rowValue", function () {
      return this.rowValue === this.getValue(this.selectKit.noneItem);
    }),

    guid: (0, _object.computed)("item", function () {
      return (0, _internals.guidFor)(this.item);
    }),

    ariaLabel: (0, _object.computed)("item.ariaLabel", "title", function () {
      return this.getProperty(this.item, "ariaLabel") || this.title;
    }),

    title: (0, _object.computed)("item.title", "rowName", function () {
      return this.getProperty(this.item, "title") || this.rowName;
    }),

    label: (0, _object.computed)("item.label", "title", "rowName", function () {
      var label = this.getProperty(this.item, "label") || this.title || this.rowName;
      if (this.selectKit.options.allowAny && this.rowValue === this.selectKit.filter && this.getName(this.selectKit.noneItem) !== this.rowName && this.getName(this.selectKit.newItem) === this.rowName) {
        return I18n.t("select_kit.create", { content: label });
      }
      return label;
    }),

    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);

      this.setProperties({
        rowName: this.getName(this.item),
        rowValue: this.getValue(this.item)
      });
    },


    icons: (0, _object.computed)("item.{icon,icons}", function () {
      var icon = (0, _helpers.makeArray)(this.getProperty(this.item, "icon"));
      var icons = (0, _helpers.makeArray)(this.getProperty(this.item, "icons"));
      return icon.concat(icons).filter(Boolean);
    }),

    highlightedValue: (0, _object.computed)("selectKit.highlighted", function () {
      return this.getValue(this.selectKit.highlighted);
    }),

    isHighlighted: (0, _object.computed)("rowValue", "highlightedValue", function () {
      return this.rowValue === this.highlightedValue;
    }),

    isSelected: (0, _object.computed)("rowValue", "value", function () {
      return this.rowValue === this.value;
    }),

    mouseEnter: function mouseEnter() {
      if (!this.isDestroying || !this.isDestroyed) {
        this.selectKit.onHover(this.rowValue, this.item);
      }
      return false;
    },
    click: function click() {
      this.selectKit.select(this.rowValue, this.item);
      return false;
    }
  });
});
define("select-kit/components/select-kit/single-select-header", ["exports", "select-kit/components/select-kit/select-kit-header", "select-kit/mixins/utils"], function (exports, _selectKitHeader, _utils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitHeader.default.extend(_utils.default, {
    layoutName: "select-kit/templates/components/select-kit/single-select-header",
    classNames: ["single-select-header"]
  });
});
define("select-kit/components/selected-color", ["exports", "select-kit/components/selected-name", "discourse/lib/utilities", "@ember/runloop"], function (exports, _selectedName, _utilities, _runloop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectedName.default.extend({
    classNames: ["select-kit-selected-color"],

    didReceiveAttrs: function didReceiveAttrs() {
      var _this = this;

      this._super.apply(this, arguments);

      (0, _runloop.schedule)("afterRender", function () {
        var color = (0, _utilities.escapeExpression)(_this.name);
        _this.element.style.borderBottomColor = "#" + color;
      });
    }
  });
});
define("select-kit/components/selected-name", ["exports", "@ember/object", "@ember/component", "discourse-common/lib/helpers", "select-kit/mixins/utils"], function (exports, _object, _component, _helpers, _utils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend(_utils.default, {
    layoutName: "select-kit/templates/components/selected-name",
    classNames: ["select-kit-selected-name", "selected-name", "choice"],
    name: null,
    value: null,
    tabindex: 0,
    attributeBindings: ["title", "value:data-value", "name:data-name"],

    click: function click() {
      if (this.selectKit.options.clearOnClick) {
        this.selectKit.deselect(this.item);
        return false;
      }
    },
    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);

      // we can't listen on `item.nameProperty` given it's variable
      this.setProperties({
        name: this.getName(this.item),
        value: this.item === this.selectKit.noneItem ? null : this.getValue(this.item)
      });
    },


    ariaLabel: (0, _object.computed)("item", "sanitizedTitle", function () {
      return this._safeProperty("ariaLabel", this.item) || this.sanitizedTitle;
    }),

    // this might need a more advanced solution
    // but atm it's the only case we have to handle
    sanitizedTitle: (0, _object.computed)("title", function () {
      return String(this.title).replace("&hellip;", "");
    }),

    title: (0, _object.computed)("item", function () {
      return this._safeProperty("title", this.item) || this.name || "";
    }),

    label: (0, _object.computed)("title", "name", function () {
      return this._safeProperty("label", this.item) || this.title || this.name;
    }),

    icons: (0, _object.computed)("item.{icon,icons}", function () {
      var icon = (0, _helpers.makeArray)(this._safeProperty("icon", this.item));
      var icons = (0, _helpers.makeArray)(this._safeProperty("icons", this.item));
      return icon.concat(icons).filter(Boolean);
    }),

    _safeProperty: function _safeProperty(name, content) {
      if (!content) {
        return null;
      }

      return (0, _object.get)(content, name);
    }
  });
});
define("select-kit/components/single-select", ["exports", "select-kit/components/select-kit", "@ember/object", "@ember/utils"], function (exports, _selectKit, _object, _utils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKit.default.extend({
    pluginApiIdentifiers: ["single-select"],
    layoutName: "select-kit/templates/components/single-select",
    classNames: ["single-select"],
    singleSelect: true,

    selectKitOptions: {
      headerComponent: "select-kit/single-select-header"
    },

    selectedContent: (0, _object.computed)("value", "content.[]", function () {
      if (!(0, _utils.isEmpty)(this.value)) {
        var content = void 0;

        var value = this.selectKit.options.castInteger && this._isNumeric(this.value) ? Number(this.value) : this.value;

        if (this.selectKit.valueProperty) {
          content = (this.content || []).findBy(this.selectKit.valueProperty, value);

          return this.selectKit.modifySelection(content || this.defaultItem(value, value));
        } else {
          return this.selectKit.modifySelection((this.content || []).filter(function (c) {
            return c === value;
          }));
        }
      } else {
        return this.selectKit.noneItem;
      }
    })
  });
});
define("select-kit/components/tag-chooser-row", ["exports", "select-kit/components/select-kit/select-kit-row"], function (exports, _selectKitRow) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitRow.default.extend({
    layoutName: "select-kit/templates/components/tag-chooser-row",
    classNames: ["tag-chooser-row"]
  });
});
define("select-kit/components/tag-chooser", ["exports", "@ember/object", "select-kit/components/multi-select", "select-kit/mixins/tags", "discourse-common/lib/helpers"], function (exports, _object, _multiSelect, _tags, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _multiSelect.default.extend(_tags.default, {
    pluginApiIdentifiers: ["tag-chooser"],
    classNames: ["tag-chooser"],

    selectKitOptions: {
      filterable: true,
      filterPlaceholder: "tagging.choose_for_topic",
      limit: null,
      allowAny: "canCreateTag",
      maximum: "maximumTagCount"
    },

    modifyComponentForRow: function modifyComponentForRow() {
      return "tag-chooser-row";
    },


    blacklist: null,
    attributeBindings: ["categoryId"],
    excludeSynonyms: false,
    excludeHasSynonyms: false,

    canCreateTag: (0, _object.computed)("site.can_create_tag", "allowCreate", function () {
      return this.allowCreate || this.site.can_create_tag;
    }),

    maximumTagCount: (0, _object.computed)("siteSettings.max_tags_per_topic", "unlimitedTagCount", function () {
      if (!this.unlimitedTagCount) {
        return parseInt(this.options.limit || this.options.maximum || this.get("siteSettings.max_tags_per_topic"), 10);
      }

      return null;
    }),

    init: function init() {
      this._super.apply(this, arguments);

      this.setProperties({
        blacklist: this.blacklist || [],
        termMatchesForbidden: false,
        termMatchErrorMessage: null
      });
    },


    value: (0, _object.computed)("tags.[]", function () {
      return (0, _helpers.makeArray)(this.tags).uniq();
    }),

    content: (0, _object.computed)("tags.[]", function () {
      var _this = this;

      return (0, _helpers.makeArray)(this.tags).uniq().map(function (t) {
        return _this.defaultItem(t, t);
      });
    }),

    actions: {
      onChange: function onChange(value) {
        this.set("tags", value);
      }
    },

    search: function search(query) {
      var selectedTags = (0, _helpers.makeArray)(this.tags).filter(Boolean);

      var data = {
        q: query,
        limit: this.get("siteSettings.max_tag_search_results"),
        categoryId: this.categoryId
      };

      if (selectedTags.length || this.blacklist.length) {
        data.selected_tags = selectedTags.concat(this.blacklist).uniq().slice(0, 100);
      }

      if (!this.everyTag) data.filterForInput = true;
      if (this.excludeSynonyms) data.excludeSynonyms = true;
      if (this.excludeHasSynonyms) data.excludeHasSynonyms = true;

      return this.searchTags("/tags/filter/search", data, this._transformJson);
    },
    _transformJson: function _transformJson(context, json) {
      var results = json.results;

      context.setProperties({
        termMatchesForbidden: json.forbidden ? true : false,
        termMatchErrorMessage: json.forbidden_message
      });

      if (context.blacklist) {
        results = results.filter(function (result) {
          return !context.blacklist.includes(result.id);
        });
      }

      if (context.get("siteSettings.tags_sort_alphabetically")) {
        results = results.sort(function (a, b) {
          return a.id > b.id;
        });
      }

      return results.uniqBy("text").map(function (result) {
        return { id: result.text, name: result.text, count: result.count };
      });
    }
  });
});
define("select-kit/components/tag-drop", ["exports", "discourse/models/category", "@ember/object/computed", "discourse/lib/computed", "select-kit/components/combo-box", "discourse/lib/url", "select-kit/mixins/tags", "@ember/object", "@ember/utils", "discourse-common/lib/helpers"], function (exports, _category, _computed, _computed2, _comboBox, _url, _tags, _object, _utils, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.NONE_TAG_ID = exports.ALL_TAGS_ID = exports.NO_TAG_ID = undefined;
  var NO_TAG_ID = exports.NO_TAG_ID = "no-tags";
  var ALL_TAGS_ID = exports.ALL_TAGS_ID = "all-tags";
  var NONE_TAG_ID = exports.NONE_TAG_ID = "none";

  exports.default = _comboBox.default.extend(_tags.default, {
    pluginApiIdentifiers: ["tag-drop"],
    classNameBindings: ["categoryStyle", "tagClass"],
    classNames: ["tag-drop"],
    value: (0, _computed.readOnly)("tagId"),
    tagName: "li",
    currentCategory: (0, _computed.or)("secondCategory", "firstCategory"),
    showFilterByTag: (0, _computed2.setting)("show_filter_by_tag"),
    categoryStyle: (0, _computed2.setting)("category_style"),
    maxTagSearchResults: (0, _computed2.setting)("max_tag_search_results"),
    sortTagsAlphabetically: (0, _computed2.setting)("tags_sort_alphabetically"),
    isVisible: (0, _object.computed)("showFilterByTag", "content.[]", function () {
      if (this.showFilterByTag && !(0, _utils.isEmpty)(this.content)) {
        return true;
      }

      return false;
    }),

    selectKitOptions: {
      allowAny: false,
      caretDownIcon: "caret-right",
      caretUpIcon: "caret-down",
      fullWidthOnMobile: true,
      filterable: true,
      headerComponent: "tag-drop/tag-drop-header",
      autoInsertNoneItem: false
    },

    noTagsSelected: (0, _computed.equal)("tagId", NONE_TAG_ID),

    filterable: (0, _computed.gte)("content.length", 15),

    modifyNoSelection: function modifyNoSelection() {
      if (this.noTagsSelected) {
        return this.defaultItem(NO_TAG_ID, this.noTagsLabel);
      } else {
        return this.defaultItem(ALL_TAGS_ID, this.allTagsLabel);
      }
    },
    modifySelection: function modifySelection(content) {
      if (this.tagId) {
        if (this.noTagsSelected) {
          content = this.defaultItem(NO_TAG_ID, this.noTagsLabel);
        } else {
          content = this.defaultItem(this.tagId, this.tagId);
        }
      }

      return content;
    },


    tagClass: (0, _object.computed)("tagId", function () {
      return this.tagId ? "tag-" + this.tagId : "tag_all";
    }),

    currentCategoryUrl: (0, _computed.readOnly)("currentCategory.url"),

    allTagsUrl: (0, _object.computed)("firstCategory", "secondCategory", function () {
      if (this.currentCategory) {
        return Discourse.getURL(this.currentCategoryUrl + "?allTags=1");
      } else {
        return Discourse.getURL("/");
      }
    }),

    noTagsUrl: (0, _object.computed)("firstCategory", "secondCategory", function () {
      var url = "/tags";
      if (this.currentCategory) {
        url += "/c/" + _category.default.slugFor(this.currentCategory) + "/" + this.currentCategory.id;
      }
      return Discourse.getURL(url + "/" + NONE_TAG_ID);
    }),

    allTagsLabel: (0, _computed2.i18n)("tagging.selector_all_tags"),

    noTagsLabel: (0, _computed2.i18n)("tagging.selector_no_tags"),

    shortcuts: (0, _object.computed)("tagId", function () {
      var shortcuts = [];

      if (this.tagId !== NONE_TAG_ID) {
        shortcuts.push({
          id: NO_TAG_ID,
          name: this.noTagsLabel
        });
      }

      if (this.tagId) {
        shortcuts.push({ id: ALL_TAGS_ID, name: this.allTagsLabel });
      }

      return shortcuts;
    }),

    topTags: (0, _object.computed)("firstCategory", "secondCategory", "site.category_top_tags.[]", "site.top_tags.[]", function () {
      if (this.currentCategory && this.site.category_top_tags) {
        return this.site.category_top_tags;
      }

      return this.site.top_tags;
    }),

    content: (0, _object.computed)("topTags.[]", "shortcuts.[]", function () {
      if (this.sortTagsAlphabetically && this.topTags) {
        return this.shortcuts.concat(this.topTags.sort());
      } else {
        return this.shortcuts.concat((0, _helpers.makeArray)(this.topTags));
      }
    }),

    search: function search(filter) {
      var _this = this;

      if (filter) {
        var data = {
          q: filter,
          limit: this.maxTagSearchResults
        };

        return this.searchTags("/tags/filter/search", data, this._transformJson);
      } else {
        return (this.content || []).map(function (tag) {
          if (tag.id && tag.name) {
            return tag;
          }
          return _this.defaultItem(tag, tag);
        });
      }
    },
    _transformJson: function _transformJson(context, json) {
      return json.results.sort(function (a, b) {
        return a.id > b.id;
      }).map(function (r) {
        var content = context.defaultItem(r.id, r.text);
        content.targetTagId = r.target_tag || r.id;
        content.count = r.count;
        content.pmCount = r.pm_count;
        return content;
      });
    },


    actions: {
      onChange: function onChange(tagId, tag) {
        var url = void 0;

        switch (tagId) {
          case ALL_TAGS_ID:
            url = this.allTagsUrl;
            break;
          case NO_TAG_ID:
            url = this.noTagsUrl;
            break;
          default:
            if (this.currentCategory) {
              url = "/tags/c/" + _category.default.slugFor(this.currentCategory) + "/" + this.currentCategory.id;
            } else {
              url = "/tag";
            }

            if (tag && tag.targetTagId) {
              url += "/" + tag.targetTagId.toLowerCase();
            } else {
              url += "/" + tagId.toLowerCase();
            }
        }

        _url.default.routeTo(Discourse.getURL(url));
      }
    }
  });
});
define("select-kit/components/tag-drop/tag-drop-header", ["exports", "select-kit/components/combo-box/combo-box-header"], function (exports, _comboBoxHeader) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _comboBoxHeader.default.extend({
    layoutName: "select-kit/templates/components/tag-drop/tag-drop-header",
    classNames: "tag-drop-header"
  });
});
define("select-kit/components/tag-group-chooser", ["exports", "select-kit/components/multi-select", "select-kit/mixins/tags", "discourse-common/lib/helpers", "@ember/object"], function (exports, _multiSelect, _tags, _helpers, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _multiSelect.default.extend(_tags.default, {
    pluginApiIdentifiers: ["tag-group-chooser"],
    classNames: ["tag-group-chooser", "tag-chooser"],

    selectKitOptions: {
      allowAny: false,
      filterable: true,
      filterPlaceholder: "category.tag_groups_placeholder",
      limit: null
    },

    modifyComponentForRow: function modifyComponentForRow() {
      return "tag-chooser-row";
    },


    value: (0, _object.computed)("tagGroups.[]", function () {
      return (0, _helpers.makeArray)(this.tagGroups).uniq();
    }),

    content: (0, _object.computed)("tagGroups.[]", function () {
      var _this = this;

      return (0, _helpers.makeArray)(this.tagGroups).uniq().map(function (t) {
        return _this.defaultItem(t, t);
      });
    }),

    actions: {
      onChange: function onChange(value) {
        this.set("tagGroups", value);
      }
    },

    search: function search(query) {
      var _this2 = this;

      var data = {
        q: query,
        limit: this.get("siteSettings.max_tag_search_results")
      };

      return this.searchTags("/tag_groups/filter/search", data, this._transformJson).then(function (results) {
        if (results && results.length) {
          return results.filter(function (r) {
            return !(0, _helpers.makeArray)(_this2.tagGroups).includes(_this2.getValue(r));
          });
        }
      });
    },
    _transformJson: function _transformJson(context, json) {
      return json.results.sort(function (a, b) {
        return a.id > b.id;
      }).map(function (result) {
        return { id: result.text, name: result.text, count: result.count };
      });
    }
  });
});
define("select-kit/components/tag-notifications-button", ["exports", "select-kit/components/notifications-button"], function (exports, _notificationsButton) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _notificationsButton.default.extend({
    pluginApiIdentifiers: ["tag-notifications-button"],
    classNames: ["tag-notifications-button"],

    selectKitOptions: {
      showFullTitle: false,
      i18nPrefix: "i18nPrefix"
    },

    i18nPrefix: "tagging.notifications"
  });
});
define("select-kit/components/tag-row", ["exports", "select-kit/components/select-kit/select-kit-row"], function (exports, _selectKitRow) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitRow.default.extend({
    layoutName: "select-kit/templates/components/tag-row",
    classNames: ["tag-row"]
  });
});
define("select-kit/components/timezone-input", ["exports", "select-kit/components/combo-box", "@ember/object"], function (exports, _comboBox, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _comboBox.default.extend({
    pluginApiIdentifiers: ["timezone-input"],
    classNames: ["timezone-input"],
    nameProperty: null,
    valueProperty: null,

    selectKitOptions: {
      filterable: true,
      allowAny: false
    },

    content: (0, _object.computed)(function () {
      if (moment.locale() !== "en" && typeof moment.tz.localizedNames === "function") {
        return moment.tz.localizedNames().mapBy("value");
      } else {
        return moment.tz.names();
      }
    })
  });
});
define("select-kit/components/toolbar-popup-menu-options", ["exports", "select-kit/components/dropdown-select-box"], function (exports, _dropdownSelectBox) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var HEADING_COLLECTION = "HEADING_COLLECTION";

  exports.default = _dropdownSelectBox.default.extend({
    pluginApiIdentifiers: ["toolbar-popup-menu-options"],
    classNames: ["toolbar-popup-menu-options"],

    init: function init() {
      this._super.apply(this, arguments);

      this.prependCollection(HEADING_COLLECTION);
    },


    selectKitOptions: {
      showFullTitle: false,
      filterable: false,
      autoFilterable: false
    },

    modifyContentForCollection: function modifyContentForCollection(collection) {
      if (collection === HEADING_COLLECTION) {
        return { title: this.selectKit.options.popupTitle };
      }
    },
    modifyComponentForCollection: function modifyComponentForCollection(collection) {
      if (collection === HEADING_COLLECTION) {
        return "toolbar-popup-menu-options/toolbar-popup-menu-options-heading";
      }
    },
    modifyContent: function modifyContent(contents) {
      return contents.map(function (content) {
        if (content.condition) {
          return {
            icon: content.icon,
            name: I18n.t(content.label),
            id: content.action
          };
        }
      }).filter(Boolean);
    }
  });
});
define("select-kit/components/toolbar-popup-menu-options/toolbar-popup-menu-options-heading", ["exports", "@ember/component", "@ember/object/computed"], function (exports, _component, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "h3",
    layoutName: "select-kit/templates/components/toolbar-popup-menu-options/toolbar-popup-menu-options-heading",
    classNames: ["toolbar-popup-menu-options-heading"],
    heading: (0, _computed.reads)("collection.content.title")
  });
});
define("select-kit/components/topic-footer-mobile-dropdown", ["exports", "select-kit/components/combo-box"], function (exports, _comboBox) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _comboBox.default.extend({
    pluginApiIdentifiers: ["topic-footer-mobile-dropdown"],
    classNames: ["topic-footer-mobile-dropdown"],

    selectKitOptions: {
      none: "topic.controls",
      filterable: false,
      autoFilterable: false
    },

    actions: {
      onChange: function onChange(value, item) {
        item.action && item.action();
      }
    }
  });
});
define("select-kit/components/topic-notifications-button", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    layoutName: "select-kit/templates/components/topic-notifications-button",
    classNames: ["topic-notifications-button"],
    appendReason: true,
    showFullTitle: true,
    placement: "bottom-start",

    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      this.appEvents.on("topic-notifications-button:changed", this, "_changeTopicNotificationLevel");
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      this.appEvents.off("topic-notifications-button:changed", this, "_changeTopicNotificationLevel");
    },
    _changeTopicNotificationLevel: function _changeTopicNotificationLevel(level) {
      // this change is coming from a keyboard event
      if (level.event) {
        var topicSectionNode = level.event.target.querySelector("#topic");
        if (topicSectionNode && topicSectionNode.dataset.topicId) {
          var topicId = parseInt(topicSectionNode.dataset.topicId, 10);
          if (topicId && topicId !== this.topic.id) {
            return;
          }
        }
      }

      if (level.id !== this.notificationLevel) {
        this.topic.details.updateNotifications(level.id);
      }
    },


    actions: {
      changeTopicNotificationLevel: function changeTopicNotificationLevel(level, notification) {
        this._changeTopicNotificationLevel(notification);
      }
    }
  });
});
define("select-kit/components/topic-notifications-options", ["exports", "select-kit/components/notifications-button", "discourse/lib/notification-levels", "@ember/object"], function (exports, _notificationsButton, _notificationLevels, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _notificationsButton.default.extend({
    pluginApiIdentifiers: ["topic-notifications-options"],
    classNames: ["topic-notifications-options"],
    content: _notificationLevels.topicLevels,

    selectKitOptions: {
      i18nPrefix: "i18nPrefix",
      i18nPostfix: "i18nPostfix"
    },

    i18nPrefix: "topic.notifications",

    i18nPostfix: (0, _object.computed)("topic.archetype", function () {
      return this.topic.archetype === "private_message" ? "_pm" : "";
    })
  });
});
define("select-kit/components/user-chooser", ["exports", "select-kit/components/multi-select", "@ember/object", "discourse/lib/user-search", "discourse-common/lib/helpers"], function (exports, _multiSelect, _object, _userSearch, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _multiSelect.default.extend({
    pluginApiIdentifiers: ["user-chooser"],
    classNames: ["user-chooser"],
    valueProperty: "username",

    modifyComponentForRow: function modifyComponentForRow() {
      return "user-chooser/user-row";
    },


    selectKitOptions: {
      topicId: undefined,
      categoryId: undefined,
      includeGroups: false,
      allowedUsers: false,
      includeMentionableGroups: false,
      includeMessageableGroups: false,
      allowEmails: false,
      groupMembersOf: undefined
    },

    content: (0, _object.computed)("value.[]", function () {
      var _this = this;

      return (0, _helpers.makeArray)(this.value).map(function (x) {
        return _this.defaultItem(x, x);
      });
    }),

    excludedUsers: (0, _object.computed)("value", "currentUser", "selectKit.options.{excludeCurrentUser,excludedUsernames}", {
      get: function get() {
        var options = this.selectKit.options;
        var usernames = (0, _helpers.makeArray)(this.value);

        if (this.currentUser && options.excludeCurrentUser) {
          usernames = usernames.concat([this.currentUser.username]);
        }

        return usernames.concat(options.excludedUsernames || []);
      }
    }),

    search: function search() {
      var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";

      filter = filter || "";
      var options = this.selectKit.options;

      // prevents doing ajax request for nothing
      var skippedSearch = (0, _userSearch.skipSearch)(filter, options.allowEmails);
      var eagerComplete = (0, _userSearch.eagerCompleteSearch)(filter, options.topicId || options.categoryId);
      if (skippedSearch || filter === "" && !eagerComplete) {
        return;
      }

      return (0, _userSearch.default)({
        term: filter,
        topicId: options.topicId,
        categoryId: options.categoryId,
        exclude: this.excludedUsers,
        includeGroups: options.includeGroups,
        allowedUsers: options.allowedUsers,
        includeMentionableGroups: options.includeMentionableGroups,
        includeMessageableGroups: options.includeMessageableGroups,
        groupMembersOf: options.groupMembersOf,
        allowEmails: options.allowEmails
      }).then(function (result) {
        if (typeof result === "string") {
          // do nothing promise probably got cancelled
        } else {
          return result;
        }
      });
    }
  });
});
define("select-kit/components/user-chooser/user-row", ["exports", "select-kit/components/select-kit/select-kit-row"], function (exports, _selectKitRow) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _selectKitRow.default.extend({
    layoutName: "select-kit/templates/components/user-chooser/user-row",
    classNames: ["user-row"]
  });
});
define("select-kit/components/user-notifications-dropdown", ["exports", "select-kit/components/dropdown-select-box", "discourse/lib/ajax-error", "discourse/lib/show-modal", "@ember/object"], function (exports, _dropdownSelectBox, _ajaxError, _showModal, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _dropdownSelectBox.default.extend({
    classNames: ["user-notifications", "user-notifications-dropdown"],

    selectKitOptions: {
      headerIcon: "userNotificationicon"
    },

    userNotificationicon: (0, _object.computed)("mainCollection.[]", "value", function () {
      var _this = this;

      return this.mainCollection && this.mainCollection.find(function (row) {
        return row.id === _this.value;
      }).icon;
    }),

    content: (0, _object.computed)(function () {
      var content = [];

      content.push({
        icon: "user",
        id: "changeToNormal",
        description: I18n.t("user.user_notifications.normal_option_title"),
        name: I18n.t("user.user_notifications.normal_option")
      });

      content.push({
        icon: "times-circle",
        id: "changeToMuted",
        description: I18n.t("user.user_notifications.mute_option_title"),
        name: I18n.t("user.user_notifications.mute_option")
      });

      if (this.get("user.can_ignore_user")) {
        content.push({
          icon: "far-eye-slash",
          id: "changeToIgnored",
          description: I18n.t("user.user_notifications.ignore_option_title"),
          name: I18n.t("user.user_notifications.ignore_option")
        });
      }

      return content;
    }),

    changeToNormal: function changeToNormal() {
      this.updateNotificationLevel("normal").catch(_ajaxError.popupAjaxError);
    },
    changeToMuted: function changeToMuted() {
      this.updateNotificationLevel("mute").catch(_ajaxError.popupAjaxError);
    },
    changeToIgnored: function changeToIgnored() {
      (0, _showModal.default)("ignore-duration", {
        model: this.user
      });
    },


    actions: {
      onChange: function onChange(level) {
        this[level]();

        // hack but model.ignored/muted is not
        // getting updated after updateNotificationLevel
        this.set("value", level);
      }
    }
  });
});
define("select-kit/mixins/plugin-api", ["exports", "@ember/object/mixin", "@ember/utils", "discourse-common/lib/helpers"], function (exports, _mixin, _utils, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.applyContentPluginApiCallbacks = applyContentPluginApiCallbacks;
  exports.applyHeaderContentPluginApiCallbacks = applyHeaderContentPluginApiCallbacks;
  exports.applyModifyNoSelectionPluginApiCallbacks = applyModifyNoSelectionPluginApiCallbacks;
  exports.applyCollectionHeaderCallbacks = applyCollectionHeaderCallbacks;
  exports.applyOnSelectPluginApiCallbacks = applyOnSelectPluginApiCallbacks;
  exports.applyOnOpenPluginApiCallbacks = applyOnOpenPluginApiCallbacks;
  exports.applyOnClosePluginApiCallbacks = applyOnClosePluginApiCallbacks;
  exports.applyOnInputPluginApiCallbacks = applyOnInputPluginApiCallbacks;
  exports.modifySelectKit = modifySelectKit;
  exports.clearCallbacks = clearCallbacks;


  var _appendContentCallbacks = {};
  function _appendContent(pluginApiIdentifiers, contentFunction) {
    if ((0, _utils.isNone)(_appendContentCallbacks[pluginApiIdentifiers])) {
      _appendContentCallbacks[pluginApiIdentifiers] = [];
    }

    _appendContentCallbacks[pluginApiIdentifiers].push(contentFunction);
  }

  var _prependContentCallbacks = {};
  function _prependContent(pluginApiIdentifiers, contentFunction) {
    if ((0, _utils.isNone)(_prependContentCallbacks[pluginApiIdentifiers])) {
      _prependContentCallbacks[pluginApiIdentifiers] = [];
    }

    _prependContentCallbacks[pluginApiIdentifiers].push(contentFunction);
  }

  var _filterContentCallbacks = {};
  function _filterContent(pluginApiIdentifiers, contentFunction) {
    if ((0, _utils.isNone)(_filterContentCallbacks[pluginApiIdentifiers])) {
      _filterContentCallbacks[pluginApiIdentifiers] = [];
    }

    _filterContentCallbacks[pluginApiIdentifiers].push(contentFunction);
  }

  var _modifyContentCallbacks = {};
  function _modifyContent(pluginApiIdentifiers, contentFunction) {
    if ((0, _utils.isNone)(_modifyContentCallbacks[pluginApiIdentifiers])) {
      _modifyContentCallbacks[pluginApiIdentifiers] = [];
    }

    _modifyContentCallbacks[pluginApiIdentifiers].push(contentFunction);
  }

  var _modifyHeaderComputedContentCallbacks = {};
  function _modifyHeaderComputedContent(pluginApiIdentifiers, contentFunction) {
    if ((0, _utils.isNone)(_modifyHeaderComputedContentCallbacks[pluginApiIdentifiers])) {
      _modifyHeaderComputedContentCallbacks[pluginApiIdentifiers] = [];
    }

    _modifyHeaderComputedContentCallbacks[pluginApiIdentifiers].push(contentFunction);
  }

  var _modifyNoSelectionCallbacks = {};
  function _modifyNoSelection(pluginApiIdentifiers, contentFunction) {
    if ((0, _utils.isNone)(_modifyNoSelectionCallbacks[pluginApiIdentifiers])) {
      _modifyNoSelectionCallbacks[pluginApiIdentifiers] = [];
    }

    _modifyNoSelectionCallbacks[pluginApiIdentifiers].push(contentFunction);
  }

  var _modifyCollectionHeaderCallbacks = {};
  function _modifyCollectionHeader(pluginApiIdentifiers, contentFunction) {
    if ((0, _utils.isNone)(_modifyCollectionHeaderCallbacks[pluginApiIdentifiers])) {
      _modifyCollectionHeaderCallbacks[pluginApiIdentifiers] = [];
    }

    _modifyCollectionHeaderCallbacks[pluginApiIdentifiers].push(contentFunction);
  }

  var _onSelectCallbacks = {};
  function _onSelect(pluginApiIdentifiers, mutationFunction) {
    if ((0, _utils.isNone)(_onSelectCallbacks[pluginApiIdentifiers])) {
      _onSelectCallbacks[pluginApiIdentifiers] = [];
    }

    _onSelectCallbacks[pluginApiIdentifiers].push(mutationFunction);
  }

  var _onOpenCallbacks = {};
  function _onOpen(pluginApiIdentifiers, mutationFunction) {
    if ((0, _utils.isNone)(_onOpenCallbacks[pluginApiIdentifiers])) {
      _onOpenCallbacks[pluginApiIdentifiers] = [];
    }

    _onOpenCallbacks[pluginApiIdentifiers].push(mutationFunction);
  }

  var _onCloseCallbacks = {};
  function _onClose(pluginApiIdentifiers, mutationFunction) {
    if ((0, _utils.isNone)(_onCloseCallbacks[pluginApiIdentifiers])) {
      _onCloseCallbacks[pluginApiIdentifiers] = [];
    }

    _onCloseCallbacks[pluginApiIdentifiers].push(mutationFunction);
  }

  var _onInputCallbacks = {};
  function _onInput(pluginApiIdentifiers, mutationFunction) {
    if ((0, _utils.isNone)(_onInputCallbacks[pluginApiIdentifiers])) {
      _onInputCallbacks[pluginApiIdentifiers] = [];
    }

    _onInputCallbacks[pluginApiIdentifiers].push(mutationFunction);
  }

  function applyContentPluginApiCallbacks(identifiers, content, selectKit) {
    identifiers.forEach(function (key) {
      (_prependContentCallbacks[key] || []).forEach(function (c) {
        content = (0, _helpers.makeArray)(c(selectKit, content)).concat(content);
      });
      (_appendContentCallbacks[key] || []).forEach(function (c) {
        content = content.concat((0, _helpers.makeArray)(c(selectKit, content)));
      });
      var filterCallbacks = _filterContentCallbacks[key] || [];
      if (filterCallbacks.length) {
        content = content.filter(function (c) {
          var kept = true;
          filterCallbacks.forEach(function (cb) {
            kept = cb(selectKit, c);
          });
          return kept;
        });
      }
      (_modifyContentCallbacks[key] || []).forEach(function (c) {
        content = c(selectKit, content);
      });
    });

    return content;
  }

  function applyHeaderContentPluginApiCallbacks(identifiers, content, context) {
    identifiers.forEach(function (key) {
      (_modifyHeaderComputedContentCallbacks[key] || []).forEach(function (c) {
        content = c(context, content);
      });
    });

    return content;
  }
  function applyModifyNoSelectionPluginApiCallbacks(identifiers, content, context) {
    identifiers.forEach(function (key) {
      (_modifyNoSelectionCallbacks[key] || []).forEach(function (c) {
        content = c(context, content);
      });
    });

    return content;
  }

  function applyCollectionHeaderCallbacks(identifiers, content, selectKit) {
    identifiers.forEach(function (key) {
      (_modifyCollectionHeaderCallbacks[key] || []).forEach(function (c) {
        content = c(selectKit, content);
      });
    });

    return content;
  }

  function applyOnSelectPluginApiCallbacks(identifiers, val, selectKit) {
    identifiers.forEach(function (key) {
      (_onSelectCallbacks[key] || []).forEach(function (c) {
        return c(selectKit, val);
      });
    });
  }

  function applyOnOpenPluginApiCallbacks(identifiers, selectKit, event) {
    var keepBubbling = true;
    identifiers.forEach(function (key) {
      (_onOpenCallbacks[key] || []).forEach(function (c) {
        return keepBubbling = c(selectKit, event);
      });
    });
    return keepBubbling;
  }

  function applyOnClosePluginApiCallbacks(identifiers, selectKit, event) {
    var keepBubbling = true;
    identifiers.forEach(function (key) {
      (_onCloseCallbacks[key] || []).forEach(function (c) {
        return keepBubbling = c(selectKit, event);
      });
    });
    return keepBubbling;
  }

  function applyOnInputPluginApiCallbacks(identifiers, event, selectKit) {
    var keepBubbling = true;
    identifiers.forEach(function (key) {
      (_onInputCallbacks[key] || []).forEach(function (c) {
        return keepBubbling = c(selectKit, event);
      });
    });
    return keepBubbling;
  }

  function modifySelectKit(pluginApiIdentifiers) {
    return {
      appendContent: function appendContent(content) {
        _appendContent(pluginApiIdentifiers, function () {
          return content;
        });
        return modifySelectKit(pluginApiIdentifiers);
      },
      prependContent: function prependContent(content) {
        _prependContent(pluginApiIdentifiers, function () {
          return content;
        });
        return modifySelectKit(pluginApiIdentifiers);
      },
      filterContent: function filterContent(filterFunction) {
        _filterContent(pluginApiIdentifiers, filterFunction);
        return modifySelectKit(pluginApiIdentifiers);
      },
      modifyContent: function modifyContent(callback) {
        _modifyContent(pluginApiIdentifiers, callback);
        return modifySelectKit(pluginApiIdentifiers);
      },
      modifyHeaderComputedContent: function modifyHeaderComputedContent(callback) {
        _modifyHeaderComputedContent(pluginApiIdentifiers, callback);
        return modifySelectKit(pluginApiIdentifiers);
      },
      modifySelection: function modifySelection(callback) {
        _modifyHeaderComputedContent(pluginApiIdentifiers, callback);
        return modifySelectKit(pluginApiIdentifiers);
      },
      modifyNoSelection: function modifyNoSelection(callback) {
        _modifyNoSelection(pluginApiIdentifiers, callback);
        return modifySelectKit(pluginApiIdentifiers);
      },
      modifyCollectionHeader: function modifyCollectionHeader(callback) {
        _modifyCollectionHeader(pluginApiIdentifiers, callback);
        return modifySelectKit(pluginApiIdentifiers);
      },
      onSelect: function onSelect(callback) {
        _onSelect(pluginApiIdentifiers, callback);
        return modifySelectKit(pluginApiIdentifiers);
      },
      onClose: function onClose(callback) {
        _onClose(pluginApiIdentifiers, callback);
        return modifySelectKit(pluginApiIdentifiers);
      },
      onOpen: function onOpen(callback) {
        _onOpen(pluginApiIdentifiers, callback);
        return modifySelectKit(pluginApiIdentifiers);
      },
      onInput: function onInput(callback) {
        _onInput(pluginApiIdentifiers, callback);
        return modifySelectKit(pluginApiIdentifiers);
      }
    };
  }

  function clearCallbacks() {
    _appendContentCallbacks = {};
    _prependContentCallbacks = {};
    _filterContentCallbacks = {};
    _modifyNoSelectionCallbacks = {};
    _modifyContentCallbacks = {};
    _modifyHeaderComputedContentCallbacks = {};
    _modifyCollectionHeaderCallbacks = {};
    _onSelectCallbacks = {};
    _onCloseCallbacks = {};
    _onOpenCallbacks = {};
    _onInputCallbacks = {};
  }

  var EMPTY_ARRAY = Object.freeze([]);
  exports.default = _mixin.default.create({
    concatenatedProperties: ["pluginApiIdentifiers"],
    pluginApiIdentifiers: EMPTY_ARRAY
  });
});
define("select-kit/mixins/tags", ["exports", "@ember/object/computed", "discourse/lib/ajax", "discourse/lib/ajax-error", "@ember/object/mixin", "discourse-common/lib/helpers", "@ember/utils"], function (exports, _computed, _ajax, _ajaxError, _mixin, _helpers, _utils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    searchTags: function searchTags(url, data, callback) {
      var _this = this;

      return (0, _ajax.ajax)(Discourse.getURL(url), {
        quietMillis: 200,
        cache: true,
        dataType: "json",
        data: data
      }).then(function (json) {
        return callback(_this, json);
      }).catch(_ajaxError.popupAjaxError);
    },


    selectKitOptions: {
      allowAny: "allowAnyTag"
    },

    allowAnyTag: (0, _computed.reads)("site.can_create_tag"),

    validateCreate: function validateCreate(filter, content) {
      var _this2 = this;

      var maximum = this.selectKit.options.maximum;
      if (maximum && (0, _helpers.makeArray)(this.value).length >= parseInt(maximum, 10)) {
        this.addError(I18n.t("select_kit.max_content_reached", {
          count: this.selectKit.limit
        }));
        return false;
      }

      var filterRegexp = new RegExp(this.site.tags_filter_regexp, "g");
      filter = filter.replace(filterRegexp, "").trim().toLowerCase();

      if (this.termMatchesForbidden) {
        return false;
      }

      if (!filter.length || this.get("siteSettings.max_tag_length") < filter.length) {
        this.addError(I18n.t("select_kit.invalid_selection_length", {
          count: "[1 - " + this.get("siteSettings.max_tag_length") + "]"
        }));
        return false;
      }

      var toLowerCaseOrUndefined = function toLowerCaseOrUndefined(string) {
        return (0, _utils.isEmpty)(string) ? undefined : string.toLowerCase();
      };

      var inCollection = content.map(function (c) {
        return toLowerCaseOrUndefined(_this2.getValue(c));
      }).filter(Boolean).includes(filter);

      var inSelection = (this.value || []).map(function (s) {
        return toLowerCaseOrUndefined(s);
      }).filter(Boolean).includes(filter);

      if (inCollection || inSelection) {
        return false;
      }

      return true;
    },
    createContentFromInput: function createContentFromInput(input) {
      // See lib/discourse_tagging#clean_tag.
      input = input.trim().replace(/\s+/g, "-").replace(/[\/\?#\[\]@!\$&'\(\)\*\+,;=\.%\\`^\s|\{\}"<>]+/g, "").substring(0, this.siteSettings.max_tag_length);

      if (this.siteSettings.force_lowercase_tags) {
        input = input.toLowerCase();
      }

      return input;
    }
  });
});
define("select-kit/mixins/utils", ["exports", "@ember/object/mixin", "@ember/object"], function (exports, _mixin, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    defaultItem: function defaultItem(value, name) {
      if (this.selectKit.valueProperty) {
        var item = {};
        item[this.selectKit.valueProperty] = value;
        item[this.selectKit.nameProperty] = name;
        return item;
      } else {
        return name || value;
      }
    },
    itemForValue: function itemForValue(value, content) {
      if (this.selectKit.valueProperty) {
        return content.findBy(this.selectKit.valueProperty, value);
      } else {
        return value;
      }
    },
    getProperty: function getProperty(item, property) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { definedOnly: true };
      var definedOnly = options.definedOnly;


      if (item && typeof property === "string") {
        var attempt = (0, _object.get)(item, property);
        if (attempt) {
          return attempt;
        }
      }

      property = (0, _object.get)(this.selectKit, property);

      if (!item) {
        return null;
      }

      if (!property && definedOnly) {
        return null;
      } else if (!property) {
        return item;
      } else if (typeof property === "string") {
        return (0, _object.get)(item, property);
      } else {
        return property(item);
      }
    },
    getValue: function getValue(item) {
      return this.getProperty(item, "valueProperty", { definedOnly: false });
    },
    getName: function getName(item) {
      return this.getProperty(item, "nameProperty", { definedOnly: false });
    },
    findValue: function findValue(content, item) {
      var _this = this;

      var property = (0, _object.get)(this.selectKit, "valueProperty");

      if (!property) {
        if (content.indexOf(item) > -1) {
          return item;
        }
      } else if (typeof property === "string") {
        return content.findBy(property, this.getValue(item));
      } else {
        var value = this.getValue(item);
        return content.find(function (contentItem) {
          return _this.getValue(contentItem) === value;
        });
      }
    },
    _isNumeric: function _isNumeric(input) {
      return !isNaN(parseFloat(input)) && isFinite(input);
    },
    _normalize: function _normalize(input) {
      if (input) {
        input = input.toLowerCase();

        if (typeof input.normalize === "function") {
          input = input.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        }
      }

      return input;
    }
  });
});
Ember.TEMPLATES["select-kit/templates/components/category-drop/category-drop-header"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"selectedNameComponent\"]]],[[\"tabindex\",\"item\",\"selectKit\",\"shouldDisplayClearableButton\"],[[24,[\"tabindex\"]],[24,[\"selectedContent\"]],[24,[\"selectKit\"]],[24,[\"shouldDisplayClearableButton\"]]]]],false],[0,\"\\n\\n\"],[1,[28,\"d-icon\",[[24,[\"caretIcon\"]]],[[\"class\"],[\"caret-icon\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/category-drop/category-drop-header"}});
Ember.TEMPLATES["select-kit/templates/components/category-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"category\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"category-status\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"hasParentCategory\"]]],null,{\"statements\":[[4,\"unless\",[[24,[\"hideParentCategory\"]]],null,{\"statements\":[[0,\"        \"],[1,[22,\"badgeForParentCategory\"],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"    \"],[1,[22,\"badgeForCategory\"],false],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"shouldDisplayDescription\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"category-desc\"],[8],[1,[28,\"dir-span\",[[24,[\"description\"]]],null],true],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[1,[22,\"label\"],true],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/category-row"}});
Ember.TEMPLATES["select-kit/templates/components/color-palettes/color-palettes-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"span\",true],[10,\"class\",\"name\"],[8],[0,\"\\n  \"],[1,[22,\"label\"],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"item\",\"colors\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"palettes\"],[8],[0,\"\\n    \"],[1,[22,\"palettes\"],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/color-palettes/color-palettes-row"}});
Ember.TEMPLATES["select-kit/templates/components/combo-box/combo-box-header"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"icon\"],\"statements\":[[4,\"each\",[[24,[\"icons\"]]],null,{\"statements\":[[0,\" \"],[1,[28,\"d-icon\",[[23,1,[]]],null],false],[0,\" \"]],\"parameters\":[1]},null],[0,\"\\n\\n\"],[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"selectedNameComponent\"]]],[[\"tabindex\",\"item\",\"selectKit\"],[[24,[\"tabindex\"]],[24,[\"selectedContent\"]],[24,[\"selectKit\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"shouldDisplayClearableButton\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"class\",\"icon\",\"action\"],[\"btn-clear\",\"times\",[24,[\"selectKit\",\"onClearSelection\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"d-icon\",[[24,[\"caretIcon\"]]],[[\"class\"],[\"caret-icon\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/combo-box/combo-box-header"}});
Ember.TEMPLATES["select-kit/templates/components/create-color-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"span\",true],[8],[1,[22,\"label\"],false],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/create-color-row"}});
Ember.TEMPLATES["select-kit/templates/components/dropdown-select-box/dropdown-select-box-header"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"icon\"],\"statements\":[[4,\"each\",[[24,[\"icons\"]]],null,{\"statements\":[[0,\" \"],[1,[28,\"d-icon\",[[23,1,[]]],null],false],[0,\" \"]],\"parameters\":[1]},null],[0,\"\\n\\n\"],[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"selectedNameComponent\"]]],[[\"tabindex\",\"item\",\"selectKit\",\"shouldDisplayClearableButton\"],[[24,[\"tabindex\"]],[24,[\"selectedContent\"]],[24,[\"selectKit\"]],[24,[\"shouldDisplayClearableButton\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/dropdown-select-box/dropdown-select-box-header"}});
Ember.TEMPLATES["select-kit/templates/components/dropdown-select-box/dropdown-select-box-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"icon\"],\"statements\":[[4,\"if\",[[24,[\"icons\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"icons\"],[8],[0,\"\\n    \"],[7,\"span\",true],[10,\"class\",\"selection-indicator\"],[8],[9],[0,\"\\n\"],[4,\"each\",[[24,[\"icons\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-icon\",[[23,1,[]]],[[\"translatedtitle\"],[[28,\"dasherize\",[[24,[\"title\"]]],null]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"texts\"],[8],[0,\"\\n  \"],[7,\"span\",true],[10,\"class\",\"name\"],[8],[1,[22,\"label\"],true],[9],[0,\"\\n  \"],[7,\"span\",true],[10,\"class\",\"desc\"],[8],[1,[22,\"description\"],true],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/dropdown-select-box/dropdown-select-box-row"}});
Ember.TEMPLATES["select-kit/templates/components/future-date-input-selector/future-date-input-selector-header"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"icon\"],\"statements\":[[4,\"if\",[[24,[\"icons\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"future-date-input-selector-icons\"],[8],[0,\"\\n    \"],[4,\"each\",[[24,[\"icons\"]]],null,{\"statements\":[[0,\" \"],[1,[28,\"d-icon\",[[23,1,[]]],null],false],[0,\" \"]],\"parameters\":[1]},null],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"selectedNameComponent\"]]],[[\"tabindex\",\"item\",\"selectKit\"],[[24,[\"tabindex\"]],[24,[\"selectedContent\"]],[24,[\"selectKit\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"selectedContent\",\"datetime\"]]],null,{\"statements\":[[0,\"  \"],[7,\"span\",true],[10,\"class\",\"future-date-input-selector-datetime\"],[8],[0,\"\\n    \"],[1,[24,[\"selectedContent\",\"datetime\"]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"d-icon\",[[24,[\"caretIcon\"]]],[[\"class\"],[\"caret-icon\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/future-date-input-selector/future-date-input-selector-header"}});
Ember.TEMPLATES["select-kit/templates/components/future-date-input-selector/future-date-input-selector-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"icon\"],\"statements\":[[4,\"if\",[[24,[\"item\",\"icons\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"future-date-input-selector-icons\"],[8],[0,\"\\n    \"],[4,\"each\",[[24,[\"item\",\"icons\"]]],null,{\"statements\":[[0,\" \"],[1,[28,\"d-icon\",[[23,1,[]]],null],false],[0,\" \"]],\"parameters\":[1]},null],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"span\",true],[10,\"class\",\"name\"],[8],[1,[22,\"label\"],false],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"item\",\"datetime\"]]],null,{\"statements\":[[0,\"  \"],[7,\"span\",true],[10,\"class\",\"future-date-input-selector-datetime\"],[8],[0,\"\\n    \"],[1,[24,[\"item\",\"datetime\"]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/future-date-input-selector/future-date-input-selector-row"}});
Ember.TEMPLATES["select-kit/templates/components/mini-tag-chooser/mini-tag-chooser-header"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"selectedNameComponent\"]]],[[\"tabindex\",\"item\",\"selectKit\"],[[24,[\"tabindex\"]],[24,[\"selectedContent\"]],[24,[\"selectKit\"]]]]],false],[0,\"\\n\\n\"],[1,[28,\"d-icon\",[[24,[\"caretIcon\"]]],[[\"class\"],[\"caret-icon\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/mini-tag-chooser/mini-tag-chooser-header"}});
Ember.TEMPLATES["select-kit/templates/components/mini-tag-chooser/selected-collection"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"tag\"],\"statements\":[[4,\"each\",[[24,[\"tags\"]]],null,{\"statements\":[[4,\"d-button\",null,[[\"translatedTitle\",\"icon\",\"action\",\"actionParam\",\"class\"],[[23,1,[\"value\"]],\"times\",[28,\"action\",[[23,0,[]],\"deselectTag\"],null],[23,1,[\"value\"]],[23,1,[\"classNames\"]]]],{\"statements\":[[0,\"    \"],[1,[28,\"discourse-tag\",[[23,1,[\"value\"]]],[[\"noHref\"],[true]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/mini-tag-chooser/selected-collection"}});
Ember.TEMPLATES["select-kit/templates/components/multi-select"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"collection\"],\"statements\":[[4,\"unless\",[[24,[\"isHidden\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"headerComponent\"]]],[[\"tabindex\",\"value\",\"selectedContent\",\"selectKit\"],[[24,[\"tabindex\"]],[24,[\"value\"]],[24,[\"selectedContent\"]],[24,[\"selectKit\"]]]]],false],[0,\"\\n\\n\"],[4,\"select-kit/select-kit-body\",null,[[\"selectKit\"],[[24,[\"selectKit\"]]]],{\"statements\":[[4,\"unless\",[[24,[\"selectKit\",\"isLoading\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"selectKit\",\"filter\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"selectKit\",\"hasNoContent\"]]],null,{\"statements\":[[0,\"        \"],[7,\"span\",true],[10,\"class\",\"no-content\"],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"select_kit.no_content\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"each\",[[24,[\"collections\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"component\",[[28,\"component-for-collection\",[[23,1,[\"identifier\"]],[24,[\"selectKit\"]]],null]],[[\"collection\",\"selectKit\",\"value\"],[[23,1,[]],[24,[\"selectKit\"]],[24,[\"value\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"span\",true],[10,\"class\",\"is-loading\"],[8],[0,\"\\n        \"],[1,[28,\"loading-spinner\",null,[[\"size\"],[\"small\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"select-kit-wrapper\"],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/multi-select"}});
Ember.TEMPLATES["select-kit/templates/components/multi-select/multi-select-header"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"item\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"choices\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"selectedContent\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"selectedNameComponent\"]]],[[\"tabindex\",\"item\",\"selectKit\"],[[24,[\"tabindex\"]],[23,1,[]],[24,[\"selectKit\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"choice input-wrapper\"],[8],[0,\"\\n    \"],[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"filterComponent\"]]],[[\"selectKit\"],[[24,[\"selectKit\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/multi-select/multi-select-header"}});
Ember.TEMPLATES["select-kit/templates/components/multi-select/selected-category"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"body\"],[8],[0,\"\\n  \"],[1,[22,\"badge\"],false],[0,\"\\n  \"],[1,[28,\"d-icon\",[\"times\"],null],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/multi-select/selected-category"}});
Ember.TEMPLATES["select-kit/templates/components/period-chooser/period-chooser-header"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"h2\",true],[10,\"class\",\"selected-name\"],[11,\"title\",[22,\"title\"]],[8],[0,\"\\n  \"],[1,[28,\"period-title\",[[24,[\"value\"]]],[[\"showDateRange\",\"fullDay\"],[true,[24,[\"selectKit\",\"options\",\"fullDay\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[1,[28,\"d-icon\",[[24,[\"caretIcon\"]]],[[\"class\"],[\"caret-icon\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/period-chooser/period-chooser-header"}});
Ember.TEMPLATES["select-kit/templates/components/period-chooser/period-chooser-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"span\",true],[10,\"class\",\"selection-indicator\"],[8],[9],[0,\"\\n\\n\"],[7,\"span\",true],[10,\"class\",\"period-title\"],[8],[0,\"\\n  \"],[1,[28,\"period-title\",[[24,[\"rowValue\"]]],[[\"showDateRange\",\"fullDay\"],[true,[24,[\"selectKit\",\"options\",\"fullDay\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/period-chooser/period-chooser-row"}});
Ember.TEMPLATES["select-kit/templates/components/pinned-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"pinned-options\",null,[[\"value\",\"topic\"],[[24,[\"pinned\"]],[24,[\"topic\"]]]]],false],[0,\"\\n\\n\"],[7,\"p\",true],[10,\"class\",\"reason\"],[8],[0,\"\\n  \"],[1,[22,\"reasonText\"],true],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/pinned-button"}});
Ember.TEMPLATES["select-kit/templates/components/select-kit/errors-collection"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"item\"],\"statements\":[[4,\"if\",[[24,[\"collection\"]]],null,{\"statements\":[[4,\"each\",[[24,[\"collection\",\"content\"]]],null,{\"statements\":[[0,\"    \"],[7,\"li\",true],[10,\"class\",\"select-kit-error\"],[8],[1,[23,1,[]],false],[9],[0,\"\\n\"]],\"parameters\":[1]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/select-kit/errors-collection"}});
Ember.TEMPLATES["select-kit/templates/components/select-kit/select-kit-body"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"if\",[[24,[\"selectKit\",\"isExpanded\"]]],null,{\"statements\":[[0,\"  \"],[14,1],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/select-kit/select-kit-body"}});
Ember.TEMPLATES["select-kit/templates/components/select-kit/select-kit-collection"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"item\"],\"statements\":[[4,\"each\",[[24,[\"collection\",\"content\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"component\",[[28,\"component-for-row\",[[24,[\"collection\",\"identifier\"]],[23,1,[]],[24,[\"selectKit\"]]],null]],[[\"item\",\"value\",\"selectKit\"],[[23,1,[]],[24,[\"value\"]],[24,[\"selectKit\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/select-kit/select-kit-collection"}});
Ember.TEMPLATES["select-kit/templates/components/select-kit/select-kit-filter"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"unless\",[[24,[\"isHidden\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"input\",null,[[\"tabindex\",\"class\",\"placeholder\",\"autocomplete\",\"autocorrect\",\"autocapitalize\",\"spellcheck\",\"value\",\"input\",\"keyDown\"],[-1,\"filter-input\",[24,[\"placeholder\"]],\"off\",\"off\",\"off\",false,[28,\"readonly\",[[24,[\"selectKit\",\"filter\"]]],null],[28,\"action\",[[23,0,[]],\"onInput\"],null],[28,\"action\",[[23,0,[]],\"onKeydown\"],null]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"selectKit\",\"options\",\"filterIcon\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-icon\",[[24,[\"selectKit\",\"options\",\"filterIcon\"]]],[[\"class\"],[\"filter-icon\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/select-kit/select-kit-filter"}});
Ember.TEMPLATES["select-kit/templates/components/select-kit/select-kit-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"icon\"],\"statements\":[[4,\"each\",[[24,[\"icons\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-icon\",[[23,1,[]]],[[\"translatedtitle\"],[[28,\"dasherize\",[[24,[\"title\"]]],null]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n\"],[7,\"span\",true],[10,\"class\",\"name\"],[8],[0,\"\\n  \"],[1,[22,\"label\"],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/select-kit/select-kit-row"}});
Ember.TEMPLATES["select-kit/templates/components/select-kit/single-select-header"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"icon\"],\"statements\":[[4,\"each\",[[24,[\"icons\"]]],null,{\"statements\":[[0,\" \"],[1,[28,\"d-icon\",[[23,1,[]]],null],false],[0,\" \"]],\"parameters\":[1]},null],[0,\"\\n\\n\"],[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"selectedNameComponent\"]]],[[\"tabindex\",\"item\",\"selectKit\"],[[24,[\"tabindex\"]],[24,[\"selectedContent\"]],[24,[\"selectKit\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/select-kit/single-select-header"}});
Ember.TEMPLATES["select-kit/templates/components/selected-name"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"selectKit\",\"options\",\"showFullTitle\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"item\",\"icon\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-icon\",[[24,[\"item\",\"icon\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"span\",true],[10,\"class\",\"name\"],[8],[0,\"\\n    \"],[1,[22,\"label\"],false],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"selectKit\",\"options\",\"clearOnClick\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-icon\",[\"times\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"shouldDisplayClearableButton\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"icon\",\"action\",\"actionParam\"],[\"btn-clear\",\"times\",[24,[\"selectKit\",\"deselect\"]],[24,[\"item\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"item\",\"icon\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-icon\",[[24,[\"item\",\"icon\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/selected-name"}});
Ember.TEMPLATES["select-kit/templates/components/single-select"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"collection\"],\"statements\":[[4,\"unless\",[[24,[\"isHidden\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"headerComponent\"]]],[[\"tabindex\",\"value\",\"selectedContent\",\"selectKit\"],[[24,[\"tabindex\"]],[24,[\"value\"]],[24,[\"selectedContent\"]],[24,[\"selectKit\"]]]]],false],[0,\"\\n\\n\"],[4,\"select-kit/select-kit-body\",null,[[\"selectKit\"],[[24,[\"selectKit\"]]]],{\"statements\":[[0,\"    \"],[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"filterComponent\"]]],[[\"selectKit\"],[[24,[\"selectKit\"]]]]],false],[0,\"\\n\\n\"],[4,\"unless\",[[24,[\"selectKit\",\"isLoading\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"selectKit\",\"filter\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"selectKit\",\"hasNoContent\"]]],null,{\"statements\":[[0,\"        \"],[7,\"span\",true],[10,\"class\",\"no-content\"],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"select_kit.no_content\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"each\",[[24,[\"collections\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"component\",[[28,\"component-for-collection\",[[23,1,[\"identifier\"]],[24,[\"selectKit\"]]],null]],[[\"collection\",\"selectKit\",\"value\"],[[23,1,[]],[24,[\"selectKit\"]],[24,[\"value\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"span\",true],[10,\"class\",\"is-loading\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"site\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"loading-spinner\",null,[[\"size\"],[\"small\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"select-kit-wrapper\"],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/single-select"}});
Ember.TEMPLATES["select-kit/templates/components/tag-chooser-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"discourse-tag\",[[24,[\"rowValue\"]]],[[\"count\",\"noHref\"],[[24,[\"item\",\"count\"]],true]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/tag-chooser-row"}});
Ember.TEMPLATES["select-kit/templates/components/tag-drop/tag-drop-header"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"component\",[[24,[\"selectKit\",\"options\",\"selectedNameComponent\"]]],[[\"tabindex\",\"item\",\"selectKit\",\"shouldDisplayClearableButton\"],[[24,[\"tabindex\"]],[24,[\"selectedContent\"]],[24,[\"selectKit\"]],[24,[\"shouldDisplayClearableButton\"]]]]],false],[0,\"\\n\\n\"],[1,[28,\"d-icon\",[[24,[\"caretIcon\"]]],[[\"class\"],[\"caret-icon\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/tag-drop/tag-drop-header"}});
Ember.TEMPLATES["select-kit/templates/components/tag-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"discourse-tag\",[[24,[\"rowValue\"]]],[[\"noHref\",\"count\"],[true,[24,[\"item\",\"count\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/tag-row"}});
Ember.TEMPLATES["select-kit/templates/components/toolbar-popup-menu-options/toolbar-popup-menu-options-heading"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"heading\"],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/toolbar-popup-menu-options/toolbar-popup-menu-options-heading"}});
Ember.TEMPLATES["select-kit/templates/components/topic-notifications-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"topic-notifications-options\",null,[[\"value\",\"topic\",\"onChange\",\"options\"],[[24,[\"notificationLevel\"]],[24,[\"topic\"]],[28,\"action\",[[23,0,[]],\"changeTopicNotificationLevel\"],null],[28,\"hash\",null,[[\"showFullTitle\",\"placement\"],[[24,[\"showFullTitle\"]],[24,[\"placement\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"appendReason\"]]],null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[10,\"class\",\"reason\"],[8],[0,\"\\n    \"],[1,[24,[\"topic\",\"details\",\"notificationReasonText\"]],true],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/topic-notifications-button"}});
Ember.TEMPLATES["select-kit/templates/components/user-chooser/user-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"avatar\",[[24,[\"item\"]]],[[\"imageSize\"],[\"tiny\"]]],false],[0,\"\\n\"],[7,\"span\",true],[10,\"class\",\"username\"],[8],[1,[28,\"format-username\",[[24,[\"item\",\"username\"]]],null],false],[9],[0,\"\\n\"],[7,\"span\",true],[10,\"class\",\"name\"],[8],[1,[24,[\"item\",\"name\"]],false],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"select-kit/templates/components/user-chooser/user-row"}});
define("discourse", ["exports", "discourse-common/resolver", "discourse-common/utils/decorators", "@ember/object", "discourse-common/mixins/focus-event", "discourse-common/lib/deprecated"], function (exports, _resolver, _decorators, _object, _focusEvent, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj;

  var _pluginCallbacks = [];

  var Discourse = Ember.Application.extend(_focusEvent.default, (_dec = (0, _decorators.observes)("_docTitle", "hasFocus", "contextCount", "notificationCount"), _dec2 = (0, _decorators.default)("contextCount", "notificationCount"), _dec3 = (0, _decorators.observes)("contextCount", "notificationCount"), _dec4 = (0, _decorators.observes)("hasFocus"), _dec5 = (0, _decorators.default)("currentAssetVersion", "desiredAssetVersion"), (_obj = {
    rootElement: "#main",
    _docTitle: document.title,
    RAW_TEMPLATES: {},
    __widget_helpers: {},
    customEvents: {
      paste: "paste"
    },

    reset: function reset() {
      this._super.apply(this, arguments);

      Mousetrap.reset();
    },
    getURL: function getURL(url) {
      if (!url) return url;

      // if it's a non relative URL, return it.
      if (url !== "/" && !/^\/[^\/]/.test(url)) return url;

      if (url[0] !== "/") url = "/" + url;
      if (url.startsWith(Discourse.BaseUri)) return url;

      return Discourse.BaseUri + url;
    },
    getURLWithCDN: function getURLWithCDN(url) {
      url = Discourse.getURL(url);
      // only relative urls
      if (Discourse.CDN && /^\/[^\/]/.test(url)) {
        url = Discourse.CDN + url;
      } else if (Discourse.S3CDN) {
        url = url.replace(Discourse.S3BaseUrl, Discourse.S3CDN);
      }
      return url;
    },


    Resolver: (0, _resolver.buildResolver)("discourse"),

    _titleChanged: function _titleChanged() {
      var title = this._docTitle || Discourse.SiteSettings.title;

      // if we change this we can trigger changes on document.title
      // only set if changed.
      if ($("title").text() !== title) {
        $("title").text(title);
      }

      var displayCount = this.displayCount;
      var dynamicFavicon = this.currentUser && this.currentUser.dynamic_favicon;
      if (displayCount > 0 && !dynamicFavicon) {
        title = "(" + displayCount + ") " + title;
      }

      document.title = title;
    },
    displayCount: function displayCount() {
      return this.currentUser && this.currentUser.get("title_count_mode") === "notifications" ? this.notificationCount : this.contextCount;
    },
    faviconChanged: function faviconChanged() {
      if (this.currentUser && this.currentUser.get("dynamic_favicon")) {
        var url = Discourse.SiteSettings.site_favicon_url;

        // Since the favicon is cached on the browser for a really long time, we
        // append the favicon_url as query params to the path so that the cache
        // is not used when the favicon changes.
        if (/^http/.test(url)) {
          url = Discourse.getURL("/favicon/proxied?" + encodeURIComponent(url));
        }

        var displayCount = this.displayCount;

        new window.Favcount(url).set(displayCount);
      }
    },
    updateContextCount: function updateContextCount(count) {
      this.set("contextCount", count);
    },
    updateNotificationCount: function updateNotificationCount(count) {
      if (!this.hasFocus) {
        this.set("notificationCount", count);
      }
    },
    incrementBackgroundContextCount: function incrementBackgroundContextCount() {
      if (!this.hasFocus) {
        this.set("backgroundNotify", true);
        this.set("contextCount", (this.contextCount || 0) + 1);
      }
    },
    resetCounts: function resetCounts() {
      if (this.hasFocus && this.backgroundNotify) {
        this.set("contextCount", 0);
      }
      this.set("backgroundNotify", false);

      if (this.hasFocus) {
        this.set("notificationCount", 0);
      }
    },
    authenticationComplete: function authenticationComplete(options) {
      // TODO, how to dispatch this to the controller without the container?
      var loginController = Discourse.__container__.lookup("controller:login");
      return loginController.authenticationComplete(options);
    },
    start: function start() {
      $("noscript").remove();

      Object.keys(requirejs._eak_seen).forEach(function (key) {
        if (/\/pre\-initializers\//.test(key)) {
          var module = requirejs(key, null, null, true);
          if (!module) {
            throw new Error(key + " must export an initializer.");
          }

          var init = module.default;
          var oldInitialize = init.initialize;
          init.initialize = function () {
            oldInitialize.call(this, Discourse.__container__, Discourse);
          };

          Discourse.initializer(init);
        }
      });

      Object.keys(requirejs._eak_seen).forEach(function (key) {
        if (/\/initializers\//.test(key)) {
          var module = requirejs(key, null, null, true);
          if (!module) {
            throw new Error(key + " must export an initializer.");
          }

          var init = module.default;
          var oldInitialize = init.initialize;
          init.initialize = function () {
            oldInitialize.call(this, Discourse.__container__, Discourse);
          };

          Discourse.instanceInitializer(init);
        }
      });

      // Plugins that are registered via `<script>` tags.
      var withPluginApi = requirejs("discourse/lib/plugin-api").withPluginApi;
      var initCount = 0;
      _pluginCallbacks.forEach(function (cb) {
        Discourse.instanceInitializer({
          name: "_discourse_plugin_" + ++initCount,
          after: "inject-objects",
          initialize: function initialize() {
            withPluginApi(cb.version, cb.code);
          }
        });
      });
    },
    requiresRefresh: function requiresRefresh(currentAssetVersion, desiredAssetVersion) {
      return desiredAssetVersion && currentAssetVersion !== desiredAssetVersion;
    },
    _registerPluginCode: function _registerPluginCode(version, code) {
      _pluginCallbacks.push({ version: version, code: code });
    },


    assetVersion: (0, _object.computed)({
      get: function get() {
        return this.currentAssetVersion;
      },
      set: function set(key, val) {
        if (val) {
          if (this.currentAssetVersion) {
            this.set("desiredAssetVersion", val);
          } else {
            this.set("currentAssetVersion", val);
          }
        }
        return this.currentAssetVersion;
      }
    })
  }, (_applyDecoratedDescriptor(_obj, "_titleChanged", [_dec], Object.getOwnPropertyDescriptor(_obj, "_titleChanged"), _obj), _applyDecoratedDescriptor(_obj, "displayCount", [_dec2], Object.getOwnPropertyDescriptor(_obj, "displayCount"), _obj), _applyDecoratedDescriptor(_obj, "faviconChanged", [_dec3], Object.getOwnPropertyDescriptor(_obj, "faviconChanged"), _obj), _applyDecoratedDescriptor(_obj, "resetCounts", [_dec4], Object.getOwnPropertyDescriptor(_obj, "resetCounts"), _obj), _applyDecoratedDescriptor(_obj, "requiresRefresh", [_dec5], Object.getOwnPropertyDescriptor(_obj, "requiresRefresh"), _obj)), _obj))).create();

  Object.defineProperty(Discourse, "Model", {
    get: function get() {
      (0, _deprecated.default)("Use an `@ember/object` instead of Discourse.Model", {
        since: "2.4.0",
        dropFrom: "2.5.0"
      });
      return _object.default;
    }
  });

  exports.default = Discourse;
});
// ensure Discourse is added as a global
(function() {
  window.Discourse = requirejs('discourse').default;
})();
define("discourse/lib/to-markdown", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = toMarkdown;

  var _get = function get(object, property, receiver) {
    if (object === null) object = Function.prototype;
    var desc = Object.getOwnPropertyDescriptor(object, property);

    if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);

      if (parent === null) {
        return undefined;
      } else {
        return get(parent, property, receiver);
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;

      if (getter === undefined) {
        return undefined;
      }

      return getter.call(receiver);
    }
  };

  function _possibleConstructorReturn(self, call) {
    if (!self) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return call && (typeof call === "object" || typeof call === "function") ? call : self;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
  }

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var trimLeft = function trimLeft(text) {
    return text.replace(/^\s+/, "");
  };
  var trimRight = function trimRight(text) {
    return text.replace(/\s+$/, "");
  };
  var countPipes = function countPipes(text) {
    return (text.replace(/\\\|/, "").match(/\|/g) || []).length;
  };
  var msoListClasses = ["MsoListParagraphCxSpFirst", "MsoListParagraphCxSpMiddle", "MsoListParagraphCxSpLast"];
  var hasChild = function hasChild(e, n) {
    return (e.children || []).some(function (c) {
      return c.name === n;
    });
  };

  var Tag = exports.Tag = function () {
    function Tag(name) {
      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
      var suffix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "";
      var inline = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

      _classCallCheck(this, Tag);

      this.name = name;
      this.prefix = prefix;
      this.suffix = suffix;
      this.inline = inline;
    }

    _createClass(Tag, [{
      key: "decorate",
      value: function decorate(text) {
        if (this.prefix || this.suffix) {
          text = [this.prefix, text, this.suffix].join("");
        }

        if (this.inline) {
          text = " " + text + " ";
        }

        return text;
      }
    }, {
      key: "toMarkdown",
      value: function toMarkdown() {
        var text = this.element.innerMarkdown();

        if (text && text.trim()) {
          return this.decorate(text);
        }

        return text;
      }
    }], [{
      key: "blocks",
      value: function blocks() {
        return ["address", "article", "dd", "div", "dl", "dt", "fieldset", "figcaption", "figure", "footer", "form", "header", "hgroup", "hr", "main", "nav", "p", "pre", "section"];
      }
    }, {
      key: "headings",
      value: function headings() {
        return ["h1", "h2", "h3", "h4", "h5", "h6"];
      }
    }, {
      key: "emphases",
      value: function emphases() {
        return [["b", "**"], ["strong", "**"], ["i", "*"], ["em", "*"], ["s", "~~"], ["strike", "~~"]];
      }
    }, {
      key: "slices",
      value: function slices() {
        return ["dt", "dd", "thead", "tbody", "tfoot"];
      }
    }, {
      key: "trimmable",
      value: function trimmable() {
        return [].concat(_toConsumableArray(Tag.blocks()), _toConsumableArray(Tag.headings()), _toConsumableArray(Tag.slices()), ["aside", "li", "td", "th", "br", "hr", "blockquote", "table", "ol", "tr", "ul"]);
      }
    }, {
      key: "whitelists",
      value: function whitelists() {
        return ["ins", "del", "small", "big", "kbd", "ruby", "rt", "rb", "rp"];
      }
    }, {
      key: "block",
      value: function block(name, prefix, suffix) {
        return function (_Tag) {
          _inherits(_class, _Tag);

          function _class() {
            _classCallCheck(this, _class);

            var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, name, prefix, suffix));

            _this.gap = "\n\n";
            return _this;
          }

          _createClass(_class, [{
            key: "decorate",
            value: function decorate(text) {
              var parent = this.element.parent;

              if (this.name === "p" && parent && parent.name === "li") {
                // fix for google docs
                this.gap = "";
              }

              return "" + this.gap + this.prefix + text + this.suffix + this.gap;
            }
          }]);

          return _class;
        }(Tag);
      }
    }, {
      key: "aside",
      value: function aside() {
        return function (_Tag$block) {
          _inherits(_class2, _Tag$block);

          function _class2() {
            _classCallCheck(this, _class2);

            return _possibleConstructorReturn(this, (_class2.__proto__ || Object.getPrototypeOf(_class2)).call(this));
          }

          _createClass(_class2, [{
            key: "toMarkdown",
            value: function toMarkdown() {
              if (!/\bquote\b/.test(this.element.attributes.class)) {
                return _get(_class2.prototype.__proto__ || Object.getPrototypeOf(_class2.prototype), "toMarkdown", this).call(this);
              }

              var blockquote = this.element.children.find(function (child) {
                return child.name === "blockquote";
              });

              if (!blockquote) {
                return _get(_class2.prototype.__proto__ || Object.getPrototypeOf(_class2.prototype), "toMarkdown", this).call(this);
              }

              var text = Element.parse([blockquote], this.element) || "";
              text = text.trim().replace(/^>/g, "");
              if (text.length === 0) {
                return "";
              }

              var username = this.element.attributes["data-username"];
              var post = this.element.attributes["data-post"];
              var topic = this.element.attributes["data-topic"];

              var prefix = username && post && topic ? "[quote=\"" + username + ", post:" + post + ", topic:" + topic + "\"]" : "[quote]";

              return "\n\n" + prefix + "\n" + text + "\n[/quote]\n\n";
            }
          }]);

          return _class2;
        }(Tag.block("aside"));
      }
    }, {
      key: "heading",
      value: function heading(name, i) {
        var prefix = [].concat(_toConsumableArray(Array(i))).map(function () {
          return "#";
        }).join("") + " ";
        return Tag.block(name, prefix, "");
      }
    }, {
      key: "emphasis",
      value: function emphasis(name, decorator) {
        return function (_Tag2) {
          _inherits(_class3, _Tag2);

          function _class3() {
            _classCallCheck(this, _class3);

            return _possibleConstructorReturn(this, (_class3.__proto__ || Object.getPrototypeOf(_class3)).call(this, name, decorator, decorator, true));
          }

          _createClass(_class3, [{
            key: "decorate",
            value: function decorate(text) {
              if (text.includes("\n")) {
                this.prefix = "<" + this.name + ">";
                this.suffix = "</" + this.name + ">";
              }

              var space = text.match(/^\s/) || [""];
              this.prefix = space[0] + this.prefix;
              space = text.match(/\s$/) || [""];
              this.suffix = this.suffix + space[0];

              return _get(_class3.prototype.__proto__ || Object.getPrototypeOf(_class3.prototype), "decorate", this).call(this, text.trim());
            }
          }]);

          return _class3;
        }(Tag);
      }
    }, {
      key: "whitelist",
      value: function whitelist(name) {
        return function (_Tag3) {
          _inherits(_class4, _Tag3);

          function _class4() {
            _classCallCheck(this, _class4);

            return _possibleConstructorReturn(this, (_class4.__proto__ || Object.getPrototypeOf(_class4)).call(this, name, "<" + name + ">", "</" + name + ">"));
          }

          return _class4;
        }(Tag);
      }
    }, {
      key: "replace",
      value: function replace(name, text) {
        return function (_Tag4) {
          _inherits(_class5, _Tag4);

          function _class5() {
            _classCallCheck(this, _class5);

            var _this5 = _possibleConstructorReturn(this, (_class5.__proto__ || Object.getPrototypeOf(_class5)).call(this, name, "", ""));

            _this5.text = text;
            return _this5;
          }

          _createClass(_class5, [{
            key: "toMarkdown",
            value: function toMarkdown() {
              return this.text;
            }
          }]);

          return _class5;
        }(Tag);
      }
    }, {
      key: "span",
      value: function span() {
        return function (_Tag5) {
          _inherits(_class6, _Tag5);

          function _class6() {
            _classCallCheck(this, _class6);

            return _possibleConstructorReturn(this, (_class6.__proto__ || Object.getPrototypeOf(_class6)).call(this, "span"));
          }

          _createClass(_class6, [{
            key: "decorate",
            value: function decorate(text) {
              var attr = this.element.attributes;

              if (attr.class === "badge badge-notification clicks") {
                return "";
              }

              return _get(_class6.prototype.__proto__ || Object.getPrototypeOf(_class6.prototype), "decorate", this).call(this, text);
            }
          }]);

          return _class6;
        }(Tag);
      }
    }, {
      key: "link",
      value: function link() {
        return function (_Tag6) {
          _inherits(_class7, _Tag6);

          function _class7() {
            _classCallCheck(this, _class7);

            return _possibleConstructorReturn(this, (_class7.__proto__ || Object.getPrototypeOf(_class7)).call(this, "a", "", "", true));
          }

          _createClass(_class7, [{
            key: "decorate",
            value: function decorate(text) {
              var e = this.element;
              var attr = e.attributes;

              if (/^mention/.test(attr.class) && "@" === text[0]) {
                return text;
              } else if ("hashtag" === attr.class && "#" === text[0]) {
                return text;
              } else if (["lightbox", "d-lazyload"].includes(attr.class) && hasChild(e, "img")) {
                var href = attr.href;
                var img = (e.children || []).find(function (c) {
                  return c.name === "img";
                });
                var base62SHA1 = img.attributes["data-base62-sha1"];
                text = attr.title || "";

                if (base62SHA1) {
                  href = "upload://" + base62SHA1;
                }

                return "![" + text + "](" + href + ")";
              }

              if (attr.href && text !== attr.href) {
                text = text.replace(/\n{2,}/g, "\n");
                return "[" + text + "](" + attr.href + ")";
              }

              return text;
            }
          }]);

          return _class7;
        }(Tag);
      }
    }, {
      key: "image",
      value: function image() {
        return function (_Tag7) {
          _inherits(_class8, _Tag7);

          function _class8() {
            _classCallCheck(this, _class8);

            return _possibleConstructorReturn(this, (_class8.__proto__ || Object.getPrototypeOf(_class8)).call(this, "img", "", "", true));
          }

          _createClass(_class8, [{
            key: "toMarkdown",
            value: function toMarkdown() {
              var e = this.element;
              var attr = e.attributes;
              var pAttr = e.parent && e.parent.attributes || {};
              var src = attr.src || pAttr.src;
              var base62SHA1 = attr["data-base62-sha1"];
              if (base62SHA1) src = "upload://" + base62SHA1;
              var cssClass = attr.class || pAttr.class;

              if (cssClass && cssClass.includes("emoji")) {
                return attr.title || pAttr.title;
              }

              if (src) {
                var alt = attr.alt || pAttr.alt || "";
                var width = attr.width || pAttr.width;
                var height = attr.height || pAttr.height;
                var title = attr.title;

                if (width && height) {
                  var pipe = this.element.parentNames.includes("table") ? "\\|" : "|";
                  alt = "" + alt + pipe + width + "x" + height;
                }

                return "![" + alt + "](" + src + (title ? " \"" + title + "\"" : "") + ")";
              }

              return "";
            }
          }]);

          return _class8;
        }(Tag);
      }
    }, {
      key: "slice",
      value: function slice(name, suffix) {
        return function (_Tag8) {
          _inherits(_class9, _Tag8);

          function _class9() {
            _classCallCheck(this, _class9);

            return _possibleConstructorReturn(this, (_class9.__proto__ || Object.getPrototypeOf(_class9)).call(this, name, "", suffix));
          }

          _createClass(_class9, [{
            key: "decorate",
            value: function decorate(text) {
              if (!this.element.next) {
                this.suffix = "";
              }
              return "" + text + this.suffix;
            }
          }]);

          return _class9;
        }(Tag);
      }
    }, {
      key: "cell",
      value: function cell(name) {
        return function (_Tag9) {
          _inherits(_class10, _Tag9);

          function _class10() {
            _classCallCheck(this, _class10);

            return _possibleConstructorReturn(this, (_class10.__proto__ || Object.getPrototypeOf(_class10)).call(this, name, "|"));
          }

          _createClass(_class10, [{
            key: "toMarkdown",
            value: function toMarkdown() {
              var text = this.element.innerMarkdown().trim();

              if (text.includes("\n")) {
                // Unsupported format inside Markdown table cells
                var e = this.element;
                while (e = e.parent) {
                  if (e.name === "table") {
                    e.tag().invalid();
                    break;
                  }
                }
              }

              return this.decorate(text);
            }
          }]);

          return _class10;
        }(Tag);
      }
    }, {
      key: "li",
      value: function li() {
        return function (_Tag$slice) {
          _inherits(_class11, _Tag$slice);

          function _class11() {
            _classCallCheck(this, _class11);

            return _possibleConstructorReturn(this, (_class11.__proto__ || Object.getPrototypeOf(_class11)).apply(this, arguments));
          }

          _createClass(_class11, [{
            key: "decorate",
            value: function decorate(text) {
              var indent = this.element.filterParentNames(["ol", "ul"]).slice(1).map(function () {
                return "\t";
              }).join("");
              var attrs = this.element.attributes;

              if (msoListClasses.includes(attrs.class)) {
                try {
                  var level = parseInt(attrs.style.match(/level./)[0].replace("level", ""), 10);
                  indent = Array(level).join("\t") + indent;
                } finally {
                  if (attrs.class === "MsoListParagraphCxSpFirst") {
                    indent = "\n\n" + indent;
                  } else if (attrs.class === "MsoListParagraphCxSpLast") {
                    text = text + "\n";
                  }
                }
              }

              return _get(_class11.prototype.__proto__ || Object.getPrototypeOf(_class11.prototype), "decorate", this).call(this, indent + "* " + trimLeft(text));
            }
          }]);

          return _class11;
        }(Tag.slice("li", "\n"));
      }
    }, {
      key: "code",
      value: function code() {
        return function (_Tag10) {
          _inherits(_class12, _Tag10);

          function _class12() {
            _classCallCheck(this, _class12);

            return _possibleConstructorReturn(this, (_class12.__proto__ || Object.getPrototypeOf(_class12)).call(this, "code", "`", "`"));
          }

          _createClass(_class12, [{
            key: "decorate",
            value: function decorate(text) {
              if (this.element.parentNames.includes("pre")) {
                this.prefix = "\n\n```\n";
                this.suffix = "\n```\n\n";
              } else {
                this.inline = true;
              }

              text = $("<textarea />").html(text).text();
              return _get(_class12.prototype.__proto__ || Object.getPrototypeOf(_class12.prototype), "decorate", this).call(this, text);
            }
          }]);

          return _class12;
        }(Tag);
      }
    }, {
      key: "blockquote",
      value: function blockquote() {
        return function (_Tag11) {
          _inherits(_class13, _Tag11);

          function _class13() {
            _classCallCheck(this, _class13);

            return _possibleConstructorReturn(this, (_class13.__proto__ || Object.getPrototypeOf(_class13)).call(this, "blockquote", "\n> ", "\n"));
          }

          _createClass(_class13, [{
            key: "decorate",
            value: function decorate(text) {
              text = text.trim().replace(/\n{2,}>/g, "\n>").replace(/\n/g, "\n> ");
              return _get(_class13.prototype.__proto__ || Object.getPrototypeOf(_class13.prototype), "decorate", this).call(this, text);
            }
          }]);

          return _class13;
        }(Tag);
      }
    }, {
      key: "table",
      value: function table() {
        return function (_Tag$block2) {
          _inherits(_class14, _Tag$block2);

          function _class14() {
            _classCallCheck(this, _class14);

            var _this14 = _possibleConstructorReturn(this, (_class14.__proto__ || Object.getPrototypeOf(_class14)).call(this));

            _this14.isValid = true;
            return _this14;
          }

          _createClass(_class14, [{
            key: "invalid",
            value: function invalid() {
              this.isValid = false;
              if (this.element.parentNames.includes("table")) {
                var e = this.element;
                while (e = e.parent) {
                  if (e.name === "table") {
                    e.tag().invalid();
                    break;
                  }
                }
              }
            }
          }, {
            key: "decorate",
            value: function decorate(text) {
              text = _get(_class14.prototype.__proto__ || Object.getPrototypeOf(_class14.prototype), "decorate", this).call(this, text).replace(/\|\n{2,}\|/g, "|\n|");
              var rows = text.trim().split("\n");
              var pipeCount = countPipes(rows[0]);
              this.isValid = this.isValid && rows.length > 1 && pipeCount > 2 && rows.reduce(function (a, c) {
                return a && countPipes(c) <= pipeCount;
              }); // Unsupported table format for Markdown conversion

              if (this.isValid) {
                var splitterRow = [].concat(_toConsumableArray(Array(pipeCount - 1))).map(function () {
                  return "| --- ";
                }).join("") + "|\n";
                text = text.replace("|\n", "|\n" + splitterRow);
              } else {
                text = text.replace(/\|/g, " ");
                this.invalid();
              }

              return text;
            }
          }]);

          return _class14;
        }(Tag.block("table"));
      }
    }, {
      key: "list",
      value: function list(name) {
        return function (_Tag$block3) {
          _inherits(_class15, _Tag$block3);

          function _class15() {
            _classCallCheck(this, _class15);

            return _possibleConstructorReturn(this, (_class15.__proto__ || Object.getPrototypeOf(_class15)).apply(this, arguments));
          }

          _createClass(_class15, [{
            key: "decorate",
            value: function decorate(text) {
              var smallGap = "";
              var parent = this.element.parent;

              if (parent && parent.name === "ul") {
                this.gap = "";
                this.suffix = "\n";
              }

              if (this.element.filterParentNames(["li"]).length) {
                this.gap = "";
                smallGap = "\n";
              }

              return smallGap + _get(_class15.prototype.__proto__ || Object.getPrototypeOf(_class15.prototype), "decorate", this).call(this, trimRight(text));
            }
          }]);

          return _class15;
        }(Tag.block(name));
      }
    }, {
      key: "ol",
      value: function ol() {
        return function (_Tag$list) {
          _inherits(_class16, _Tag$list);

          function _class16() {
            _classCallCheck(this, _class16);

            return _possibleConstructorReturn(this, (_class16.__proto__ || Object.getPrototypeOf(_class16)).apply(this, arguments));
          }

          _createClass(_class16, [{
            key: "decorate",
            value: function decorate(text) {
              text = "\n" + text;
              var bullet = text.match(/\n\t*\*/)[0];

              for (var i = parseInt(this.element.attributes.start || 1, 10); text.includes(bullet); i++) {
                text = text.replace(bullet, bullet.replace("*", i + "."));
              }

              return _get(_class16.prototype.__proto__ || Object.getPrototypeOf(_class16.prototype), "decorate", this).call(this, text.slice(1));
            }
          }]);

          return _class16;
        }(Tag.list("ol"));
      }
    }, {
      key: "tr",
      value: function tr() {
        return function (_Tag$slice2) {
          _inherits(_class17, _Tag$slice2);

          function _class17() {
            _classCallCheck(this, _class17);

            return _possibleConstructorReturn(this, (_class17.__proto__ || Object.getPrototypeOf(_class17)).apply(this, arguments));
          }

          _createClass(_class17, [{
            key: "decorate",
            value: function decorate(text) {
              if (!this.element.next) {
                this.suffix = "|";
              }
              return "" + text + this.suffix;
            }
          }]);

          return _class17;
        }(Tag.slice("tr", "|\n"));
      }
    }]);

    return Tag;
  }();

  function tags() {
    return [].concat(_toConsumableArray(Tag.blocks().map(function (b) {
      return Tag.block(b);
    })), _toConsumableArray(Tag.headings().map(function (h, i) {
      return Tag.heading(h, i + 1);
    })), _toConsumableArray(Tag.slices().map(function (s) {
      return Tag.slice(s, "\n");
    })), _toConsumableArray(Tag.emphases().map(function (e) {
      return Tag.emphasis(e[0], e[1]);
    })), _toConsumableArray(Tag.whitelists().map(function (t) {
      return Tag.whitelist(t);
    })), [Tag.aside(), Tag.cell("td"), Tag.cell("th"), Tag.replace("br", "\n"), Tag.replace("hr", "\n---\n"), Tag.replace("head", ""), Tag.li(), Tag.link(), Tag.image(), Tag.code(), Tag.blockquote(), Tag.table(), Tag.tr(), Tag.ol(), Tag.list("ul"), Tag.span()]);
  }

  var Element = function () {
    function Element(element, parent, previous, next) {
      _classCallCheck(this, Element);

      this.name = element.name;
      this.data = element.data;
      this.children = element.children;
      this.attributes = element.attributes;

      if (parent) {
        this.parent = parent;
        this.parentNames = parent.parentNames.slice();
        this.parentNames.push(parent.name);
      }

      this.parentNames = this.parentNames || [];
      this.previous = previous;
      this.next = next;

      if (this.name === "p") {
        if (msoListClasses.includes(this.attributes.class)) {
          this.name = "li";
          this.parentNames.push("ul");
        }
      }
    }

    _createClass(Element, [{
      key: "tag",
      value: function tag() {
        var _this18 = this;

        var tag = new (tags().filter(function (t) {
          return new t().name === _this18.name;
        })[0] || Tag)();
        tag.element = this;
        return tag;
      }
    }, {
      key: "innerMarkdown",
      value: function innerMarkdown() {
        return Element.parseChildren(this);
      }
    }, {
      key: "leftTrimmable",
      value: function leftTrimmable() {
        return this.previous && Tag.trimmable().includes(this.previous.name);
      }
    }, {
      key: "rightTrimmable",
      value: function rightTrimmable() {
        return this.next && Tag.trimmable().includes(this.next.name);
      }
    }, {
      key: "text",
      value: function text() {
        var text = this.data || "";

        if (this.leftTrimmable()) {
          text = trimLeft(text);
        }

        if (this.rightTrimmable()) {
          text = trimRight(text);
        }

        text = text.replace(/[ \t]+/g, " ");

        return text;
      }
    }, {
      key: "toMarkdown",
      value: function toMarkdown() {
        return this.name === "#text" ? this.text() : this.tag().toMarkdown();
      }
    }, {
      key: "filterParentNames",
      value: function filterParentNames(names) {
        return this.parentNames.filter(function (p) {
          return names.includes(p);
        });
      }
    }], [{
      key: "toMarkdown",
      value: function toMarkdown(element, parent, prev, next) {
        return new Element(element, parent, prev, next).toMarkdown();
      }
    }, {
      key: "parseChildren",
      value: function parseChildren(parent) {
        return Element.parse(parent.children, parent);
      }
    }, {
      key: "parse",
      value: function parse(elements) {
        var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

        if (elements) {
          var result = [];

          for (var i = 0; i < elements.length; i++) {
            var prev = i === 0 ? null : elements[i - 1];
            var next = i === elements.length ? null : elements[i + 1];

            result.push(Element.toMarkdown(elements[i], parent, prev, next));
          }

          return result.join("");
        }

        return "";
      }
    }]);

    return Element;
  }();

  function trimUnwanted(html) {
    var body = html.match(/<body[^>]*>([\s\S]*?)<\/body>/);
    html = body ? body[1] : html;
    html = html.replace(/\r|\n|&nbsp;/g, " ");

    var match = void 0;
    while (match = html.match(/<[^\s>]+[^>]*>\s{2,}<[^\s>]+[^>]*>/)) {
      html = html.replace(match[0], match[0].replace(/>\s{2,}</, "> <"));
    }

    html = html.replace(/<!\[if !?\S*]>[^!]*<!\[endif]>/g, ""); // to support ms word list tags

    return html;
  }

  function putPlaceholders(html) {
    var codeRegEx = /<code[^>]*>([\s\S]*?)<\/code>/gi;
    var origHtml = html;
    var match = codeRegEx.exec(origHtml);
    var placeholders = [];

    while (match) {
      var placeholder = "DISCOURSE_PLACEHOLDER_" + (placeholders.length + 1);
      var code = match[1];
      code = $("<div />").html(code).text().replace(/^\n/, "").replace(/\n$/, "");
      placeholders.push([placeholder, code]);
      html = html.replace(match[0], "<code>" + placeholder + "</code>");
      match = codeRegEx.exec(origHtml);
    }

    var transformNode = function transformNode(node) {
      if (node.nodeName !== "#text" && node.length !== undefined) {
        var _ret = [];
        for (var i = 0; i < node.length; ++i) {
          if (node[i].nodeName !== "#comment") {
            _ret.push(transformNode(node[i]));
          }
        }
        return _ret;
      }

      var ret = {
        name: node.nodeName.toLowerCase(),
        data: node.data,
        children: [],
        attributes: {}
      };

      if (node.nodeName === "#text") {
        return ret;
      }

      for (var _i = 0; _i < node.childNodes.length; ++_i) {
        if (node.childNodes[_i].nodeName !== "#comment") {
          ret.children.push(transformNode(node.childNodes[_i]));
        }
      }

      for (var _i2 = 0; _i2 < node.attributes.length; ++_i2) {
        ret.attributes[node.attributes[_i2].name] = node.attributes[_i2].value;
      }

      return ret;
    };

    var elements = transformNode($.parseHTML(trimUnwanted(html)));
    return { elements: elements, placeholders: placeholders };
  }

  function replacePlaceholders(markdown, placeholders) {
    placeholders.forEach(function (p) {
      markdown = markdown.replace(p[0], p[1]);
    });
    return markdown;
  }

  function toMarkdown(html) {
    try {
      var _putPlaceholders = putPlaceholders(html),
          elements = _putPlaceholders.elements,
          placeholders = _putPlaceholders.placeholders;

      var markdown = Element.parse(elements).trim();
      markdown = markdown.replace(/^<b>/, "").replace(/<\/b>$/, "").trim(); // fix for google doc copy paste
      markdown = markdown.replace(/\n +/g, "\n").replace(/ +\n/g, "\n").replace(/ {2,}/g, " ").replace(/\n{3,}/g, "\n\n").replace(/\t/g, "  ");
      return replacePlaceholders(markdown, placeholders);
    } catch (err) {
      return "";
    }
  }
});
define("discourse/lib/utilities", ["exports", "pretty-text/sanitizer", "discourse/lib/to-markdown"], function (exports, _sanitizer, _toMarkdown) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.translateSize = translateSize;
  exports.escapeExpression = escapeExpression;
  exports.formatUsername = formatUsername;
  exports.replaceFormatter = replaceFormatter;
  exports.avatarUrl = avatarUrl;
  exports.getRawSize = getRawSize;
  exports.avatarImg = avatarImg;
  exports.tinyAvatar = tinyAvatar;
  exports.postUrl = postUrl;
  exports.emailValid = emailValid;
  exports.extractDomainFromUrl = extractDomainFromUrl;
  exports.selectedText = selectedText;
  exports.selectedElement = selectedElement;
  exports.caretRowCol = caretRowCol;
  exports.caretPosition = caretPosition;
  exports.setCaretPosition = setCaretPosition;
  exports.defaultHomepage = defaultHomepage;
  exports.setDefaultHomepage = setDefaultHomepage;
  exports.determinePostReplaceSelection = determinePostReplaceSelection;
  exports.isAppleDevice = isAppleDevice;
  exports.iOSWithVisualViewport = iOSWithVisualViewport;
  exports.isiPad = isiPad;
  exports.safariHacksDisabled = safariHacksDisabled;
  exports.clipboardData = clipboardData;
  exports.toNumber = toNumber;
  exports.isNumeric = isNumeric;
  exports.fillMissingDates = fillMissingDates;
  exports.areCookiesEnabled = areCookiesEnabled;
  exports.isiOSPWA = isiOSPWA;
  exports.isAppWebview = isAppWebview;
  exports.postRNWebviewMessage = postRNWebviewMessage;
  exports.rescueThemeError = rescueThemeError;
  exports.inCodeBlock = inCodeBlock;

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  var homepageSelector = "meta[name=discourse_current_homepage]";

  function translateSize(size) {
    switch (size) {
      case "tiny":
        return 20;
      case "small":
        return 25;
      case "medium":
        return 32;
      case "large":
        return 45;
      case "extra_large":
        return 60;
      case "huge":
        return 120;
    }
    return size;
  }

  function escapeExpression(string) {
    // don't escape SafeStrings, since they're already safe
    if (string instanceof Handlebars.SafeString) {
      return string.toString();
    }

    return (0, _sanitizer.escape)(string);
  }

  var _usernameFormatDelegate = function _usernameFormatDelegate(username) {
    return username;
  };

  function formatUsername(username) {
    return _usernameFormatDelegate(username || "");
  }

  function replaceFormatter(fn) {
    _usernameFormatDelegate = fn;
  }

  function avatarUrl(template, size) {
    if (!template) {
      return "";
    }
    var rawSize = getRawSize(translateSize(size));
    return template.replace(/\{size\}/g, rawSize);
  }

  function getRawSize(size) {
    var pixelRatio = window.devicePixelRatio || 1;
    return size * Math.min(3, Math.max(1, Math.round(pixelRatio)));
  }

  function avatarImg(options, getURL) {
    getURL = getURL || Discourse.getURLWithCDN;

    var size = translateSize(options.size);
    var url = avatarUrl(options.avatarTemplate, size);

    // We won't render an invalid url
    if (!url || url.length === 0) {
      return "";
    }

    var classes = "avatar" + (options.extraClasses ? " " + options.extraClasses : "");
    var title = options.title ? " title='" + escapeExpression(options.title || "") + "'" : "";

    return "<img alt='' width='" + size + "' height='" + size + "' src='" + getURL(url) + "' class='" + classes + "'" + title + ">";
  }

  function tinyAvatar(avatarTemplate, options) {
    return avatarImg(_.merge({ avatarTemplate: avatarTemplate, size: "tiny" }, options));
  }

  function postUrl(slug, topicId, postNumber) {
    var url = Discourse.getURL("/t/");
    if (slug) {
      url += slug + "/";
    } else {
      url += "topic/";
    }
    url += topicId;
    if (postNumber > 1) {
      url += "/" + postNumber;
    }
    return url;
  }

  function emailValid(email) {
    // see:  http://stackoverflow.com/questions/46155/validate-email-address-in-javascript
    var re = /^[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'\*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/;
    return re.test(email);
  }

  function extractDomainFromUrl(url) {
    if (url.indexOf("://") > -1) {
      url = url.split("/")[2];
    } else {
      url = url.split("/")[0];
    }
    return url.split(":")[0];
  }

  function selectedText() {
    var selection = window.getSelection();
    if (selection.isCollapsed) {
      return "";
    }

    var $div = $("<div>");
    for (var r = 0; r < selection.rangeCount; r++) {
      var range = selection.getRangeAt(r);
      var $ancestor = $(range.commonAncestorContainer);

      // ensure we never quote text in the post menu area
      var $postMenuArea = $ancestor.find(".post-menu-area")[0];
      if ($postMenuArea) {
        range.setEndBefore($postMenuArea);
      }

      $div.append(range.cloneContents());
    }

    return (0, _toMarkdown.default)($div.html());
  }

  function selectedElement() {
    var selection = window.getSelection();
    if (selection.rangeCount > 0) {
      return selection.getRangeAt(0).startContainer.parentElement;
    }
  }

  // Determine the row and col of the caret in an element
  function caretRowCol(el) {
    var cp = caretPosition(el);
    var rows = el.value.slice(0, cp).split("\n");
    var rowNum = rows.length;

    var colNum = cp - rows.splice(0, rowNum - 1).reduce(function (sum, row) {
      return sum + row.length + 1;
    }, 0);

    return { rowNum: rowNum, colNum: colNum };
  }

  // Determine the position of the caret in an element
  function caretPosition(el) {
    var r, rc, re;
    if (el.selectionStart) {
      return el.selectionStart;
    }
    if (document.selection) {
      el.focus();
      r = document.selection.createRange();
      if (!r) return 0;

      re = el.createTextRange();
      rc = re.duplicate();
      re.moveToBookmark(r.getBookmark());
      rc.setEndPoint("EndToStart", re);
      return rc.text.length;
    }
    return 0;
  }

  // Set the caret's position
  function setCaretPosition(ctrl, pos) {
    var range;
    if (ctrl.setSelectionRange) {
      ctrl.focus();
      ctrl.setSelectionRange(pos, pos);
      return;
    }
    if (ctrl.createTextRange) {
      range = ctrl.createTextRange();
      range.collapse(true);
      range.moveEnd("character", pos);
      range.moveStart("character", pos);
      return range.select();
    }
  }

  function defaultHomepage() {
    var homepage = null;
    var elem = _.first($(homepageSelector));
    if (elem) {
      homepage = elem.content;
    }
    if (!homepage) {
      homepage = Discourse.SiteSettings.top_menu.split("|")[0].split(",")[0];
    }
    return homepage;
  }

  function setDefaultHomepage(homepage) {
    var elem = _.first($(homepageSelector));
    if (elem) {
      elem.content = homepage;
    }
  }

  function determinePostReplaceSelection(_ref) {
    var selection = _ref.selection,
        needle = _ref.needle,
        replacement = _ref.replacement;

    var diff = replacement.end - replacement.start - (needle.end - needle.start);

    if (selection.end <= needle.start) {
      // Selection ends (and starts) before needle.
      return { start: selection.start, end: selection.end };
    } else if (selection.start <= needle.start) {
      // Selection starts before needle...
      if (selection.end < needle.end) {
        // ... and ends inside needle.
        return { start: selection.start, end: needle.start };
      } else {
        // ... and spans needle completely.
        return { start: selection.start, end: selection.end + diff };
      }
    } else if (selection.start < needle.end) {
      // Selection starts inside needle...
      if (selection.end <= needle.end) {
        // ... and ends inside needle.
        return { start: replacement.end, end: replacement.end };
      } else {
        // ... and spans end of needle.
        return { start: replacement.end, end: selection.end + diff };
      }
    } else {
      // Selection starts (and ends) behind needle.
      return { start: selection.start + diff, end: selection.end + diff };
    }
  }

  function isAppleDevice() {
    // IE has no DOMNodeInserted so can not get this hack despite saying it is like iPhone
    // This will apply hack on all iDevices
    var caps = Discourse.__container__.lookup("capabilities:main");
    return caps.isIOS && !navigator.userAgent.match(/Trident/g);
  }

  var iPadDetected = undefined;

  function iOSWithVisualViewport() {
    return isAppleDevice() && window.visualViewport !== undefined;
  }

  function isiPad() {
    if (iPadDetected === undefined) {
      iPadDetected = navigator.userAgent.match(/iPad/g) && !navigator.userAgent.match(/Trident/g);
    }
    return iPadDetected;
  }

  function safariHacksDisabled() {
    if (iOSWithVisualViewport()) return false;

    var pref = localStorage.getItem("safari-hacks-disabled");
    var result = false;
    if (pref !== null) {
      result = pref === "true";
    }
    return result;
  }

  var toArray = function toArray(items) {
    items = items || [];

    if (!Array.isArray(items)) {
      return Array.from(items);
    }

    return items;
  };

  function clipboardData(e, canUpload) {
    var clipboard = e.clipboardData || e.originalEvent.clipboardData || e.delegatedEvent.originalEvent.clipboardData;

    var types = toArray(clipboard.types);
    var files = toArray(clipboard.files);

    if (types.includes("Files") && files.length === 0) {
      // for IE
      files = toArray(clipboard.items).filter(function (i) {
        return i.kind === "file";
      });
    }

    canUpload = files && canUpload && types.includes("Files");
    var canUploadImage = canUpload && files.filter(function (f) {
      return f.type.match("^image/");
    })[0];
    var canPasteHtml = Discourse.SiteSettings.enable_rich_text_paste && types.includes("text/html") && !canUploadImage;

    return { clipboard: clipboard, types: types, canUpload: canUpload, canPasteHtml: canPasteHtml };
  }

  function toNumber(input) {
    return typeof input === "number" ? input : parseFloat(input);
  }

  function isNumeric(input) {
    return !isNaN(toNumber(input)) && isFinite(input);
  }

  function fillMissingDates(data, startDate, endDate) {
    var startMoment = moment(startDate, "YYYY-MM-DD");
    var endMoment = moment(endDate, "YYYY-MM-DD");
    var countDays = endMoment.diff(startMoment, "days");
    var currentMoment = startMoment;

    for (var i = 0; i <= countDays; i++) {
      var date = data[i] ? moment(data[i].x, "YYYY-MM-DD") : null;
      if (i === 0 && (!date || date.isAfter(startMoment))) {
        data.splice(i, 0, { x: startMoment.format("YYYY-MM-DD"), y: 0 });
      } else {
        if (!date || date.isAfter(moment(currentMoment))) {
          data.splice(i, 0, { x: currentMoment, y: 0 });
        }
      }
      currentMoment = moment(currentMoment).add(1, "day").format("YYYY-MM-DD");
    }
    return data;
  }

  function areCookiesEnabled() {
    // see: https://github.com/Modernizr/Modernizr/blob/400db4043c22af98d46e1d2b9cbc5cb062791192/feature-detects/cookies.js
    try {
      document.cookie = "cookietest=1";
      var ret = document.cookie.indexOf("cookietest=") !== -1;
      document.cookie = "cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT";
      return ret;
    } catch (e) {
      return false;
    }
  }

  function isiOSPWA() {
    return window.matchMedia("(display-mode: standalone)").matches && navigator.userAgent.match(/(iPad|iPhone|iPod)/g);
  }

  function isAppWebview() {
    return window.ReactNativeWebView !== undefined;
  }

  function postRNWebviewMessage(prop, value) {
    if (window.ReactNativeWebView !== undefined) {
      window.ReactNativeWebView.postMessage(JSON.stringify(_defineProperty({}, prop, value)));
    }
  }

  function reportToLogster(name, error) {
    var data = {
      message: name + " theme/component is throwing errors",
      stacktrace: error.stack
    };

    Ember.$.ajax(Discourse.BaseUri + "/logs/report_js_error", {
      data: data,
      type: "POST",
      cache: false
    });
  }
  // this function is used in lib/theme_javascript_compiler.rb
  function rescueThemeError(name, error, api) {
    /* eslint-disable-next-line no-console */
    console.error("\"" + name + "\" error:", error);
    reportToLogster(name, error);

    var currentUser = api.getCurrentUser();
    if (!currentUser || !currentUser.admin) {
      return;
    }

    var path = Discourse.BaseUri + "/admin/customize/themes";
    var message = I18n.t("themes.broken_theme_alert", {
      theme: name,
      path: "<a href=\"" + path + "\">" + path + "</a>"
    });
    var alertDiv = document.createElement("div");
    alertDiv.classList.add("broken-theme-alert");
    alertDiv.innerHTML = "\u26A0\uFE0F " + message;
    document.body.prepend(alertDiv);
  }

  var CODE_BLOCKS_REGEX = /^(    |\t).*|`[^`]+`|^```[^]*?^```|\[code\][^]*?\[\/code\]/gm;
  //                        |      ^     |   ^   |      ^      |           ^           |
  //                               |         |          |                  |
  //                               |         |          |       code blocks between [code]
  //                               |         |          |
  //                               |         |          +--- code blocks between three backquote
  //                               |         |
  //                               |         +----- inline code between backquotes
  //                               |
  //                               +------- paragraphs starting with 4 spaces or tab

  function inCodeBlock(text, pos) {
    var result = false;

    var match = void 0;
    while ((match = CODE_BLOCKS_REGEX.exec(text)) !== null) {
      var begin = match.index;
      var end = match.index + match[0].length;
      if (begin <= pos && pos <= end) {
        result = true;
      }
    }

    return result;
  }

  // This prevents a mini racer crash
  exports.default = {};
});
define("discourse/lib/page-visible", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function () {
    if (hiddenProperty !== undefined) {
      return !document[hiddenProperty];
    } else {
      return document && document.hasFocus;
    }
  };

  // for android we test webkit
  var hiddenProperty = document.hidden !== undefined ? "hidden" : document.webkitHidden !== undefined ? "webkitHidden" : undefined;
});
define("discourse/lib/logout", ["exports", "@ember/utils", "discourse/models/login-method"], function (exports, _utils, _loginMethod) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = logout;
  function logout(siteSettings, keyValueStore) {
    if (!siteSettings || !keyValueStore) {
      var container = Discourse.__container__;
      siteSettings = siteSettings || container.lookup("site-settings:main");
      keyValueStore = keyValueStore || container.lookup("key-value-store:main");
    }

    keyValueStore.abandonLocal();

    var redirect = siteSettings.logout_redirect;
    if (!(0, _utils.isEmpty)(redirect)) {
      window.location.href = redirect;
      return;
    }

    var sso = siteSettings.enable_sso;
    var oneAuthenticator = !siteSettings.enable_local_logins && (0, _loginMethod.findAll)().length === 1;

    if (siteSettings.login_required && (sso || oneAuthenticator)) {
      // In this situation visiting most URLs will start the auth process again
      // Go to the `/login` page to avoid an immediate redirect
      window.location.href = Discourse.getURL("/login");
      return;
    }

    window.location.href = Discourse.getURL("/");
  }
});
define("discourse/mixins/singleton", ["exports", "@ember/object/mixin"], function (exports, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var Singleton = _mixin.default.create({
    current: function current() {
      if (!this._current) {
        this._current = this.createCurrent();
      }
      return this._current;
    },
    createCurrent: function createCurrent() {
      return this.create({});
    },
    currentProp: function currentProp(property, value) {
      var instance = this.current();
      if (!instance) {
        return;
      }

      if (typeof value !== "undefined") {
        instance.set(property, value);
        return value;
      } else {
        return instance.get(property);
      }
    },
    resetCurrent: function resetCurrent(val) {
      this._current = val;
    }
  }); /**
        This mixin allows a class to return a singleton, as well as a method to quickly
        read/write attributes on the singleton.
      
      
        Example usage:
      
        ```javascript
      
          // Define your class and apply the Mixin
          User = EmberObject.extend({});
          User.reopenClass(Singleton);
      
          // Retrieve the current instance:
          var instance = User.current();
      
        ```
      
        Commonly you want to read or write a property on the singleton. There's a
        helper method which is a little nicer than `.current().get()`:
      
        ```javascript
      
          // Sets the age to 34
          User.currentProp('age', 34);
      
          console.log(User.currentProp('age')); // 34
      
        ```
      
        If you want to customize how the singleton is created, redefine the `createCurrent`
        method:
      
        ```javascript
      
          // Define your class and apply the Mixin
          Foot = EmberObject.extend({});
          Foot.reopenClass(Singleton, {
            createCurrent: function() {
              return Foot.create({toes: 5});
            }
          });
      
          console.log(Foot.currentProp('toes')); // 5
      
        ```
      **/
  exports.default = Singleton;
});
define("discourse/models/rest", ["exports", "@ember/object/computed", "@ember/object", "rsvp"], function (exports, _computed, _object, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var RestModel = _object.default.extend({
    isNew: (0, _computed.equal)("__state", "new"),
    isCreated: (0, _computed.equal)("__state", "created"),
    isSaving: false,

    beforeCreate: function beforeCreate() {},
    afterUpdate: function afterUpdate() {},
    update: function update(props) {
      var _this = this;

      if (this.isSaving) {
        return _rsvp.Promise.reject();
      }

      props = props || this.updateProperties();

      this.set("isSaving", true);
      return this.store.update(this.__type, this.id, props).then(function (res) {
        var payload = _this.__munge(res.payload || res.responseJson);

        if (payload.success === "OK") {
          Ember.warn("An update call should return the updated attributes", {
            id: "discourse.rest-model.update-attributes"
          });
          res = props;
        }

        _this.setProperties(payload);
        _this.afterUpdate(res);
        res.target = _this;
        return res;
      }).finally(function () {
        return _this.set("isSaving", false);
      });
    },
    _saveNew: function _saveNew(props) {
      var _this2 = this;

      if (this.isSaving) {
        return _rsvp.Promise.reject();
      }

      props = props || this.createProperties();

      this.beforeCreate(props);

      var adapter = this.store.adapterFor(this.__type);

      this.set("isSaving", true);
      return adapter.createRecord(this.store, this.__type, props).then(function (res) {
        if (!res) {
          throw new Error("Received no data back from createRecord");
        }

        // We can get a response back without properties, for example
        // when a post is queued.
        if (res.payload) {
          _this2.setProperties(_this2.__munge(res.payload));
          _this2.set("__state", "created");
        }

        res.target = _this2;
        return res;
      }).finally(function () {
        return _this2.set("isSaving", false);
      });
    },
    createProperties: function createProperties() {
      throw new Error("You must overwrite `createProperties()` before saving a record");
    },
    save: function save(props) {
      return this.isNew ? this._saveNew(props) : this.update(props);
    },
    destroyRecord: function destroyRecord() {
      return this.store.destroyRecord(this.__type, this);
    }
  });

  RestModel.reopenClass({
    munge: function munge(json) {
      return json;
    },
    create: function create(args) {
      args = args || {};
      if (!args.store) {
        var container = Discourse.__container__;
        args.store = container.lookup("service:store");
      }

      args.__munge = this.munge;
      return this._super(this.munge(args, args.store));
    }
  });

  exports.default = RestModel;
});
define("discourse/models/session", ["exports", "discourse/models/rest", "discourse/mixins/singleton", "discourse-common/lib/deprecated"], function (exports, _rest, _singleton, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  // A data model representing current session data. You can put transient
  // data here you might want later. It is not stored or serialized anywhere.
  var Session = _rest.default.extend({
    init: function init() {
      this.set("highestSeenByTopic", {});
    }
  });

  Session.reopenClass(_singleton.default);

  Object.defineProperty(Discourse, "Session", {
    get: function get() {
      (0, _deprecated.default)("Import the Session object instead of using Discourse.Session", {
        since: "2.4.0",
        dropFrom: "2.5.0"
      });
      return Session;
    }
  });
  exports.default = Session;
});
define("discourse/lib/ajax", ["exports", "@ember/runloop", "discourse/lib/page-visible", "discourse/lib/logout", "discourse/models/session", "rsvp", "discourse/models/site"], function (exports, _runloop, _pageVisible, _logout, _session, _rsvp, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.setTransientHeader = setTransientHeader;
  exports.viewTrackingRequired = viewTrackingRequired;
  exports.handleLogoff = handleLogoff;
  exports.updateCsrfToken = updateCsrfToken;
  exports.ajax = ajax;


  var _trackView = false;
  var _transientHeader = null;
  var _showingLogout = false;

  function setTransientHeader(key, value) {
    _transientHeader = { key: key, value: value };
  }

  function viewTrackingRequired() {
    _trackView = true;
  }

  function handleLogoff(xhr) {
    if (xhr && xhr.getResponseHeader("Discourse-Logged-Out") && !_showingLogout) {
      _showingLogout = true;
      var messageBus = Discourse.__container__.lookup("message-bus:main");
      messageBus.stop();
      bootbox.dialog(I18n.t("logout"), { label: I18n.t("refresh"), callback: _logout.default }, {
        onEscape: function onEscape() {
          return (0, _logout.default)();
        },
        backdrop: "static"
      });
    }
  }

  function handleRedirect(data) {
    if (data && data.getResponseHeader && data.getResponseHeader("Discourse-Xhr-Redirect")) {
      window.location.replace(data.responseText);
      window.location.reload();
    }
  }

  function updateCsrfToken() {
    return ajax("/session/csrf").then(function (result) {
      _session.default.currentProp("csrfToken", result.csrf);
    });
  }

  /**
    Our own $.ajax method. Makes sure the .then method executes in an Ember runloop
    for performance reasons. Also automatically adjusts the URL to support installs
    in subfolders.
  **/

  function ajax() {
    var url = void 0,
        args = void 0;
    var ajaxObj = void 0;

    if (arguments.length === 1) {
      if (typeof arguments[0] === "string") {
        url = arguments[0];
        args = {};
      } else {
        args = arguments[0];
        url = args.url;
        delete args.url;
      }
    } else if (arguments.length === 2) {
      url = arguments[0];
      args = arguments[1];
    }

    function performAjax(resolve, reject) {
      args.headers = args.headers || {};

      if (Discourse.__container__.lookup("current-user:main")) {
        args.headers["Discourse-Logged-In"] = "true";
      }

      if (_transientHeader) {
        args.headers[_transientHeader.key] = _transientHeader.value;
        _transientHeader = null;
      }

      if (_trackView && (!args.type || args.type === "GET")) {
        _trackView = false;
        // DON'T CHANGE: rack is prepending "HTTP_" in the header's name
        args.headers["Discourse-Track-View"] = "true";
      }

      if ((0, _pageVisible.default)()) {
        args.headers["Discourse-Visible"] = "true";
      }

      args.success = function (data, textStatus, xhr) {
        handleRedirect(data);
        handleLogoff(xhr);

        (0, _runloop.run)(function () {
          _site.default.currentProp("isReadOnly", !!(xhr && xhr.getResponseHeader("Discourse-Readonly")));
        });

        if (args.returnXHR) {
          data = { result: data, xhr: xhr };
        }

        (0, _runloop.run)(null, resolve, data);
      };

      args.error = function (xhr, textStatus, errorThrown) {
        // 0 represents the `UNSENT` state
        if (xhr.readyState === 0) return;
        handleLogoff(xhr);

        // note: for bad CSRF we don't loop an extra request right away.
        //  this allows us to eliminate the possibility of having a loop.
        if (xhr.status === 403 && xhr.responseText === '["BAD CSRF"]') {
          _session.default.current().set("csrfToken", null);
        }

        // If it's a parsererror, don't reject
        if (xhr.status === 200) return args.success(xhr);

        // Fill in some extra info
        xhr.jqTextStatus = textStatus;
        xhr.requestedUrl = url;

        (0, _runloop.run)(null, reject, {
          jqXHR: xhr,
          textStatus: textStatus,
          errorThrown: errorThrown
        });
      };

      // We default to JSON on GET. If we don't, sometimes if the server doesn't return the proper header
      // it will not be parsed as an object.
      if (!args.type) args.type = "GET";
      if (!args.dataType && args.type.toUpperCase() === "GET") args.dataType = "json";

      if (args.dataType === "script") {
        args.headers["Discourse-Script"] = true;
      }

      if (args.type === "GET" && args.cache !== true) {
        args.cache = true; // Disable JQuery cache busting param, which was created to deal with IE8
      }

      ajaxObj = $.ajax(Discourse.getURL(url), args);
    }

    var promise = void 0;

    // For cached pages we strip out CSRF tokens, need to round trip to server prior to sending the
    //  request (bypass for GET, not needed)
    if (args.type && args.type.toUpperCase() !== "GET" && url !== Discourse.getURL("/clicks/track") && !_session.default.currentProp("csrfToken")) {
      promise = new _rsvp.Promise(function (resolve, reject) {
        ajaxObj = updateCsrfToken().then(function () {
          performAjax(resolve, reject);
        });
      });
    } else {
      promise = new _rsvp.Promise(performAjax);
    }

    promise.abort = function () {
      if (ajaxObj) {
        ajaxObj.abort();
      }
    };

    return promise;
  }
});
define("discourse/lib/text", ["exports", "pretty-text/pretty-text", "pretty-text/emoji", "pretty-text/white-lister", "pretty-text/sanitizer", "discourse/lib/load-script", "discourse/lib/utilities", "rsvp"], function (exports, _prettyText, _emoji, _whiteLister, _sanitizer, _loadScript, _utilities, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.cook = cook;
  exports.cookAsync = cookAsync;
  exports.sanitize = sanitize;
  exports.sanitizeAsync = sanitizeAsync;
  exports.emojiUnescape = emojiUnescape;
  exports.emojiUrlFor = emojiUrlFor;


  function getOpts(opts) {
    var siteSettings = Discourse.__container__.lookup("site-settings:main"),
        site = Discourse.__container__.lookup("site:main");

    opts = _.merge({
      getURL: Discourse.getURLWithCDN,
      currentUser: Discourse.__container__.lookup("current-user:main"),
      censoredRegexp: site.censored_regexp,
      siteSettings: siteSettings,
      formatUsername: _utilities.formatUsername
    }, opts);

    return (0, _prettyText.buildOptions)(opts);
  }

  // Use this to easily create a pretty text instance with proper options
  function cook(text, options) {
    return new Handlebars.SafeString(createPrettyText(options).cook(text));
  }

  // everything should eventually move to async API and this should be renamed
  // cook
  function cookAsync(text, options) {
    return loadMarkdownIt().then(function () {
      return cook(text, options);
    });
  }

  function sanitize(text, options) {
    return (0, _sanitizer.sanitize)(text, new _whiteLister.default(options));
  }

  function sanitizeAsync(text, options) {
    return new loadMarkdownIt().then(function () {
      return createPrettyText(options).sanitize(text);
    });
  }

  function loadMarkdownIt() {
    if (Discourse.MarkdownItURL) {
      return (0, _loadScript.default)(Discourse.MarkdownItURL).catch(function (e) {
        // eslint-disable-next-line no-console
        console.error(e);
      });
    } else {
      return _rsvp.Promise.resolve();
    }
  }

  function createPrettyText(options) {
    return new _prettyText.default(getOpts(options));
  }

  function emojiOptions() {
    if (!Discourse.SiteSettings.enable_emoji) {
      return;
    }

    return {
      getURL: Discourse.getURLWithCDN,
      emojiSet: Discourse.SiteSettings.emoji_set,
      enableEmojiShortcuts: Discourse.SiteSettings.enable_emoji_shortcuts,
      inlineEmoji: Discourse.SiteSettings.enable_inline_emoji_translation
    };
  }

  function emojiUnescape(string, options) {
    var opts = emojiOptions();
    if (opts) {
      return (0, _emoji.performEmojiUnescape)(string, Object.assign(opts, options || {}));
    } else {
      return string;
    }
  }

  function emojiUrlFor(code) {
    var opts = emojiOptions();
    if (opts) {
      return (0, _emoji.buildEmojiUrl)(code, opts);
    }
  }
});
define("discourse/lib/hash", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.hashString = hashString;
  /*eslint no-bitwise:0 */

  // Note: before changing this be aware the same algo is used server side for avatars.
  function hashString(str) {
    var hash = 0;
    for (var i = 0; i < str.length; i++) {
      hash = (hash << 5) - hash + str.charCodeAt(i);
      hash |= 0;
    }
    return hash;
  }
});
define("discourse/lib/load-script", ["exports", "@ember/runloop", "discourse/lib/ajax", "rsvp"], function (exports, _runloop, _ajax, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.loadCSS = loadCSS;
  exports.default = loadScript;


  var _loaded = {};
  var _loading = {};

  function loadWithTag(path, cb) {
    var head = document.getElementsByTagName("head")[0];

    var finished = false;
    var s = document.createElement("script");
    s.src = path;
    if (Ember.Test) {
      Ember.Test.registerWaiter(function () {
        return finished;
      });
    }

    s.onload = s.onreadystatechange = function (_, abort) {
      finished = true;
      if (abort || !s.readyState || s.readyState === "loaded" || s.readyState === "complete") {
        s = s.onload = s.onreadystatechange = null;
        if (!abort) {
          (0, _runloop.run)(null, cb);
        }
      }
    };

    head.appendChild(s);
  }

  function loadCSS(url) {
    return loadScript(url, { css: true });
  }

  function loadScript(url, opts) {
    // TODO: Remove this once plugins have been updated not to use it:
    if (url === "defer/html-sanitizer-bundle") {
      return _rsvp.Promise.resolve();
    }

    opts = opts || {};

    // Scripts should always load from CDN
    // CSS is type text, to accept it from a CDN we would need to handle CORS
    url = opts.css ? Discourse.getURL(url) : Discourse.getURLWithCDN(url);

    $("script").each(function (i, tag) {
      var src = tag.getAttribute("src");

      if (src && src !== url && !_loading[src]) {
        _loaded[src] = true;
      }
    });

    return new _rsvp.Promise(function (resolve) {
      // If we already loaded this url
      if (_loaded[url]) {
        return resolve();
      }
      if (_loading[url]) {
        return _loading[url].then(resolve);
      }

      var done = void 0;
      _loading[url] = new _rsvp.Promise(function (_done) {
        done = _done;
      });

      _loading[url].then(function () {
        delete _loading[url];
      });

      var cb = function cb(data) {
        if (opts && opts.css) {
          $("head").append("<style>" + data + "</style>");
        }
        done();
        resolve();
        _loaded[url] = true;
      };

      if (opts.css) {
        (0, _ajax.ajax)({
          url: url,
          dataType: "text",
          cache: true
        }).then(cb);
      } else {
        // Always load JavaScript with script tag to avoid Content Security Policy inline violations
        loadWithTag(url, cb);
      }
    });
  }
});
define("discourse/lib/notification-levels", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.buttonDetails = buttonDetails;
  var MUTED = 0;
  var REGULAR = 1;
  var TRACKING = 2;
  var WATCHING = 3;
  var WATCHING_FIRST_POST = 4;

  var NotificationLevels = exports.NotificationLevels = {
    WATCHING_FIRST_POST: WATCHING_FIRST_POST,
    WATCHING: WATCHING,
    TRACKING: TRACKING,
    REGULAR: REGULAR,
    MUTED: MUTED
  };

  function buttonDetails(level) {
    switch (level) {
      case WATCHING_FIRST_POST:
        return {
          id: WATCHING_FIRST_POST,
          key: "watching_first_post",
          icon: "d-watching-first"
        };
      case WATCHING:
        return { id: WATCHING, key: "watching", icon: "d-watching" };
      case TRACKING:
        return { id: TRACKING, key: "tracking", icon: "d-tracking" };
      case MUTED:
        return { id: MUTED, key: "muted", icon: "d-muted" };
      default:
        return { id: REGULAR, key: "regular", icon: "d-regular" };
    }
  }

  var allLevels = exports.allLevels = [WATCHING, TRACKING, WATCHING_FIRST_POST, REGULAR, MUTED].map(buttonDetails);
  var topicLevels = exports.topicLevels = allLevels.filter(function (l) {
    return l.id !== WATCHING_FIRST_POST;
  });
});
define("discourse/services/app-events", ["exports", "discourse-common/lib/deprecated", "@ember/service"], function (exports, _deprecated, _service) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _service.default.extend(Ember.Evented, {
    _events: {},

    on: function on() {
      if (arguments.length === 2) {
        var _arguments = Array.prototype.slice.call(arguments),
            name = _arguments[0],
            fn = _arguments[1];

        var target = {};
        this._events[name] = this._events[name] || [];
        this._events[name].push({ target: target, fn: fn });

        this._super(name, target, fn);
      } else if (arguments.length === 3) {
        var _arguments2 = Array.prototype.slice.call(arguments),
            _name = _arguments2[0],
            _target = _arguments2[1],
            _fn = _arguments2[2];

        this._events[_name] = this._events[_name] || [];
        this._events[_name].push({ target: _target, fn: _fn });

        this._super.apply(this, arguments);
      }
      return this;
    },
    off: function off() {
      var _this = this;

      var name = arguments[0];
      var fn = arguments[2];

      if (this._events[name]) {
        if (arguments.length === 1) {
          (0, _deprecated.default)("Removing all event listeners at once is deprecated, please remove each listener individually.");

          this._events[name].forEach(function (ref) {
            _this._super(name, ref.target, ref.fn);
          });
          delete this._events[name];
        } else if (arguments.length === 3) {
          this._super.apply(this, arguments);

          this._events[name] = this._events[name].filter(function (e) {
            return e.fn !== fn;
          });
          if (this._events[name].length === 0) delete this._events[name];
        }
      }

      return this;
    }
  });
});
define("discourse/lib/offset-calculator", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.scrollTopFor = scrollTopFor;
  exports.minimumOffset = minimumOffset;
  exports.default = offsetCalculator;
  function scrollTopFor(y) {
    return y - offsetCalculator();
  }

  function minimumOffset() {
    var $header = $("header.d-header");
    var headerHeight = $header.outerHeight(true) || 0;
    var headerPositionTop = $header.position().top;
    return headerHeight + headerPositionTop;
  }

  function offsetCalculator() {
    var min = minimumOffset();

    // on mobile, just use the header
    if ($("html").hasClass("mobile-view")) return min;

    var $window = $(window);
    var windowHeight = $window.height();
    var documentHeight = $(document).height();
    var topicBottomOffsetTop = $("#topic-bottom").offset().top;

    // the footer is bigger than the window, we can scroll down past the last post
    if (documentHeight - windowHeight > topicBottomOffsetTop) return min;

    var scrollTop = $window.scrollTop();
    var visibleBottomHeight = scrollTop + windowHeight - topicBottomOffsetTop;

    if (visibleBottomHeight > 0) {
      var bottomHeight = documentHeight - topicBottomOffsetTop;
      var offset = (windowHeight - bottomHeight) * visibleBottomHeight / bottomHeight;
      return Math.max(min, offset);
    }

    return min;
  }
});
define("discourse/lib/lock-on", ["exports", "discourse/lib/offset-calculator"], function (exports, _offsetCalculator) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  // Dear traveller, you are entering a zone where we are at war with the browser.
  // The browser is insisting on positioning scrollTop per the location it was in
  // the past, we are insisting on it being where we want it to be.
  // The hack is just to keep trying over and over to position the scrollbar (up to 1 second).
  //
  // The root cause is that a "refresh" on a topic page will almost never be at the
  // same position it was in the past, the URL points to the post at the top of the
  // page, so a refresh will try to bring that post into view causing drift.
  //
  // Additionally if you loaded multiple batches of posts, on refresh they will not
  // be loaded.
  //
  // This hack leads to a slight jerky experience, however other workarounds are more
  // complex, the 2 options we have are
  //
  // 1. onbeforeunload ensure we are scrolled to the right spot
  // 2. give up on the scrollbar and implement it ourselves (something that will happen)

  var LOCK_DURATION_MS = 1000;
  var SCROLL_EVENTS = "scroll.lock-on touchmove.lock-on mousedown.lock-on wheel.lock-on DOMMouseScroll.lock-on mousewheel.lock-on keyup.lock-on";
  var SCROLL_TYPES = ["mousedown", "mousewheel", "touchmove", "wheel"];

  function within(threshold, x, y) {
    return Math.abs(x - y) < threshold;
  }

  var LockOn = function () {
    function LockOn(selector, options) {
      _classCallCheck(this, LockOn);

      this.selector = selector;
      this.options = options || {};
    }

    _createClass(LockOn, [{
      key: "elementTop",
      value: function elementTop() {
        var $selected = $(this.selector);
        if ($selected.length && $selected.offset && $selected.offset()) {
          return $selected.offset().top - (0, _offsetCalculator.minimumOffset)();
        }
      }
    }, {
      key: "clearLock",
      value: function clearLock(interval) {
        $("body, html").off(SCROLL_EVENTS);
        clearInterval(interval);
        if (this.options.finished) {
          this.options.finished();
        }
      }
    }, {
      key: "lock",
      value: function lock() {
        var _this = this;

        var startedAt = new Date().getTime();
        var previousTop = this.elementTop();
        previousTop && $(window).scrollTop(previousTop);

        var interval = setInterval(function () {
          var elementTop = _this.elementTop();
          if (!previousTop && !elementTop) {
            // we can't find the element yet, wait a little bit more
            return;
          }

          var top = Math.max(0, elementTop);
          var scrollTop = $(window).scrollTop();

          if (typeof top === "undefined" || isNaN(top)) {
            return _this.clearLock(interval);
          }

          if (!within(4, top, previousTop) || !within(4, scrollTop, top)) {
            $(window).scrollTop(top);
            previousTop = top;
          }

          // Stop after a little while
          if (new Date().getTime() - startedAt > LOCK_DURATION_MS) {
            return _this.clearLock(interval);
          }
        }, 50);

        $("body, html").off(SCROLL_EVENTS).on(SCROLL_EVENTS, function (e) {
          if (e.which > 0 || SCROLL_TYPES.includes(e.type)) {
            _this.clearLock(interval);
          }
        });
      }
    }]);

    return LockOn;
  }();

  exports.default = LockOn;
});
define("discourse/lib/url", ["exports", "@ember/utils", "@ember/object", "@ember/runloop", "discourse/lib/offset-calculator", "discourse/lib/lock-on", "discourse/lib/utilities", "discourse/models/user"], function (exports, _utils, _object, _runloop, _offsetCalculator, _lockOn, _utilities, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.rewritePath = rewritePath;
  exports.clearRewrites = clearRewrites;
  exports.userPath = userPath;
  exports.groupPath = groupPath;
  exports.jumpToElement = jumpToElement;


  var rewrites = [];
  var TOPIC_REGEXP = /\/t\/([^\/]+)\/(\d+)\/?(\d+)?/;

  function redirectTo(url) {
    document.location = url;
    return true;
  }

  // We can add links here that have server side responses but not client side.
  var SERVER_SIDE_ONLY = [/^\/assets\//, /^\/uploads\//, /^\/stylesheets\//, /^\/site_customizations\//, /^\/raw\//, /^\/posts\/\d+\/raw/, /^\/raw\/\d+/, /^\/wizard/, /\.rss$/, /\.json$/, /^\/admin\/upgrade$/, /^\/logs($|\/)/, /^\/admin\/logs\/watched_words\/action\/[^\/]+\/download$/];

  function rewritePath(path) {
    var params = path.split("?");

    var result = params[0];
    rewrites.forEach(function (rw) {
      if ((rw.opts.exceptions || []).some(function (ex) {
        return path.indexOf(ex) === 0;
      })) {
        return;
      }
      result = result.replace(rw.regexp, rw.replacement);
    });

    if (params.length > 1) {
      result += "?" + params[1];
    }

    return result;
  }

  function clearRewrites() {
    rewrites.length = 0;
  }

  function userPath(subPath) {
    return Discourse.getURL(subPath ? "/u/" + subPath : "/u");
  }

  function groupPath(subPath) {
    return Discourse.getURL(subPath ? "/g/" + subPath : "/g");
  }

  var _jumpScheduled = false;
  function jumpToElement(elementId) {
    if (_jumpScheduled || (0, _utils.isEmpty)(elementId)) {
      return;
    }

    var selector = "#" + elementId + ", a[name=" + elementId + "]";
    _jumpScheduled = true;
    (0, _runloop.schedule)("afterRender", function () {
      var lockon = new _lockOn.default(selector, {
        finished: function finished() {
          _jumpScheduled = false;
        }
      });
      lockon.lock();
    });
  }

  var _transitioning = false;

  var DiscourseURL = _object.default.extend({
    isJumpScheduled: function isJumpScheduled() {
      return _transitioning || _jumpScheduled;
    },
    jumpToPost: function jumpToPost(postNumber, opts) {
      opts = opts || {};
      var holderId = "#post_" + postNumber;

      _transitioning = postNumber > 1;

      (0, _runloop.schedule)("afterRender", function () {
        var elementId = void 0;
        var holder = void 0;

        if (opts.jumpEnd) {
          var $holder = $(holderId);
          var holderHeight = $holder.height();
          var windowHeight = $(window).height() - (0, _offsetCalculator.default)();

          // scroll to the bottom of the post and if the post is yuge we go back up the
          // timeline by a small % of the post height so we can see the bottom of the text.
          //
          // otherwise just jump to the top of the post using the lock & holder method.
          if (holderHeight > windowHeight) {
            $(window).scrollTop($holder.offset().top + (holderHeight - holderHeight / 10));
            _transitioning = false;
            return;
          }
        }

        if (postNumber === 1 && !opts.anchor) {
          $(window).scrollTop(0);
          _transitioning = false;
          return;
        }

        if (opts.anchor) {
          elementId = opts.anchor;
          holder = $(elementId);
        }

        if (!holder || holder.length === 0) {
          elementId = holderId;
          holder = $(elementId);
        }

        var lockon = new _lockOn.default(elementId, {
          finished: function finished() {
            _transitioning = false;
          }
        });

        if (holder.length > 0 && opts && opts.skipIfOnScreen) {
          var elementTop = lockon.elementTop();
          var scrollTop = $(window).scrollTop();
          var _windowHeight = $(window).height() - (0, _offsetCalculator.default)();
          var height = holder.height();

          if (elementTop > scrollTop && elementTop + height < scrollTop + _windowHeight) {
            _transitioning = false;
            return;
          }
        }

        lockon.lock();
        if (lockon.elementTop() < 1) {
          _transitioning = false;
          return;
        }
      });
    },
    replaceState: function replaceState(path) {
      if (window.history && window.history.pushState && window.history.replaceState && window.location.pathname !== path) {
        // Always use replaceState in the next runloop to prevent weird routes changing
        // while URLs are loading. For example, while a topic loads it sets `currentPost`
        // which triggers a replaceState even though the topic hasn't fully loaded yet!
        (0, _runloop.next)(function () {
          var location = DiscourseURL.get("router.location");
          if (location && location.replaceURL) {
            location.replaceURL(path);
          }
        });
      }
    },
    routeToTag: function routeToTag(a) {
      // skip when we are provided nowhere to route to
      if (!a || !a.href) {
        return false;
      }

      if (a.host && a.host !== document.location.host) {
        document.location = a.href;
        return false;
      }

      return this.routeTo(a.href);
    },
    routeTo: function routeTo(path, opts) {
      opts = opts || {};

      if ((0, _utils.isEmpty)(path)) {
        return;
      }

      if (Discourse.get("requiresRefresh")) {
        return redirectTo(Discourse.getURL(path));
      }

      var pathname = path.replace(/(https?\:)?\/\/[^\/]+/, "");
      var baseUri = Discourse.BaseUri;

      if (!DiscourseURL.isInternal(path)) {
        return redirectTo(path);
      }

      var serverSide = SERVER_SIDE_ONLY.some(function (r) {
        if (pathname.match(r)) {
          return redirectTo(path);
        }
      });

      if (serverSide) {
        return;
      }

      // Scroll to the same page, different anchor
      var m = /^#(.+)$/.exec(path);
      if (m) {
        jumpToElement(m[1]);
        return this.replaceState(path);
      }

      var oldPath = window.location.pathname;
      path = path.replace(/(https?\:)?\/\/[^\/]+/, "");

      // Rewrite /my/* urls
      var myPath = baseUri + "/my/";
      if (path.indexOf(myPath) === 0) {
        var currentUser = _user.default.current();
        if (currentUser) {
          path = path.replace(myPath, userPath(currentUser.get("username_lower") + "/"));
        } else {
          return redirectTo("/404");
        }
      }

      // handle prefixes
      if (path.indexOf("/") === 0) {
        var rootURL = (baseUri === undefined ? "/" : baseUri).replace(/\/$/, "");
        path = path.replace(rootURL, "");
      }

      path = rewritePath(path);

      if (typeof opts.afterRouteComplete === "function") {
        (0, _runloop.schedule)("afterRender", opts.afterRouteComplete);
      }

      if (this.navigatedToPost(oldPath, path, opts)) {
        return;
      }

      if (oldPath === path) {
        // If navigating to the same path send an app event.
        // Views can watch it and tell their controllers to refresh
        this.appEvents.trigger("url:refresh");
      }

      // TODO: Extract into rules we can inject into the URL handler
      if (this.navigatedToHome(oldPath, path, opts)) {
        return;
      }

      // Navigating to empty string is the same as root
      if (path === "") {
        path = "/";
      }

      return this.handleURL(path, opts);
    },
    routeToUrl: function routeToUrl(url) {
      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      this.routeTo(Discourse.getURL(url), opts);
    },
    rewrite: function rewrite(regexp, replacement, opts) {
      rewrites.push({ regexp: regexp, replacement: replacement, opts: opts || {} });
    },
    redirectTo: function redirectTo(url) {
      window.location = Discourse.getURL(url);
    },
    isInternal: function isInternal(url) {
      if (url && url.length) {
        if (url.indexOf("//") === 0) {
          url = "http:" + url;
        }
        if (url.indexOf("#") === 0) {
          return true;
        }
        if (url.indexOf("/") === 0) {
          return true;
        }
        if (url.indexOf(this.origin()) === 0) {
          return true;
        }
        if (url.replace(/^http/, "https").indexOf(this.origin()) === 0) {
          return true;
        }
        if (url.replace(/^https/, "http").indexOf(this.origin()) === 0) {
          return true;
        }
      }
      return false;
    },
    navigatedToPost: function navigatedToPost(oldPath, path, routeOpts) {
      var _this = this;

      var newMatches = TOPIC_REGEXP.exec(path);
      var newTopicId = newMatches ? newMatches[2] : null;

      if (newTopicId) {
        var oldMatches = TOPIC_REGEXP.exec(oldPath);
        var oldTopicId = oldMatches ? oldMatches[2] : null;

        // If the topic_id is the same
        if (oldTopicId === newTopicId) {
          DiscourseURL.replaceState(path);

          var container = Discourse.__container__;
          var topicController = container.lookup("controller:topic");
          var opts = {};
          var postStream = topicController.get("model.postStream");

          if (newMatches[3]) {
            opts.nearPost = newMatches[3];
          }
          if (path.match(/last$/)) {
            opts.nearPost = topicController.get("model.highest_post_number");
          }

          opts.cancelSummary = true;

          postStream.refresh(opts).then(function () {
            var closest = postStream.closestPostNumberFor(opts.nearPost || 1);
            topicController.setProperties({
              "model.currentPost": closest,
              enteredAt: new Date().getTime().toString()
            });

            _this.appEvents.trigger("post:highlight", closest);
            var jumpOpts = {
              skipIfOnScreen: routeOpts.skipIfOnScreen,
              jumpEnd: routeOpts.jumpEnd
            };

            var m = /#.+$/.exec(path);
            if (m) {
              jumpOpts.anchor = m[0];
            }

            _this.jumpToPost(closest, jumpOpts);
          });

          // Abort routing, we have replaced our state.
          return true;
        }
      }

      return false;
    },
    navigatedToHome: function navigatedToHome(oldPath, path) {
      var homepage = (0, _utilities.defaultHomepage)();

      if (window.history && window.history.pushState && (path === "/" || path === "/" + homepage) && (oldPath === "/" || oldPath === "/" + homepage)) {
        this.appEvents.trigger("url:refresh");
        return true;
      }

      return false;
    },
    origin: function origin() {
      return window.location.origin + (Discourse.BaseUri === "/" ? "" : Discourse.BaseUri);
    },


    // TODO: These container calls can be replaced eventually if we migrate this to a service
    // object.

    /**
      @private
       Get a handle on the application's router. Note that currently it uses `__container__` which is not
      advised but there is no other way to access the router.
       @property router
    **/
    get router() {
      return Discourse.__container__.lookup("router:main");
    },

    get appEvents() {
      return Discourse.__container__.lookup("service:app-events");
    },

    controllerFor: function controllerFor(name) {
      return Discourse.__container__.lookup("controller:" + name);
    },
    handleURL: function handleURL(path, opts) {
      opts = opts || {};

      var router = this.router;

      if (opts.replaceURL) {
        this.replaceState(path);
      }

      var split = path.split("#");
      var elementId = void 0;

      if (split.length === 2) {
        path = split[0];
        elementId = split[1];
      }

      // The default path has a hack to allow `/` to default to defaultHomepage
      // via BareRouter.handleUrl
      var transition = void 0;
      if (path === "/" || path.substring(0, 2) === "/?") {
        router._routerMicrolib.updateURL(path);
        transition = router.handleURL(path);
      } else {
        transition = router.transitionTo(path);
      }

      transition._discourse_intercepted = true;
      var promise = transition.promise || transition;
      promise.then(function () {
        return jumpToElement(elementId);
      });
    }
  }).create();

  exports.default = DiscourseURL;
});
define("discourse/lib/debounce", ["exports", "@ember/runloop"], function (exports, _runloop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (func, wait) {
    var self = void 0,
        args = void 0;
    var later = function later() {
      func.apply(self, args);
    };

    return function () {
      self = this;
      args = arguments;

      (0, _runloop.debounce)(null, later, wait);
    };
  };
});
define("discourse/lib/quote", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    REGEXP: /\[quote=([^\]]*)\]((?:[\s\S](?!\[quote=[^\]]*\]))*?)\[\/quote\]/im,

    // Build the BBCode quote around the selected text
    build: function build(post, contents, opts) {
      if (!post) {
        return "";
      }

      if (!contents) contents = "";
      if (!opts) opts = {};

      var sansQuotes = contents.replace(this.REGEXP, "").trim();
      if (sansQuotes.length === 0) {
        return "";
      }

      // Strip the HTML from cooked
      var stripped = $("<div/>").html(post.get("cooked")).text();

      // Let's remove any non-word characters as a kind of hash.
      // Yes it's not accurate but it should work almost every time we need it to.
      // It would be unlikely that the user would quote another post that matches in exactly this way.
      var sameContent = stripped.replace(/\W/g, "") === contents.replace(/\W/g, "");

      var params = [opts.username || post.username, "post:" + (opts.post || post.post_number), "topic:" + (opts.topic || post.topic_id)];

      opts = opts || {};

      if (opts["full"] || sameContent) params.push("full:true");

      return "[quote=\"" + params.join(", ") + "\"]\n" + (opts["raw"] ? contents : sansQuotes) + "\n[/quote]\n\n";
    }
  };
});
define("discourse/lib/key-value-store", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  // A simple key value store that uses LocalStorage
  var safeLocalStorage = void 0;

  try {
    safeLocalStorage = localStorage;
    if (localStorage["disableLocalStorage"] === "true") {
      safeLocalStorage = null;
    } else {
      // makes sure we can write to the local storage
      safeLocalStorage["safeLocalStorage"] = true;
    }
  } catch (e) {
    // cookies disabled, we don't care
    safeLocalStorage = null;
  }

  var KeyValueStore = function KeyValueStore(ctx) {
    this.context = ctx;
  };

  KeyValueStore.prototype = {
    abandonLocal: function abandonLocal() {
      if (!safeLocalStorage) {
        return;
      }

      var i = safeLocalStorage.length - 1;
      while (i >= 0) {
        var k = safeLocalStorage.key(i);
        if (k.substring(0, this.context.length) === this.context) {
          safeLocalStorage.removeItem(k);
        }
        i--;
      }
      return true;
    },
    remove: function remove(key) {
      if (!safeLocalStorage) {
        return;
      }
      return safeLocalStorage.removeItem(this.context + key);
    },
    set: function set(opts) {
      if (!safeLocalStorage) {
        return false;
      }
      safeLocalStorage[this.context + opts.key] = opts.value;
    },
    setObject: function setObject(opts) {
      this.set({ key: opts.key, value: JSON.stringify(opts.value) });
    },
    get: function get(key) {
      if (!safeLocalStorage) {
        return null;
      }
      return safeLocalStorage[this.context + key];
    },
    getInt: function getInt(key, def) {
      if (!def) {
        def = 0;
      }
      if (!safeLocalStorage) {
        return def;
      }
      var result = parseInt(this.get(key), 10);
      if (!isFinite(result)) {
        return def;
      }
      return result;
    },
    getObject: function getObject(key) {
      if (!safeLocalStorage) {
        return null;
      }
      try {
        return JSON.parse(safeLocalStorage[this.context + key]);
      } catch (e) {}
    }
  };

  // API compatibility with `localStorage`
  KeyValueStore.prototype.getItem = KeyValueStore.prototype.get;
  KeyValueStore.prototype.removeItem = KeyValueStore.prototype.remove;
  KeyValueStore.prototype.setItem = function (key, value) {
    this.set({ key: key, value: value });
  };

  exports.default = KeyValueStore;
});
define("discourse/lib/computed", ["exports", "ember-addons/fmt"], function (exports, _fmt) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.propertyEqual = propertyEqual;
  exports.propertyNotEqual = propertyNotEqual;
  exports.propertyGreaterThan = propertyGreaterThan;
  exports.propertyLessThan = propertyLessThan;
  exports.i18n = i18n;
  exports.fmt = fmt;
  exports.url = url;
  exports.endWith = endWith;
  exports.setting = setting;

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  /**
    Returns whether two properties are equal to each other.
  
    @method propertyEqual
    @params {String} p1 the first property
    @params {String} p2 the second property
    @return {Function} discourseComputedProperty function
  **/

  function propertyEqual(p1, p2) {
    return Ember.computed(p1, p2, function () {
      return this.get(p1) === this.get(p2);
    });
  }

  /**
    Returns whether two properties are not equal to each other.
  
    @method propertyNotEqual
    @params {String} p1 the first property
    @params {String} p2 the second property
    @return {Function} discourseComputedProperty function
  **/
  function propertyNotEqual(p1, p2) {
    return Ember.computed(p1, p2, function () {
      return this.get(p1) !== this.get(p2);
    });
  }

  function propertyGreaterThan(p1, p2) {
    return Ember.computed(p1, p2, function () {
      return this.get(p1) > this.get(p2);
    });
  }

  function propertyLessThan(p1, p2) {
    return Ember.computed(p1, p2, function () {
      return this.get(p1) < this.get(p2);
    });
  }

  /**
    Returns i18n version of a string based on a property.
  
    @method i18n
    @params {String} properties* to format
    @params {String} format the i18n format string
    @return {Function} discourseComputedProperty function
  **/
  function i18n() {
    var _Ember;

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var format = args.pop();
    return (_Ember = Ember).computed.apply(_Ember, args.concat([function () {
      var _this = this;

      return I18n.t(_fmt.default.apply(undefined, [format].concat(_toConsumableArray(args.map(function (a) {
        return _this.get(a);
      })))));
    }]));
  }

  /**
    Uses an Ember String `fmt` call to format a string. See:
    http://emberjs.com/api/classes/Ember.String.html#method_fmt
  
    @method fmt
    @params {String} properties* to format
    @params {String} format the format string
    @return {Function} discourseComputedProperty function
  **/
  function fmt() {
    var _Ember2;

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    var format = args.pop();
    return (_Ember2 = Ember).computed.apply(_Ember2, args.concat([function () {
      var _this2 = this;

      return _fmt.default.apply(undefined, [format].concat(_toConsumableArray(args.map(function (a) {
        return _this2.get(a);
      }))));
    }]));
  }

  /**
    Creates a URL using Discourse.getURL. It takes a fmt string just like
    fmt does.
  
    @method url
    @params {String} properties* to format
    @params {String} format the format string for the URL
    @return {Function} discourseComputedProperty function returning a URL
  **/
  function url() {
    var _Ember3;

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    var format = args.pop();
    return (_Ember3 = Ember).computed.apply(_Ember3, args.concat([function () {
      var _this3 = this;

      return Discourse.getURL(_fmt.default.apply(undefined, [format].concat(_toConsumableArray(args.map(function (a) {
        return _this3.get(a);
      })))));
    }]));
  }

  /**
    Returns whether properties end with a string
  
    @method endWith
    @params {String} properties* to check
    @params {String} substring the substring
    @return {Function} discourseComputedProperty function
  **/
  function endWith() {
    var _Ember4;

    var args = Array.prototype.slice.call(arguments, 0);
    var substring = args.pop();
    return (_Ember4 = Ember).computed.apply(_Ember4, _toConsumableArray(args).concat([function () {
      var _this4 = this;

      return args.map(function (a) {
        return _this4.get(a);
      }).every(function (s) {
        var position = s.length - substring.length,
            lastIndex = s.lastIndexOf(substring);
        return lastIndex !== -1 && lastIndex === position;
      });
    }]));
  }

  /**
    Creates a property from a SiteSetting. In the future the plan is for them to
    be able to update when changed.
  
    @method setting
    @param {String} name of site setting
  **/
  function setting(name) {
    return Ember.computed(function () {
      return Discourse.SiteSettings[name];
    });
  }
});
define("discourse/lib/formatter", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.shortDate = shortDate;
  exports.smartShortDate = smartShortDate;
  exports.tinyDateYear = tinyDateYear;
  exports.toTitleCase = toTitleCase;
  exports.longDate = longDate;
  exports.longDateNoYear = longDateNoYear;
  exports.updateRelativeAge = updateRelativeAge;
  exports.autoUpdatingRelativeAge = autoUpdatingRelativeAge;
  exports.durationTiny = durationTiny;
  exports.relativeAgeMediumSpan = relativeAgeMediumSpan;
  exports.relativeAge = relativeAge;
  exports.number = number;
  exports.ensureJSON = ensureJSON;
  exports.plainJSON = plainJSON;
  exports.prettyJSON = prettyJSON;
  function shortDate(date) {
    return moment(date).format(I18n.t("dates.medium.date_year"));
  }

  function shortDateNoYear(date) {
    return moment(date).format(I18n.t("dates.tiny.date_month"));
  }

  // Suppress year if it's this year
  function smartShortDate(date) {
    var withYear = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : tinyDateYear;

    return date.getFullYear() === new Date().getFullYear() ? shortDateNoYear(date) : withYear(date);
  }

  function tinyDateYear(date) {
    return moment(date).format(I18n.t("dates.tiny.date_year"));
  }

  // http://stackoverflow.com/questions/196972/convert-string-to-title-case-with-javascript
  // TODO: locale support ?
  function toTitleCase(str) {
    return str.replace(/\w\S*/g, function (txt) {
      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
    });
  }

  function longDate(dt) {
    if (!dt) return;
    return moment(dt).format(I18n.t("dates.long_with_year"));
  }

  // suppress year, if current year
  function longDateNoYear(dt) {
    if (!dt) return;

    if (new Date().getFullYear() !== dt.getFullYear()) {
      return moment(dt).format(I18n.t("dates.long_date_with_year"));
    } else {
      return moment(dt).format(I18n.t("dates.long_date_without_year"));
    }
  }

  function updateRelativeAge(elems) {
    // jQuery .each
    elems.each(function () {
      var $this = $(this);
      $this.html(relativeAge(new Date($this.data("time")), {
        format: $this.data("format"),
        wrapInSpan: false
      }));
    });
  }

  function autoUpdatingRelativeAge(date, options) {
    if (!date) return "";
    if (+date === +new Date(0)) return "";

    options = options || {};
    var format = options.format || "tiny";

    var append = "";
    if (format === "medium") {
      append = " date";
      if (options.leaveAgo) {
        format = "medium-with-ago";
      }
      options.wrapInSpan = false;
    }

    var relAge = relativeAge(date, options);

    if (format === "tiny" && relativeAgeTinyShowsYear(relAge)) {
      append += " with-year";
    }

    if (options.title) {
      append += "' title='" + longDate(date);
    }

    return "<span class='relative-date" + append + "' data-time='" + date.getTime() + "' data-format='" + format + "'>" + relAge + "</span>";
  }

  function wrapAgo(dateStr) {
    return I18n.t("dates.wrap_ago", { date: dateStr });
  }

  function durationTiny(distance, ageOpts) {
    if (typeof distance !== "number") {
      return "&mdash;";
    }

    var dividedDistance = Math.round(distance / 60.0);
    var distanceInMinutes = dividedDistance < 1 ? 1 : dividedDistance;

    var t = function t(key, opts) {
      var result = I18n.t("dates.tiny." + key, opts);
      return ageOpts && ageOpts.addAgo ? wrapAgo(result) : result;
    };

    var formatted = void 0;

    switch (true) {
      case distance <= 59:
        formatted = t("less_than_x_minutes", { count: 1 });
        break;
      case distanceInMinutes >= 0 && distanceInMinutes <= 44:
        formatted = t("x_minutes", { count: distanceInMinutes });
        break;
      case distanceInMinutes >= 45 && distanceInMinutes <= 89:
        formatted = t("about_x_hours", { count: 1 });
        break;
      case distanceInMinutes >= 90 && distanceInMinutes <= 1409:
        formatted = t("about_x_hours", {
          count: Math.round(distanceInMinutes / 60.0)
        });
        break;
      case distanceInMinutes >= 1410 && distanceInMinutes <= 2519:
        formatted = t("x_days", { count: 1 });
        break;
      case distanceInMinutes >= 2520 && distanceInMinutes <= 129599:
        formatted = t("x_days", {
          count: Math.round(distanceInMinutes / 1440.0)
        });
        break;
      case distanceInMinutes >= 129600 && distanceInMinutes <= 525599:
        formatted = t("x_months", {
          count: Math.round(distanceInMinutes / 43200.0)
        });
        break;
      default:
        var numYears = distanceInMinutes / 525600.0;
        var remainder = numYears % 1;
        if (remainder < 0.25) {
          formatted = t("about_x_years", { count: Math.floor(numYears) });
        } else if (remainder < 0.75) {
          formatted = t("over_x_years", { count: Math.floor(numYears) });
        } else {
          formatted = t("almost_x_years", { count: Math.floor(numYears) + 1 });
        }

        break;
    }

    return formatted;
  }

  function relativeAgeTiny(date, ageOpts) {
    var format = "tiny";
    var distance = Math.round((new Date() - date) / 1000);
    var dividedDistance = Math.round(distance / 60.0);
    var distanceInMinutes = dividedDistance < 1 ? 1 : dividedDistance;

    var formatted = void 0;
    var t = function t(key, opts) {
      var result = I18n.t("dates." + format + "." + key, opts);
      return ageOpts && ageOpts.addAgo ? wrapAgo(result) : result;
    };

    switch (true) {
      case distanceInMinutes >= 0 && distanceInMinutes <= 44:
        formatted = t("x_minutes", { count: distanceInMinutes });
        break;
      case distanceInMinutes >= 45 && distanceInMinutes <= 89:
        formatted = t("about_x_hours", { count: 1 });
        break;
      case distanceInMinutes >= 90 && distanceInMinutes <= 1409:
        formatted = t("about_x_hours", {
          count: Math.round(distanceInMinutes / 60.0)
        });
        break;
      case Discourse.SiteSettings.relative_date_duration === 0 && distanceInMinutes <= 525599:
        formatted = shortDateNoYear(date);
        break;
      case distanceInMinutes >= 1410 && distanceInMinutes <= 2519:
        formatted = t("x_days", { count: 1 });
        break;
      case distanceInMinutes >= 2520 && distanceInMinutes <= (Discourse.SiteSettings.relative_date_duration || 14) * 1440:
        formatted = t("x_days", {
          count: Math.round(distanceInMinutes / 1440.0)
        });
        break;
      default:
        formatted = (ageOpts.defaultFormat || smartShortDate)(date);
        break;
    }

    return formatted;
  }

  /*
   * Returns true if the given tiny date string includes the year.
   * Useful for checking if the string isn't so tiny.
   */
  function relativeAgeTinyShowsYear(relativeAgeString) {
    return relativeAgeString.match(/'[\d]{2}$/);
  }

  function relativeAgeMediumSpan(distance, leaveAgo) {
    var formatted = void 0;
    var distanceInMinutes = Math.round(distance / 60.0);

    var t = function t(key, opts) {
      return I18n.t("dates.medium" + (leaveAgo ? "_with_ago" : "") + "." + key, opts);
    };

    switch (true) {
      case distanceInMinutes >= 1 && distanceInMinutes <= 55:
        formatted = t("x_minutes", { count: distanceInMinutes });
        break;
      case distanceInMinutes >= 56 && distanceInMinutes <= 89:
        formatted = t("x_hours", { count: 1 });
        break;
      case distanceInMinutes >= 90 && distanceInMinutes <= 1409:
        formatted = t("x_hours", { count: Math.round(distanceInMinutes / 60.0) });
        break;
      case distanceInMinutes >= 1410 && distanceInMinutes <= 2519:
        formatted = t("x_days", { count: 1 });
        break;
      case distanceInMinutes >= 2520 && distanceInMinutes <= 129599:
        formatted = t("x_days", {
          count: Math.round((distanceInMinutes - 720.0) / 1440.0)
        });
        break;
      case distanceInMinutes >= 129600 && distanceInMinutes <= 525599:
        formatted = t("x_months", {
          count: Math.round(distanceInMinutes / 43200.0)
        });
        break;
      default:
        formatted = t("x_years", {
          count: Math.round(distanceInMinutes / 525600.0)
        });
        break;
    }
    return formatted || "&mdash;";
  }

  function relativeAgeMedium(date, options) {
    var wrapInSpan = options.wrapInSpan !== false;
    var leaveAgo = options.leaveAgo;
    var distance = Math.round((new Date() - date) / 1000);

    if (!date) {
      return "&mdash;";
    }

    var fullReadable = longDate(date);
    var fiveDaysAgo = 432000;
    var oneMinuteAgo = 60;

    var displayDate = "";
    if (distance < oneMinuteAgo) {
      displayDate = I18n.t("now");
    } else if (distance > fiveDaysAgo) {
      displayDate = smartShortDate(date, shortDate);
    } else {
      displayDate = relativeAgeMediumSpan(distance, leaveAgo);
    }
    if (wrapInSpan) {
      return "<span class='date' title='" + fullReadable + "'>" + displayDate + "</span>";
    } else {
      return displayDate;
    }
  }

  // mostly lifted from rails with a few amendments
  function relativeAge(date, options) {
    options = options || {};
    var format = options.format || "tiny";

    if (format === "tiny") {
      return relativeAgeTiny(date, options);
    } else if (format === "medium") {
      return relativeAgeMedium(date, options);
    } else if (format === "medium-with-ago") {
      return relativeAgeMedium(date, _.extend(options, { format: "medium", leaveAgo: true }));
    }

    return "UNKNOWN FORMAT";
  }

  function number(val) {
    var formattedNumber = void 0;

    val = Math.round(parseFloat(val));
    if (isNaN(val)) val = 0;

    if (val > 999999) {
      formattedNumber = I18n.toNumber(val / 1000000, { precision: 1 });
      return I18n.t("number.short.millions", { number: formattedNumber });
    } else if (val > 99999) {
      formattedNumber = I18n.toNumber(Math.floor(val / 1000), { precision: 0 });
      return I18n.t("number.short.thousands", { number: formattedNumber });
    } else if (val > 999) {
      formattedNumber = I18n.toNumber(val / 1000, { precision: 1 });
      return I18n.t("number.short.thousands", { number: formattedNumber });
    }
    return val.toString();
  }

  function ensureJSON(json) {
    return typeof json === "string" ? JSON.parse(json) : json;
  }

  function plainJSON(val) {
    var json = ensureJSON(val);
    var headers = "";
    Object.keys(json).forEach(function (k) {
      headers += k + ": " + json[k] + "\n";
    });
    return headers;
  }

  function prettyJSON(json) {
    return JSON.stringify(ensureJSON(json), null, 2);
  }
});
define("discourse/lib/text-direction", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.isRTL = isRTL;
  exports.isLTR = isLTR;
  exports.setTextDirections = setTextDirections;
  exports.siteDir = siteDir;
  var ltrChars = "A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF";
  var rtlChars = "\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC";
  var rtlDirCheck = new RegExp("^[^" + ltrChars + "]*[" + rtlChars + "]");
  var ltrDirCheck = new RegExp("^[^" + rtlChars + "]*[" + ltrChars + "]");
  var _siteDir = void 0;

  function isRTL(text) {
    return rtlDirCheck.test(text);
  }

  function isLTR(text) {
    return ltrDirCheck.test(text);
  }

  function setTextDirections($elem) {
    $elem.find("*").each(function (i, e) {
      var $e = $(e),
          textContent = $e.text();
      if (textContent) {
        isRTL(textContent) ? $e.attr("dir", "rtl") : $e.attr("dir", "ltr");
      }
    });
  }

  function siteDir() {
    if (!_siteDir) {
      _siteDir = $("html").hasClass("rtl") ? "rtl" : "ltr";
    }
    return _siteDir;
  }
});
define("discourse/lib/eyeline", ["exports", "discourse-common/config/environment", "rsvp"], function (exports, _environment, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.configureEyeline = configureEyeline;


  var _skipUpdate = void 0;
  var _rootElement = void 0;

  function configureEyeline(opts) {
    if (opts) {
      _skipUpdate = opts.skipUpdate;
      _rootElement = opts.rootElement;
    } else {
      _skipUpdate = _environment.default.environment === "test";
      _rootElement = null;
    }
  }

  configureEyeline();

  //  Track visible elements on the screen.
  var Eyeline = function Eyeline(selector) {
    this.selector = selector;
  };

  Eyeline.prototype.update = function () {
    var _this = this;

    if (_skipUpdate) {
      return;
    }

    var docViewTop = _rootElement ? $(_rootElement).scrollTop() : $(window).scrollTop();
    var windowHeight = _rootElement ? $(_rootElement).height() : $(window).height();
    var docViewBottom = docViewTop + windowHeight;
    var $elements = $(this.selector);
    var bottomOffset = _rootElement ? $elements.last().position() : $elements.last().offset();

    var atBottom = false;
    if (bottomOffset) {
      atBottom = bottomOffset.top <= docViewBottom && bottomOffset.top >= docViewTop;
    }

    return $elements.each(function (i, elem) {
      var $elem = $(elem),
          elemTop = _rootElement ? $elem.position().top : $elem.offset().top,
          elemBottom = elemTop + $elem.height();

      var markSeen = false;

      // Make sure the element is visible
      if (!$elem.is(":visible")) return true;

      // It's seen if...
      // ...the element is vertically within the top and botom
      if (elemTop <= docViewBottom && elemTop >= docViewTop) markSeen = true;

      // ...the element top is above the top and the bottom is below the bottom (large elements)
      if (elemTop <= docViewTop && elemBottom >= docViewBottom) markSeen = true;

      // ...we're at the bottom and the bottom of the element is visible (large bottom elements)
      if (atBottom && elemBottom >= docViewTop) markSeen = true;

      if (!markSeen) return true;

      // If you hit the bottom we mark all the elements as seen. Otherwise, just the first one
      if (!atBottom) {
        _this.trigger("saw", { detail: $elem });
        if (i === 0) {
          _this.trigger("sawTop", { detail: $elem });
        }
        return false;
      }
      if (i === 0) {
        _this.trigger("sawTop", { detail: $elem });
      }
      if (i === $elements.length - 1) {
        return _this.trigger("sawBottom", { detail: $elem });
      }
    });
  };

  //  Call this when we know aren't loading any more elements. Mark the rest as seen
  Eyeline.prototype.flushRest = function () {
    var _this2 = this;

    if (_environment.default.environment === "test") {
      return;
    }

    $(this.selector).each(function (i, elem) {
      return _this2.trigger("saw", { detail: $(elem) });
    });
  };

  _rsvp.EventTarget.mixin(Eyeline.prototype);

  exports.default = Eyeline;
});
define("discourse/lib/show-modal", ["exports", "@ember/string"], function (exports, _string) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (name, opts) {
    opts = opts || {};
    var container = Discourse.__container__;

    // We use the container here because modals are like singletons
    // in Discourse. Only one can be shown with a particular state.
    var route = container.lookup("route:application");
    var modalController = route.controllerFor("modal");

    modalController.set("modalClass", opts.modalClass);

    var controllerName = opts.admin ? "modals/" + name : name;
    modalController.set("name", controllerName);

    var controller = container.lookup("controller:" + controllerName);
    var templateName = opts.templateName || (0, _string.dasherize)(name);

    var renderArgs = { into: "modal", outlet: "modalBody" };
    if (controller) {
      renderArgs.controller = controllerName;
    } else {
      // use a basic controller
      renderArgs.controller = "basic-modal-body";
      controller = container.lookup("controller:" + renderArgs.controller);
    }

    if (opts.addModalBodyView) {
      renderArgs.view = "modal-body";
    }

    var modalName = "modal/" + templateName;
    var fullName = opts.admin ? "admin/templates/" + modalName : modalName;
    route.render(fullName, renderArgs);
    if (opts.title) {
      modalController.set("title", I18n.t(opts.title));
    }

    if (opts.panels) {
      modalController.setProperties({
        panels: opts.panels,
        selectedPanel: opts.panels[0]
      });

      if (controller.actions.onSelectPanel) {
        modalController.set("onSelectPanel", controller.actions.onSelectPanel);
      }

      modalController.set("modalClass", modalController.get("modalClass") + " has-tabs");
    } else {
      modalController.setProperties({ panels: [], selectedPanel: null });
    }

    controller.set("modal", modalController);
    var model = opts.model;
    if (model) {
      controller.set("model", model);
    }
    if (controller.onShow) {
      controller.onShow();
    }
    controller.set("flashMessage", null);

    return controller;
  };
});
define("discourse/mixins/scrolling", ["exports", "@ember/runloop", "discourse/lib/debounce", "@ember/object/mixin"], function (exports, _runloop, _debounce, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.ScrollingDOMMethods = undefined;


  /**
    This object provides the DOM methods we need for our Mixin to bind to scrolling
    methods in the browser. By removing them from the Mixin we can test them
    easier.
  **/
  var ScrollingDOMMethods = {
    bindOnScroll: function bindOnScroll(onScrollMethod, name) {
      name = name || "default";
      $(document).bind("touchmove.discourse-" + name, onScrollMethod);
      $(window).bind("scroll.discourse-" + name, onScrollMethod);
    },
    unbindOnScroll: function unbindOnScroll(name) {
      name = name || "default";
      $(window).unbind("scroll.discourse-" + name);
      $(document).unbind("touchmove.discourse-" + name);
    },
    screenNotFull: function screenNotFull() {
      return $(window).height() > $("#main").height();
    }
  };

  var Scrolling = _mixin.default.create({
    bindScrolling: function bindScrolling(opts) {
      var _this = this;

      opts = opts || { debounce: 100 };

      // So we can not call the scrolled event while transitioning
      var router = Discourse.__container__.lookup("router:main")._routerMicrolib;

      var onScrollMethod = function onScrollMethod() {
        if (router.activeTransition) {
          return;
        }
        return (0, _runloop.scheduleOnce)("afterRender", _this, "scrolled");
      };

      if (opts.debounce) {
        onScrollMethod = (0, _debounce.default)(onScrollMethod, opts.debounce);
      }

      ScrollingDOMMethods.bindOnScroll(onScrollMethod, opts.name);
    },


    screenNotFull: function screenNotFull() {
      return ScrollingDOMMethods.screenNotFull();
    },

    unbindScrolling: function unbindScrolling(name) {
      ScrollingDOMMethods.unbindOnScroll(name);
    }
  });

  exports.ScrollingDOMMethods = ScrollingDOMMethods;
  exports.default = Scrolling;
});
define("discourse/lib/ajax-error", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.extractError = extractError;
  exports.throwAjaxError = throwAjaxError;
  exports.popupAjaxError = popupAjaxError;
  function extractError(error, defaultMessage) {
    if (error instanceof Error) {
      // eslint-disable-next-line no-console
      console.error(error.stack);
    }

    if (typeof error === "string") {
      // eslint-disable-next-line no-console
      console.error(error);
    }

    if (error.jqXHR) {
      error = error.jqXHR;
    }

    var parsedError = void 0,
        parsedJSON = void 0;

    if (error.responseJSON) {
      parsedJSON = error.responseJSON;
    }

    if (!parsedJSON && error.responseText) {
      try {
        parsedJSON = $.parseJSON(error.responseText);
      } catch (ex) {
        // in case the JSON doesn't parse
        // eslint-disable-next-line no-console
        console.error(ex.stack);
      }
    }

    if (parsedJSON) {
      if (parsedJSON.errors && parsedJSON.errors.length > 0) {
        parsedError = parsedJSON.errors.join("<br>");
      } else if (parsedJSON.error) {
        parsedError = parsedJSON.error;
      } else if (parsedJSON.message) {
        parsedError = parsedJSON.message;
      } else if (parsedJSON.failed) {
        parsedError = parsedJSON.failed;
      }
    }

    if (!parsedError) {
      if (error.status && error.status >= 400) {
        parsedError = error.status + " " + error.statusText;
      }
    }

    return parsedError || defaultMessage || I18n.t("generic_error");
  }

  function throwAjaxError(undoCallback) {
    return function (error) {
      // If we provided an `undo` callback
      if (undoCallback) {
        undoCallback(error);
      }
      throw extractError(error);
    };
  }

  function popupAjaxError(error) {
    if (error && error._discourse_displayed) {
      return;
    }
    bootbox.alert(extractError(error));

    error._discourse_displayed = true;

    // We re-throw in a catch to not swallow the exception
    throw error;
  }
});
define("discourse/models/result-set", ["exports", "discourse-common/utils/decorators", "rsvp"], function (exports, _decorators, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = Ember.ArrayProxy.extend((_dec = (0, _decorators.default)("totalRows", "length"), (_obj = {
    loading: false,
    loadingMore: false,
    totalRows: 0,
    refreshing: false,

    content: null,
    loadMoreUrl: null,
    refreshUrl: null,
    findArgs: null,
    store: null,
    __type: null,
    resultSetMeta: null,

    canLoadMore: function canLoadMore(totalRows, length) {
      return length < totalRows;
    },
    loadMore: function loadMore() {
      var _this = this;

      var loadMoreUrl = this.loadMoreUrl;
      if (!loadMoreUrl) {
        return;
      }

      var totalRows = this.totalRows;
      if (this.length < totalRows && !this.loadingMore) {
        this.set("loadingMore", true);

        return this.store.appendResults(this, this.__type, loadMoreUrl).finally(function () {
          return _this.set("loadingMore", false);
        });
      }

      return _rsvp.Promise.resolve();
    },
    refresh: function refresh() {
      var _this2 = this;

      if (this.refreshing) {
        return;
      }

      var refreshUrl = this.refreshUrl;
      if (!refreshUrl) {
        return;
      }

      this.set("refreshing", true);
      return this.store.refreshResults(this, this.__type, refreshUrl).finally(function () {
        return _this2.set("refreshing", false);
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "canLoadMore", [_dec], Object.getOwnPropertyDescriptor(_obj, "canLoadMore"), _obj)), _obj)));
});
define("discourse/models/store", ["exports", "@ember/object", "discourse/lib/ajax", "discourse/models/rest", "discourse/models/result-set", "discourse-common/lib/get-owner", "@ember/string", "discourse/models/category", "rsvp"], function (exports, _object, _ajax, _rest, _resultSet2, _getOwner, _string, _category, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.flushMap = undefined;

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  var _identityMap = void 0;

  // You should only call this if you're a test scaffold
  function flushMap() {
    _identityMap = {};
  }

  function storeMap(type, id, obj) {
    if (!id) {
      return;
    }

    _identityMap[type] = _identityMap[type] || {};
    _identityMap[type][id] = obj;
  }

  function fromMap(type, id) {
    var byType = _identityMap[type];
    if (byType) {
      return byType[id];
    }
  }

  function removeMap(type, id) {
    var byType = _identityMap[type];
    if (byType) {
      delete byType[id];
    }
  }

  function findAndRemoveMap(type, id) {
    var byType = _identityMap[type];
    if (byType) {
      var result = byType[id];
      delete byType[id];
      return result;
    }
  }

  flushMap();

  exports.default = _object.default.extend({
    _plurals: {
      category: "categories",
      "post-reply": "post-replies",
      "post-reply-history": "post_reply_histories",
      reviewable_history: "reviewable_histories"
    },

    init: function init() {
      this._super.apply(this, arguments);
      this.register = this.register || (0, _getOwner.getRegister)(this);
    },
    pluralize: function pluralize(thing) {
      return this._plurals[thing] || thing + "s";
    },
    addPluralization: function addPluralization(thing, plural) {
      this._plurals[thing] = plural;
    },
    findAll: function findAll(type, findArgs) {
      var _this = this;

      var adapter = this.adapterFor(type);

      var store = this;
      return adapter.findAll(this, type, findArgs).then(function (result) {
        var results = _this._resultSet(type, result);
        if (adapter.afterFindAll) {
          results = adapter.afterFindAll(results, {
            lookup: function lookup(subType, id) {
              return store._lookupSubType(subType, type, id, result);
            }
          });
        }
        return results;
      });
    },


    // Mostly for legacy, things like TopicList without ResultSets
    findFiltered: function findFiltered(type, findArgs) {
      var _this2 = this;

      return this.adapterFor(type).find(this, type, findArgs).then(function (result) {
        return _this2._build(type, result);
      });
    },
    _hydrateFindResults: function _hydrateFindResults(result, type, findArgs) {
      if ((typeof findArgs === "undefined" ? "undefined" : _typeof(findArgs)) === "object") {
        return this._resultSet(type, result, findArgs);
      } else {
        var apiName = this.adapterFor(type).apiNameFor(type);
        return this._hydrate(type, result[(0, _string.underscore)(apiName)], result);
      }
    },


    // See if the store can find stale data. We sometimes prefer to show stale data and
    // refresh it in the background.
    findStale: function findStale(type, findArgs, opts) {
      var _this3 = this;

      var stale = this.adapterFor(type).findStale(this, type, findArgs, opts);
      return {
        hasResults: stale !== undefined,
        results: stale,
        refresh: function refresh() {
          return _this3.find(type, findArgs, opts);
        }
      };
    },
    find: function find(type, findArgs, opts) {
      var _this4 = this;

      var adapter = this.adapterFor(type);
      return adapter.find(this, type, findArgs, opts).then(function (result) {
        var hydrated = _this4._hydrateFindResults(result, type, findArgs, opts);

        if (result.extras) {
          hydrated.set("extras", result.extras);
        }

        if (adapter.cache) {
          var stale = adapter.findStale(_this4, type, findArgs, opts);
          hydrated = _this4._updateStale(stale, hydrated);
          adapter.cacheFind(_this4, type, findArgs, opts, hydrated);
        }
        return hydrated;
      });
    },
    _updateStale: function _updateStale(stale, hydrated) {
      if (!stale) {
        return hydrated;
      }

      hydrated.set("content", hydrated.get("content").map(function (item) {
        var staleItem = stale.content.findBy("id", item.get("id"));
        if (staleItem) {
          staleItem.setProperties(item);
        } else {
          staleItem = item;
        }
        return staleItem;
      }));
      return hydrated;
    },
    refreshResults: function refreshResults(resultSet, type, url) {
      var _this5 = this;

      var adapter = this.adapterFor(type);
      return (0, _ajax.ajax)(url).then(function (result) {
        var typeName = (0, _string.underscore)(_this5.pluralize(adapter.apiNameFor(type)));
        var content = result[typeName].map(function (obj) {
          return _this5._hydrate(type, obj, result);
        });
        resultSet.set("content", content);
      });
    },
    appendResults: function appendResults(resultSet, type, url) {
      var _this6 = this;

      var adapter = this.adapterFor(type);
      return (0, _ajax.ajax)(url).then(function (result) {
        var typeName = (0, _string.underscore)(_this6.pluralize(adapter.apiNameFor(type)));

        var pageTarget = result.meta || result;
        var totalRows = pageTarget["total_rows_" + typeName] || resultSet.get("totalRows");
        var loadMoreUrl = pageTarget["load_more_" + typeName];
        var content = result[typeName].map(function (obj) {
          return _this6._hydrate(type, obj, result);
        });

        resultSet.setProperties({ totalRows: totalRows, loadMoreUrl: loadMoreUrl });
        resultSet.get("content").pushObjects(content);

        // If we've loaded them all, clear the load more URL
        if (resultSet.get("length") >= totalRows) {
          resultSet.set("loadMoreUrl", null);
        }
      });
    },
    update: function update(type, id, attrs) {
      return this.adapterFor(type).update(this, type, id, attrs, function (result) {
        if (result && result[type] && result[type].id) {
          var oldRecord = findAndRemoveMap(type, id);
          storeMap(type, result[type].id, oldRecord);
        }
        return result;
      });
    },
    createRecord: function createRecord(type, attrs) {
      attrs = attrs || {};
      return !!attrs.id ? this._hydrate(type, attrs) : this._build(type, attrs);
    },
    destroyRecord: function destroyRecord(type, record) {
      // If the record is new, don't perform an Ajax call
      if (record.get("isNew")) {
        removeMap(type, record.get("id"));
        return _rsvp.Promise.resolve(true);
      }

      return this.adapterFor(type).destroyRecord(this, type, record).then(function (result) {
        removeMap(type, record.get("id"));
        return result;
      });
    },
    _resultSet: function _resultSet(type, result, findArgs) {
      var _this7 = this;

      var adapter = this.adapterFor(type);
      var typeName = (0, _string.underscore)(this.pluralize(adapter.apiNameFor(type)));

      if (!result[typeName]) {
        // eslint-disable-next-line no-console
        console.error("JSON response is missing `" + typeName + "` key", result);
        return;
      }

      var content = result[typeName].map(function (obj) {
        return _this7._hydrate(type, obj, result);
      });

      var pageTarget = result.meta || result;

      var createArgs = {
        content: content,
        findArgs: findArgs,
        totalRows: pageTarget["total_rows_" + typeName] || content.length,
        loadMoreUrl: pageTarget["load_more_" + typeName],
        refreshUrl: pageTarget["refresh_" + typeName],
        resultSetMeta: result.meta,
        store: this,
        __type: type
      };

      if (result.extras) {
        createArgs.extras = result.extras;
      }

      return _resultSet2.default.create(createArgs);
    },
    _build: function _build(type, obj) {
      obj.store = this;
      obj.__type = type;
      obj.__state = obj.id ? "created" : "new";

      // TODO: Have injections be automatic
      obj.topicTrackingState = this.register.lookup("topic-tracking-state:main");
      obj.keyValueStore = this.register.lookup("key-value-store:main");
      obj.siteSettings = this.register.lookup("site-settings:main");

      var klass = this.register.lookupFactory("model:" + type) || _rest.default;
      var model = klass.create(obj);

      storeMap(type, obj.id, model);
      return model;
    },
    adapterFor: function adapterFor(type) {
      return this.register.lookup("adapter:" + type) || this.register.lookup("adapter:rest");
    },
    _lookupSubType: function _lookupSubType(subType, type, id, root) {
      // cheat: we know we already have categories in memory
      // TODO: topics do their own resolving of `category_id`
      // to category. That should either respect this or be
      // removed.
      if (subType === "category" && type !== "topic") {
        return _category.default.findById(id);
      }

      if (root.meta && root.meta.types) {
        subType = root.meta.types[subType] || subType;
      }

      var pluralType = this.pluralize(subType);
      var collection = root[this.pluralize(subType)];
      if (collection) {
        var hashedProp = "__hashed_" + pluralType;
        var hashedCollection = root[hashedProp];
        if (!hashedCollection) {
          hashedCollection = {};
          collection.forEach(function (it) {
            hashedCollection[it.id] = it;
          });
          root[hashedProp] = hashedCollection;
        }

        var found = hashedCollection[id];
        if (found) {
          var hydrated = this._hydrate(subType, found, root);
          hashedCollection[id] = hydrated;
          return hydrated;
        }
      }
    },
    _hydrateEmbedded: function _hydrateEmbedded(type, obj, root) {
      var _this8 = this;

      Object.keys(obj).forEach(function (k) {
        var m = /(.+)\_id(s?)$/.exec(k);
        if (m) {
          var subType = m[1];

          if (m[2]) {
            var hydrated = obj[k].map(function (id) {
              return _this8._lookupSubType(subType, type, id, root);
            });
            obj[_this8.pluralize(subType)] = hydrated || [];
            delete obj[k];
          } else {
            var _hydrated = _this8._lookupSubType(subType, type, obj[k], root);
            if (_hydrated) {
              obj[subType] = _hydrated;
              delete obj[k];
            } else {
              (0, _object.set)(obj, subType, null);
            }
          }
        }
      });
    },
    _hydrate: function _hydrate(type, obj, root) {
      if (!obj) {
        throw new Error("Can't hydrate " + type + " of `null`");
      }

      var id = obj.id;
      if (!id) {
        throw new Error("Can't hydrate " + type + " without an `id`");
      }

      root = root || obj;

      if (root.__rest_serializer === "1") {
        this._hydrateEmbedded(type, obj, root);
      }

      var existing = fromMap(type, id);
      if (existing === obj) {
        return existing;
      }

      if (existing) {
        delete obj.id;
        var klass = this.register.lookupFactory("model:" + type);

        if (klass && klass.class) {
          klass = klass.class;
        }

        if (!klass) {
          klass = _rest.default;
        }

        existing.setProperties(klass.munge(obj));
        obj.id = id;
        return existing;
      }

      return this._build(type, obj);
    }
  });
  exports.flushMap = flushMap;
});
define("discourse/models/action-summary", ["exports", "@ember/object/computed", "discourse/lib/ajax", "discourse/models/rest", "discourse/lib/ajax-error"], function (exports, _computed, _ajax, _rest, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    canToggle: (0, _computed.or)("can_undo", "can_act"),

    // Remove it
    removeAction: function removeAction() {
      this.setProperties({
        acted: false,
        count: this.count - 1,
        can_act: true,
        can_undo: false
      });
    },

    togglePromise: function togglePromise(post) {
      return this.acted ? this.undo(post) : this.act(post);
    },
    toggle: function toggle(post) {
      if (!this.acted) {
        this.act(post);
        return true;
      } else {
        this.undo(post);
        return false;
      }
    },


    // Perform this action
    act: function act(post, opts) {
      var _this = this;

      if (!opts) opts = {};

      // Mark it as acted
      this.setProperties({
        acted: true,
        count: this.count + 1,
        can_act: false,
        can_undo: true
      });

      // Create our post action
      return (0, _ajax.ajax)("/post_actions", {
        type: "POST",
        data: {
          id: this.flagTopic ? this.get("flagTopic.id") : post.get("id"),
          post_action_type_id: this.id,
          message: opts.message,
          is_warning: opts.isWarning,
          take_action: opts.takeAction,
          flag_topic: this.flagTopic ? true : false
        },
        returnXHR: true
      }).then(function (data) {
        if (!_this.flagTopic) {
          post.updateActionsSummary(data.result);
        }
        var remaining = parseInt(data.xhr.getResponseHeader("Discourse-Actions-Remaining") || 0, 10);
        var max = parseInt(data.xhr.getResponseHeader("Discourse-Actions-Max") || 0, 10);
        return { acted: true, remaining: remaining, max: max };
      }).catch(function (error) {
        (0, _ajaxError.popupAjaxError)(error);
        _this.removeAction(post);
      });
    },


    // Undo this action
    undo: function undo(post) {
      this.removeAction(post);

      // Remove our post action
      return (0, _ajax.ajax)("/post_actions/" + post.get("id"), {
        type: "DELETE",
        data: { post_action_type_id: this.id }
      }).then(function (result) {
        post.updateActionsSummary(result);
        return { acted: false };
      });
    }
  });
});
define("discourse/models/permission-type", ["exports", "discourse-common/utils/decorators", "@ember/object"], function (exports, _decorators, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  var PermissionType = _object.default.extend((_dec = (0, _decorators.default)("id"), (_obj = {
    description: function description(id) {
      var key = "";

      switch (id) {
        case 1:
          key = "full";
          break;
        case 2:
          key = "create_post";
          break;
        case 3:
          key = "readonly";
          break;
      }
      return I18n.t("permission_types." + key);
    }
  }, (_applyDecoratedDescriptor(_obj, "description", [_dec], Object.getOwnPropertyDescriptor(_obj, "description"), _obj)), _obj)));

  PermissionType.FULL = 1;
  PermissionType.CREATE_POST = 2;
  PermissionType.READONLY = 3;

  exports.default = PermissionType;
});
define("discourse/models/category", ["exports", "discourse-common/utils/decorators", "@ember/object", "discourse/lib/ajax", "discourse/models/rest", "discourse/models/permission-type", "discourse/lib/notification-levels", "discourse-common/lib/deprecated", "discourse/models/site"], function (exports, _decorators, _object, _ajax, _rest, _permissionType, _notificationLevels, _deprecated, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _desc, _value, _obj;

  var Category = _rest.default.extend((_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.on)("init"), _dec3 = (0, _decorators.default)("id"), _dec4 = (0, _decorators.default)("parentCategory.ancestors"), _dec5 = (0, _decorators.default)("parentCategory.level"), _dec6 = (0, _decorators.default)("subcategories"), _dec7 = (0, _decorators.default)("subcategories"), _dec8 = (0, _decorators.default)("notification_level"), _dec9 = (0, _decorators.default)("notification_level"), _dec10 = (0, _decorators.default)("name"), _dec11 = (0, _decorators.default)("name"), _dec12 = (0, _decorators.default)("url"), _dec13 = (0, _decorators.default)("url"), _dec14 = (0, _decorators.default)("color", "text_color"), _dec15 = (0, _decorators.default)("topic_count"), _dec16 = (0, _decorators.default)("topic_count", "subcategories.[]"), _dec17 = (0, _decorators.default)("topics"), _dec18 = (0, _decorators.default)("topics"), _dec19 = (0, _decorators.default)("id", "topicTrackingState.messageCount"), _dec20 = (0, _decorators.default)("id", "topicTrackingState.messageCount"), _dec21 = (0, _decorators.default)("id"), (_obj = {
    permissions: null,

    setupGroupsAndPermissions: function setupGroupsAndPermissions() {
      var availableGroups = this.available_groups;
      if (!availableGroups) {
        return;
      }
      this.set("availableGroups", availableGroups);

      var groupPermissions = this.group_permissions;
      if (groupPermissions) {
        this.set("permissions", groupPermissions.map(function (elem) {
          availableGroups.removeObject(elem.group_name);
          return {
            group_name: elem.group_name,
            permission: _permissionType.default.create({ id: elem.permission_type })
          };
        }));
      }
    },
    setupRequiredTagGroups: function setupRequiredTagGroups() {
      if (this.required_tag_group_name) {
        this.set("required_tag_groups", [this.required_tag_group_name]);
      }
    },
    availablePermissions: function availablePermissions() {
      return [_permissionType.default.create({ id: _permissionType.default.FULL }), _permissionType.default.create({ id: _permissionType.default.CREATE_POST }), _permissionType.default.create({ id: _permissionType.default.READONLY })];
    },
    searchContext: function searchContext(id) {
      return { type: "category", id: id, category: this };
    },
    ancestors: function ancestors(parentAncestors) {
      return [].concat(_toConsumableArray(parentAncestors || []), [this]);
    },
    level: function level(parentLevel) {
      return (parentLevel || -1) + 1;
    },
    isParent: function isParent(subcategories) {
      return subcategories && subcategories.length > 0;
    },
    isGrandParent: function isGrandParent(subcategories) {
      return subcategories && subcategories.some(function (cat) {
        return cat.subcategories && cat.subcategories.length > 0;
      });
    },
    isMuted: function isMuted(notificationLevel) {
      return notificationLevel === _notificationLevels.NotificationLevels.MUTED;
    },
    notificationLevelString: function notificationLevelString(notificationLevel) {
      // Get the key from the value
      var notificationLevelString = Object.keys(_notificationLevels.NotificationLevels).find(function (key) {
        return _notificationLevels.NotificationLevels[key] === notificationLevel;
      });
      if (notificationLevelString) return notificationLevelString.toLowerCase();
    },
    url: function url() {
      return Discourse.getURL("/c/" + Category.slugFor(this) + "/" + this.id);
    },
    fullSlug: function fullSlug() {
      return Category.slugFor(this).replace(/\//g, "-");
    },
    nameLower: function nameLower(name) {
      return name.toLowerCase();
    },
    unreadUrl: function unreadUrl(url) {
      return url + "/l/unread";
    },
    newUrl: function newUrl(url) {
      return url + "/l/new";
    },
    style: function style(color, textColor) {
      return "background-color: #" + color + "; color: #" + textColor;
    },
    moreTopics: function moreTopics(topicCount) {
      return topicCount > (this.num_featured_topics || 2);
    },
    totalTopicCount: function totalTopicCount(topicCount, subcategories) {
      if (subcategories) {
        subcategories.forEach(function (subcategory) {
          topicCount += subcategory.topic_count;
        });
      }
      return topicCount;
    },
    save: function save() {
      var id = this.id;
      var url = id ? "/categories/" + id : "/categories";

      return (0, _ajax.ajax)(url, {
        data: {
          name: this.name,
          slug: this.slug,
          color: this.color,
          text_color: this.text_color,
          secure: this.secure,
          permissions: this._permissionsForUpdate(),
          auto_close_hours: this.auto_close_hours,
          auto_close_based_on_last_post: this.get("auto_close_based_on_last_post"),
          position: this.position,
          email_in: this.email_in,
          email_in_allow_strangers: this.email_in_allow_strangers,
          mailinglist_mirror: this.mailinglist_mirror,
          parent_category_id: this.parent_category_id,
          uploaded_logo_id: this.get("uploaded_logo.id"),
          uploaded_background_id: this.get("uploaded_background.id"),
          allow_badges: this.allow_badges,
          custom_fields: this.custom_fields,
          topic_template: this.topic_template,
          all_topics_wiki: this.all_topics_wiki,
          allowed_tags: this.allowed_tags,
          allowed_tag_groups: this.allowed_tag_groups,
          allow_global_tags: this.allow_global_tags,
          required_tag_group_name: this.required_tag_groups ? this.required_tag_groups[0] : null,
          min_tags_from_required_group: this.min_tags_from_required_group,
          sort_order: this.sort_order,
          sort_ascending: this.sort_ascending,
          topic_featured_link_allowed: this.topic_featured_link_allowed,
          show_subcategory_list: this.show_subcategory_list,
          num_featured_topics: this.num_featured_topics,
          default_view: this.default_view,
          subcategory_list_style: this.subcategory_list_style,
          default_top_period: this.default_top_period,
          minimum_required_tags: this.minimum_required_tags,
          navigate_to_first_post_after_read: this.get("navigate_to_first_post_after_read"),
          search_priority: this.search_priority,
          reviewable_by_group_name: this.reviewable_by_group_name
        },
        type: id ? "PUT" : "POST"
      });
    },
    _permissionsForUpdate: function _permissionsForUpdate() {
      var permissions = this.permissions;
      var rval = {};
      permissions.forEach(function (p) {
        return rval[p.group_name] = p.permission.id;
      });
      return rval;
    },
    destroy: function destroy() {
      return (0, _ajax.ajax)("/categories/" + (this.id || this.slug), {
        type: "DELETE"
      });
    },
    addPermission: function addPermission(permission) {
      this.permissions.addObject(permission);
      this.availableGroups.removeObject(permission.group_name);
    },
    removePermission: function removePermission(permission) {
      this.permissions.removeObject(permission);
      this.availableGroups.addObject(permission.group_name);
    },
    latestTopic: function latestTopic(topics) {
      if (topics && topics.length) {
        return topics[0];
      }
    },
    featuredTopics: function featuredTopics(topics) {
      if (topics && topics.length) {
        return topics.slice(0, this.num_featured_topics || 2);
      }
    },
    unreadTopics: function unreadTopics(id) {
      return this.topicTrackingState.countUnread(id);
    },
    newTopics: function newTopics(id) {
      return this.topicTrackingState.countNew(id);
    },
    setNotification: function setNotification(notification_level) {
      this.set("notification_level", notification_level);
      var url = "/category/" + this.id + "/notifications";
      return (0, _ajax.ajax)(url, { data: { notification_level: notification_level }, type: "POST" });
    },
    isUncategorizedCategory: function isUncategorizedCategory(id) {
      return id === _site.default.currentProp("uncategorized_category_id");
    }
  }, (_applyDecoratedDescriptor(_obj, "setupGroupsAndPermissions", [_dec], Object.getOwnPropertyDescriptor(_obj, "setupGroupsAndPermissions"), _obj), _applyDecoratedDescriptor(_obj, "setupRequiredTagGroups", [_dec2], Object.getOwnPropertyDescriptor(_obj, "setupRequiredTagGroups"), _obj), _applyDecoratedDescriptor(_obj, "availablePermissions", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "availablePermissions"), _obj), _applyDecoratedDescriptor(_obj, "searchContext", [_dec3], Object.getOwnPropertyDescriptor(_obj, "searchContext"), _obj), _applyDecoratedDescriptor(_obj, "ancestors", [_dec4], Object.getOwnPropertyDescriptor(_obj, "ancestors"), _obj), _applyDecoratedDescriptor(_obj, "level", [_dec5], Object.getOwnPropertyDescriptor(_obj, "level"), _obj), _applyDecoratedDescriptor(_obj, "isParent", [_dec6], Object.getOwnPropertyDescriptor(_obj, "isParent"), _obj), _applyDecoratedDescriptor(_obj, "isGrandParent", [_dec7], Object.getOwnPropertyDescriptor(_obj, "isGrandParent"), _obj), _applyDecoratedDescriptor(_obj, "isMuted", [_dec8], Object.getOwnPropertyDescriptor(_obj, "isMuted"), _obj), _applyDecoratedDescriptor(_obj, "notificationLevelString", [_dec9], Object.getOwnPropertyDescriptor(_obj, "notificationLevelString"), _obj), _applyDecoratedDescriptor(_obj, "url", [_dec10], Object.getOwnPropertyDescriptor(_obj, "url"), _obj), _applyDecoratedDescriptor(_obj, "fullSlug", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "fullSlug"), _obj), _applyDecoratedDescriptor(_obj, "nameLower", [_dec11], Object.getOwnPropertyDescriptor(_obj, "nameLower"), _obj), _applyDecoratedDescriptor(_obj, "unreadUrl", [_dec12], Object.getOwnPropertyDescriptor(_obj, "unreadUrl"), _obj), _applyDecoratedDescriptor(_obj, "newUrl", [_dec13], Object.getOwnPropertyDescriptor(_obj, "newUrl"), _obj), _applyDecoratedDescriptor(_obj, "style", [_dec14], Object.getOwnPropertyDescriptor(_obj, "style"), _obj), _applyDecoratedDescriptor(_obj, "moreTopics", [_dec15], Object.getOwnPropertyDescriptor(_obj, "moreTopics"), _obj), _applyDecoratedDescriptor(_obj, "totalTopicCount", [_dec16], Object.getOwnPropertyDescriptor(_obj, "totalTopicCount"), _obj), _applyDecoratedDescriptor(_obj, "latestTopic", [_dec17], Object.getOwnPropertyDescriptor(_obj, "latestTopic"), _obj), _applyDecoratedDescriptor(_obj, "featuredTopics", [_dec18], Object.getOwnPropertyDescriptor(_obj, "featuredTopics"), _obj), _applyDecoratedDescriptor(_obj, "unreadTopics", [_dec19], Object.getOwnPropertyDescriptor(_obj, "unreadTopics"), _obj), _applyDecoratedDescriptor(_obj, "newTopics", [_dec20], Object.getOwnPropertyDescriptor(_obj, "newTopics"), _obj), _applyDecoratedDescriptor(_obj, "isUncategorizedCategory", [_dec21], Object.getOwnPropertyDescriptor(_obj, "isUncategorizedCategory"), _obj)), _obj)));

  var _uncategorized;

  Category.reopenClass({
    findUncategorized: function findUncategorized() {
      _uncategorized = _uncategorized || Category.list().findBy("id", _site.default.currentProp("uncategorized_category_id"));
      return _uncategorized;
    },
    slugFor: function slugFor(category) {
      var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "/";

      if (!category) return "";

      var parentCategory = (0, _object.get)(category, "parentCategory");
      var result = "";

      if (parentCategory) {
        result = Category.slugFor(parentCategory) + separator;
      }

      var id = (0, _object.get)(category, "id"),
          slug = (0, _object.get)(category, "slug");

      return !slug || slug.trim().length === 0 ? "" + result + id + "-category" : result + slug;
    },
    list: function list() {
      return _site.default.currentProp("categoriesList");
    },
    listByActivity: function listByActivity() {
      return _site.default.currentProp("sortedCategories");
    },
    _idMap: function _idMap() {
      return _site.default.currentProp("categoriesById");
    },
    findSingleBySlug: function findSingleBySlug(slug) {
      if (Discourse.SiteSettings.slug_generation_method !== "encoded") {
        return Category.list().find(function (c) {
          return Category.slugFor(c) === slug;
        });
      } else {
        return Category.list().find(function (c) {
          return Category.slugFor(c) === encodeURI(slug);
        });
      }
    },
    findById: function findById(id) {
      if (!id) {
        return;
      }
      return Category._idMap()[id];
    },
    findByIds: function findByIds() {
      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

      var categories = [];
      ids.forEach(function (id) {
        var found = Category.findById(id);
        if (found) {
          categories.push(found);
        }
      });
      return categories;
    },
    findBySlugAndParent: function findBySlugAndParent(slug, parentCategory) {
      if (Discourse.SiteSettings.slug_generation_method === "encoded") {
        slug = encodeURI(slug);
      }
      return Category.list().find(function (category) {
        return category.slug === slug && (category.parentCategory || null) === parentCategory;
      });
    },
    findBySlugPath: function findBySlugPath(slugPath) {
      var category = null;

      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = slugPath[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var slug = _step.value;

          category = this.findBySlugAndParent(slug, category);

          if (!category) {
            return null;
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return category;
    },
    findBySlugPathWithID: function findBySlugPathWithID(slugPathWithID) {
      var parts = slugPathWithID.split("/").filter(Boolean);
      // slugs found by star/glob pathing in emeber do not automatically url decode - ensure that these are decoded
      if (Discourse.SiteSettings.slug_generation_method === "encoded") {
        parts = parts.map(function (urlPart) {
          return decodeURI(urlPart);
        });
      }
      var category = null;

      if (parts.length > 0 && parts[parts.length - 1].match(/^\d+$/)) {
        var id = parseInt(parts.pop(), 10);

        category = Category.findById(id);
      } else {
        category = Category.findBySlugPath(parts);

        if (!category && parts.length > 0 && parts[parts.length - 1].match(/^\d+-category/)) {
          var _id = parseInt(parts.pop(), 10);

          category = Category.findById(_id);
        }
      }

      return category;
    },
    findBySlug: function findBySlug(slug, parentSlug) {
      var categories = Category.list();
      var category = void 0;

      if (parentSlug) {
        var parentCategory = Category.findSingleBySlug(parentSlug);
        if (parentCategory) {
          if (slug === "none") {
            return parentCategory;
          }

          category = categories.find(function (item) {
            return item && item.get("parentCategory") === parentCategory && (Discourse.SiteSettings.slug_generation_method !== "encoded" && Category.slugFor(item) === parentSlug + "/" + slug || Discourse.SiteSettings.slug_generation_method === "encoded" && Category.slugFor(item) === encodeURI(parentSlug) + "/" + encodeURI(slug));
          });
        }
      } else {
        category = Category.findSingleBySlug(slug);

        // If we have a parent category, we need to enforce it
        if (category && category.get("parentCategory")) return;
      }

      // In case the slug didn't work, try to find it by id instead.
      if (!category) {
        category = categories.findBy("id", parseInt(slug, 10));
      }

      return category;
    },
    reloadById: function reloadById(id) {
      return (0, _ajax.ajax)("/c/" + id + "/show.json");
    },
    reloadBySlug: function reloadBySlug(slug, parentSlug) {
      return parentSlug ? (0, _ajax.ajax)("/c/" + parentSlug + "/" + slug + "/find_by_slug.json") : (0, _ajax.ajax)("/c/" + slug + "/find_by_slug.json");
    },
    reloadBySlugPath: function reloadBySlugPath(slugPath) {
      return (0, _ajax.ajax)("/c/" + slugPath + "/find_by_slug.json");
    },
    search: function search(term, opts) {
      var limit = 5;

      if (opts) {
        if (opts.limit === 0) {
          return [];
        } else if (opts.limit) {
          limit = opts.limit;
        }
      }

      var emptyTerm = term === "";
      var slugTerm = term;

      if (!emptyTerm) {
        term = term.toLowerCase();
        slugTerm = term;
        term = term.replace(/-/g, " ");
      }

      var categories = Category.listByActivity();
      var length = categories.length;
      var i;
      var data = [];

      var done = function done() {
        return data.length === limit;
      };

      for (i = 0; i < length && !done(); i++) {
        var category = categories[i];
        if (emptyTerm && !category.get("parent_category_id") || !emptyTerm && (category.get("name").toLowerCase().indexOf(term) === 0 || category.get("slug").toLowerCase().indexOf(slugTerm) === 0)) {
          data.push(category);
        }
      }

      if (!done()) {
        for (i = 0; i < length && !done(); i++) {
          var _category = categories[i];

          if (!emptyTerm && (_category.get("name").toLowerCase().indexOf(term) > 0 || _category.get("slug").toLowerCase().indexOf(slugTerm) > 0)) {
            if (data.indexOf(_category) === -1) data.push(_category);
          }
        }
      }

      return _.sortBy(data, function (category) {
        return category.get("read_restricted");
      });
    }
  });

  Object.defineProperty(Discourse, "Category", {
    get: function get() {
      (0, _deprecated.default)("Import the Category class instead of using Discourse.Category", { since: "2.4.0", dropFrom: "2.5.0" });
      return Category;
    }
  });

  exports.default = Category;
});
define("discourse/models/topic", ["exports", "@ember/object", "@ember/object/computed", "discourse/lib/ajax", "discourse/models/store", "discourse/models/rest", "discourse/lib/computed", "discourse/lib/formatter", "discourse/lib/text-direction", "discourse/models/action-summary", "discourse/lib/ajax-error", "pretty-text/censored-words", "discourse/lib/text", "preload-store", "discourse/lib/url", "discourse-common/utils/decorators", "discourse/models/category", "discourse/models/session", "rsvp", "discourse/models/site", "discourse/models/user"], function (exports, _object, _computed, _ajax, _store, _rest, _computed2, _formatter, _textDirection, _actionSummary, _ajaxError, _censoredWords, _text, _preloadStore, _url, _decorators, _category, _session, _rsvp, _site, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.ID_CONSTRAINT = undefined;
  exports.loadTopicView = loadTopicView;
  exports.movePosts = movePosts;
  exports.mergeTopic = mergeTopic;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _desc, _value, _obj;

  function loadTopicView(topic, args) {
    var data = _.merge({}, args);
    var url = "" + Discourse.getURL("/t/") + topic.id;
    var jsonUrl = (data.nearPost ? url + "/" + data.nearPost : url) + ".json";

    delete data.nearPost;
    delete data.__type;
    delete data.store;

    return _preloadStore.default.getAndRemove("topic_" + topic.id, function () {
      return (0, _ajax.ajax)(jsonUrl, { data: data });
    }).then(function (json) {
      topic.updateFromJson(json);
      return json;
    });
  }

  var ID_CONSTRAINT = exports.ID_CONSTRAINT = /^\d+$/;

  var Topic = _rest.default.extend((_dec = (0, _decorators.default)("last_read_post_number", "highest_post_number"), _dec2 = (0, _decorators.default)("posters.firstObject"), _dec3 = (0, _decorators.default)("posters.[]"), _dec4 = (0, _decorators.default)("posters.[]", "participants.[]", "allowed_user_count"), _dec5 = (0, _decorators.default)("fancy_title"), _dec6 = (0, _decorators.default)("bumped_at", "createdAt"), _dec7 = (0, _decorators.default)("bumpedAt", "createdAt"), _dec8 = (0, _decorators.default)("created_at"), _dec9 = (0, _decorators.default)("tags"), _dec10 = (0, _decorators.default)("related_messages"), _dec11 = (0, _decorators.default)("suggested_topics"), _dec12 = (0, _decorators.default)("posts_count"), _dec13 = (0, _decorators.default)("id"), _dec14 = (0, _decorators.on)("init"), _dec15 = (0, _decorators.observes)("category_id"), _dec16 = (0, _decorators.observes)("categoryName"), _dec17 = (0, _decorators.default)("tags"), _dec18 = (0, _decorators.default)("url"), _dec19 = (0, _decorators.default)("id", "slug"), _dec20 = (0, _decorators.default)("new_posts", "unread"), _dec21 = (0, _decorators.default)("last_read_post_number", "url"), _dec22 = (0, _decorators.default)("last_read_post_number", "highest_post_number", "url"), _dec23 = (0, _decorators.default)("highest_post_number", "url"), _dec24 = (0, _decorators.default)("url"), _dec25 = (0, _decorators.default)("url"), _dec26 = (0, _decorators.default)("last_poster.username"), _dec27 = (0, _decorators.default)("new_posts", "id"), _dec28 = (0, _decorators.default)("views"), _dec29 = (0, _decorators.default)("archetype"), _dec30 = (0, _decorators.default)("excerpt"), _dec31 = (0, _decorators.default)("excerpt"), (_obj = {
    message: null,
    errorLoading: false,

    visited: function visited(lastReadPostNumber, highestPostNumber) {
      // >= to handle case where there are deleted posts at the end of the topic
      return lastReadPostNumber >= highestPostNumber;
    },
    creator: function creator(poster) {
      return poster && poster.user;
    },
    lastPoster: function lastPoster(posters) {
      var user = void 0;
      if (posters && posters.length > 0) {
        var latest = posters.filter(function (p) {
          return p.extras && p.extras.indexOf("latest") >= 0;
        })[0];
        user = latest && latest.user;
      }
      return user || this.creator;
    },
    featuredUsers: function featuredUsers(posters, participants, allowedUserCount) {
      var users = posters;
      var maxUserCount = 5;
      var posterCount = users.length;

      if (this.isPrivateMessage && participants && posterCount < maxUserCount) {
        var pushOffset = 0;
        if (posterCount > 1) {
          var lastUser = users[posterCount - 1];
          if (lastUser.extras && lastUser.extras.includes("latest")) {
            pushOffset = 1;
          }
        }

        var poster_ids = posters.map(function (p) {
          return p.user && p.user.id;
        }).filter(function (id) {
          return id;
        });
        participants.some(function (p) {
          if (!poster_ids.includes(p.user_id)) {
            users.splice(users.length - pushOffset, 0, p);
            if (users.length === maxUserCount) {
              return true;
            }
          }
          return false;
        });
      }

      if (this.isPrivateMessage && allowedUserCount > maxUserCount) {
        users.splice(maxUserCount - 2, 1); // remove second-last avatar
        users.push({
          moreCount: "+" + (allowedUserCount - maxUserCount + 1)
        });
      }

      return users;
    },
    fancyTitle: function fancyTitle(title) {
      var fancyTitle = (0, _censoredWords.censor)((0, _text.emojiUnescape)(title) || "", _site.default.currentProp("censored_regexp"));

      if (Discourse.SiteSettings.support_mixed_text_direction) {
        var titleDir = (0, _textDirection.isRTL)(title) ? "rtl" : "ltr";
        return "<span dir=\"" + titleDir + "\">" + fancyTitle + "</span>";
      }
      return fancyTitle;
    },
    bumpedAt: function bumpedAt(bumped_at, createdAt) {
      if (bumped_at) {
        return new Date(bumped_at);
      } else {
        return createdAt;
      }
    },
    bumpedAtTitle: function bumpedAtTitle(bumpedAt, createdAt) {
      var firstPost = I18n.t("first_post");
      var lastPost = I18n.t("last_post");
      var createdAtDate = (0, _formatter.longDate)(createdAt);
      var bumpedAtDate = (0, _formatter.longDate)(bumpedAt);

      return firstPost + ": " + createdAtDate + "\n" + lastPost + ": " + bumpedAtDate;
    },
    createdAt: function createdAt(created_at) {
      return new Date(created_at);
    },
    postStream: function postStream() {
      return this.store.createRecord("postStream", {
        id: this.id,
        topic: this
      });
    },
    visibleListTags: function visibleListTags(tags) {
      if (!tags || !Discourse.SiteSettings.suppress_overlapping_tags_in_list) {
        return tags;
      }

      var title = this.title;
      var newTags = [];

      tags.forEach(function (tag) {
        if (title.toLowerCase().indexOf(tag) === -1) {
          newTags.push(tag);
        }
      });

      return newTags;
    },
    relatedMessages: function relatedMessages(_relatedMessages) {
      if (_relatedMessages) {
        var store = this.store;

        return this.set("related_messages", _relatedMessages.map(function (st) {
          return store.createRecord("topic", st);
        }));
      }
    },
    suggestedTopics: function suggestedTopics(_suggestedTopics) {
      if (_suggestedTopics) {
        var store = this.store;

        return this.set("suggested_topics", _suggestedTopics.map(function (st) {
          return store.createRecord("topic", st);
        }));
      }
    },
    replyCount: function replyCount(postsCount) {
      return postsCount - 1;
    },
    details: function details() {
      return this.store.createRecord("topicDetails", {
        id: this.id,
        topic: this
      });
    },


    invisible: (0, _computed.not)("visible"),
    deleted: (0, _computed.notEmpty)("deleted_at"),

    searchContext: function searchContext(id) {
      return { type: "topic", id: id };
    },
    _categoryIdChanged: function _categoryIdChanged() {
      this.set("category", _category.default.findById(this.category_id));
    },
    _categoryNameChanged: function _categoryNameChanged() {
      var categoryName = this.categoryName;
      var category = void 0;
      if (categoryName) {
        category = this.site.get("categories").findBy("name", categoryName);
      }
      this.set("category", category);
    },


    categoryClass: (0, _computed2.fmt)("category.fullSlug", "category-%@"),

    tagClasses: function tagClasses(tags) {
      return tags && tags.map(function (t) {
        return "tag-" + t;
      }).join(" ");
    },
    shareUrl: function shareUrl(url) {
      var user = _user.default.current();
      var userQueryString = user ? "?u=" + user.get("username_lower") : "";
      return "" + url + userQueryString;
    },


    printUrl: (0, _computed2.fmt)("url", "%@/print"),

    url: function url(id, slug) {
      slug = slug || "";
      if (slug.trim().length === 0) {
        slug = "topic";
      }
      return "" + Discourse.getURL("/t/") + slug + "/" + id;
    },
    urlForPostNumber: function urlForPostNumber(postNumber) {
      var url = this.url;
      if (postNumber && postNumber > 0) {
        url += "/" + postNumber;
      }
      return url;
    },
    totalUnread: function totalUnread(newPosts, unread) {
      var count = (unread || 0) + (newPosts || 0);
      return count > 0 ? count : null;
    },
    lastReadUrl: function lastReadUrl(lastReadPostNumber) {
      return this.urlForPostNumber(lastReadPostNumber);
    },
    lastUnreadUrl: function lastUnreadUrl(lastReadPostNumber, highestPostNumber) {
      if (highestPostNumber <= lastReadPostNumber) {
        if (this.get("category.navigate_to_first_post_after_read")) {
          return this.urlForPostNumber(1);
        } else {
          return this.urlForPostNumber(lastReadPostNumber + 1);
        }
      } else {
        return this.urlForPostNumber(lastReadPostNumber + 1);
      }
    },
    lastPostUrl: function lastPostUrl(highestPostNumber) {
      return this.urlForPostNumber(highestPostNumber);
    },
    firstPostUrl: function firstPostUrl() {
      return this.urlForPostNumber(1);
    },
    summaryUrl: function summaryUrl() {
      var summaryQueryString = this.has_summary ? "?filter=summary" : "";
      return "" + this.urlForPostNumber(1) + summaryQueryString;
    },
    lastPosterUrl: function lastPosterUrl(username) {
      return (0, _url.userPath)(username);
    },
    displayNewPosts: function displayNewPosts(newPosts, id) {
      var highestSeen = _session.default.currentProp("highestSeenByTopic")[id];
      if (highestSeen) {
        var delta = highestSeen - this.last_read_post_number;
        if (delta > 0) {
          var result = newPosts - delta;
          if (result < 0) {
            result = 0;
          }
          return result;
        }
      }
      return newPosts;
    },
    viewsHeat: function viewsHeat(v) {
      if (v >= Discourse.SiteSettings.topic_views_heat_high) {
        return "heatmap-high";
      }
      if (v >= Discourse.SiteSettings.topic_views_heat_medium) {
        return "heatmap-med";
      }
      if (v >= Discourse.SiteSettings.topic_views_heat_low) {
        return "heatmap-low";
      }
      return null;
    },
    archetypeObject: function archetypeObject(archetype) {
      return _site.default.currentProp("archetypes").findBy("id", archetype);
    },


    isPrivateMessage: (0, _computed.equal)("archetype", "private_message"),
    isBanner: (0, _computed.equal)("archetype", "banner"),

    toggleStatus: function toggleStatus(property) {
      this.toggleProperty(property);
      return this.saveStatus(property, !!this.get(property));
    },
    saveStatus: function saveStatus(property, value, until) {
      if (property === "closed") {
        this.incrementProperty("posts_count");
      }
      return (0, _ajax.ajax)(this.url + "/status", {
        type: "PUT",
        data: {
          status: property,
          enabled: !!value,
          until: until
        }
      });
    },
    makeBanner: function makeBanner() {
      var _this = this;

      return (0, _ajax.ajax)("/t/" + this.id + "/make-banner", { type: "PUT" }).then(function () {
        return _this.set("archetype", "banner");
      });
    },
    removeBanner: function removeBanner() {
      var _this2 = this;

      return (0, _ajax.ajax)("/t/" + this.id + "/remove-banner", {
        type: "PUT"
      }).then(function () {
        return _this2.set("archetype", "regular");
      });
    },
    toggleBookmark: function toggleBookmark() {
      var _this3 = this;

      if (this.bookmarking) {
        return _rsvp.Promise.resolve();
      }
      this.set("bookmarking", true);

      var stream = this.postStream;
      var posts = (0, _object.get)(stream, "posts");
      var firstPost = posts && posts[0] && posts[0].get("post_number") === 1 && posts[0];
      var bookmark = !this.bookmarked;
      var path = bookmark ? "/bookmark" : "/remove_bookmarks";

      var toggleBookmarkOnServer = function toggleBookmarkOnServer() {
        return (0, _ajax.ajax)("/t/" + _this3.id + path, { type: "PUT" }).then(function () {
          _this3.toggleProperty("bookmarked");
          if (bookmark && firstPost) {
            firstPost.set("bookmarked", true);
            if (_this3.siteSettings.enable_bookmarks_with_reminders) {
              firstPost.set("bookmarked_with_reminder", true);
            }
            return [firstPost.id];
          }
          if (!bookmark && posts) {
            var updated = [];
            posts.forEach(function (post) {
              if (post.get("bookmarked")) {
                post.set("bookmarked", false);
                updated.push(post.id);
              }
              if (_this3.siteSettings.enable_bookmarks_with_reminders && post.get("bookmarked_with_reminder")) {
                post.set("bookmarked_with_reminder", false);
                updated.push(post.id);
              }
            });
            return updated;
          }

          return [];
        }).catch(_ajaxError.popupAjaxError).finally(function () {
          return _this3.set("bookmarking", false);
        });
      };

      var unbookmarkedPosts = [];
      if (!bookmark && posts) {
        posts.forEach(function (post) {
          return (post.get("bookmarked") || post.get("bookmarked_with_reminder")) && unbookmarkedPosts.push(post);
        });
      }

      return new _rsvp.Promise(function (resolve) {
        if (unbookmarkedPosts.length > 1) {
          bootbox.confirm(I18n.t("bookmarks.confirm_clear"), I18n.t("no_value"), I18n.t("yes_value"), function (confirmed) {
            return confirmed ? toggleBookmarkOnServer().then(resolve) : resolve();
          });
        } else {
          toggleBookmarkOnServer().then(resolve);
        }
      });
    },
    createGroupInvite: function createGroupInvite(group) {
      return (0, _ajax.ajax)("/t/" + this.id + "/invite-group", {
        type: "POST",
        data: { group: group }
      });
    },
    createInvite: function createInvite(user, group_names, custom_message) {
      return (0, _ajax.ajax)("/t/" + this.id + "/invite", {
        type: "POST",
        data: { user: user, group_names: group_names, custom_message: custom_message }
      });
    },
    generateInviteLink: function generateInviteLink(email, groupNames, topicId) {
      return (0, _ajax.ajax)("/invites/link", {
        type: "POST",
        data: { email: email, group_names: groupNames, topic_id: topicId }
      });
    },
    destroy: function destroy(deleted_by) {
      var _this4 = this;

      return (0, _ajax.ajax)("/t/" + this.id, {
        data: { context: window.location.pathname },
        type: "DELETE"
      }).then(function () {
        _this4.setProperties({
          deleted_at: new Date(),
          deleted_by: deleted_by,
          "details.can_delete": false,
          "details.can_recover": true
        });
      }).catch(_ajaxError.popupAjaxError);
    },
    recover: function recover() {
      this.setProperties({
        deleted_at: null,
        deleted_by: null,
        "details.can_delete": true,
        "details.can_recover": false
      });
      return (0, _ajax.ajax)("/t/" + this.id + "/recover", {
        data: { context: window.location.pathname },
        type: "PUT"
      });
    },
    updateFromJson: function updateFromJson(json) {
      var _this5 = this;

      var keys = Object.keys(json);
      if (!json.view_hidden) {
        this.details.updateFromJson(json.details);

        keys.removeObjects(["details", "post_stream"]);
      }
      keys.forEach(function (key) {
        return _this5.set(key, json[key]);
      });
    },
    reload: function reload() {
      var _this6 = this;

      return (0, _ajax.ajax)("/t/" + this.id, { type: "GET" }).then(function (topic_json) {
        return _this6.updateFromJson(topic_json);
      });
    },


    isPinnedUncategorized: (0, _computed.and)("pinned", "category.isUncategorizedCategory"),

    clearPin: function clearPin() {
      var _this7 = this;

      // Clear the pin optimistically from the object
      this.setProperties({ pinned: false, unpinned: true });

      (0, _ajax.ajax)("/t/" + this.id + "/clear-pin", {
        type: "PUT"
      }).then(null, function () {
        // On error, put the pin back
        _this7.setProperties({ pinned: true, unpinned: false });
      });
    },
    togglePinnedForUser: function togglePinnedForUser() {
      if (this.pinned) {
        this.clearPin();
      } else {
        this.rePin();
      }
    },
    rePin: function rePin() {
      var _this8 = this;

      // Clear the pin optimistically from the object
      this.setProperties({ pinned: true, unpinned: false });

      (0, _ajax.ajax)("/t/" + this.id + "/re-pin", {
        type: "PUT"
      }).then(null, function () {
        // On error, put the pin back
        _this8.setProperties({ pinned: true, unpinned: false });
      });
    },
    escapedExcerpt: function escapedExcerpt(excerpt) {
      return (0, _text.emojiUnescape)(excerpt);
    },


    hasExcerpt: (0, _computed.notEmpty)("excerpt"),

    excerptTruncated: function excerptTruncated(excerpt) {
      return excerpt && excerpt.substr(excerpt.length - 8, 8) === "&hellip;";
    },


    readLastPost: (0, _computed2.propertyEqual)("last_read_post_number", "highest_post_number"),
    canClearPin: (0, _computed.and)("pinned", "readLastPost"),
    canEditTags: (0, _computed.or)("details.can_edit", "details.can_edit_tags"),

    archiveMessage: function archiveMessage() {
      var _this9 = this;

      this.set("archiving", true);
      var promise = (0, _ajax.ajax)("/t/" + this.id + "/archive-message", {
        type: "PUT"
      });

      promise.then(function (msg) {
        _this9.set("message_archived", true);
        if (msg && msg.group_name) {
          _this9.set("inboxGroupName", msg.group_name);
        }
      }).finally(function () {
        return _this9.set("archiving", false);
      });

      return promise;
    },
    moveToInbox: function moveToInbox() {
      var _this10 = this;

      this.set("archiving", true);
      var promise = (0, _ajax.ajax)("/t/" + this.id + "/move-to-inbox", { type: "PUT" });

      promise.then(function (msg) {
        _this10.set("message_archived", false);
        if (msg && msg.group_name) {
          _this10.set("inboxGroupName", msg.group_name);
        }
      }).finally(function () {
        return _this10.set("archiving", false);
      });

      return promise;
    },
    publish: function publish() {
      var _this11 = this;

      return (0, _ajax.ajax)("/t/" + this.id + "/publish", {
        type: "PUT",
        data: this.getProperties("destination_category_id")
      }).then(function () {
        return _this11.set("destination_category_id", null);
      }).catch(_ajaxError.popupAjaxError);
    },
    updateDestinationCategory: function updateDestinationCategory(categoryId) {
      this.set("destination_category_id", categoryId);
      return (0, _ajax.ajax)("/t/" + this.id + "/shared-draft", {
        method: "PUT",
        data: { category_id: categoryId }
      });
    },
    convertTopic: function convertTopic(type, opts) {
      var args = { type: "PUT" };
      if (opts && opts.categoryId) {
        args.data = { category_id: opts.categoryId };
      }
      return (0, _ajax.ajax)("/t/" + this.id + "/convert-topic/" + type, args);
    },
    resetBumpDate: function resetBumpDate() {
      return (0, _ajax.ajax)("/t/" + this.id + "/reset-bump-date", { type: "PUT" }).catch(_ajaxError.popupAjaxError);
    },
    updateTags: function updateTags(tags) {
      if (!tags || tags.length === 0) {
        tags = [""];
      }

      return (0, _ajax.ajax)("/t/" + this.id + "/tags", {
        type: "PUT",
        data: { tags: tags }
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "visited", [_dec], Object.getOwnPropertyDescriptor(_obj, "visited"), _obj), _applyDecoratedDescriptor(_obj, "creator", [_dec2], Object.getOwnPropertyDescriptor(_obj, "creator"), _obj), _applyDecoratedDescriptor(_obj, "lastPoster", [_dec3], Object.getOwnPropertyDescriptor(_obj, "lastPoster"), _obj), _applyDecoratedDescriptor(_obj, "featuredUsers", [_dec4], Object.getOwnPropertyDescriptor(_obj, "featuredUsers"), _obj), _applyDecoratedDescriptor(_obj, "fancyTitle", [_dec5], Object.getOwnPropertyDescriptor(_obj, "fancyTitle"), _obj), _applyDecoratedDescriptor(_obj, "bumpedAt", [_dec6], Object.getOwnPropertyDescriptor(_obj, "bumpedAt"), _obj), _applyDecoratedDescriptor(_obj, "bumpedAtTitle", [_dec7], Object.getOwnPropertyDescriptor(_obj, "bumpedAtTitle"), _obj), _applyDecoratedDescriptor(_obj, "createdAt", [_dec8], Object.getOwnPropertyDescriptor(_obj, "createdAt"), _obj), _applyDecoratedDescriptor(_obj, "postStream", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "postStream"), _obj), _applyDecoratedDescriptor(_obj, "visibleListTags", [_dec9], Object.getOwnPropertyDescriptor(_obj, "visibleListTags"), _obj), _applyDecoratedDescriptor(_obj, "relatedMessages", [_dec10], Object.getOwnPropertyDescriptor(_obj, "relatedMessages"), _obj), _applyDecoratedDescriptor(_obj, "suggestedTopics", [_dec11], Object.getOwnPropertyDescriptor(_obj, "suggestedTopics"), _obj), _applyDecoratedDescriptor(_obj, "replyCount", [_dec12], Object.getOwnPropertyDescriptor(_obj, "replyCount"), _obj), _applyDecoratedDescriptor(_obj, "details", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "details"), _obj), _applyDecoratedDescriptor(_obj, "searchContext", [_dec13], Object.getOwnPropertyDescriptor(_obj, "searchContext"), _obj), _applyDecoratedDescriptor(_obj, "_categoryIdChanged", [_dec14, _dec15], Object.getOwnPropertyDescriptor(_obj, "_categoryIdChanged"), _obj), _applyDecoratedDescriptor(_obj, "_categoryNameChanged", [_dec16], Object.getOwnPropertyDescriptor(_obj, "_categoryNameChanged"), _obj), _applyDecoratedDescriptor(_obj, "tagClasses", [_dec17], Object.getOwnPropertyDescriptor(_obj, "tagClasses"), _obj), _applyDecoratedDescriptor(_obj, "shareUrl", [_dec18], Object.getOwnPropertyDescriptor(_obj, "shareUrl"), _obj), _applyDecoratedDescriptor(_obj, "url", [_dec19], Object.getOwnPropertyDescriptor(_obj, "url"), _obj), _applyDecoratedDescriptor(_obj, "totalUnread", [_dec20], Object.getOwnPropertyDescriptor(_obj, "totalUnread"), _obj), _applyDecoratedDescriptor(_obj, "lastReadUrl", [_dec21], Object.getOwnPropertyDescriptor(_obj, "lastReadUrl"), _obj), _applyDecoratedDescriptor(_obj, "lastUnreadUrl", [_dec22], Object.getOwnPropertyDescriptor(_obj, "lastUnreadUrl"), _obj), _applyDecoratedDescriptor(_obj, "lastPostUrl", [_dec23], Object.getOwnPropertyDescriptor(_obj, "lastPostUrl"), _obj), _applyDecoratedDescriptor(_obj, "firstPostUrl", [_dec24], Object.getOwnPropertyDescriptor(_obj, "firstPostUrl"), _obj), _applyDecoratedDescriptor(_obj, "summaryUrl", [_dec25], Object.getOwnPropertyDescriptor(_obj, "summaryUrl"), _obj), _applyDecoratedDescriptor(_obj, "lastPosterUrl", [_dec26], Object.getOwnPropertyDescriptor(_obj, "lastPosterUrl"), _obj), _applyDecoratedDescriptor(_obj, "displayNewPosts", [_dec27], Object.getOwnPropertyDescriptor(_obj, "displayNewPosts"), _obj), _applyDecoratedDescriptor(_obj, "viewsHeat", [_dec28], Object.getOwnPropertyDescriptor(_obj, "viewsHeat"), _obj), _applyDecoratedDescriptor(_obj, "archetypeObject", [_dec29], Object.getOwnPropertyDescriptor(_obj, "archetypeObject"), _obj), _applyDecoratedDescriptor(_obj, "escapedExcerpt", [_dec30], Object.getOwnPropertyDescriptor(_obj, "escapedExcerpt"), _obj), _applyDecoratedDescriptor(_obj, "excerptTruncated", [_dec31], Object.getOwnPropertyDescriptor(_obj, "excerptTruncated"), _obj)), _obj)));

  Topic.reopenClass({
    NotificationLevel: {
      WATCHING: 3,
      TRACKING: 2,
      REGULAR: 1,
      MUTED: 0
    },

    createActionSummary: function createActionSummary(result) {
      if (result.actions_summary) {
        var lookup = _object.default.create();
        result.actions_summary = result.actions_summary.map(function (a) {
          a.post = result;
          a.actionType = _site.default.current().postActionTypeById(a.id);
          var actionSummary = _actionSummary.default.create(a);
          lookup.set(a.actionType.get("name_key"), actionSummary);
          return actionSummary;
        });
        result.set("actionByName", lookup);
      }
    },
    update: function update(topic, props) {
      // We support `category_id` and `categoryId` for compatibility
      if (typeof props.categoryId !== "undefined") {
        props.category_id = props.categoryId;
        delete props.categoryId;
      }

      // Make sure we never change the category for private messages
      if (topic.get("isPrivateMessage")) {
        delete props.category_id;
      }

      return (0, _ajax.ajax)(topic.get("url"), {
        type: "PUT",
        data: JSON.stringify(props),
        contentType: "application/json"
      }).then(function (result) {
        // The title can be cleaned up server side
        props.title = result.basic_topic.title;
        props.fancy_title = result.basic_topic.fancy_title;
        topic.setProperties(props);
      });
    },
    create: function create() {
      var result = this._super.apply(this, arguments);
      this.createActionSummary(result);
      return result;
    },
    find: function find(topicId, opts) {
      var url = Discourse.getURL("/t/") + topicId;
      if (opts.nearPost) {
        url += "/" + opts.nearPost;
      }

      var data = {};
      if (opts.postsAfter) {
        data.posts_after = opts.postsAfter;
      }
      if (opts.postsBefore) {
        data.posts_before = opts.postsBefore;
      }
      if (opts.trackVisit) {
        data.track_visit = true;
      }

      // Add username filters if we have them
      if (opts.userFilters && opts.userFilters.length > 0) {
        data.username_filters = [];
        opts.userFilters.forEach(function (username) {
          data.username_filters.push(username);
        });
      }

      // Add the summary of filter if we have it
      if (opts.summary === true) {
        data.summary = true;
      }

      // Check the preload store. If not, load it via JSON
      return (0, _ajax.ajax)(url + ".json", { data: data });
    },
    changeOwners: function changeOwners(topicId, opts) {
      var promise = (0, _ajax.ajax)("/t/" + topicId + "/change-owner", {
        type: "POST",
        data: opts
      }).then(function (result) {
        if (result.success) return result;
        promise.reject(new Error("error changing ownership of posts"));
      });
      return promise;
    },
    changeTimestamp: function changeTimestamp(topicId, timestamp) {
      var promise = (0, _ajax.ajax)("/t/" + topicId + "/change-timestamp", {
        type: "PUT",
        data: { timestamp: timestamp }
      }).then(function (result) {
        if (result.success) return result;
        promise.reject(new Error("error updating timestamp of topic"));
      });
      return promise;
    },
    bulkOperation: function bulkOperation(topics, operation) {
      return (0, _ajax.ajax)("/topics/bulk", {
        type: "PUT",
        data: {
          topic_ids: topics.map(function (t) {
            return t.get("id");
          }),
          operation: operation
        }
      });
    },
    bulkOperationByFilter: function bulkOperationByFilter(filter, operation, categoryId, options) {
      var data = { filter: filter, operation: operation };

      if (options && options.includeSubcategories) {
        data.include_subcategories = true;
      }

      if (categoryId) data.category_id = categoryId;
      return (0, _ajax.ajax)("/topics/bulk", {
        type: "PUT",
        data: data
      });
    },
    resetNew: function resetNew(category, include_subcategories) {
      var data = category ? { category_id: category.id, include_subcategories: include_subcategories } : {};
      return (0, _ajax.ajax)("/topics/reset-new", { type: "PUT", data: data });
    },
    idForSlug: function idForSlug(slug) {
      return (0, _ajax.ajax)("/t/id_for/" + slug);
    }
  });

  function moveResult(result) {
    if (result.success) {
      // We should be hesitant to flush the map but moving ids is one rare case
      (0, _store.flushMap)();
      return result;
    }
    throw new Error("error moving posts topic");
  }

  function movePosts(topicId, data) {
    return (0, _ajax.ajax)("/t/" + topicId + "/move-posts", { type: "POST", data: data }).then(moveResult);
  }

  function mergeTopic(topicId, data) {
    return (0, _ajax.ajax)("/t/" + topicId + "/merge-topic", { type: "POST", data: data }).then(moveResult);
  }

  exports.default = Topic;
});
define("discourse/models/draft", ["exports", "discourse/lib/ajax", "@ember/object"], function (exports, _ajax, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var Draft = _object.default.extend();

  Draft.reopenClass({
    clear: function clear(key, sequence) {
      return (0, _ajax.ajax)("/draft.json", {
        type: "DELETE",
        data: { draft_key: key, sequence: sequence }
      });
    },
    get: function get(key) {
      return (0, _ajax.ajax)("/draft.json", {
        data: { draft_key: key },
        dataType: "json"
      });
    },
    getLocal: function getLocal(key, current) {
      // TODO: implement this
      return current;
    },
    save: function save(key, sequence, data, clientId) {
      data = typeof data === "string" ? data : JSON.stringify(data);
      return (0, _ajax.ajax)("/draft.json", {
        type: "POST",
        data: { draft_key: key, sequence: sequence, data: data, owner: clientId }
      });
    }
  });

  exports.default = Draft;
});
define("discourse/models/composer", ["exports", "@ember/utils", "@ember/object/computed", "@ember/object", "@ember/runloop", "discourse/models/rest", "discourse/models/topic", "discourse/lib/ajax-error", "discourse/lib/quote", "discourse/models/draft", "discourse-common/utils/decorators", "discourse/lib/utilities", "discourse/lib/computed", "rsvp", "discourse/models/site", "discourse/models/user", "discourse-common/lib/deprecated"], function (exports, _utils, _computed, _object, _runloop, _rest, _topic, _ajaxError, _quote, _draft, _decorators, _utilities, _computed2, _rsvp, _site, _user, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.SAVE_ICONS = exports.SAVE_LABELS = exports.NEW_TOPIC_KEY = exports.NEW_PRIVATE_MESSAGE_KEY = exports.EDIT = exports.REPLY = exports.PRIVATE_MESSAGE = exports.EDIT_SHARED_DRAFT = exports.CREATE_SHARED_DRAFT = exports.CREATE_TOPIC = undefined;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _SAVE_LABELS, _SAVE_ICONS, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _desc, _value, _obj, _init, _init2, _init3;

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  // The actions the composer can take
  var CREATE_TOPIC = exports.CREATE_TOPIC = "createTopic",
      CREATE_SHARED_DRAFT = exports.CREATE_SHARED_DRAFT = "createSharedDraft",
      EDIT_SHARED_DRAFT = exports.EDIT_SHARED_DRAFT = "editSharedDraft",
      PRIVATE_MESSAGE = exports.PRIVATE_MESSAGE = "privateMessage",
      REPLY = exports.REPLY = "reply",
      EDIT = exports.EDIT = "edit",
      NEW_PRIVATE_MESSAGE_KEY = exports.NEW_PRIVATE_MESSAGE_KEY = "new_private_message",
      NEW_TOPIC_KEY = exports.NEW_TOPIC_KEY = "new_topic";

  function isEdit(action) {
    return action === EDIT || action === EDIT_SHARED_DRAFT;
  }

  var CLOSED = "closed",
      SAVING = "saving",
      OPEN = "open",
      DRAFT = "draft",
      FULLSCREEN = "fullscreen",

  // When creating, these fields are moved into the post model from the composer model
  _create_serializer = {
    raw: "reply",
    title: "title",
    unlist_topic: "unlistTopic",
    category: "categoryId",
    topic_id: "topic.id",
    is_warning: "isWarning",
    whisper: "whisper",
    archetype: "archetypeId",
    target_recipients: "targetRecipients",
    typing_duration_msecs: "typingTime",
    composer_open_duration_msecs: "composerTime",
    tags: "tags",
    featured_link: "featuredLink",
    shared_draft: "sharedDraft",
    no_bump: "noBump",
    draft_key: "draftKey"
  },
      _edit_topic_serializer = {
    title: "topic.title",
    categoryId: "topic.category.id",
    tags: "topic.tags",
    featuredLink: "topic.featured_link"
  },
      _draft_serializer = {
    reply: "reply",
    action: "action",
    title: "title",
    categoryId: "categoryId",
    archetypeId: "archetypeId",
    whisper: "whisper",
    metaData: "metaData",
    composerTime: "composerTime",
    typingTime: "typingTime",
    postId: "post.id",
    // TODO remove together with 'targetUsername' deprecations
    usernames: "targetUsernames",
    recipients: "targetRecipients"
  },
      _add_draft_fields = {},
      FAST_REPLY_LENGTH_THRESHOLD = 10000;

  var SAVE_LABELS = exports.SAVE_LABELS = (_SAVE_LABELS = {}, _defineProperty(_SAVE_LABELS, EDIT, "composer.save_edit"), _defineProperty(_SAVE_LABELS, REPLY, "composer.reply"), _defineProperty(_SAVE_LABELS, CREATE_TOPIC, "composer.create_topic"), _defineProperty(_SAVE_LABELS, PRIVATE_MESSAGE, "composer.create_pm"), _defineProperty(_SAVE_LABELS, CREATE_SHARED_DRAFT, "composer.create_shared_draft"), _defineProperty(_SAVE_LABELS, EDIT_SHARED_DRAFT, "composer.save_edit"), _SAVE_LABELS);

  var SAVE_ICONS = exports.SAVE_ICONS = (_SAVE_ICONS = {}, _defineProperty(_SAVE_ICONS, EDIT, "pencil-alt"), _defineProperty(_SAVE_ICONS, EDIT_SHARED_DRAFT, "far-clipboard"), _defineProperty(_SAVE_ICONS, REPLY, "reply"), _defineProperty(_SAVE_ICONS, CREATE_TOPIC, "plus"), _defineProperty(_SAVE_ICONS, PRIVATE_MESSAGE, "envelope"), _defineProperty(_SAVE_ICONS, CREATE_SHARED_DRAFT, "far-clipboard"), _SAVE_ICONS);

  var Composer = _rest.default.extend((_dec = (0, _decorators.default)("categoryId"), _dec2 = (0, _decorators.default)("category"), _dec3 = (0, _decorators.default)("editingPost", "topic.details.can_edit"), _dec4 = (0, _decorators.default)("privateMessage", "archetype.hasOptions"), _dec5 = (0, _decorators.default)("creatingPrivateMessage", "topic"), _dec6 = (0, _decorators.default)("action"), _dec7 = (0, _decorators.observes)("composeState"), _dec8 = (0, _decorators.default)("archetypeId"), _dec9 = (0, _decorators.observes)("archetype"), _dec10 = (0, _decorators.default)("canEditTitle", "creatingPrivateMessage", "categoryId"), _dec11 = (0, _decorators.default)("canEditTopicFeaturedLink"), _dec12 = (0, _decorators.default)("action", "post", "topic", "topic.title"), _dec13 = (0, _decorators.default)("targetRecipients"), _dec14 = (0, _decorators.default)("targetRecipients"), _dec15 = (0, _decorators.default)("loading", "canEditTitle", "titleLength", "targetRecipients", "targetRecipientsArray", "replyLength", "categoryId", "missingReplyCharacters", "tags", "topicFirstPost", "minimumRequiredTags", "isStaffUser"), _dec16 = (0, _decorators.default)("canCategorize", "categoryId"), _dec17 = (0, _decorators.default)("minimumTitleLength", "titleLength", "post.static_doc"), _dec18 = (0, _decorators.default)("metaData"), _dec19 = (0, _decorators.default)("minimumTitleLength", "titleLength"), _dec20 = (0, _decorators.default)("privateMessage"), _dec21 = (0, _decorators.default)("minimumPostLength", "replyLength", "canEditTopicFeaturedLink"), _dec22 = (0, _decorators.default)("privateMessage", "topicFirstPost", "topic.pm_with_non_human_user"), _dec23 = (0, _decorators.default)("title"), _dec24 = (0, _decorators.default)("reply"), _dec25 = (0, _decorators.on)("init"), _dec26 = (0, _decorators.observes)("title", "reply"), (_obj = {
    _categoryId: null,
    unlistTopic: false,
    noBump: false,
    draftSaving: false,
    draftSaved: false,

    archetypes: (0, _computed.reads)("site.archetypes"),

    sharedDraft: (0, _computed.equal)("action", CREATE_SHARED_DRAFT),

    categoryId: {
      get: function get() {
        return this._categoryId;
      },
      set: function set(categoryId) {
        var oldCategoryId = this._categoryId;

        if ((0, _utils.isEmpty)(categoryId)) {
          categoryId = null;
        }
        this._categoryId = categoryId;

        if (oldCategoryId !== categoryId) {
          this.applyTopicTemplate(oldCategoryId, categoryId);
        }

        return categoryId;
      }
    },

    category: function category(categoryId) {
      return categoryId ? this.site.categories.findBy("id", categoryId) : null;
    },
    minimumRequiredTags: function minimumRequiredTags(category) {
      return category && category.minimum_required_tags > 0 ? category.minimum_required_tags : null;
    },


    creatingTopic: (0, _computed.equal)("action", CREATE_TOPIC),
    creatingSharedDraft: (0, _computed.equal)("action", CREATE_SHARED_DRAFT),
    creatingPrivateMessage: (0, _computed.equal)("action", PRIVATE_MESSAGE),
    notCreatingPrivateMessage: (0, _computed.not)("creatingPrivateMessage"),
    notPrivateMessage: (0, _computed.not)("privateMessage"),

    disableTitleInput: function disableTitleInput(editingPost, canEditTopic) {
      return editingPost && !canEditTopic;
    },
    showCategoryChooser: function showCategoryChooser(isPrivateMessage, hasOptions) {
      var manyCategories = this.site.categories.length > 1;
      return !isPrivateMessage && (hasOptions || manyCategories);
    },
    privateMessage: function privateMessage(creatingPrivateMessage, topic) {
      return creatingPrivateMessage || topic && topic.archetype === "private_message";
    },


    topicFirstPost: (0, _computed.or)("creatingTopic", "editingFirstPost"),

    editingPost: isEdit,

    replyingToTopic: (0, _computed.equal)("action", REPLY),

    viewOpen: (0, _computed.equal)("composeState", OPEN),
    viewDraft: (0, _computed.equal)("composeState", DRAFT),
    viewFullscreen: (0, _computed.equal)("composeState", FULLSCREEN),
    viewOpenOrFullscreen: (0, _computed.or)("viewOpen", "viewFullscreen"),

    composeStateChanged: function composeStateChanged() {
      var oldOpen = this.composerOpened;
      var elem = document.querySelector("html");

      if (this.composeState === FULLSCREEN) {
        elem.classList.add("fullscreen-composer");
      } else {
        elem.classList.remove("fullscreen-composer");
      }

      if (this.composeState === OPEN) {
        this.set("composerOpened", oldOpen || new Date());
      } else {
        if (oldOpen) {
          var oldTotal = this.composerTotalOpened || 0;
          this.set("composerTotalOpened", oldTotal + (new Date() - oldOpen));
        }
        this.set("composerOpened", null);
      }
    },

    composerTime: {
      get: function get() {
        var total = this.composerTotalOpened || 0;
        var oldOpen = this.composerOpened;

        if (oldOpen) {
          total += new Date() - oldOpen;
        }

        return total;
      }
    },

    archetype: function archetype(archetypeId) {
      return this.archetypes.findBy("id", archetypeId);
    },
    archetypeChanged: function archetypeChanged() {
      return this.set("metaData", _object.default.create());
    },
    typing: function typing() {
      (0, _runloop.throttle)(this, function () {
        var typingTime = this.typingTime || 0;
        this.set("typingTime", typingTime + 100);
      }, 100, false);
    },


    editingFirstPost: (0, _computed.and)("editingPost", "post.firstPost"),

    canEditTitle: (0, _computed.or)("creatingTopic", "creatingPrivateMessage", "editingFirstPost", "creatingSharedDraft"),

    canCategorize: (0, _computed.and)("canEditTitle", "notCreatingPrivateMessage", "notPrivateMessage"),

    canEditTopicFeaturedLink: function canEditTopicFeaturedLink(canEditTitle, creatingPrivateMessage, categoryId) {
      if (!this.siteSettings.topic_featured_link_enabled || !canEditTitle || creatingPrivateMessage) {
        return false;
      }

      var categoryIds = this.site.topic_featured_link_allowed_category_ids;
      if (!categoryId && categoryIds && (categoryIds.indexOf(this.site.uncategorized_category_id) !== -1 || !this.siteSettings.allow_uncategorized_topics)) {
        return true;
      }
      return categoryIds === undefined || !categoryIds.length || categoryIds.indexOf(categoryId) !== -1;
    },
    titlePlaceholder: function titlePlaceholder(canEditTopicFeaturedLink) {
      return canEditTopicFeaturedLink ? "composer.title_or_link_placeholder" : "composer.title_placeholder";
    },
    replyOptions: function replyOptions(action, post, topic, topicTitle) {
      var options = {
        userLink: null,
        topicLink: null,
        postLink: null,
        userAvatar: null,
        originalUser: null
      };

      if (topic) {
        options.topicLink = {
          href: topic.url,
          anchor: topic.fancy_title || (0, _utilities.escapeExpression)(topicTitle)
        };
      }

      if (post) {
        options.label = I18n.t("post." + action);
        options.userAvatar = (0, _utilities.tinyAvatar)(post.avatar_template);

        if (!this.site.mobileView) {
          var originalUserName = post.get("reply_to_user.username");
          var originalUserAvatar = post.get("reply_to_user.avatar_template");
          if (originalUserName && originalUserAvatar && isEdit(action)) {
            options.originalUser = {
              username: originalUserName,
              avatar: (0, _utilities.tinyAvatar)(originalUserAvatar)
            };
          }
        }
      }

      if (topic && post) {
        var postNumber = post.post_number;

        options.postLink = {
          href: topic.url + "/" + postNumber,
          anchor: I18n.t("post.post_number", { number: postNumber })
        };

        options.userLink = {
          href: topic.url + "/" + postNumber,
          anchor: post.username
        };
      }

      return options;
    },
    targetUsernames: function targetUsernames(targetRecipients) {
      (0, _deprecated.default)("`targetUsernames` is deprecated, use `targetRecipients` instead.");
      return targetRecipients;
    },
    targetRecipientsArray: function targetRecipientsArray(targetRecipients) {
      var recipients = targetRecipients ? targetRecipients.split(",") : [];
      var groups = new Set(this.site.groups.map(function (g) {
        return g.name;
      }));

      return recipients.map(function (item) {
        if (groups.has(item)) {
          return { type: "group", name: item };
        } else if ((0, _utilities.emailValid)(item)) {
          return { type: "email", name: item };
        } else {
          return { type: "user", name: item };
        }
      });
    },
    cantSubmitPost: function cantSubmitPost(loading, canEditTitle, titleLength, targetRecipients, targetRecipientsArray, replyLength, categoryId, missingReplyCharacters, tags, topicFirstPost, minimumRequiredTags, isStaffUser) {
      // can't submit while loading
      if (loading) return true;

      // title is required when
      //  - creating a new topic/private message
      //  - editing the 1st post
      if (canEditTitle && !this.titleLengthValid) return true;

      // reply is always required
      if (missingReplyCharacters > 0) return true;

      if (this.site.can_tag_topics && !isStaffUser && topicFirstPost && minimumRequiredTags) {
        var tagsArray = tags || [];
        if (tagsArray.length < minimumRequiredTags) {
          return true;
        }
      }

      if (topicFirstPost) {
        // user should modify topic template
        var category = this.category;
        if (category && category.topic_template) {
          if (this.reply.trim() === category.topic_template.trim()) {
            bootbox.alert(I18n.t("composer.error.topic_template_not_modified"));
            return true;
          }
        }
      }

      if (this.privateMessage) {
        // need at least one user when sending a PM
        return targetRecipients && targetRecipientsArray.length === 0;
      } else {
        // has a category? (when needed)
        return this.requiredCategoryMissing;
      }
    },
    requiredCategoryMissing: function requiredCategoryMissing(canCategorize, categoryId) {
      return canCategorize && !categoryId && !this.siteSettings.allow_uncategorized_topics;
    },
    titleLengthValid: function titleLengthValid(minTitleLength, titleLength, staticDoc) {
      if (this.user.admin && staticDoc && titleLength > 0) return true;
      if (titleLength < minTitleLength) return false;
      return titleLength <= this.siteSettings.max_topic_title_length;
    },
    hasMetaData: function hasMetaData(metaData) {
      return metaData ? (0, _utils.isEmpty)(Ember.keys(metaData)) : false;
    },


    replyDirty: (0, _computed2.propertyNotEqual)("reply", "originalText"),

    titleDirty: (0, _computed2.propertyNotEqual)("title", "originalTitle"),

    missingTitleCharacters: function missingTitleCharacters(minimumTitleLength, titleLength) {
      return minimumTitleLength - titleLength;
    },
    minimumTitleLength: function minimumTitleLength(privateMessage) {
      if (privateMessage) {
        return this.siteSettings.min_personal_message_title_length;
      } else {
        return this.siteSettings.min_topic_title_length;
      }
    },
    missingReplyCharacters: function missingReplyCharacters(minimumPostLength, replyLength, canEditTopicFeaturedLink) {
      if (this.get("post.post_type") === this.site.get("post_types.small_action") || canEditTopicFeaturedLink && this.featuredLink) {
        return 0;
      }
      return minimumPostLength - replyLength;
    },
    minimumPostLength: function minimumPostLength(privateMessage, topicFirstPost, pmWithNonHumanUser) {
      if (pmWithNonHumanUser) {
        return 1;
      } else if (privateMessage) {
        return this.siteSettings.min_personal_message_post_length;
      } else if (topicFirstPost) {
        // first post (topic body)
        return this.siteSettings.min_first_post_length;
      } else {
        return this.siteSettings.min_post_length;
      }
    },
    titleLength: function titleLength(title) {
      title = title || "";
      return title.replace(/\s+/gim, " ").trim().length;
    },
    replyLength: function replyLength(reply) {
      reply = reply || "";

      if (reply.length > FAST_REPLY_LENGTH_THRESHOLD) {
        return reply.length;
      }

      while (_quote.default.REGEXP.test(reply)) {
        // make it global so we can strip as many quotes at once
        // keep in mind nested quotes mean we still need a loop here
        var regex = new RegExp(_quote.default.REGEXP.source, "img");
        reply = reply.replace(regex, "");
      }

      // This is in place so we do not generate any intermediate
      // strings while calculating the length, this is issued
      // every keypress in the composer so it needs to be very fast
      var len = 0,
          skipSpace = true;

      for (var i = 0; i < reply.length; i++) {
        var code = reply.charCodeAt(i);

        var isSpace = false;
        if (code >= 0x2000 && code <= 0x200a) {
          isSpace = true;
        } else {
          switch (code) {
            case 0x09: // \t
            case 0x0a: // \n
            case 0x0b: // \v
            case 0x0c: // \f
            case 0x0d: // \r
            case 0x20:
            case 0xa0:
            case 0x1680:
            case 0x202f:
            case 0x205f:
            case 0x3000:
              isSpace = true;
          }
        }

        if (isSpace) {
          if (!skipSpace) {
            len++;
            skipSpace = true;
          }
        } else {
          len++;
          skipSpace = false;
        }
      }

      if (len > 0 && skipSpace) {
        len--;
      }

      return len;
    },
    _setupComposer: function _setupComposer() {
      this.set("archetypeId", this.site.default_archetype);
    },
    appendText: function appendText(text, position, opts) {
      var reply = this.reply || "";
      position = typeof position === "number" ? position : reply.length;

      var before = reply.slice(0, position) || "";
      var after = reply.slice(position) || "";

      var stripped = void 0,
          i = void 0;
      if (opts && opts.block) {
        if (before.trim() !== "") {
          stripped = before.replace(/\r/g, "");
          for (i = 0; i < 2; i++) {
            if (stripped[stripped.length - 1 - i] !== "\n") {
              before += "\n";
              position++;
            }
          }
        }
        if (after.trim() !== "") {
          stripped = after.replace(/\r/g, "");
          for (i = 0; i < 2; i++) {
            if (stripped[i] !== "\n") {
              after = "\n" + after;
            }
          }
        }
      }

      if (opts && opts.space) {
        if (before.length > 0 && !before[before.length - 1].match(/\s/)) {
          before = before + " ";
        }
        if (after.length > 0 && !after[0].match(/\s/)) {
          after = " " + after;
        }
      }

      this.set("reply", before + text + after);

      return before.length + text.length;
    },
    prependText: function prependText(text, opts) {
      var reply = this.reply || "";

      if (opts && opts.new_line && reply.length > 0) {
        text = text.trim() + "\n\n";
      }

      this.set("reply", text + reply);
    },
    applyTopicTemplate: function applyTopicTemplate(oldCategoryId, categoryId) {
      if (this.action !== CREATE_TOPIC) {
        return;
      }

      var reply = this.reply;

      // If the user didn't change the template, clear it
      if (oldCategoryId) {
        var oldCat = this.site.categories.findBy("id", oldCategoryId);
        if (oldCat && oldCat.topic_template === reply) {
          reply = "";
        }
      }

      if (!(0, _utils.isEmpty)(reply)) {
        return;
      }

      var category = this.site.categories.findBy("id", categoryId);
      if (category) {
        this.set("reply", category.topic_template || "");
      }
    },
    open: function open(opts) {
      var _this = this;

      if (!opts) opts = {};
      this.set("loading", false);

      var replyBlank = (0, _utils.isEmpty)(this.reply);

      var composer = this;
      if (!replyBlank && (opts.reply || isEdit(opts.action)) && this.replyDirty) {
        return;
      }

      if (opts.action === REPLY && isEdit(this.action)) {
        this.set("reply", "");
      }

      if (!opts.draftKey) throw new Error("draft key is required");

      if (opts.draftSequence === null) {
        throw new Error("draft sequence is required");
      }

      if (opts.usernames) {
        (0, _deprecated.default)("`usernames` is deprecated, use `recipients` instead.");
      }

      this.setProperties({
        draftKey: opts.draftKey,
        draftSequence: opts.draftSequence,
        composeState: opts.composerState || OPEN,
        action: opts.action,
        topic: opts.topic,
        targetRecipients: opts.usernames || opts.recipients,
        composerTotalOpened: opts.composerTime,
        typingTime: opts.typingTime,
        whisper: opts.whisper,
        tags: opts.tags,
        noBump: opts.noBump
      });

      if (opts.post) {
        this.setProperties({
          post: opts.post,
          whisper: opts.post.post_type === this.site.post_types.whisper
        });

        if (!this.topic) {
          this.set("topic", opts.post.topic);
        }
      } else {
        this.set("post", null);
      }

      this.setProperties({
        archetypeId: opts.archetypeId || this.site.default_archetype,
        metaData: opts.metaData ? _object.default.create(opts.metaData) : null,
        reply: opts.reply || this.reply || ""
      });

      // We set the category id separately for topic templates on opening of composer
      this.set("categoryId", opts.categoryId || this.get("topic.category.id"));

      if (!this.categoryId && this.creatingTopic) {
        var categories = this.site.categories;
        if (categories.length === 1) {
          this.set("categoryId", categories[0].id);
        }
      }

      if (opts.postId) {
        this.set("loading", true);

        this.store.find("post", opts.postId).then(function (post) {
          return composer.setProperties({ post: post, loading: false });
        });
      }

      // If we are editing a post, load it.
      if (isEdit(opts.action) && opts.post) {
        var topicProps = this.serialize(_edit_topic_serializer);
        topicProps.loading = true;

        // When editing a shared draft, use its category
        if (opts.action === EDIT_SHARED_DRAFT && opts.destinationCategoryId) {
          topicProps.categoryId = opts.destinationCategoryId;
        }
        this.setProperties(topicProps);

        this.store.find("post", opts.post.id).then(function (post) {
          composer.setProperties({
            reply: post.raw,
            originalText: post.raw,
            loading: false
          });

          composer.appEvents.trigger("composer:reply-reloaded", composer);
        });
      } else if (opts.action === REPLY && opts.quote) {
        this.setProperties({
          reply: opts.quote,
          originalText: opts.quote
        });
      }

      if (opts.title) {
        this.set("title", opts.title);
      }

      this.set("originalText", opts.draft ? "" : this.reply);
      if (this.editingFirstPost) {
        this.set("originalTitle", this.title);
      }

      if (!isEdit(opts.action) || !opts.post) {
        composer.appEvents.trigger("composer:reply-reloaded", composer);
      }

      // Ensure additional draft fields are set
      Object.keys(_add_draft_fields).forEach(function (f) {
        _this.set(_add_draft_fields[f], opts[f]);
      });

      return false;
    },
    beforeSave: function beforeSave() {
      return _rsvp.Promise.resolve();
    },
    save: function save(opts) {
      var _this2 = this;

      return this.beforeSave().then(function () {
        if (!_this2.cantSubmitPost) {
          // change category may result in some effect for topic featured link
          if (!_this2.canEditTopicFeaturedLink) {
            _this2.set("featuredLink", null);
          }

          return _this2.editingPost ? _this2.editPost(opts) : _this2.createPost(opts);
        }
      });
    },
    clearState: function clearState() {
      this.setProperties({
        originalText: null,
        reply: null,
        post: null,
        title: null,
        unlistTopic: false,
        editReason: null,
        stagedPost: false,
        typingTime: 0,
        composerOpened: null,
        composerTotalOpened: 0,
        featuredLink: null,
        noBump: false,
        editConflict: false
      });
    },
    editPost: function editPost(opts) {
      var _this3 = this;

      var post = this.post;
      var oldCooked = post.cooked;
      var promise = _rsvp.Promise.resolve();

      // Update the topic if we're editing the first post
      if (this.title && post.post_number === 1) {
        var topic = this.topic;

        if (topic.details.can_edit) {
          var topicProps = this.getProperties(Object.keys(_edit_topic_serializer));
          // frontend should have featuredLink but backend needs featured_link
          if (topicProps.featuredLink) {
            topicProps.featured_link = topicProps.featuredLink;
            delete topicProps.featuredLink;
          }

          // If we're editing a shared draft, keep the original category
          if (this.action === EDIT_SHARED_DRAFT) {
            var destinationCategoryId = topicProps.categoryId;
            promise = promise.then(function () {
              return topic.updateDestinationCategory(destinationCategoryId);
            });
            topicProps.categoryId = topic.get("category.id");
          }
          promise = promise.then(function () {
            return _topic.default.update(topic, topicProps);
          });
        } else if (topic.details.can_edit_tags) {
          promise = promise.then(function () {
            return topic.updateTags(_this3.tags);
          });
        }
      }

      var props = {
        topic_id: this.topic.id,
        raw: this.reply,
        raw_old: this.editConflict ? null : this.originalText,
        edit_reason: opts.editReason,
        image_sizes: opts.imageSizes,
        cooked: this.getCookedHtml()
      };

      this.set("composeState", SAVING);

      var rollback = (0, _ajaxError.throwAjaxError)(function (error) {
        post.set("cooked", oldCooked);
        _this3.set("composeState", OPEN);
        if (error.jqXHR && error.jqXHR.status === 409) {
          _this3.set("editConflict", true);
        }
      });

      return promise.then(function () {
        // rest model only sets props after it is saved
        post.set("cooked", props.cooked);
        return post.save(props).then(function (result) {
          _this3.clearState();
          return result;
        });
      }).catch(rollback);
    },
    serialize: function serialize(serializer, dest) {
      var _this4 = this;

      dest = dest || {};
      Object.keys(serializer).forEach(function (f) {
        var val = _this4.get(serializer[f]);
        if (typeof val !== "undefined") {
          (0, _object.set)(dest, f, val);
        }
      });
      return dest;
    },
    createPost: function createPost(opts) {
      var _this5 = this;

      if (CREATE_TOPIC === this.action || PRIVATE_MESSAGE === this.action) {
        this.set("topic", null);
      }

      var post = this.post;
      var topic = this.topic;
      var user = this.user;
      var postStream = this.get("topic.postStream");
      var addedToStream = false;
      var postTypes = this.site.post_types;
      var postType = this.whisper ? postTypes.whisper : postTypes.regular;

      // Build the post object
      var createdPost = this.store.createRecord("post", {
        imageSizes: opts.imageSizes,
        cooked: this.getCookedHtml(),
        reply_count: 0,
        name: user.name,
        display_username: user.name,
        username: user.username,
        user_id: user.id,
        user_title: user.title,
        avatar_template: user.avatar_template,
        user_custom_fields: user.custom_fields,
        post_type: postType,
        actions_summary: [],
        moderator: user.moderator,
        admin: user.admin,
        yours: true,
        read: true,
        wiki: false,
        typingTime: this.typingTime,
        composerTime: this.composerTime
      });

      this.serialize(_create_serializer, createdPost);

      if (post) {
        createdPost.setProperties({
          reply_to_post_number: post.post_number,
          reply_to_user: post.getProperties("username", "avatar_template")
        });
      }

      var state = null;

      // If we're in a topic, we can append the post instantly.
      if (postStream) {
        // If it's in reply to another post, increase the reply count
        if (post) {
          post.setProperties({
            reply_count: (post.reply_count || 0) + 1,
            replies: []
          });
        }

        // We do not stage posts in mobile view, we do not have the "cooked"
        // Furthermore calculating cooked is very complicated, especially since
        // we would need to handle oneboxes and other bits that are not even in the
        // engine, staging will just cause a blank post to render
        if (!_.isEmpty(createdPost.cooked)) {
          state = postStream.stagePost(createdPost, user);
          if (state === "alreadyStaging") {
            return;
          }
        }
      }

      var composer = this;
      composer.setProperties({
        composeState: SAVING,
        stagedPost: state === "staged" && createdPost
      });

      return createdPost.save().then(function (result) {
        var saving = true;

        if (result.responseJson.action === "enqueued") {
          if (postStream) {
            postStream.undoPost(createdPost);
          }
          return result;
        }

        // We sometimes want to hide the `reply_to_user` if the post contains a quote
        if (result.responseJson && result.responseJson.post && !result.responseJson.post.reply_to_user) {
          createdPost.set("reply_to_user", null);
        }

        if (topic) {
          // It's no longer a new post
          topic.set("draft_sequence", result.target.draft_sequence);
          postStream.commitPost(createdPost);
          addedToStream = true;
        } else {
          // We created a new topic, let's show it.
          composer.set("composeState", CLOSED);
          saving = false;

          // Update topic_count for the category
          var category = composer.site.categories.find(function (x) {
            return x.id === (parseInt(createdPost.category, 10) || 1);
          });
          if (category) category.incrementProperty("topic_count");
          Discourse.notifyPropertyChange("globalNotice");
        }

        composer.clearState();
        composer.set("createdPost", createdPost);
        if (composer.replyingToTopic) {
          _this5.appEvents.trigger("post:created", createdPost);
        } else {
          _this5.appEvents.trigger("topic:created", createdPost, composer);
        }

        if (addedToStream) {
          composer.set("composeState", CLOSED);
        } else if (saving) {
          composer.set("composeState", SAVING);
        }

        return result;
      }).catch((0, _ajaxError.throwAjaxError)(function () {
        if (postStream) {
          postStream.undoPost(createdPost);

          if (post) {
            post.set("reply_count", post.reply_count - 1);
          }
        }
        (0, _runloop.next)(function () {
          return composer.set("composeState", OPEN);
        });
      }));
    },
    getCookedHtml: function getCookedHtml() {
      var editorPreviewNode = document.querySelector("#reply-control .d-editor-preview");

      if (editorPreviewNode) {
        return editorPreviewNode.innerHTML.replace(/<span class="marker"><\/span>/g, "");
      }

      return "";
    },
    saveDraft: function saveDraft() {
      var _this6 = this;

      // Do not save when drafts are disabled
      if (this.disableDrafts) return;

      if (this.canEditTitle) {
        // Save title and/or post body
        if (!this.title && !this.reply) return;

        if (this.title && this.titleLengthValid && this.reply && this.replyLength < this.siteSettings.min_post_length) {
          return;
        }
      } else {
        // Do not save when there is no reply
        if (!this.reply) return;

        // Do not save when the reply's length is too small
        if (this.replyLength < this.siteSettings.min_post_length) return;
      }

      this.setProperties({
        draftSaved: false,
        draftSaving: true,
        draftConflictUser: null
      });

      if (this._clearingStatus) {
        (0, _runloop.cancel)(this._clearingStatus);
        this._clearingStatus = null;
      }

      var data = this.serialize(_draft_serializer);

      if (data.postId && !(0, _utils.isEmpty)(this.originalText)) {
        data.originalText = this.originalText;
      }

      return _draft.default.save(this.draftKey, this.draftSequence, data, this.messageBus.clientId).then(function (result) {
        if (result.draft_sequence) {
          _this6.draftSequence = result.draft_sequence;
        }
        if (result.conflict_user) {
          _this6.setProperties({
            draftSaving: false,
            draftStatus: I18n.t("composer.edit_conflict"),
            draftConflictUser: result.conflict_user
          });
        } else {
          _this6.setProperties({
            draftSaving: false,
            draftSaved: true,
            draftConflictUser: null
          });
        }
      }).catch(function (e) {
        var draftStatus = void 0;
        var xhr = e && e.jqXHR;

        if (xhr && xhr.status === 409 && xhr.responseJSON && xhr.responseJSON.errors && xhr.responseJSON.errors.length) {
          var json = e.jqXHR.responseJSON;
          draftStatus = json.errors[0];
          if (json.extras && json.extras.description) {
            bootbox.alert(json.extras.description);
          }
        }

        _this6.setProperties({
          draftSaving: false,
          draftStatus: draftStatus || I18n.t("composer.drafts_offline"),
          draftConflictUser: null
        });
      });
    },
    dataChanged: function dataChanged() {
      var _this7 = this;

      var draftStatus = this.draftStatus;

      if (draftStatus && !this._clearingStatus) {
        this._clearingStatus = (0, _runloop.later)(this, function () {
          _this7.setProperties({ draftStatus: null, draftConflictUser: null });
          _this7._clearingStatus = null;
          _this7.setProperties({ draftSaving: false, draftSaved: false });
        }, Ember.Test ? 0 : 1000);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "categoryId", [_decorators.default], (_init = Object.getOwnPropertyDescriptor(_obj, "categoryId"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "category", [_dec], Object.getOwnPropertyDescriptor(_obj, "category"), _obj), _applyDecoratedDescriptor(_obj, "minimumRequiredTags", [_dec2], Object.getOwnPropertyDescriptor(_obj, "minimumRequiredTags"), _obj), _applyDecoratedDescriptor(_obj, "disableTitleInput", [_dec3], Object.getOwnPropertyDescriptor(_obj, "disableTitleInput"), _obj), _applyDecoratedDescriptor(_obj, "showCategoryChooser", [_dec4], Object.getOwnPropertyDescriptor(_obj, "showCategoryChooser"), _obj), _applyDecoratedDescriptor(_obj, "privateMessage", [_dec5], Object.getOwnPropertyDescriptor(_obj, "privateMessage"), _obj), _applyDecoratedDescriptor(_obj, "editingPost", [_dec6], (_init2 = Object.getOwnPropertyDescriptor(_obj, "editingPost"), _init2 = _init2 ? _init2.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init2;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "composeStateChanged", [_dec7], Object.getOwnPropertyDescriptor(_obj, "composeStateChanged"), _obj), _applyDecoratedDescriptor(_obj, "composerTime", [_decorators.default], (_init3 = Object.getOwnPropertyDescriptor(_obj, "composerTime"), _init3 = _init3 ? _init3.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init3;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "archetype", [_dec8], Object.getOwnPropertyDescriptor(_obj, "archetype"), _obj), _applyDecoratedDescriptor(_obj, "archetypeChanged", [_dec9], Object.getOwnPropertyDescriptor(_obj, "archetypeChanged"), _obj), _applyDecoratedDescriptor(_obj, "canEditTopicFeaturedLink", [_dec10], Object.getOwnPropertyDescriptor(_obj, "canEditTopicFeaturedLink"), _obj), _applyDecoratedDescriptor(_obj, "titlePlaceholder", [_dec11], Object.getOwnPropertyDescriptor(_obj, "titlePlaceholder"), _obj), _applyDecoratedDescriptor(_obj, "replyOptions", [_dec12], Object.getOwnPropertyDescriptor(_obj, "replyOptions"), _obj), _applyDecoratedDescriptor(_obj, "targetUsernames", [_dec13], Object.getOwnPropertyDescriptor(_obj, "targetUsernames"), _obj), _applyDecoratedDescriptor(_obj, "targetRecipientsArray", [_dec14], Object.getOwnPropertyDescriptor(_obj, "targetRecipientsArray"), _obj), _applyDecoratedDescriptor(_obj, "cantSubmitPost", [_dec15], Object.getOwnPropertyDescriptor(_obj, "cantSubmitPost"), _obj), _applyDecoratedDescriptor(_obj, "requiredCategoryMissing", [_dec16], Object.getOwnPropertyDescriptor(_obj, "requiredCategoryMissing"), _obj), _applyDecoratedDescriptor(_obj, "titleLengthValid", [_dec17], Object.getOwnPropertyDescriptor(_obj, "titleLengthValid"), _obj), _applyDecoratedDescriptor(_obj, "hasMetaData", [_dec18], Object.getOwnPropertyDescriptor(_obj, "hasMetaData"), _obj), _applyDecoratedDescriptor(_obj, "missingTitleCharacters", [_dec19], Object.getOwnPropertyDescriptor(_obj, "missingTitleCharacters"), _obj), _applyDecoratedDescriptor(_obj, "minimumTitleLength", [_dec20], Object.getOwnPropertyDescriptor(_obj, "minimumTitleLength"), _obj), _applyDecoratedDescriptor(_obj, "missingReplyCharacters", [_dec21], Object.getOwnPropertyDescriptor(_obj, "missingReplyCharacters"), _obj), _applyDecoratedDescriptor(_obj, "minimumPostLength", [_dec22], Object.getOwnPropertyDescriptor(_obj, "minimumPostLength"), _obj), _applyDecoratedDescriptor(_obj, "titleLength", [_dec23], Object.getOwnPropertyDescriptor(_obj, "titleLength"), _obj), _applyDecoratedDescriptor(_obj, "replyLength", [_dec24], Object.getOwnPropertyDescriptor(_obj, "replyLength"), _obj), _applyDecoratedDescriptor(_obj, "_setupComposer", [_dec25], Object.getOwnPropertyDescriptor(_obj, "_setupComposer"), _obj), _applyDecoratedDescriptor(_obj, "dataChanged", [_dec26], Object.getOwnPropertyDescriptor(_obj, "dataChanged"), _obj)), _obj)));

  Composer.reopenClass({
    create: function create(args) {
      args = args || {};
      args.user = args.user || _user.default.current();
      args.site = args.site || _site.default.current();
      args.siteSettings = args.siteSettings || Discourse.SiteSettings;
      return this._super(args);
    },
    serializeToTopic: function serializeToTopic(fieldName, property) {
      if (!property) {
        property = fieldName;
      }
      _edit_topic_serializer[fieldName] = property;
    },
    serializeOnCreate: function serializeOnCreate(fieldName, property) {
      if (!property) {
        property = fieldName;
      }
      _create_serializer[fieldName] = property;
    },
    serializedFieldsForCreate: function serializedFieldsForCreate() {
      return Object.keys(_create_serializer);
    },
    serializeToDraft: function serializeToDraft(fieldName, property) {
      if (!property) {
        property = fieldName;
      }
      _draft_serializer[fieldName] = property;
      _add_draft_fields[fieldName] = property;
    },
    serializedFieldsForDraft: function serializedFieldsForDraft() {
      return Object.keys(_draft_serializer);
    },


    // The status the compose view can have
    CLOSED: CLOSED,
    SAVING: SAVING,
    OPEN: OPEN,
    DRAFT: DRAFT,
    FULLSCREEN: FULLSCREEN,

    // The actions the composer can take
    CREATE_TOPIC: CREATE_TOPIC,
    CREATE_SHARED_DRAFT: CREATE_SHARED_DRAFT,
    EDIT_SHARED_DRAFT: EDIT_SHARED_DRAFT,
    PRIVATE_MESSAGE: PRIVATE_MESSAGE,
    REPLY: REPLY,
    EDIT: EDIT,

    // Draft key
    NEW_PRIVATE_MESSAGE_KEY: NEW_PRIVATE_MESSAGE_KEY,
    NEW_TOPIC_KEY: NEW_TOPIC_KEY
  });

  exports.default = Composer;
});
define("discourse/models/badge-grouping", ["exports", "discourse-common/utils/decorators", "discourse/models/rest"], function (exports, _decorators, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _rest.default.extend((_dec = (0, _decorators.default)("name"), _dec2 = (0, _decorators.default)("name"), (_obj = {
    i18nNameKey: function i18nNameKey() {
      return this.name.toLowerCase().replace(/\s/g, "_");
    },
    displayName: function displayName() {
      var i18nKey = "badges.badge_grouping." + this.i18nNameKey + ".name";
      return I18n.t(i18nKey, { defaultValue: this.name });
    }
  }, (_applyDecoratedDescriptor(_obj, "i18nNameKey", [_dec], Object.getOwnPropertyDescriptor(_obj, "i18nNameKey"), _obj), _applyDecoratedDescriptor(_obj, "displayName", [_dec2], Object.getOwnPropertyDescriptor(_obj, "displayName"), _obj)), _obj)));
});
define("discourse/models/badge", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/object", "discourse/lib/ajax", "discourse/models/badge-grouping", "discourse/models/rest", "rsvp"], function (exports, _decorators, _computed, _object, _ajax, _badgeGrouping, _rest, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  var Badge = _rest.default.extend((_dec = (0, _decorators.default)("badge_type.name"), (_obj = {
    newBadge: (0, _computed.none)("id"),

    url: function url() {
      return Discourse.getURL("/badges/" + this.id + "/" + this.slug);
    },
    updateFromJson: function updateFromJson(json) {
      var _this = this;

      if (json.badge) {
        Object.keys(json.badge).forEach(function (key) {
          return _this.set(key, json.badge[key]);
        });
      }
      if (json.badge_types) {
        json.badge_types.forEach(function (badgeType) {
          if (badgeType.id === _this.badge_type_id) {
            _this.set("badge_type", Object.create(badgeType));
          }
        });
      }
    },
    badgeTypeClassName: function badgeTypeClassName(type) {
      type = type || "";
      return "badge-type-" + type.toLowerCase();
    },
    save: function save(data) {
      var _this2 = this;

      var url = "/admin/badges",
          type = "POST";

      if (this.id) {
        // We are updating an existing badge.
        url += "/" + this.id;
        type = "PUT";
      }

      return (0, _ajax.ajax)(url, { type: type, data: data }).then(function (json) {
        _this2.updateFromJson(json);
        return _this2;
      }).catch(function (error) {
        throw new Error(error);
      });
    },
    destroy: function destroy() {
      if (this.newBadge) return _rsvp.Promise.resolve();

      return (0, _ajax.ajax)("/admin/badges/" + this.id, {
        type: "DELETE"
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "url", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "url"), _obj), _applyDecoratedDescriptor(_obj, "badgeTypeClassName", [_dec], Object.getOwnPropertyDescriptor(_obj, "badgeTypeClassName"), _obj)), _obj)));

  Badge.reopenClass({
    createFromJson: function createFromJson(json) {
      // Create BadgeType objects.
      var badgeTypes = {};
      if ("badge_types" in json) {
        json.badge_types.forEach(function (badgeTypeJson) {
          return badgeTypes[badgeTypeJson.id] = _object.default.create(badgeTypeJson);
        });
      }

      var badgeGroupings = {};
      if ("badge_groupings" in json) {
        json.badge_groupings.forEach(function (badgeGroupingJson) {
          return badgeGroupings[badgeGroupingJson.id] = _badgeGrouping.default.create(badgeGroupingJson);
        });
      }

      // Create Badge objects.
      var badges = [];
      if ("badge" in json) {
        badges = [json.badge];
      } else if (json.badges) {
        badges = json.badges;
      }
      badges = badges.map(function (badgeJson) {
        var badge = Badge.create(badgeJson);
        badge.setProperties({
          badge_type: badgeTypes[badge.badge_type_id],
          badge_grouping: badgeGroupings[badge.badge_grouping_id]
        });
        return badge;
      });

      if ("badge" in json) {
        return badges[0];
      } else {
        return badges;
      }
    },
    findAll: function findAll(opts) {
      var listable = "";
      if (opts && opts.onlyListable) {
        listable = "?only_listable=true";
      }

      return (0, _ajax.ajax)("/badges.json" + listable, { data: opts }).then(function (badgesJson) {
        return Badge.createFromJson(badgesJson);
      });
    },
    findById: function findById(id) {
      return (0, _ajax.ajax)("/badges/" + id).then(function (badgeJson) {
        return Badge.createFromJson(badgeJson);
      });
    }
  });

  exports.default = Badge;
});
define("discourse/models/user-action-group", ["exports", "@ember/object"], function (exports, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _object.default.extend({
    push: function push(item) {
      if (!this.items) {
        this.items = [];
      }
      return this.items.push(item);
    }
  });
});
define("discourse/models/trust-level", ["exports", "discourse/models/rest", "discourse/lib/computed"], function (exports, _rest, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    detailedName: (0, _computed.fmt)("id", "name", "%@ - %@")
  });
});
define("discourse/lib/search", ["exports", "@ember/utils", "@ember/object", "discourse/lib/ajax", "discourse/lib/raw-templates", "discourse/models/category", "discourse/lib/category-tag-search", "discourse/lib/user-search", "discourse/lib/url", "discourse/lib/text", "discourse/models/user", "discourse/models/post", "discourse/models/topic"], function (exports, _utils, _object, _ajax, _rawTemplates, _category, _categoryTagSearch, _userSearch, _url, _text, _user, _post, _topic) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.translateResults = translateResults;
  exports.searchForTerm = searchForTerm;
  exports.searchContextDescription = searchContextDescription;
  exports.getSearchKey = getSearchKey;
  exports.isValidSearchTerm = isValidSearchTerm;
  exports.applySearchAutocomplete = applySearchAutocomplete;
  function translateResults(results, opts) {
    opts = opts || {};

    results.topics = results.topics || [];
    results.users = results.users || [];
    results.posts = results.posts || [];
    results.categories = results.categories || [];
    results.tags = results.tags || [];
    results.groups = results.groups || [];

    var topicMap = {};
    results.topics = results.topics.map(function (topic) {
      topic = _topic.default.create(topic);
      topicMap[topic.id] = topic;
      return topic;
    });

    results.posts = results.posts.map(function (post) {
      if (post.username) {
        post.userPath = (0, _url.userPath)(post.username.toLowerCase());
      }
      post = _post.default.create(post);
      post.set("topic", topicMap[post.topic_id]);
      post.blurb = (0, _text.emojiUnescape)(post.blurb);
      return post;
    });

    results.users = results.users.map(function (user) {
      return _user.default.create(user);
    });

    results.categories = results.categories.map(function (category) {
      return _category.default.list().findBy("id", category.id);
    }).compact();

    results.groups = results.groups.map(function (group) {
      var name = Handlebars.Utils.escapeExpression(group.name);
      var fullName = Handlebars.Utils.escapeExpression(group.full_name || group.display_name);
      var flairUrl = (0, _utils.isEmpty)(group.flair_url) ? null : Handlebars.Utils.escapeExpression(group.flair_url);
      var flairColor = Handlebars.Utils.escapeExpression(group.flair_color);
      var flairBgColor = Handlebars.Utils.escapeExpression(group.flair_bg_color);

      return {
        id: group.id,
        flairUrl: flairUrl,
        flairColor: flairColor,
        flairBgColor: flairBgColor,
        fullName: fullName,
        name: name,
        url: Discourse.getURL("/g/" + name)
      };
    }).compact();

    results.tags = results.tags.map(function (tag) {
      var tagName = Handlebars.Utils.escapeExpression(tag.name);
      return _object.default.create({
        id: tagName,
        url: Discourse.getURL("/tag/" + tagName)
      });
    }).compact();

    results.resultTypes = [];

    // TODO: consider refactoring front end to take a better structure
    var groupedSearchResult = results.grouped_search_result;
    if (groupedSearchResult) {
      [["topic", "posts"], ["user", "users"], ["group", "groups"], ["category", "categories"], ["tag", "tags"]].forEach(function (pair) {
        var type = pair[0];
        var name = pair[1];
        if (results[name].length > 0) {
          var componentName = opts.searchContext && opts.searchContext.type === "topic" && type === "topic" ? "post" : type;
          var result = {
            results: results[name],
            componentName: "search-result-" + componentName,
            type: type,
            more: groupedSearchResult["more_" + name]
          };

          if (result.more && componentName === "topic" && opts.fullSearchUrl) {
            result.more = false;
            result.moreUrl = opts.fullSearchUrl;
          }

          results.resultTypes.push(result);
        }
      });
    }

    var noResults = !!(!results.topics.length && !results.posts.length && !results.users.length && !results.categories.length);

    return noResults ? null : _object.default.create(results);
  }

  function searchForTerm(term, opts) {
    if (!opts) opts = {};

    // Only include the data we have
    var data = { term: term, include_blurbs: "true" };
    if (opts.typeFilter) data.type_filter = opts.typeFilter;
    if (opts.searchForId) data.search_for_id = true;
    if (opts.restrictToArchetype) data.restrict_to_archetype = opts.restrictToArchetype;

    if (opts.searchContext) {
      data.search_context = {
        type: opts.searchContext.type,
        id: opts.searchContext.id,
        name: opts.searchContext.name
      };
    }

    var promise = (0, _ajax.ajax)("/search/query", { data: data });

    promise.then(function (results) {
      return translateResults(results, opts);
    });

    return promise;
  }

  function searchContextDescription(type, name) {
    if (type) {
      switch (type) {
        case "topic":
          return I18n.t("search.context.topic");
        case "user":
          return I18n.t("search.context.user", { username: name });
        case "category":
          return I18n.t("search.context.category", { category: name });
        case "tag":
          return I18n.t("search.context.tag", { tag: name });
        case "private_messages":
          return I18n.t("search.context.private_messages");
      }
    }
  }

  function getSearchKey(args) {
    return args.q + "|" + (args.searchContext && args.searchContext.type || "") + "|" + (args.searchContext && args.searchContext.id || "");
  }

  function isValidSearchTerm(searchTerm) {
    if (searchTerm) {
      return searchTerm.trim().length >= Discourse.SiteSettings.min_search_term_length;
    } else {
      return false;
    }
  }

  function applySearchAutocomplete($input, siteSettings, appEvents, options) {
    var afterComplete = function afterComplete() {
      if (appEvents) {
        appEvents.trigger("search-autocomplete:after-complete");
      }
    };

    $input.autocomplete(_.merge({
      template: (0, _rawTemplates.findRawTemplate)("category-tag-autocomplete"),
      key: "#",
      width: "100%",
      treatAsTextarea: true,
      transformComplete: function transformComplete(obj) {
        return obj.text;
      },
      dataSource: function dataSource(term) {
        return (0, _categoryTagSearch.search)(term, siteSettings);
      },

      afterComplete: afterComplete
    }, options));

    if (Discourse.SiteSettings.enable_mentions) {
      $input.autocomplete(_.merge({
        template: (0, _rawTemplates.findRawTemplate)("user-selector-autocomplete"),
        key: "@",
        width: "100%",
        treatAsTextarea: true,
        transformComplete: function transformComplete(v) {
          return v.username || v.name;
        },
        dataSource: function dataSource(term) {
          return (0, _userSearch.default)({ term: term, includeGroups: true });
        },
        afterComplete: afterComplete
      }, options));
    }
  }
});
define("discourse/lib/user-search", ["exports", "discourse/lib/debounce", "discourse/lib/autocomplete", "discourse/lib/url", "discourse/lib/utilities", "rsvp"], function (exports, _debounce, _autocomplete, _url, _utilities, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.skipSearch = skipSearch;
  exports.eagerCompleteSearch = eagerCompleteSearch;
  exports.default = userSearch;


  var cache = {},
      cacheKey,
      cacheTime,
      currentTerm,
      oldSearch;

  function performSearch(term, topicId, categoryId, includeGroups, includeMentionableGroups, includeMessageableGroups, allowedUsers, groupMembersOf, resultsFn) {
    var cached = cache[term];
    if (cached) {
      resultsFn(cached);
      return;
    }

    var eagerComplete = eagerCompleteSearch(term, topicId || categoryId);

    if (term === "" && !eagerComplete) {
      // The server returns no results in this case, so no point checking
      // do not return empty list, because autocomplete will get terminated
      resultsFn(_autocomplete.CANCELLED_STATUS);
      return;
    }

    // need to be able to cancel this
    oldSearch = $.ajax((0, _url.userPath)("search/users"), {
      data: {
        term: term,
        topic_id: topicId,
        category_id: categoryId,
        include_groups: includeGroups,
        include_mentionable_groups: includeMentionableGroups,
        include_messageable_groups: includeMessageableGroups,
        groups: groupMembersOf,
        topic_allowed_users: allowedUsers
      }
    });

    var returnVal = _autocomplete.CANCELLED_STATUS;

    oldSearch.then(function (r) {
      var hasResults = !!(r.users && r.users.length || r.groups && r.groups.length || r.emails && r.emails.length);

      if (eagerComplete && !hasResults) {
        // we are trying to eager load, but received no results
        // do not return empty list, because autocomplete will get terminated
        r = _autocomplete.CANCELLED_STATUS;
      }

      cache[term] = r;
      cacheTime = new Date();
      // If there is a newer search term, return null
      if (term === currentTerm) {
        returnVal = r;
      }
    }).always(function () {
      oldSearch = null;
      resultsFn(returnVal);
    });
  }

  var debouncedSearch = (0, _debounce.default)(performSearch, 300);

  function organizeResults(r, options) {
    if (r === _autocomplete.CANCELLED_STATUS) {
      return r;
    }

    var exclude = options.exclude || [],
        limit = options.limit || 5,
        users = [],
        emails = [],
        groups = [],
        results = [];

    if (r.users) {
      r.users.every(function (u) {
        if (exclude.indexOf(u.username) === -1) {
          users.push(u);
          results.push(u);
        }
        return results.length <= limit;
      });
    }

    if (options.allowEmails && (0, _utilities.emailValid)(options.term)) {
      var e = { username: options.term };
      emails = [e];
      results.push(e);
    }

    if (r.groups) {
      r.groups.every(function (g) {
        if (options.term.toLowerCase() === g.name.toLowerCase() || results.length < limit) {
          if (exclude.indexOf(g.name) === -1) {
            groups.push(g);
            results.push(g);
          }
        }
        return true;
      });
    }

    results.users = users;
    results.emails = emails;
    results.groups = groups;
    return results;
  }

  // all punctuations except for -, _ and . which are allowed in usernames
  // note: these are valid in names, but will end up tripping search anyway so just skip
  // this means searching for `sam saffron` is OK but if my name is `sam$ saffron` autocomplete
  // will not find me, which is a reasonable compromise
  //
  // we also ignore if we notice a double space or a string that is only a space
  var ignoreRegex = /([\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*,\/:;<=>?\[\]^`{|}~])|\s\s|^\s$|^[^+]*\+[^@]*$/;

  function skipSearch(term, allowEmails) {
    if (term.indexOf("@") > -1 && !allowEmails) {
      return true;
    }

    return !!term.match(ignoreRegex);
  }

  function eagerCompleteSearch(term, scopedId) {
    return term === "" && !!scopedId;
  }

  function userSearch(options) {
    if (options.term && options.term.length > 0 && options.term[0] === "@") {
      options.term = options.term.substring(1);
    }

    var term = options.term || "",
        includeGroups = options.includeGroups,
        includeMentionableGroups = options.includeMentionableGroups,
        includeMessageableGroups = options.includeMessageableGroups,
        allowedUsers = options.allowedUsers,
        topicId = options.topicId,
        categoryId = options.categoryId,
        groupMembersOf = options.groupMembersOf;

    if (oldSearch) {
      oldSearch.abort();
      oldSearch = null;
    }

    currentTerm = term;

    return new _rsvp.Promise(function (resolve) {
      var newCacheKey = topicId + "-" + categoryId;

      if (new Date() - cacheTime > 30000 || cacheKey !== newCacheKey) {
        cache = {};
      }

      cacheKey = newCacheKey;

      var clearPromise = setTimeout(function () {
        resolve(_autocomplete.CANCELLED_STATUS);
      }, 5000);

      if (skipSearch(term, options.allowEmails)) {
        resolve([]);
        return;
      }

      debouncedSearch(term, topicId, categoryId, includeGroups, includeMentionableGroups, includeMessageableGroups, allowedUsers, groupMembersOf, function (r) {
        clearTimeout(clearPromise);
        resolve(organizeResults(r, options));
      });
    });
  }
});
define("discourse/lib/export-csv", ["exports", "discourse/lib/ajax", "discourse/lib/ajax-error"], function (exports, _ajax, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.exportUserArchive = exportUserArchive;
  exports.exportEntity = exportEntity;


  function exportEntityByType(type, entity, args) {
    return (0, _ajax.ajax)("/export_csv/export_entity.json", {
      method: "POST",
      data: { entity: entity, args: args }
    });
  }

  function exportUserArchive() {
    return exportEntityByType("user", "user_archive").then(function () {
      bootbox.alert(I18n.t("user.download_archive.success"));
    }).catch(_ajaxError.popupAjaxError);
  }

  function exportEntity(entity, args) {
    return exportEntityByType("admin", entity, args);
  }
});
define("discourse/lib/autocomplete", ["exports", "@ember/runloop", "discourse-common/lib/icon-library", "discourse/lib/utilities", "discourse/models/site"], function (exports, _runloop, _iconLibrary, _utilities, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.CANCELLED_STATUS = undefined;

  exports.default = function (options) {
    var autocompletePlugin = this;

    if (this.length === 0) return;

    if (options === "destroy" || options.updateData) {
      (0, _runloop.cancel)(inputTimeout);

      $(this).off("keyup.autocomplete").off("keydown.autocomplete").off("paste.autocomplete").off("click.autocomplete");

      $(window).off("click.autocomplete");

      if (options === "destroy") return;
    }

    if (options && options.cancel && this.data("closeAutocomplete")) {
      this.data("closeAutocomplete")();
      return this;
    }

    if (this.length !== 1) {
      if (window.console) {
        window.console.log("WARNING: passed multiple elements to $.autocomplete, skipping.");
        if (window.Error) {
          window.console.log(new window.Error().stack);
        }
      }
      return this;
    }

    var disabled = options && options.disabled;
    var wrap = null;
    var autocompleteOptions = null;
    var selectedOption = null;
    var completeStart = null;
    var completeEnd = null;
    var me = this;
    var div = null;
    var prevTerm = null;

    // input is handled differently
    var isInput = this[0].tagName === "INPUT" && !options.treatAsTextarea;
    var inputSelectedItems = [];

    function closeAutocomplete() {
      if (div) {
        div.hide().remove();
      }
      div = null;
      completeStart = null;
      autocompleteOptions = null;
      prevTerm = null;
    }

    function addInputSelectedItem(item, triggerChangeCallback) {
      var transformed,
          transformedItem = item;

      if (options.transformComplete) {
        transformedItem = options.transformComplete(transformedItem);
      }
      // dump what we have in single mode, just in case
      if (options.single) {
        inputSelectedItems = [];
      }
      transformed = _.isArray(transformedItem) ? transformedItem : [transformedItem || item];

      var divs = transformed.map(function (itm) {
        var d = $("<div class='item'><span>" + itm + "<a class='remove' href>" + (0, _iconLibrary.iconHTML)("times") + "</a></span></div>");
        var $parent = me.parent();
        var prev = $parent.find(".item:last");

        if (prev.length === 0) {
          me.parent().prepend(d);
        } else {
          prev.after(d);
        }

        inputSelectedItems.push(itm);
        return d[0];
      });

      if (options.onChangeItems && triggerChangeCallback) {
        options.onChangeItems(inputSelectedItems);
      }

      $(divs).find("a").click(function () {
        closeAutocomplete();
        inputSelectedItems.splice($.inArray(transformedItem, inputSelectedItems), 1);
        $(this).parent().parent().remove();
        if (options.single) {
          me.show();
        }
        if (options.onChangeItems) {
          options.onChangeItems(inputSelectedItems);
        }
        return false;
      });
    }

    var completeTerm = function completeTerm(term) {
      if (term) {
        if (isInput) {
          me.val("");
          if (options.single) {
            me.hide();
          }
          addInputSelectedItem(term, true);
        } else {
          if (options.transformComplete) {
            term = options.transformComplete(term);
          }

          if (term) {
            var text = me.val();
            text = text.substring(0, completeStart) + (options.key || "") + term + " " + text.substring(completeEnd + 1, text.length);
            me.val(text);
            (0, _utilities.setCaretPosition)(me[0], completeStart + 1 + term.length);

            if (options && options.afterComplete) {
              options.afterComplete(text);
            }
          }
        }
      }
      closeAutocomplete();
    };

    if (isInput) {
      var width = Math.max(this.width(), 200);

      if (options.updateData) {
        wrap = this.parent();
        wrap.find(".item").remove();
        me.show();
      } else {
        wrap = this.wrap("<div class='ac-wrap clearfix" + (disabled ? " disabled" : "") + "'/>").parent();

        if (!options.fullWidthWrap) {
          wrap.width(width);
        }
      }

      if (options.single && !options.width) {
        this.attr("class", this.attr("class") + " fullwidth-input");
      } else if (options.width) {
        this.css("width", options.width);
      }

      this.attr("name", options.updateData ? this.attr("name") : this.attr("name") + "-renamed");

      var vals = this.val().split(",");
      vals.forEach(function (x) {
        if (x !== "") {
          if (options.reverseTransform) {
            x = options.reverseTransform(x);
          }
          if (options.single) {
            me.hide();
          }
          addInputSelectedItem(x, false);
        }
      });

      if (options.items) {
        options.items.forEach(function (item) {
          if (options.single) {
            me.hide();
          }
          addInputSelectedItem(item, true);
        });
      }

      this.val("");
      completeStart = 0;
      wrap.click(function () {
        autocompletePlugin.focus();
        return true;
      });
    }

    function markSelected() {
      var links = div.find("li a");
      links.removeClass("selected");
      return $(links[selectedOption]).addClass("selected");
    }

    // a sane spot below cursor
    var BELOW = -32;

    function renderAutocomplete() {
      if (div) {
        div.hide().remove();
      }
      if (autocompleteOptions.length === 0) return;

      div = $(options.template({ options: autocompleteOptions }));

      var ul = div.find("ul");
      selectedOption = 0;
      markSelected();
      ul.find("li").click(function () {
        selectedOption = ul.find("li").index(this);
        completeTerm(autocompleteOptions[selectedOption]);
        return false;
      });
      var pos = null;
      var vOffset = 0;
      var hOffset = 0;

      if (isInput) {
        pos = {
          left: 0,
          top: 0
        };
        vOffset = BELOW;
        hOffset = 0;
      } else {
        pos = me.caretPosition({
          pos: completeStart + 1
        });

        hOffset = 10;
        if (options.treatAsTextarea) vOffset = -32;
      }

      div.css({
        left: "-1000px"
      });

      if (options.appendSelector) {
        me.parents(options.appendSelector).append(div);
      } else {
        me.parent().append(div);
      }

      if (!isInput && !options.treatAsTextarea) {
        vOffset = div.height();

        var spaceOutside = window.innerHeight - me.outerHeight() - $("header.d-header").innerHeight();

        if (spaceOutside < vOffset && vOffset > pos.top) {
          vOffset = BELOW;
        }

        if (_site.default.currentProp("mobileView")) {
          if (me.height() / 2 >= pos.top) {
            vOffset = BELOW;
          }
          if (me.width() / 2 <= pos.left) {
            hOffset = -div.width();
          }
        }
      }

      var mePos = me.position();

      var borderTop = parseInt(me.css("border-top-width"), 10) || 0;

      var left = mePos.left + pos.left + hOffset;
      if (left < 0) {
        left = 0;
      }

      var offsetTop = me.offset().top;
      if (mePos.top + pos.top + borderTop - vOffset + offsetTop < 30) {
        vOffset = BELOW;
      }

      div.css({
        position: "absolute",
        top: mePos.top + pos.top - vOffset + borderTop + "px",
        left: left + "px"
      });
    }

    var SKIP = "skip";

    function dataSource(term, opts) {
      if (prevTerm === term) {
        return SKIP;
      }

      prevTerm = term;
      if (term.length !== 0 && term.trim().length === 0) {
        closeAutocomplete();
        return null;
      } else {
        return opts.dataSource(term);
      }
    }

    function updateAutoComplete(r) {
      if (completeStart === null || r === SKIP) return;

      if (r && r.then && typeof r.then === "function") {
        if (div) {
          div.hide().remove();
        }
        r.then(updateAutoComplete);
        return;
      }

      // Allow an update method to cancel. This allows us to debounce
      // promises without leaking
      if (r === CANCELLED_STATUS) {
        return;
      }

      autocompleteOptions = r;
      if (!r || r.length === 0) {
        closeAutocomplete();
      } else {
        renderAutocomplete();
      }
    }

    // chain to allow multiples
    var oldClose = me.data("closeAutocomplete");
    me.data("closeAutocomplete", function () {
      if (oldClose) {
        oldClose();
      }
      closeAutocomplete();
    });

    $(window).on("click.autocomplete", function () {
      return closeAutocomplete();
    });
    $(this).on("click.autocomplete", function () {
      return closeAutocomplete();
    });

    $(this).on("paste.autocomplete", function () {
      (0, _runloop.later)(function () {
        return me.trigger("keydown");
      }, 50);
    });

    function checkTriggerRule(opts) {
      return options.triggerRule ? options.triggerRule(me[0], opts) : true;
    }

    $(this).on("keyup.autocomplete", function (e) {
      if ([keys.esc, keys.enter].indexOf(e.which) !== -1) return true;

      var cp = (0, _utilities.caretPosition)(me[0]);
      var key = me[0].value[cp - 1];

      if (options.key) {
        if (options.onKeyUp && key !== options.key) {
          var match = options.onKeyUp(me.val(), cp);
          if (match) {
            completeStart = cp - match[0].length;
            completeEnd = completeStart + match[0].length - 1;
            var term = match[0].substring(1, match[0].length);
            updateAutoComplete(dataSource(term, options));
          }
        }
      }

      if (completeStart === null && cp > 0) {
        if (key === options.key) {
          var prevChar = me.val().charAt(cp - 2);
          if (checkTriggerRule() && (!prevChar || allowedLettersRegex.test(prevChar))) {
            completeStart = completeEnd = cp - 1;
            updateAutoComplete(dataSource("", options));
          }
        }
      } else if (completeStart !== null) {
        var _term = me.val().substring(completeStart + (options.key ? 1 : 0), cp);
        updateAutoComplete(dataSource(_term, options));
      }
    });

    $(this).on("keydown.autocomplete", function (e) {
      var c, i, initial, prev, prevIsGood, stopFound, term, total, userToComplete;
      var cp = void 0;

      if (e.ctrlKey || e.altKey || e.metaKey) {
        return true;
      }

      if (options.allowAny) {
        // saves us wiring up a change event as well

        (0, _runloop.cancel)(inputTimeout);
        inputTimeout = (0, _runloop.later)(function () {
          if (inputSelectedItems.length === 0) {
            inputSelectedItems.push("");
          }

          if (_.isString(inputSelectedItems[0]) && me.val().length > 0) {
            inputSelectedItems.pop();
            inputSelectedItems.push(me.val());
            if (options.onChangeItems) {
              options.onChangeItems(inputSelectedItems);
            }
          }
        }, 50);
      }

      if (!options.key) {
        completeStart = 0;
      }
      if (e.which === keys.shift) return;
      if (completeStart === null && e.which === keys.backSpace && options.key) {
        c = (0, _utilities.caretPosition)(me[0]);
        c -= 1;
        initial = c;
        prevIsGood = true;
        while (prevIsGood && c >= 0) {
          c -= 1;
          prev = me[0].value[c];
          stopFound = prev === options.key;
          if (stopFound) {
            prev = me[0].value[c - 1];
            if (checkTriggerRule({ backSpace: true }) && (!prev || allowedLettersRegex.test(prev))) {
              completeStart = c;
              cp = completeEnd = initial;
              term = me[0].value.substring(c + 1, initial);
              updateAutoComplete(dataSource(term, options));
              return true;
            }
          }
          prevIsGood = /[a-zA-Z\.-]/.test(prev);
        }
      }

      // ESC
      if (e.which === keys.esc) {
        if (div !== null) {
          closeAutocomplete();
          return false;
        }
        return true;
      }

      if (completeStart !== null) {
        cp = (0, _utilities.caretPosition)(me[0]);

        // allow people to right arrow out of completion
        if (e.which === keys.rightArrow && me[0].value[cp] === " ") {
          closeAutocomplete();
          return true;
        }

        // If we've backspaced past the beginning, cancel unless no key
        if (cp <= completeStart && options.key) {
          closeAutocomplete();
          return true;
        }

        // Keyboard codes! So 80's.
        switch (e.which) {
          case keys.enter:
          case keys.tab:
            if (!autocompleteOptions) return true;
            if (selectedOption >= 0 && (userToComplete = autocompleteOptions[selectedOption])) {
              completeTerm(userToComplete);
            } else {
              // We're cancelling it, really.
              return true;
            }
            e.stopImmediatePropagation();
            return false;
          case keys.upArrow:
            selectedOption = selectedOption - 1;
            if (selectedOption < 0) {
              selectedOption = 0;
            }
            markSelected();
            return false;
          case keys.downArrow:
            total = autocompleteOptions.length;
            selectedOption = selectedOption + 1;
            if (selectedOption >= total) {
              selectedOption = total - 1;
            }
            if (selectedOption < 0) {
              selectedOption = 0;
            }
            markSelected();
            return false;
          case keys.backSpace:
            completeEnd = cp;
            cp--;

            if (cp < 0) {
              closeAutocomplete();
              if (isInput) {
                i = wrap.find("a:last");
                if (i) {
                  i.click();
                }
              }
              return true;
            }

            term = me.val().substring(completeStart + (options.key ? 1 : 0), cp);

            if (completeStart === cp && term === options.key) {
              closeAutocomplete();
            }

            updateAutoComplete(dataSource(term, options));
            return true;
          default:
            completeEnd = cp;
            return true;
        }
      }
    });

    return this;
  };

  /**
    This is a jQuery plugin to support autocompleting values in our text fields.
  
    @module $.fn.autocomplete
  **/

  var CANCELLED_STATUS = exports.CANCELLED_STATUS = "__CANCELLED";
  var allowedLettersRegex = /[\s\t\[\{\(\/]/;

  var keys = {
    backSpace: 8,
    tab: 9,
    enter: 13,
    shift: 16,
    ctrl: 17,
    alt: 18,
    esc: 27,
    space: 32,
    leftWindows: 91,
    rightWindows: 92,
    pageUp: 33,
    pageDown: 34,
    end: 35,
    home: 36,
    leftArrow: 37,
    upArrow: 38,
    rightArrow: 39,
    downArrow: 40,
    insert: 45,
    deleteKey: 46,
    zero: 48,
    a: 65,
    z: 90
  };

  var inputTimeout = void 0;
});
define("discourse/lib/after-transition", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (element, callback) {
    return $(element).on(transitionEnd, function (event) {
      if (event.target !== event.currentTarget) return;
      return callback(event);
    });
  };

  /**
    CSS transitions are a PITA, often we need to queue some js after a transition, this helper ensures
    it happens after the transition.
  
    SO: http://stackoverflow.com/questions/9943435/css3-animation-end-techniques
  **/
  var dummy = document.createElement("div"),
      eventNameHash = {
    webkit: "webkitTransitionEnd",
    Moz: "transitionend",
    O: "oTransitionEnd",
    ms: "MSTransitionEnd"
  };

  var transitionEnd = function () {
    var retValue;
    retValue = "transitionend";
    Object.keys(eventNameHash).some(function (vendor) {
      if (vendor + "TransitionProperty" in dummy.style) {
        retValue = eventNameHash[vendor];
        return true;
      }
    });
    return retValue;
  }();
});
define("discourse/lib/safari-hacks", ["exports", "@ember/runloop", "discourse/lib/debounce", "discourse/lib/utilities"], function (exports, _runloop, _debounce, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.isWorkaroundActive = isWorkaroundActive;


  // TODO: remove calcHeight once iOS 13 adoption > 90%
  // In iOS 13 and up we use visualViewport API to calculate height

  // we can't tell what the actual visible window height is
  // because we cannot account for the height of the mobile keyboard
  // and any other mobile autocomplete UI that may appear
  // so let's be conservative here rather than trying to max out every
  // available pixel of height for the editor
  function calcHeight() {
    // estimate 270 px for keyboard
    var withoutKeyboard = window.innerHeight - 270;
    var min = 270;

    // iPhone shrinks header and removes footer controls ( back / forward nav )
    // at 39px we are at the largest viewport
    var portrait = window.innerHeight > window.innerWidth;
    var smallViewport = (portrait ? window.screen.height : window.screen.width) - window.innerHeight > 40;

    if (portrait) {
      // iPhone SE, it is super small so just
      // have a bit of crop
      if (window.screen.height === 568) {
        withoutKeyboard = 270;
      }

      // iPhone 6/7/8
      if (window.screen.height === 667) {
        withoutKeyboard = smallViewport ? 295 : 325;
      }

      // iPhone 6/7/8 plus
      if (window.screen.height === 736) {
        withoutKeyboard = smallViewport ? 353 : 383;
      }

      // iPhone X
      if (window.screen.height === 812) {
        withoutKeyboard = smallViewport ? 340 : 370;
      }

      // iPhone Xs Max and iPhone X
      if (window.screen.height === 896) {
        withoutKeyboard = smallViewport ? 410 : 440;
      }

      // iPad can use innerHeight cause it renders nothing in the footer
      if (window.innerHeight > 920) {
        withoutKeyboard -= 45;
      }
    } else {
      // landscape
      // iPad, we have a bigger keyboard
      if (window.innerHeight > 665) {
        withoutKeyboard -= 128;
      }
    }

    // iPad portrait also has a bigger keyboard
    return Math.max(withoutKeyboard, min);
  }

  var workaroundActive = false;

  function isWorkaroundActive() {
    return workaroundActive;
  }

  // per http://stackoverflow.com/questions/29001977/safari-in-ios8-is-scrolling-screen-when-fixed-elements-get-focus/29064810
  function positioningWorkaround($fixedElement) {
    var caps = Discourse.__container__.lookup("capabilities:main");

    if (!caps.isIOS || (0, _utilities.safariHacksDisabled)()) {
      return;
    }

    var fixedElement = $fixedElement[0];
    var oldHeight = fixedElement.style.height;

    var originalScrollTop = 0;
    var lastTouchedElement = null;

    positioningWorkaround.blur = function (evt) {
      if (workaroundActive) {
        $("body").removeClass("ios-safari-composer-hacks");

        if (!(0, _utilities.iOSWithVisualViewport)()) {
          fixedElement.style.height = oldHeight;
          (0, _runloop.later)(function () {
            return $(fixedElement).removeClass("no-transition");
          }, 500);
        }

        $(window).scrollTop(originalScrollTop);

        if (evt) {
          evt.target.removeEventListener("blur", blurred);
        }
        workaroundActive = false;
      }
    };

    var blurredNow = function blurredNow(evt) {
      // we cannot use evt.relatedTarget to get the last focused element in safari iOS
      // document.activeElement is also unreliable (iOS does not mark buttons as focused)
      // so instead, we store the last touched element and check against it

      // cancel blur event if user is:
      // - switching to another iOS app
      // - invoking a select-kit dropdown
      // - invoking mentions
      // - invoking emoji dropdown via : and hitting return
      // - invoking a toolbar button

      if (lastTouchedElement && (document.visibilityState === "hidden" || $(lastTouchedElement).hasClass("select-kit-header") || $(lastTouchedElement).closest(".autocomplete").length || lastTouchedElement.nodeName.toLowerCase() === "textarea" && document.activeElement === lastTouchedElement || ["span", "svg", "button"].includes(lastTouchedElement.nodeName.toLowerCase()))) {
        return;
      }

      positioningWorkaround.blur(evt);
    };

    var blurred = (0, _debounce.default)(blurredNow, 250);

    var positioningHack = function positioningHack(evt) {
      // we need this, otherwise changing focus means we never clear
      this.addEventListener("blur", blurred);

      // resets focus out of select-kit elements
      // might become redundant after select-kit refactoring
      $fixedElement.find(".select-kit.is-expanded > button").trigger("click");
      $fixedElement.find(".select-kit > button.is-focused").removeClass("is-focused");

      if ($(window).scrollTop() > 0) {
        originalScrollTop = $(window).scrollTop();
      }

      setTimeout(function () {
        if ((0, _utilities.iOSWithVisualViewport)()) {
          // disable hacks when using a hardware keyboard
          // by default, a hardware keyboard will show the keyboard accessory bar
          // whose height is currently 55px (using 75 for a bit of a buffer)
          var heightDiff = window.innerHeight - window.visualViewport.height;
          if (heightDiff < 75) {
            return;
          }
        }

        if (fixedElement.style.top === "0px") {
          if (this !== document.activeElement) {
            evt.preventDefault();

            // this tricks safari into assuming current input is at top of the viewport
            // via https://stackoverflow.com/questions/38017771/mobile-safari-prevent-scroll-page-when-focus-on-input
            this.style.transform = "translateY(-200px)";
            this.focus();
            var _this = this;
            setTimeout(function () {
              _this.style.transform = "none";
            }, 30);
          }
          return;
        }

        // don't trigger keyboard on disabled element (happens when a category is required)
        if (this.disabled) {
          return;
        }

        $("body").addClass("ios-safari-composer-hacks");
        $(window).scrollTop(0);

        var i = 20;
        var interval = setInterval(function () {
          $(window).scrollTop(0);
          if (i-- === 0) {
            clearInterval(interval);
          }
        }, 10);

        if (!(0, _utilities.iOSWithVisualViewport)()) {
          var height = calcHeight();
          fixedElement.style.height = height + "px";
          $(fixedElement).addClass("no-transition");
        }

        evt.preventDefault();
        this.focus();
        workaroundActive = true;
      }, 350);
    };

    var lastTouched = function lastTouched(evt) {
      if (evt && evt.target) {
        lastTouchedElement = evt.target;
      }
    };

    function attachTouchStart(elem, fn) {
      if (!$(elem).data("listening")) {
        elem.addEventListener("touchstart", fn);
        $(elem).data("listening", true);
      }
    }

    var checkForInputs = (0, _debounce.default)(function () {
      attachTouchStart(fixedElement, lastTouched);

      $fixedElement.find("input[type=text],textarea").each(function () {
        attachTouchStart(this, positioningHack);
      });
    }, 100);

    var config = {
      childList: true,
      subtree: true,
      attributes: false,
      characterData: false
    };
    var observer = new MutationObserver(checkForInputs);
    observer.observe(fixedElement, config);
  }

  exports.default = positioningWorkaround;
});
define("discourse/adapters/email-template", ["exports", "discourse/adapters/rest"], function (exports, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    basePath: function basePath() {
      return "/admin/customize/";
    }
  });
});
define("discourse/adapters/group", ["exports", "discourse/adapters/rest"], function (exports, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    appendQueryParams: function appendQueryParams(path, findArgs) {
      return this._super(path, findArgs, ".json");
    }
  });
});
define("discourse/adapters/notification", ["exports", "discourse/adapters/rest"], function (exports, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({ cache: true });
});
define("discourse/adapters/post-reply-history", ["exports", "discourse/lib/ajax", "discourse/adapters/rest"], function (exports, _ajax, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    find: function find(store, type, findArgs) {
      var maxReplies = Discourse.SiteSettings.max_reply_history;
      return (0, _ajax.ajax)("/posts/" + findArgs.postId + "/reply-history?max_replies=" + maxReplies).then(function (replies) {
        return { post_reply_histories: replies };
      });
    }
  });
});
define("discourse/adapters/post-reply", ["exports", "discourse/lib/ajax", "discourse/adapters/rest"], function (exports, _ajax, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    find: function find(store, type, findArgs) {
      return (0, _ajax.ajax)("/posts/" + findArgs.postId + "/replies").then(function (replies) {
        return { post_replies: replies };
      });
    }
  });
});
define("discourse/adapters/post", ["exports", "discourse/lib/ajax", "discourse/adapters/rest", "@ember/string"], function (exports, _ajax, _rest, _string) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    find: function find(store, type, findArgs) {
      return this._super(store, type, findArgs).then(function (result) {
        return { post: result };
      });
    },
    createRecord: function createRecord(store, type, args) {
      var typeField = (0, _string.underscore)(type);
      args.nested_post = true;
      return (0, _ajax.ajax)(this.pathFor(store, type), { method: "POST", data: args }).then(function (json) {
        return new _rest.Result(json[typeField], json);
      });
    }
  });
});
define("discourse/adapters/rest", ["exports", "@ember/object", "discourse/lib/ajax", "discourse/lib/hash", "@ember/string"], function (exports, _object, _ajax, _hash, _string) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.Result = Result;

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  var ADMIN_MODELS = ["plugin", "theme", "embeddable-host", "web-hook", "web-hook-event", "flagged-topic"];

  function Result(payload, responseJson) {
    this.payload = payload;
    this.responseJson = responseJson;
    this.target = null;
  }

  // We use this to make sure 404s are caught
  function rethrow(error) {
    if (error.status === 404) {
      throw new Error("404: " + error.responseText);
    }
    throw error;
  }

  exports.default = _object.default.extend({
    storageKey: function storageKey(type, findArgs, options) {
      if (options && options.cacheKey) {
        return options.cacheKey;
      }
      var hashedArgs = Math.abs((0, _hash.hashString)(JSON.stringify(findArgs)));
      return type + "_" + hashedArgs;
    },
    basePath: function basePath(store, type) {
      if (ADMIN_MODELS.indexOf(type.replace("_", "-")) !== -1) {
        return "/admin/";
      }
      return "/";
    },
    appendQueryParams: function appendQueryParams(path, findArgs, extension) {
      if (findArgs) {
        if ((typeof findArgs === "undefined" ? "undefined" : _typeof(findArgs)) === "object") {
          var queryString = Object.keys(findArgs).reject(function (k) {
            return !findArgs[k];
          }).map(function (k) {
            return k + "=" + encodeURIComponent(findArgs[k]);
          });

          if (queryString.length) {
            return "" + path + (extension ? extension : "") + "?" + queryString.join("&");
          }
        } else {
          // It's serializable as a string if not an object
          return path + "/" + encodeURIComponent(findArgs) + (extension ? extension : "");
        }
      }
      return path;
    },
    pathFor: function pathFor(store, type, findArgs) {
      var path = this.basePath(store, type, findArgs) + (0, _string.underscore)(store.pluralize(this.apiNameFor(type)));
      return this.appendQueryParams(path, findArgs);
    },
    apiNameFor: function apiNameFor(type) {
      return type;
    },
    findAll: function findAll(store, type, findArgs) {
      return (0, _ajax.ajax)(this.pathFor(store, type, findArgs)).catch(rethrow);
    },
    find: function find(store, type, findArgs) {
      return (0, _ajax.ajax)(this.pathFor(store, type, findArgs)).catch(rethrow);
    },
    findStale: function findStale(store, type, findArgs, options) {
      if (this.cached) {
        return this.cached[this.storageKey(type, findArgs, options)];
      }
    },
    cacheFind: function cacheFind(store, type, findArgs, opts, hydrated) {
      this.cached = this.cached || {};
      this.cached[this.storageKey(type, findArgs, opts)] = hydrated;
    },


    jsonMode: false,

    getPayload: function getPayload(method, data) {
      var payload = { method: method, data: data };

      if (this.jsonMode) {
        payload.contentType = "application/json";
        payload.data = JSON.stringify(data);
      }

      return payload;
    },
    update: function update(store, type, id, attrs) {
      var data = {};
      var typeField = (0, _string.underscore)(this.apiNameFor(type));
      data[typeField] = attrs;

      return (0, _ajax.ajax)(this.pathFor(store, type, id), this.getPayload("PUT", data)).then(function (json) {
        return new Result(json[typeField], json);
      });
    },
    createRecord: function createRecord(store, type, attrs) {
      var data = {};
      var typeField = (0, _string.underscore)(this.apiNameFor(type));
      data[typeField] = attrs;
      return (0, _ajax.ajax)(this.pathFor(store, type), this.getPayload("POST", data)).then(function (json) {
        return new Result(json[typeField], json);
      });
    },
    destroyRecord: function destroyRecord(store, type, record) {
      return (0, _ajax.ajax)(this.pathFor(store, type, record.get("id")), {
        method: "DELETE"
      });
    }
  });
});
define("discourse/adapters/reviewable-explanation", ["exports", "discourse/adapters/rest"], function (exports, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    jsonMode: true,

    pathFor: function pathFor(store, type, id) {
      return "/review/" + id + "/explain.json";
    }
  });
});
define("discourse/adapters/reviewable-settings", ["exports", "discourse/adapters/rest"], function (exports, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    pathFor: function pathFor() {
      return "/review/settings";
    }
  });
});
define("discourse/adapters/reviewable-topic", ["exports", "discourse/adapters/rest"], function (exports, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    pathFor: function pathFor() {
      return "/review/topics";
    }
  });
});
define("discourse/adapters/reviewable", ["exports", "discourse/adapters/rest"], function (exports, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    jsonMode: true,

    pathFor: function pathFor(store, type, findArgs) {
      return this.appendQueryParams("/review", findArgs);
    }
  });
});
define("discourse/adapters/tag-info", ["exports", "discourse/adapters/rest"], function (exports, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    pathFor: function pathFor(store, type, id) {
      return "/tag/" + id + "/info";
    }
  });
});
define("discourse/adapters/tag-notification", ["exports", "discourse/adapters/rest"], function (exports, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    pathFor: function pathFor(store, type, id) {
      return "/tag/" + id + "/notifications";
    }
  });
});
define("discourse/adapters/topic-list", ["exports", "discourse/lib/ajax", "discourse/adapters/rest", "preload-store"], function (exports, _ajax, _rest, _preloadStore) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.finderFor = finderFor;
  function finderFor(filter, params) {
    return function () {
      var url = Discourse.getURL("/") + filter + ".json";

      if (params) {
        var keys = Object.keys(params),
            encoded = [];

        keys.forEach(function (p) {
          var value = encodeURI(params[p]);
          if (typeof value !== "undefined") {
            encoded.push(p + "=" + value);
          }
        });

        if (encoded.length > 0) {
          url += "?" + encoded.join("&");
        }
      }
      return (0, _ajax.ajax)(url);
    };
  }

  exports.default = _rest.default.extend({
    find: function find(store, type, findArgs) {
      var filter = findArgs.filter;
      var params = findArgs.params;

      return _preloadStore.default.getAndRemove("topic_list_" + filter, finderFor(filter, params)).then(function (result) {
        result.filter = filter;
        result.params = params;
        return result;
      });
    }
  });
});
define("discourse/adapters/topic", ["exports", "discourse/lib/ajax", "discourse/adapters/rest"], function (exports, _ajax, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    find: function find(store, type, findArgs) {
      if (findArgs.similar) {
        return (0, _ajax.ajax)("/topics/similar_to", { data: findArgs.similar });
      } else {
        return this._super(store, type, findArgs);
      }
    }
  });
});
define("discourse/models/post-action-type", ["exports", "@ember/object/computed", "discourse/models/rest"], function (exports, _computed, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.MAX_MESSAGE_LENGTH = undefined;
  var MAX_MESSAGE_LENGTH = exports.MAX_MESSAGE_LENGTH = 500;

  exports.default = _rest.default.extend({
    notCustomFlag: (0, _computed.not)("is_custom_flag")
  });
});
define("discourse/models/post", ["exports", "discourse-common/utils/decorators", "@ember/object", "@ember/utils", "@ember/object/computed", "discourse/lib/ajax", "discourse/models/rest", "discourse/lib/ajax-error", "discourse/models/action-summary", "discourse/lib/computed", "discourse/lib/quote", "discourse/lib/utilities", "discourse/lib/text", "discourse/lib/url", "discourse/models/composer", "rsvp", "discourse/models/site", "discourse/models/user", "discourse/lib/show-modal"], function (exports, _decorators, _object, _utils, _computed, _ajax, _rest, _ajaxError, _actionSummary, _computed2, _quote, _utilities, _text, _url, _composer, _rsvp, _site, _user, _showModal) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _desc, _value, _obj, _init;

  var Post = _rest.default.extend((_dec = (0, _decorators.default)("url"), _dec2 = (0, _decorators.default)("name", "username"), _dec3 = (0, _decorators.default)("firstPost", "deleted_by", "topic.deleted_by"), _dec4 = (0, _decorators.default)("firstPost", "deleted_at", "topic.deleted_at"), _dec5 = (0, _decorators.default)("post_number", "topic_id", "topic.slug"), _dec6 = (0, _decorators.default)("post_number", "url"), _dec7 = (0, _decorators.default)("username"), _dec8 = (0, _decorators.default)("link_counts.@each.internal"), _dec9 = (0, _decorators.default)("actions_summary.@each.can_act"), (_obj = {
    // TODO: Remove this once one instantiate all `Discourse.Post` models via the store.
    siteSettings: (0, _object.computed)({
      get: function get() {
        return Discourse.SiteSettings;
      },
      set: function set() {
        return Discourse.SiteSettings;
      }
    }),

    shareUrl: function shareUrl(url) {
      var user = _user.default.current();
      var userSuffix = user ? "?u=" + user.username_lower : "";

      if (this.firstPost) {
        return this.get("topic.url") + userSuffix;
      } else {
        return url + userSuffix;
      }
    },


    new_user: (0, _computed.equal)("trust_level", 0),
    firstPost: (0, _computed.equal)("post_number", 1),

    // Posts can show up as deleted if the topic is deleted
    deletedViaTopic: (0, _computed.and)("firstPost", "topic.deleted_at"),
    deleted: (0, _computed.or)("deleted_at", "deletedViaTopic"),
    notDeleted: (0, _computed.not)("deleted"),

    showName: function showName(name, username) {
      return name && name !== username && Discourse.SiteSettings.display_name_on_posts;
    },
    postDeletedBy: function postDeletedBy(firstPost, deletedBy, topicDeletedBy) {
      return firstPost ? topicDeletedBy : deletedBy;
    },
    postDeletedAt: function postDeletedAt(firstPost, deletedAt, topicDeletedAt) {
      return firstPost ? topicDeletedAt : deletedAt;
    },
    url: function url(post_number, topic_id, topicSlug) {
      return (0, _utilities.postUrl)(topicSlug || this.topic_slug, topic_id || this.get("topic.id"), post_number);
    },
    urlWithNumber: function urlWithNumber(postNumber, baseUrl) {
      return postNumber === 1 ? baseUrl + "/1" : baseUrl;
    },

    usernameUrl: _url.userPath,

    topicOwner: (0, _computed2.propertyEqual)("topic.details.created_by.id", "user_id"),

    updatePostField: function updatePostField(field, value) {
      var _this = this;

      var data = {};
      data[field] = value;

      return (0, _ajax.ajax)("/posts/" + this.id + "/" + field, { type: "PUT", data: data }).then(function () {
        return _this.set(field, value);
      }).catch(_ajaxError.popupAjaxError);
    },
    internalLinks: function internalLinks() {
      if ((0, _utils.isEmpty)(this.link_counts)) return null;

      return this.link_counts.filterBy("internal").filterBy("title");
    },
    flagsAvailable: function flagsAvailable() {
      var _this2 = this;

      // TODO: Investigate why `this.site` is sometimes null when running
      // Search - Search with context
      if (!this.site) {
        return [];
      }

      return this.site.flagTypes.filter(function (item) {
        return _this2.get("actionByName." + item.name_key + ".can_act");
      });
    },
    afterUpdate: function afterUpdate(res) {
      if (res.category) {
        this.site.updateCategory(res.category);
      }
    },
    updateProperties: function updateProperties() {
      return {
        post: { raw: this.raw, edit_reason: this.editReason },
        image_sizes: this.imageSizes
      };
    },
    createProperties: function createProperties() {
      // composer only used once, defer the dependency
      var data = this.getProperties(_composer.default.serializedFieldsForCreate());
      data.reply_to_post_number = this.reply_to_post_number;
      data.image_sizes = this.imageSizes;

      var metaData = this.metaData;

      // Put the metaData into the request
      if (metaData) {
        data.meta_data = {};
        Object.keys(metaData).forEach(function (key) {
          return data.meta_data[key] = metaData[key];
        });
      }

      return data;
    },
    expand: function expand() {
      var _this3 = this;

      return (0, _ajax.ajax)("/posts/" + this.id + "/expand-embed").then(function (post) {
        _this3.set("cooked", "<section class=\"expanded-embed\">" + post.cooked + "</section>");
      });
    },
    recover: function recover() {
      var _this4 = this;

      var initProperties = this.getProperties("deleted_at", "deleted_by", "user_deleted", "can_delete");

      this.setProperties({
        deleted_at: null,
        deleted_by: null,
        user_deleted: false,
        can_delete: false
      });

      return (0, _ajax.ajax)("/posts/" + this.id + "/recover", {
        type: "PUT",
        cache: false
      }).then(function (data) {
        _this4.setProperties({
          cooked: data.cooked,
          raw: data.raw,
          user_deleted: false,
          can_delete: true,
          version: data.version
        });
      }).catch(function (error) {
        (0, _ajaxError.popupAjaxError)(error);
        _this4.setProperties(initProperties);
      });
    },
    setDeletedState: function setDeletedState(deletedBy) {
      var _this5 = this;

      var promise = void 0;
      this.set("oldCooked", this.cooked);

      // Moderators can delete posts. Users can only trigger a deleted at message, unless delete_removed_posts_after is 0.
      if (deletedBy.staff || Discourse.SiteSettings.delete_removed_posts_after === 0) {
        this.setProperties({
          deleted_at: new Date(),
          deleted_by: deletedBy,
          can_delete: false,
          can_recover: true
        });
      } else {
        var key = this.post_number === 1 ? "topic.deleted_by_author" : "post.deleted_by_author";
        promise = (0, _text.cookAsync)(I18n.t(key, {
          count: Discourse.SiteSettings.delete_removed_posts_after
        })).then(function (cooked) {
          _this5.setProperties({
            cooked: cooked,
            can_delete: false,
            version: _this5.version + 1,
            can_recover: true,
            can_edit: false,
            user_deleted: true
          });
        });
      }

      return promise || _rsvp.Promise.resolve();
    },
    undoDeleteState: function undoDeleteState() {
      if (this.oldCooked) {
        this.setProperties({
          deleted_at: null,
          deleted_by: null,
          cooked: this.oldCooked,
          version: this.version - 1,
          can_recover: false,
          can_delete: true,
          user_deleted: false
        });
      }
    },
    destroy: function destroy(deletedBy) {
      var _this6 = this;

      return this.setDeletedState(deletedBy).then(function () {
        return (0, _ajax.ajax)("/posts/" + _this6.id, {
          data: { context: window.location.pathname },
          type: "DELETE"
        });
      });
    },
    updateFromPost: function updateFromPost(otherPost) {
      var _this7 = this;

      Object.keys(otherPost).forEach(function (key) {
        var value = otherPost[key],
            oldValue = _this7[key];

        if (!value) {
          value = null;
        }
        if (!oldValue) {
          oldValue = null;
        }

        var skip = false;
        if (typeof value !== "function" && oldValue !== value) {
          // wishing for an identity map
          if (key === "reply_to_user" && value && oldValue) {
            skip = value.username === oldValue.username || (0, _object.get)(value, "username") === (0, _object.get)(oldValue, "username");
          }

          if (!skip) {
            _this7.set(key, value);
          }
        }
      });
    },
    expandHidden: function expandHidden() {
      var _this8 = this;

      return (0, _ajax.ajax)("/posts/" + this.id + "/cooked.json").then(function (result) {
        _this8.setProperties({ cooked: result.cooked, cooked_hidden: false });
      });
    },
    rebake: function rebake() {
      return (0, _ajax.ajax)("/posts/" + this.id + "/rebake", { type: "PUT" });
    },
    unhide: function unhide() {
      return (0, _ajax.ajax)("/posts/" + this.id + "/unhide", { type: "PUT" });
    },
    toggleBookmark: function toggleBookmark() {
      var _this9 = this;

      var bookmarkedTopic = void 0;

      this.toggleProperty("bookmarked");

      if (this.bookmarked && !this.get("topic.bookmarked")) {
        this.set("topic.bookmarked", true);
        bookmarkedTopic = true;
      }

      // need to wait to hear back from server (stuff may not be loaded)

      return Post.updateBookmark(this.id, this.bookmarked).then(function (result) {
        _this9.set("topic.bookmarked", result.topic_bookmarked);
        _this9.appEvents.trigger("page:bookmark-post-toggled", _this9);
      }).catch(function (error) {
        _this9.toggleProperty("bookmarked");
        if (bookmarkedTopic) {
          _this9.set("topic.bookmarked", false);
        }
        throw new Error(error);
      });
    },
    toggleBookmarkWithReminder: function toggleBookmarkWithReminder() {
      var _this10 = this;

      this.toggleProperty("bookmarked_with_reminder");
      if (this.bookmarked_with_reminder) {
        var controller = (0, _showModal.default)("bookmark", {
          model: {
            postId: this.id
          },
          title: "post.bookmarks.create",
          modalClass: "bookmark-with-reminder"
        });
        controller.setProperties({
          onCloseWithoutSaving: function onCloseWithoutSaving() {
            _this10.toggleProperty("bookmarked_with_reminder");
            _this10.appEvents.trigger("post-stream:refresh", { id: _this10.id });
          },
          afterSave: function afterSave(reminderAtISO) {
            _this10.setProperties({
              "topic.bookmarked": true,
              bookmark_reminder_at: reminderAtISO
            });
            _this10.appEvents.trigger("post-stream:refresh", { id: _this10.id });
          }
        });
      } else {
        this.set("bookmark_reminder_at", null);
        return Post.destroyBookmark(this.id).then(function (result) {
          _this10.set("topic.bookmarked", result.topic_bookmarked);
          _this10.appEvents.trigger("page:bookmark-post-toggled", _this10);
        }).catch(function (error) {
          _this10.toggleProperty("bookmarked_with_reminder");
          throw new Error(error);
        });
      }
    },
    updateActionsSummary: function updateActionsSummary(json) {
      if (json && json.id === this.id) {
        json = Post.munge(json);
        this.set("actions_summary", json.actions_summary);
      }
    },
    revertToRevision: function revertToRevision(version) {
      return (0, _ajax.ajax)("/posts/" + this.id + "/revisions/" + version + "/revert", {
        type: "PUT"
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "shareUrl", [_dec], Object.getOwnPropertyDescriptor(_obj, "shareUrl"), _obj), _applyDecoratedDescriptor(_obj, "showName", [_dec2], Object.getOwnPropertyDescriptor(_obj, "showName"), _obj), _applyDecoratedDescriptor(_obj, "postDeletedBy", [_dec3], Object.getOwnPropertyDescriptor(_obj, "postDeletedBy"), _obj), _applyDecoratedDescriptor(_obj, "postDeletedAt", [_dec4], Object.getOwnPropertyDescriptor(_obj, "postDeletedAt"), _obj), _applyDecoratedDescriptor(_obj, "url", [_dec5], Object.getOwnPropertyDescriptor(_obj, "url"), _obj), _applyDecoratedDescriptor(_obj, "urlWithNumber", [_dec6], Object.getOwnPropertyDescriptor(_obj, "urlWithNumber"), _obj), _applyDecoratedDescriptor(_obj, "usernameUrl", [_dec7], (_init = Object.getOwnPropertyDescriptor(_obj, "usernameUrl"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "internalLinks", [_dec8], Object.getOwnPropertyDescriptor(_obj, "internalLinks"), _obj), _applyDecoratedDescriptor(_obj, "flagsAvailable", [_dec9], Object.getOwnPropertyDescriptor(_obj, "flagsAvailable"), _obj)), _obj)));

  Post.reopenClass({
    munge: function munge(json) {
      if (json.actions_summary) {
        var lookup = _object.default.create();

        // this area should be optimized, it is creating way too many objects per post
        json.actions_summary = json.actions_summary.map(function (a) {
          a.actionType = _site.default.current().postActionTypeById(a.id);
          a.count = a.count || 0;
          var actionSummary = _actionSummary.default.create(a);
          lookup[a.actionType.name_key] = actionSummary;

          if (a.actionType.name_key === "like") {
            json.likeAction = actionSummary;
          }
          return actionSummary;
        });

        json.actionByName = lookup;
      }

      if (json && json.reply_to_user) {
        json.reply_to_user = _user.default.create(json.reply_to_user);
      }

      return json;
    },
    updateBookmark: function updateBookmark(postId, bookmarked) {
      return (0, _ajax.ajax)("/posts/" + postId + "/bookmark", {
        type: "PUT",
        data: { bookmarked: bookmarked }
      });
    },
    destroyBookmark: function destroyBookmark(postId) {
      return (0, _ajax.ajax)("/posts/" + postId + "/bookmark", {
        type: "DELETE"
      });
    },
    deleteMany: function deleteMany(post_ids) {
      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
          _ref$agreeWithFirstRe = _ref.agreeWithFirstReplyFlag,
          agreeWithFirstReplyFlag = _ref$agreeWithFirstRe === undefined ? true : _ref$agreeWithFirstRe;

      return (0, _ajax.ajax)("/posts/destroy_many", {
        type: "DELETE",
        data: { post_ids: post_ids, agree_with_first_reply_flag: agreeWithFirstReplyFlag }
      });
    },
    mergePosts: function mergePosts(post_ids) {
      return (0, _ajax.ajax)("/posts/merge_posts", {
        type: "PUT",
        data: { post_ids: post_ids }
      });
    },
    loadRevision: function loadRevision(postId, version) {
      return (0, _ajax.ajax)("/posts/" + postId + "/revisions/" + version + ".json").then(function (result) {
        return _object.default.create(result);
      });
    },
    hideRevision: function hideRevision(postId, version) {
      return (0, _ajax.ajax)("/posts/" + postId + "/revisions/" + version + "/hide", {
        type: "PUT"
      });
    },
    showRevision: function showRevision(postId, version) {
      return (0, _ajax.ajax)("/posts/" + postId + "/revisions/" + version + "/show", {
        type: "PUT"
      });
    },
    loadQuote: function loadQuote(postId) {
      return (0, _ajax.ajax)("/posts/" + postId + ".json").then(function (result) {
        var post = Post.create(result);
        return _quote.default.build(post, post.raw, { raw: true, full: true });
      });
    },
    loadRawEmail: function loadRawEmail(postId) {
      return (0, _ajax.ajax)("/posts/" + postId + "/raw-email.json");
    }
  });

  exports.default = Post;
});
define("discourse/lib/posts-with-placeholders", ["exports", "@ember/object", "discourse-common/utils/decorators"], function (exports, _object, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.Placeholder = Placeholder;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  function Placeholder(viewName) {
    this.viewName = viewName;
  }

  exports.default = _object.default.extend(Ember.Array, (_obj = {
    posts: null,
    _appendingIds: null,

    init: function init() {
      this._appendingIds = {};
    },
    length: function length() {
      return this.get("posts.length") + Object.keys(this._appendingIds || {}).length;
    },
    nextObject: function nextObject(index) {
      return this.objectAt(index);
    },
    _changeArray: function _changeArray(cb, offset, removed, inserted) {
      this.arrayContentWillChange(offset, removed, inserted);
      cb();
      this.arrayContentDidChange(offset, removed, inserted);
      this.notifyPropertyChange("length");
    },
    clear: function clear(cb) {
      this._changeArray(cb, 0, this.get("posts.length"), 0);
    },
    appendPost: function appendPost(cb) {
      this._changeArray(cb, this.get("posts.length"), 0, 1);
    },
    removePost: function removePost(cb) {
      this._changeArray(cb, this.get("posts.length") - 1, 1, 0);
    },
    refreshAll: function refreshAll(cb) {
      var length = this.get("posts.length");
      this._changeArray(cb, 0, length, length);
    },
    appending: function appending(postIds) {
      var _this = this;

      this._changeArray(function () {
        var appendingIds = _this._appendingIds;
        postIds.forEach(function (pid) {
          return appendingIds[pid] = true;
        });
      }, this.length, 0, postIds.length);
    },
    finishedAppending: function finishedAppending(postIds) {
      var _this2 = this;

      this._changeArray(function () {
        var appendingIds = _this2._appendingIds;
        postIds.forEach(function (pid) {
          return delete appendingIds[pid];
        });
      }, this.get("posts.length") - postIds.length, postIds.length, postIds.length);
    },
    finishedPrepending: function finishedPrepending(postIds) {
      this._changeArray(function () {}, 0, 0, postIds.length);
    },
    objectAt: function objectAt(index) {
      var posts = this.posts;
      return index < posts.length ? posts[index] : new Placeholder("post-placeholder");
    }
  }, (_applyDecoratedDescriptor(_obj, "length", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "length"), _obj)), _obj));
});
define("discourse/models/post-stream", ["exports", "@ember/object", "@ember/utils", "@ember/object/computed", "discourse/lib/ajax", "discourse/lib/url", "discourse/models/rest", "discourse/lib/posts-with-placeholders", "discourse-common/utils/decorators", "discourse/models/topic", "rsvp", "discourse/models/user"], function (exports, _object, _utils, _computed, _ajax, _url, _rest, _postsWithPlaceholders, _decorators, _topic, _rsvp, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _desc, _value, _obj;

  exports.default = _rest.default.extend((_dec = (0, _decorators.default)("isMegaTopic", "stream.length", "topic.highest_post_number"), _dec2 = (0, _decorators.default)("posts.[]"), _dec3 = (0, _decorators.default)("hasPosts", "filteredPostsCount"), _dec4 = (0, _decorators.default)("hasLoadedData", "firstPostId", "posts.[]"), _dec5 = (0, _decorators.default)("isMegaTopic", "stream.firstObject", "firstId"), _dec6 = (0, _decorators.default)("isMegaTopic", "stream.lastObject", "lastId"), _dec7 = (0, _decorators.default)("hasLoadedData", "lastPostId", "posts.@each.id"), _dec8 = (0, _decorators.default)("summary", "userFilters.[]"), _dec9 = (0, _decorators.default)("streamFilters.[]", "topic.posts_count", "posts.length"), _dec10 = (0, _decorators.default)("posts.[]", "stream.[]"), _dec11 = (0, _decorators.default)("posts.lastObject", "stream.[]"), (_obj = {
    _identityMap: null,
    posts: null,
    stream: null,
    userFilters: null,
    summary: null,
    loaded: null,
    loadingAbove: null,
    loadingBelow: null,
    loadingFilter: null,
    loadingNearPost: null,
    stagingPost: null,
    postsWithPlaceholders: null,
    timelineLookup: null,

    init: function init() {
      this._identityMap = {};
      var posts = [];
      var postsWithPlaceholders = _postsWithPlaceholders.default.create({
        posts: posts,
        store: this.store
      });

      this.setProperties({
        posts: posts,
        postsWithPlaceholders: postsWithPlaceholders,
        stream: [],
        userFilters: [],
        summary: false,
        loaded: false,
        loadingAbove: false,
        loadingBelow: false,
        loadingFilter: false,
        stagingPost: false,
        timelineLookup: []
      });
    },


    loading: (0, _computed.or)("loadingAbove", "loadingBelow", "loadingFilter", "stagingPost"),
    notLoading: (0, _computed.not)("loading"),

    filteredPostsCount: function filteredPostsCount(isMegaTopic, streamLength, topicHighestPostNumber) {
      return isMegaTopic ? topicHighestPostNumber : streamLength;
    },
    hasPosts: function hasPosts() {
      return this.get("posts.length") > 0;
    },
    hasLoadedData: function hasLoadedData(hasPosts, filteredPostsCount) {
      return hasPosts && filteredPostsCount > 0;
    },


    canAppendMore: (0, _computed.and)("notLoading", "hasPosts", "lastPostNotLoaded"),
    canPrependMore: (0, _computed.and)("notLoading", "hasPosts", "firstPostNotLoaded"),

    firstPostPresent: function firstPostPresent(hasLoadedData, firstPostId) {
      if (!hasLoadedData) {
        return false;
      }
      return !!this.posts.findBy("id", firstPostId);
    },


    firstPostNotLoaded: (0, _computed.not)("firstPostPresent"),

    firstId: null,
    lastId: null,

    firstPostId: function firstPostId(isMegaTopic, streamFirstId, firstId) {
      return isMegaTopic ? firstId : streamFirstId;
    },
    lastPostId: function lastPostId(isMegaTopic, streamLastId, lastId) {
      return isMegaTopic ? lastId : streamLastId;
    },
    loadedAllPosts: function loadedAllPosts(hasLoadedData, lastPostId) {
      if (!hasLoadedData) {
        return false;
      }
      if (lastPostId === -1) {
        return true;
      }

      return !!this.posts.findBy("id", lastPostId);
    },


    lastPostNotLoaded: (0, _computed.not)("loadedAllPosts"),

    streamFilters: function streamFilters(summary) {
      var result = {};
      if (summary) {
        result.filter = "summary";
      }

      var userFilters = this.userFilters;
      if (!(0, _utils.isEmpty)(userFilters)) {
        result.username_filters = userFilters.join(",");
      }

      return result;
    },
    hasNoFilters: function hasNoFilters() {
      var streamFilters = this.streamFilters;
      return !(streamFilters && (streamFilters.filter === "summary" || streamFilters.username_filters));
    },
    previousWindow: function previousWindow() {
      // If we can't find the last post loaded, bail
      var firstPost = _.first(this.posts);
      if (!firstPost) {
        return [];
      }

      // Find the index of the last post loaded, if not found, bail
      var stream = this.stream;
      var firstIndex = this.indexOf(firstPost);
      if (firstIndex === -1) {
        return [];
      }

      var startIndex = firstIndex - this.get("topic.chunk_size");
      if (startIndex < 0) {
        startIndex = 0;
      }
      return stream.slice(startIndex, firstIndex);
    },
    nextWindow: function nextWindow(lastLoadedPost) {
      // If we can't find the last post loaded, bail
      if (!lastLoadedPost) {
        return [];
      }

      // Find the index of the last post loaded, if not found, bail
      var stream = this.stream;
      var lastIndex = this.indexOf(lastLoadedPost);
      if (lastIndex === -1) {
        return [];
      }
      if (lastIndex + 1 >= this.highest_post_number) {
        return [];
      }

      // find our window of posts
      return stream.slice(lastIndex + 1, lastIndex + this.get("topic.chunk_size") + 1);
    },
    cancelFilter: function cancelFilter() {
      this.set("summary", false);
      this.userFilters.clear();
    },
    toggleSummary: function toggleSummary() {
      var _this = this;

      this.userFilters.clear();
      this.toggleProperty("summary");
      var opts = {};

      if (!this.summary) {
        opts.filter = "none";
      }

      return this.refresh(opts).then(function () {
        if (_this.summary) {
          _this.jumpToSecondVisible();
        }
      });
    },
    jumpToSecondVisible: function jumpToSecondVisible() {
      var posts = this.posts;
      if (posts.length > 1) {
        var secondPostNum = posts[1].get("post_number");
        _url.default.jumpToPost(secondPostNum);
      }
    },


    // Filter the stream to a particular user.
    toggleParticipant: function toggleParticipant(username) {
      var _this2 = this;

      var userFilters = this.userFilters;
      this.set("summary", false);

      var jump = false;
      if (userFilters.includes(username)) {
        userFilters.removeObject(username);
      } else {
        userFilters.addObject(username);
        jump = true;
      }
      return this.refresh().then(function () {
        if (jump) {
          _this2.jumpToSecondVisible();
        }
      });
    },


    /**
      Loads a new set of posts into the stream. If you provide a `nearPost` option and the post
      is already loaded, it will simply scroll there and load nothing.
    **/
    refresh: function refresh(opts) {
      var _this3 = this;

      opts = opts || {};
      opts.nearPost = parseInt(opts.nearPost, 10);

      if (opts.cancelSummary) {
        this.set("summary", false);
        delete opts.cancelSummary;
      }

      var topic = this.topic;

      // Do we already have the post in our list of posts? Jump there.
      if (opts.forceLoad) {
        this.set("loaded", false);
      } else {
        var postWeWant = this.posts.findBy("post_number", opts.nearPost);
        if (postWeWant) {
          return _rsvp.Promise.resolve();
        }
      }

      // TODO: if we have all the posts in the filter, don't go to the server for them.
      this.set("loadingFilter", true);
      this.set("loadingNearPost", opts.nearPost);

      opts = _.merge(opts, this.streamFilters);

      // Request a topicView
      return (0, _topic.loadTopicView)(topic, opts).then(function (json) {
        _this3.updateFromJson(json.post_stream);
        _this3.setProperties({
          loadingFilter: false,
          timelineLookup: json.timeline_lookup,
          loaded: true
        });
      }).catch(function (result) {
        _this3.errorLoading(result);
        throw new Error(result);
      }).finally(function () {
        _this3.set("loadingNearPost", null);
      });
    },


    // Fill in a gap of posts before a particular post
    fillGapBefore: function fillGapBefore(post, gap) {
      var _this4 = this;

      var postId = post.get("id"),
          stream = this.stream,
          idx = stream.indexOf(postId),
          currentPosts = this.posts;

      if (idx !== -1) {
        // Insert the gap at the appropriate place
        stream.splice.apply(stream, [idx, 0].concat(gap));

        var postIdx = currentPosts.indexOf(post);
        var origIdx = postIdx;
        if (postIdx !== -1) {
          return this.findPostsByIds(gap).then(function (posts) {
            posts.forEach(function (p) {
              var stored = _this4.storePost(p);
              if (!currentPosts.includes(stored)) {
                currentPosts.insertAt(postIdx++, stored);
              }
            });

            delete _this4.get("gaps.before")[postId];
            _this4.stream.arrayContentDidChange();
            _this4.postsWithPlaceholders.arrayContentDidChange(origIdx, 0, posts.length);
            post.set("hasGap", false);
          });
        }
      }
      return _rsvp.Promise.resolve();
    },


    // Fill in a gap of posts after a particular post
    fillGapAfter: function fillGapAfter(post, gap) {
      var _this5 = this;

      var postId = post.get("id"),
          stream = this.stream,
          idx = stream.indexOf(postId);

      if (idx !== -1) {
        stream.pushObjects(gap);
        return this.appendMore().then(function () {
          delete _this5.get("gaps.after")[postId];
          _this5.stream.arrayContentDidChange();
        });
      }
      return _rsvp.Promise.resolve();
    },


    // Appends the next window of posts to the stream. Call it when scrolling downwards.
    appendMore: function appendMore() {
      var _this6 = this;

      // Make sure we can append more posts
      if (!this.canAppendMore) {
        return _rsvp.Promise.resolve();
      }

      var postsWithPlaceholders = this.postsWithPlaceholders;

      if (this.isMegaTopic) {
        this.set("loadingBelow", true);

        var fakePostIds = _.range(-1, -this.get("topic.chunk_size"), -1);
        postsWithPlaceholders.appending(fakePostIds);

        return this.fetchNextWindow(this.get("posts.lastObject.post_number"), true, function (p) {
          _this6.appendPost(p);
        }).finally(function () {
          postsWithPlaceholders.finishedAppending(fakePostIds);
          _this6.set("loadingBelow", false);
        });
      } else {
        var postIds = this.nextWindow;
        if ((0, _utils.isEmpty)(postIds)) return _rsvp.Promise.resolve();
        this.set("loadingBelow", true);
        postsWithPlaceholders.appending(postIds);

        return this.findPostsByIds(postIds).then(function (posts) {
          posts.forEach(function (p) {
            return _this6.appendPost(p);
          });
          return posts;
        }).finally(function () {
          postsWithPlaceholders.finishedAppending(postIds);
          _this6.set("loadingBelow", false);
        });
      }
    },


    // Prepend the previous window of posts to the stream. Call it when scrolling upwards.
    prependMore: function prependMore() {
      var _this7 = this;

      // Make sure we can append more posts
      if (!this.canPrependMore) {
        return _rsvp.Promise.resolve();
      }

      if (this.isMegaTopic) {
        this.set("loadingAbove", true);
        var prependedIds = [];

        return this.fetchNextWindow(this.get("posts.firstObject.post_number"), false, function (p) {
          _this7.prependPost(p);
          prependedIds.push(p.get("id"));
        }).finally(function () {
          var postsWithPlaceholders = _this7.postsWithPlaceholders;
          postsWithPlaceholders.finishedPrepending(prependedIds);
          _this7.set("loadingAbove", false);
        });
      } else {
        var postIds = this.previousWindow;
        if ((0, _utils.isEmpty)(postIds)) return _rsvp.Promise.resolve();
        this.set("loadingAbove", true);

        return this.findPostsByIds(postIds.reverse()).then(function (posts) {
          posts.forEach(function (p) {
            return _this7.prependPost(p);
          });
        }).finally(function () {
          var postsWithPlaceholders = _this7.postsWithPlaceholders;
          postsWithPlaceholders.finishedPrepending(postIds);
          _this7.set("loadingAbove", false);
        });
      }
    },


    /**
      Stage a post for insertion in the stream. It should be rendered right away under the
      assumption that the post will succeed. We can then `commitPost` when it succeeds or
      `undoPost` when it fails.
    **/
    stagePost: function stagePost(post, user) {
      // We can't stage two posts simultaneously
      if (this.stagingPost) {
        return "alreadyStaging";
      }

      this.set("stagingPost", true);

      var topic = this.topic;
      topic.setProperties({
        posts_count: (topic.get("posts_count") || 0) + 1,
        last_posted_at: new Date(),
        "details.last_poster": user,
        highest_post_number: (topic.get("highest_post_number") || 0) + 1
      });

      post.setProperties({
        post_number: topic.get("highest_post_number"),
        topic: topic,
        created_at: new Date(),
        id: -1
      });

      // If we're at the end of the stream, add the post
      if (this.loadedAllPosts) {
        this.appendPost(post);
        this.stream.addObject(post.get("id"));
        return "staged";
      }

      return "offScreen";
    },


    // Commit the post we staged. Call this after a save succeeds.
    commitPost: function commitPost(post) {
      if (this.get("topic.id") === post.get("topic_id")) {
        if (this.loadedAllPosts) {
          this.appendPost(post);
          this.stream.addObject(post.get("id"));
        }
      }

      this.stream.removeObject(-1);
      this._identityMap[-1] = null;
      this.set("stagingPost", false);
    },


    /**
      Undo a post we've staged in the stream. Remove it from being rendered and revert the
      state we changed.
    **/
    undoPost: function undoPost(post) {
      var _this8 = this;

      this.stream.removeObject(-1);
      this.postsWithPlaceholders.removePost(function () {
        return _this8.posts.removeObject(post);
      });
      this._identityMap[-1] = null;

      var topic = this.topic;
      this.set("stagingPost", false);

      topic.setProperties({
        highest_post_number: (topic.get("highest_post_number") || 0) - 1,
        posts_count: (topic.get("posts_count") || 0) - 1
      });

      // TODO unfudge reply count on parent post
    },
    prependPost: function prependPost(post) {
      var stored = this.storePost(post);
      if (stored) {
        var posts = this.posts;
        posts.unshiftObject(stored);
      }

      return post;
    },
    appendPost: function appendPost(post) {
      var stored = this.storePost(post);
      if (stored) {
        var posts = this.posts;

        if (!posts.includes(stored)) {
          if (!this.loadingBelow) {
            this.postsWithPlaceholders.appendPost(function () {
              return posts.pushObject(stored);
            });
          } else {
            posts.pushObject(stored);
          }
        }

        if (stored.get("id") !== -1) {
          this.set("lastAppended", stored);
        }
      }
      return post;
    },
    removePosts: function removePosts(posts) {
      var _this9 = this;

      if ((0, _utils.isEmpty)(posts)) {
        return;
      }

      this.postsWithPlaceholders.refreshAll(function () {
        var allPosts = _this9.posts;
        var postIds = posts.map(function (p) {
          return p.get("id");
        });
        var identityMap = _this9._identityMap;

        _this9.stream.removeObjects(postIds);
        allPosts.removeObjects(posts);
        postIds.forEach(function (id) {
          return delete identityMap[id];
        });
      });
    },


    // Returns a post from the identity map if it's been inserted.
    findLoadedPost: function findLoadedPost(id) {
      return this._identityMap[id];
    },
    loadPostByPostNumber: function loadPostByPostNumber(postNumber) {
      var _this10 = this;

      var url = "/posts/by_number/" + this.get("topic.id") + "/" + postNumber;
      var store = this.store;

      return (0, _ajax.ajax)(url).then(function (post) {
        return _this10.storePost(store.createRecord("post", post));
      });
    },
    loadNearestPostToDate: function loadNearestPostToDate(date) {
      var _this11 = this;

      var url = "/posts/by-date/" + this.get("topic.id") + "/" + date;
      var store = this.store;

      return (0, _ajax.ajax)(url).then(function (post) {
        return _this11.storePost(store.createRecord("post", post));
      });
    },
    loadPost: function loadPost(postId) {
      var _this12 = this;

      var url = "/posts/" + postId;
      var store = this.store;
      var existing = this._identityMap[postId];

      return (0, _ajax.ajax)(url).then(function (p) {
        if (existing) {
          p.cooked = existing.cooked;
        }

        return _this12.storePost(store.createRecord("post", p));
      });
    },


    /**
      Finds and adds a post to the stream by id. Typically this would happen if we receive a message
      from the message bus indicating there's a new post. We'll only insert it if we currently
      have no filters.
    **/
    triggerNewPostInStream: function triggerNewPostInStream(postId) {
      var _this13 = this;

      var resolved = _rsvp.Promise.resolve();

      if (!postId) {
        return resolved;
      }

      // We only trigger if there are no filters active
      if (!this.hasNoFilters) {
        return resolved;
      }

      var loadedAllPosts = this.loadedAllPosts;

      if (this.stream.indexOf(postId) === -1) {
        this.stream.addObject(postId);
        if (loadedAllPosts) {
          this.set("loadingLastPost", true);
          return this.findPostsByIds([postId]).then(function (posts) {
            var ignoredUsers = _user.default.current() && _user.default.current().get("ignored_users");
            posts.forEach(function (p) {
              if (ignoredUsers && ignoredUsers.includes(p.username)) {
                _this13.stream.removeObject(postId);
                return;
              }
              _this13.appendPost(p);
            });
          }).finally(function () {
            _this13.set("loadingLastPost", false);
          });
        }
      }

      return resolved;
    },
    triggerRecoveredPost: function triggerRecoveredPost(postId) {
      var _this14 = this;

      var existing = this._identityMap[postId];

      if (existing) {
        return this.triggerChangedPost(postId, new Date());
      } else {
        // need to insert into stream
        var url = "/posts/" + postId;
        var store = this.store;

        return (0, _ajax.ajax)(url).then(function (p) {
          var post = store.createRecord("post", p);
          var stream = _this14.stream;
          var posts = _this14.posts;
          _this14.storePost(post);

          // we need to zip this into the stream
          var index = 0;
          stream.forEach(function (pid) {
            if (pid < p.id) {
              index += 1;
            }
          });

          stream.insertAt(index, p.id);

          index = 0;
          posts.forEach(function (_post) {
            if (_post.id < p.id) {
              index += 1;
            }
          });

          if (index < posts.length) {
            _this14.postsWithPlaceholders.refreshAll(function () {
              posts.insertAt(index, post);
            });
          } else {
            if (post.post_number < posts[posts.length - 1].post_number + 5) {
              _this14.appendMore();
            }
          }
        });
      }
    },
    triggerDeletedPost: function triggerDeletedPost(postId) {
      var _this15 = this;

      var existing = this._identityMap[postId];

      if (existing && !existing.deleted_at) {
        var url = "/posts/" + postId;
        var store = this.store;

        return (0, _ajax.ajax)(url).then(function (p) {
          _this15.storePost(store.createRecord("post", p));
        }).catch(function () {
          _this15.removePosts([existing]);
        });
      }
      return _rsvp.Promise.resolve();
    },
    triggerChangedPost: function triggerChangedPost(postId, updatedAt, opts) {
      var _this16 = this;

      opts = opts || {};

      var resolved = _rsvp.Promise.resolve();
      if (!postId) {
        return resolved;
      }

      var existing = this._identityMap[postId];
      if (existing && existing.updated_at !== updatedAt) {
        var url = "/posts/" + postId;
        var store = this.store;
        return (0, _ajax.ajax)(url).then(function (p) {
          if (opts.preserveCooked) {
            p.cooked = existing.get("cooked");
          }

          _this16.storePost(store.createRecord("post", p));
        });
      }
      return resolved;
    },
    triggerReadPost: function triggerReadPost(postId, readersCount) {
      var _this17 = this;

      var resolved = _rsvp.Promise.resolve();
      resolved.then(function () {
        var post = _this17.findLoadedPost(postId);
        if (post && readersCount > post.readers_count) {
          post.set("readers_count", readersCount);
          _this17.storePost(post);
        }
      });

      return resolved;
    },
    postForPostNumber: function postForPostNumber(postNumber) {
      if (!this.hasPosts) {
        return;
      }

      return this.posts.find(function (p) {
        return p.get("post_number") === postNumber;
      });
    },


    /**
      Returns the closest post given a postNumber that may not exist in the stream.
      For example, if the user asks for a post that's deleted or otherwise outside the range.
      This allows us to set the progress bar with the correct number.
    **/
    closestPostForPostNumber: function closestPostForPostNumber(postNumber) {
      if (!this.hasPosts) {
        return;
      }

      var closest = null;
      this.posts.forEach(function (p) {
        if (!closest) {
          closest = p;
          return;
        }

        if (Math.abs(postNumber - p.get("post_number")) < Math.abs(closest.get("post_number") - postNumber)) {
          closest = p;
        }
      });

      return closest;
    },


    // Get the index of a post in the stream. (Use this for the topic progress bar.)
    progressIndexOfPost: function progressIndexOfPost(post) {
      return this.progressIndexOfPostId(post);
    },


    // Get the index in the stream of a post id. (Use this for the topic progress bar.)
    progressIndexOfPostId: function progressIndexOfPostId(post) {
      var postId = post.get("id");
      var index = this.stream.indexOf(postId);

      if (this.isMegaTopic) {
        return post.get("post_number");
      } else {
        return index + 1;
      }
    },


    /**
      Returns the closest post number given a postNumber that may not exist in the stream.
      For example, if the user asks for a post that's deleted or otherwise outside the range.
      This allows us to set the progress bar with the correct number.
    **/
    closestPostNumberFor: function closestPostNumberFor(postNumber) {
      if (!this.hasPosts) {
        return;
      }

      var closest = null;
      this.posts.forEach(function (p) {
        if (closest === postNumber) {
          return;
        }
        if (!closest) {
          closest = p.get("post_number");
        }

        if (Math.abs(postNumber - p.get("post_number")) < Math.abs(closest - postNumber)) {
          closest = p.get("post_number");
        }
      });

      return closest;
    },
    closestDaysAgoFor: function closestDaysAgoFor(postNumber) {
      var timelineLookup = this.timelineLookup || [];

      var low = 0;
      var high = timelineLookup.length - 1;

      while (low <= high) {
        var mid = Math.floor(low + (high - low) / 2);
        var midValue = timelineLookup[mid][0];

        if (midValue > postNumber) {
          high = mid - 1;
        } else if (midValue < postNumber) {
          low = mid + 1;
        } else {
          return timelineLookup[mid][1];
        }
      }

      var val = timelineLookup[high] || timelineLookup[low];
      if (val) return val[1];
    },


    // Find a postId for a postNumber, respecting gaps
    findPostIdForPostNumber: function findPostIdForPostNumber(postNumber) {
      var stream = this.stream,
          beforeLookup = this.get("gaps.before"),
          streamLength = stream.length;

      var sum = 1;
      for (var i = 0; i < streamLength; i++) {
        var pid = stream[i];

        // See if there are posts before this post
        if (beforeLookup) {
          var before = beforeLookup[pid];
          if (before) {
            for (var j = 0; j < before.length; j++) {
              if (sum === postNumber) {
                return pid;
              }
              sum++;
            }
          }
        }

        if (sum === postNumber) {
          return pid;
        }
        sum++;
      }
    },
    updateFromJson: function updateFromJson(postStreamData) {
      var _this18 = this;

      var posts = this.posts;

      var postsWithPlaceholders = this.postsWithPlaceholders;
      postsWithPlaceholders.clear(function () {
        return posts.clear();
      });

      this.set("gaps", null);
      if (postStreamData) {
        // Load posts if present
        var store = this.store;
        postStreamData.posts.forEach(function (p) {
          return _this18.appendPost(store.createRecord("post", p));
        });
        delete postStreamData.posts;

        // Update our attributes
        this.setProperties(postStreamData);
      }
    },


    /**
      Stores a post in our identity map, and sets up the references it needs to
      find associated objects like the topic. It might return a different reference
      than you supplied if the post has already been loaded.
    **/
    storePost: function storePost(post) {
      // Calling `get(undefined)` raises an error
      if (!post) {
        return;
      }

      var postId = (0, _object.get)(post, "id");
      if (postId) {
        var existing = this._identityMap[post.get("id")];

        // Update the `highest_post_number` if this post is higher.
        var postNumber = post.get("post_number");
        if (postNumber && postNumber > (this.get("topic.highest_post_number") || 0)) {
          this.set("topic.highest_post_number", postNumber);
          this.set("topic.last_posted_at", post.get("created_at"));
        }

        if (existing) {
          // If the post is in the identity map, update it and return the old reference.
          existing.updateFromPost(post);
          return existing;
        }

        post.set("topic", this.topic);
        this._identityMap[post.get("id")] = post;
      }
      return post;
    },
    fetchNextWindow: function fetchNextWindow(postNumber, asc, callback) {
      var _this19 = this;

      var includeSuggested = !this.get("topic.suggested_topics");

      var url = "/t/" + this.get("topic.id") + "/posts.json";
      var data = {
        post_number: postNumber,
        asc: asc,
        include_suggested: includeSuggested
      };

      data = _.merge(data, this.streamFilters);
      var store = this.store;

      return (0, _ajax.ajax)(url, { data: data }).then(function (result) {
        if (result.suggested_topics) {
          _this19.set("topic.suggested_topics", result.suggested_topics);
        }

        var posts = (0, _object.get)(result, "post_stream.posts");

        if (posts) {
          posts.forEach(function (p) {
            p = _this19.storePost(store.createRecord("post", p));

            if (callback) {
              callback.call(_this19, p);
            }
          });
        }
      });
    },
    findPostsByIds: function findPostsByIds(postIds) {
      var identityMap = this._identityMap;
      var unloaded = postIds.filter(function (p) {
        return !identityMap[p];
      });

      // Load our unloaded posts by id
      return this.loadIntoIdentityMap(unloaded).then(function () {
        return postIds.map(function (p) {
          return identityMap[p];
        }).compact();
      });
    },
    loadIntoIdentityMap: function loadIntoIdentityMap(postIds) {
      var _this20 = this;

      if ((0, _utils.isEmpty)(postIds)) {
        return _rsvp.Promise.resolve([]);
      }

      var includeSuggested = !this.get("topic.suggested_topics");

      var url = "/t/" + this.get("topic.id") + "/posts.json";
      var data = { post_ids: postIds, include_suggested: includeSuggested };
      var store = this.store;

      return (0, _ajax.ajax)(url, { data: data }).then(function (result) {
        if (result.suggested_topics) {
          _this20.set("topic.suggested_topics", result.suggested_topics);
        }

        var posts = (0, _object.get)(result, "post_stream.posts");

        if (posts) {
          posts.forEach(function (p) {
            return _this20.storePost(store.createRecord("post", p));
          });
        }
      });
    },
    backfillExcerpts: function backfillExcerpts(streamPosition) {
      var _this21 = this;

      this._excerpts = this._excerpts || [];
      var stream = this.stream;

      this._excerpts.loadNext = streamPosition;

      if (this._excerpts.loading) {
        return this._excerpts.loading.then(function () {
          if (!_this21._excerpts[stream[streamPosition]]) {
            if (_this21._excerpts.loadNext === streamPosition) {
              return _this21.backfillExcerpts(streamPosition);
            }
          }
        });
      }

      var postIds = stream.slice(Math.max(streamPosition - 20, 0), streamPosition + 20);

      for (var i = postIds.length - 1; i >= 0; i--) {
        if (this._excerpts[postIds[i]]) {
          postIds.splice(i, 1);
        }
      }

      var data = {
        post_ids: postIds
      };

      this._excerpts.loading = (0, _ajax.ajax)("/t/" + this.get("topic.id") + "/excerpts.json", { data: data }).then(function (excerpts) {
        excerpts.forEach(function (obj) {
          _this21._excerpts[obj.post_id] = obj;
        });
      }).finally(function () {
        _this21._excerpts.loading = null;
      });

      return this._excerpts.loading;
    },
    excerpt: function excerpt(streamPosition) {
      var _this22 = this;

      if (this.isMegaTopic) {
        return new _rsvp.Promise(function (resolve) {
          return resolve("");
        });
      }

      var stream = this.stream;

      return new _rsvp.Promise(function (resolve, reject) {
        var excerpt = _this22._excerpts && _this22._excerpts[stream[streamPosition]];

        if (excerpt) {
          resolve(excerpt);
          return;
        }

        _this22.backfillExcerpts(streamPosition).then(function () {
          resolve(_this22._excerpts[stream[streamPosition]]);
        }).catch(function (e) {
          return reject(e);
        });
      });
    },
    indexOf: function indexOf(post) {
      return this.stream.indexOf(post.get("id"));
    },


    // Handles an error loading a topic based on a HTTP status code. Updates
    // the text to the correct values.
    errorLoading: function errorLoading(result) {
      var topic = this.topic;
      this.set("loadingFilter", false);
      topic.set("errorLoading", true);

      var json = result.jqXHR.responseJSON;
      if (json && json.extras && json.extras.html) {
        topic.set("errorHtml", json.extras.html);
      } else {
        topic.set("errorMessage", I18n.t("topic.server_error.description"));
        topic.set("noRetry", result.jqXHR.status === 403);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "filteredPostsCount", [_dec], Object.getOwnPropertyDescriptor(_obj, "filteredPostsCount"), _obj), _applyDecoratedDescriptor(_obj, "hasPosts", [_dec2], Object.getOwnPropertyDescriptor(_obj, "hasPosts"), _obj), _applyDecoratedDescriptor(_obj, "hasLoadedData", [_dec3], Object.getOwnPropertyDescriptor(_obj, "hasLoadedData"), _obj), _applyDecoratedDescriptor(_obj, "firstPostPresent", [_dec4], Object.getOwnPropertyDescriptor(_obj, "firstPostPresent"), _obj), _applyDecoratedDescriptor(_obj, "firstPostId", [_dec5], Object.getOwnPropertyDescriptor(_obj, "firstPostId"), _obj), _applyDecoratedDescriptor(_obj, "lastPostId", [_dec6], Object.getOwnPropertyDescriptor(_obj, "lastPostId"), _obj), _applyDecoratedDescriptor(_obj, "loadedAllPosts", [_dec7], Object.getOwnPropertyDescriptor(_obj, "loadedAllPosts"), _obj), _applyDecoratedDescriptor(_obj, "streamFilters", [_dec8], Object.getOwnPropertyDescriptor(_obj, "streamFilters"), _obj), _applyDecoratedDescriptor(_obj, "hasNoFilters", [_dec9], Object.getOwnPropertyDescriptor(_obj, "hasNoFilters"), _obj), _applyDecoratedDescriptor(_obj, "previousWindow", [_dec10], Object.getOwnPropertyDescriptor(_obj, "previousWindow"), _obj), _applyDecoratedDescriptor(_obj, "nextWindow", [_dec11], Object.getOwnPropertyDescriptor(_obj, "nextWindow"), _obj)), _obj)));
});
define("discourse/models/topic-details", ["exports", "discourse-common/utils/decorators", "@ember/object", "discourse/lib/ajax", "discourse/models/user", "discourse/lib/notification-levels", "discourse/models/rest"], function (exports, _decorators, _object, _ajax, _user, _notificationLevels, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  var TopicDetails = _rest.default.extend((_dec = (0, _decorators.default)("notification_level", "notifications_reason_id"), (_obj = {
    loaded: false,

    updateFromJson: function updateFromJson(details) {
      var topic = this.topic;

      if (details.allowed_users) {
        details.allowed_users = details.allowed_users.map(function (u) {
          return _user.default.create(u);
        });
      }

      if (details.participants) {
        details.participants = details.participants.map(function (p) {
          p.topic = topic;
          return _object.default.create(p);
        });
      }

      this.setProperties(details);
      this.set("loaded", true);
    },
    notificationReasonText: function notificationReasonText(level, reason) {
      if (typeof level !== "number") {
        level = 1;
      }

      var localeString = "topic.notifications.reasons." + level;
      if (typeof reason === "number") {
        var tmp = localeString + "_" + reason;
        // some sane protection for missing translations of edge cases
        if (I18n.lookup(tmp, { locale: "en" })) {
          localeString = tmp;
        }
      }

      if (_user.default.currentProp("mailing_list_mode") && level > _notificationLevels.default.MUTED) {
        return I18n.t("topic.notifications.reasons.mailing_list_mode");
      } else {
        return I18n.t(localeString, {
          username: _user.default.currentProp("username_lower"),
          basePath: Discourse.BaseUri
        });
      }
    },
    updateNotifications: function updateNotifications(v) {
      this.set("notification_level", v);
      this.set("notifications_reason_id", null);
      return (0, _ajax.ajax)("/t/" + this.get("topic.id") + "/notifications", {
        type: "POST",
        data: { notification_level: v }
      });
    },
    removeAllowedGroup: function removeAllowedGroup(group) {
      var groups = this.allowed_groups;
      var name = group.name;

      return (0, _ajax.ajax)("/t/" + this.get("topic.id") + "/remove-allowed-group", {
        type: "PUT",
        data: { name: name }
      }).then(function () {
        groups.removeObject(groups.findBy("name", name));
      });
    },
    removeAllowedUser: function removeAllowedUser(user) {
      var users = this.allowed_users;
      var username = user.get("username");

      return (0, _ajax.ajax)("/t/" + this.get("topic.id") + "/remove-allowed-user", {
        type: "PUT",
        data: { username: username }
      }).then(function () {
        users.removeObject(users.findBy("username", username));
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "notificationReasonText", [_dec], Object.getOwnPropertyDescriptor(_obj, "notificationReasonText"), _obj)), _obj)));

  exports.default = TopicDetails;
});
define("discourse/models/user-action", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "discourse/models/rest", "discourse/models/user-action-group", "discourse/lib/utilities", "discourse/lib/url", "discourse/models/category", "discourse/models/user"], function (exports, _decorators, _computed, _rest, _userActionGroup, _utilities, _url, _category, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _desc, _value, _obj;

  var UserActionTypes = {
    likes_given: 1,
    likes_received: 2,
    bookmarks: 3,
    topics: 4,
    posts: 5,
    replies: 6,
    mentions: 7,
    quotes: 9,
    edits: 11,
    messages_sent: 12,
    messages_received: 13,
    pending: 14
  };
  var InvertedActionTypes = {};

  Object.keys(UserActionTypes).forEach(function (k) {
    return InvertedActionTypes[k] = UserActionTypes[k];
  });

  var UserAction = _rest.default.extend((_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.default)("action_type"), _dec3 = (0, _decorators.default)("username"), _dec4 = (0, _decorators.default)("target_username"), _dec5 = (0, _decorators.default)("target_username"), _dec6 = (0, _decorators.default)("username"), _dec7 = (0, _decorators.default)("usernameLower"), _dec8 = (0, _decorators.default)(), _dec9 = (0, _decorators.default)(), _dec10 = (0, _decorators.default)("childGroups", "childGroups.likes.items", "childGroups.likes.items.[]", "childGroups.stars.items", "childGroups.stars.items.[]", "childGroups.edits.items", "childGroups.edits.items.[]", "childGroups.bookmarks.items", "childGroups.bookmarks.items.[]"), (_obj = {
    _attachCategory: function _attachCategory() {
      var categoryId = this.category_id;
      if (categoryId) {
        this.set("category", _category.default.findById(categoryId));
      }
    },
    descriptionKey: function descriptionKey(action) {
      if (action === null || UserAction.TO_SHOW.indexOf(action) >= 0) {
        if (this.isPM) {
          return this.sameUser ? "sent_by_you" : "sent_by_user";
        } else {
          return this.sameUser ? "posted_by_you" : "posted_by_user";
        }
      }

      if (this.topicType) {
        return this.sameUser ? "you_posted_topic" : "user_posted_topic";
      }

      if (this.postReplyType) {
        if (this.reply_to_post_number) {
          return this.sameUser ? "you_replied_to_post" : "user_replied_to_post";
        } else {
          return this.sameUser ? "you_replied_to_topic" : "user_replied_to_topic";
        }
      }

      if (this.mentionType) {
        if (this.sameUser) {
          return "you_mentioned_user";
        } else {
          return this.targetUser ? "user_mentioned_you" : "user_mentioned_user";
        }
      }
    },
    sameUser: function sameUser(username) {
      return username === _user.default.currentProp("username");
    },
    targetUser: function targetUser(targetUsername) {
      return targetUsername === _user.default.currentProp("username");
    },


    presentName: (0, _computed.or)("name", "username"),
    targetDisplayName: (0, _computed.or)("target_name", "target_username"),
    actingDisplayName: (0, _computed.or)("acting_name", "acting_username"),

    targetUserUrl: function targetUserUrl(username) {
      return (0, _url.userPath)(username);
    },
    usernameLower: function usernameLower(username) {
      return username.toLowerCase();
    },
    userUrl: function userUrl(usernameLower) {
      return (0, _url.userPath)(usernameLower);
    },
    postUrl: function postUrl() {
      return (0, _utilities.postUrl)(this.slug, this.topic_id, this.post_number);
    },
    replyUrl: function replyUrl() {
      return (0, _utilities.postUrl)(this.slug, this.topic_id, this.reply_to_post_number);
    },


    replyType: (0, _computed.equal)("action_type", UserActionTypes.replies),
    postType: (0, _computed.equal)("action_type", UserActionTypes.posts),
    topicType: (0, _computed.equal)("action_type", UserActionTypes.topics),
    bookmarkType: (0, _computed.equal)("action_type", UserActionTypes.bookmarks),
    messageSentType: (0, _computed.equal)("action_type", UserActionTypes.messages_sent),
    messageReceivedType: (0, _computed.equal)("action_type", UserActionTypes.messages_received),
    mentionType: (0, _computed.equal)("action_type", UserActionTypes.mentions),
    isPM: (0, _computed.or)("messageSentType", "messageReceivedType"),
    postReplyType: (0, _computed.or)("postType", "replyType"),
    removableBookmark: (0, _computed.and)("bookmarkType", "sameUser"),

    addChild: function addChild(action) {
      var groups = this.childGroups;
      if (!groups) {
        groups = {
          likes: _userActionGroup.default.create({ icon: "heart" }),
          stars: _userActionGroup.default.create({ icon: "star" }),
          edits: _userActionGroup.default.create({ icon: "pencil-alt" }),
          bookmarks: _userActionGroup.default.create({ icon: "bookmark" })
        };
      }
      this.set("childGroups", groups);

      var bucket = function () {
        switch (action.action_type) {
          case UserActionTypes.likes_given:
          case UserActionTypes.likes_received:
            return "likes";
          case UserActionTypes.edits:
            return "edits";
          case UserActionTypes.bookmarks:
            return "bookmarks";
        }
      }();
      var current = groups[bucket];
      if (current) {
        current.push(action);
      }
    },
    children: function children() {
      var g = this.childGroups;
      var rval = [];
      if (g) {
        rval = [g.likes, g.stars, g.edits, g.bookmarks].filter(function (i) {
          return i.get("items") && i.get("items").length > 0;
        });
      }
      return rval;
    },
    switchToActing: function switchToActing() {
      this.setProperties({
        username: this.acting_username,
        name: this.actingDisplayName
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "_attachCategory", [_dec], Object.getOwnPropertyDescriptor(_obj, "_attachCategory"), _obj), _applyDecoratedDescriptor(_obj, "descriptionKey", [_dec2], Object.getOwnPropertyDescriptor(_obj, "descriptionKey"), _obj), _applyDecoratedDescriptor(_obj, "sameUser", [_dec3], Object.getOwnPropertyDescriptor(_obj, "sameUser"), _obj), _applyDecoratedDescriptor(_obj, "targetUser", [_dec4], Object.getOwnPropertyDescriptor(_obj, "targetUser"), _obj), _applyDecoratedDescriptor(_obj, "targetUserUrl", [_dec5], Object.getOwnPropertyDescriptor(_obj, "targetUserUrl"), _obj), _applyDecoratedDescriptor(_obj, "usernameLower", [_dec6], Object.getOwnPropertyDescriptor(_obj, "usernameLower"), _obj), _applyDecoratedDescriptor(_obj, "userUrl", [_dec7], Object.getOwnPropertyDescriptor(_obj, "userUrl"), _obj), _applyDecoratedDescriptor(_obj, "postUrl", [_dec8], Object.getOwnPropertyDescriptor(_obj, "postUrl"), _obj), _applyDecoratedDescriptor(_obj, "replyUrl", [_dec9], Object.getOwnPropertyDescriptor(_obj, "replyUrl"), _obj), _applyDecoratedDescriptor(_obj, "children", [_dec10], Object.getOwnPropertyDescriptor(_obj, "children"), _obj)), _obj)));

  UserAction.reopenClass({
    collapseStream: function collapseStream(stream) {
      var uniq = {};
      var collapsed = [];
      var pos = 0;

      stream.forEach(function (item) {
        var key = "" + item.topic_id + "-" + item.post_number;
        var found = uniq[key];
        if (found === void 0) {
          var current = void 0;
          if (UserAction.TO_COLLAPSE.indexOf(item.action_type) >= 0) {
            current = UserAction.create(item);
            item.switchToActing();
            current.addChild(item);
          } else {
            current = item;
          }
          uniq[key] = pos;
          collapsed[pos] = current;
          pos += 1;
        } else {
          if (UserAction.TO_COLLAPSE.indexOf(item.action_type) >= 0) {
            item.switchToActing();
            collapsed[found].addChild(item);
          } else {
            collapsed[found].setProperties(item.getProperties("action_type", "description"));
          }
        }
      });
      return collapsed;
    },


    TYPES: UserActionTypes,
    TYPES_INVERTED: InvertedActionTypes,

    TO_COLLAPSE: [UserActionTypes.likes_given, UserActionTypes.likes_received, UserActionTypes.edits, UserActionTypes.bookmarks],

    TO_SHOW: [UserActionTypes.likes_given, UserActionTypes.likes_received, UserActionTypes.edits, UserActionTypes.bookmarks, UserActionTypes.messages_sent, UserActionTypes.messages_received]
  });

  exports.default = UserAction;
});
define("discourse/models/user-badge", ["exports", "discourse-common/utils/decorators", "discourse/lib/ajax", "discourse/models/badge", "rsvp", "discourse/models/topic", "@ember/object", "discourse/models/user"], function (exports, _decorators, _ajax, _badge, _rsvp, _topic, _object, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj, _init;

  var UserBadge = _object.default.extend((_obj = {
    postUrl: function postUrl() {
      if (this.topic_title) {
        return "/t/-/" + this.topic_id + "/" + this.post_number;
      }
    }, revoke: function revoke() {
      return (0, _ajax.ajax)("/user_badges/" + this.id, {
        type: "DELETE"
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "postUrl", [_decorators.default], (_init = Object.getOwnPropertyDescriptor(_obj, "postUrl"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj));

  UserBadge.reopenClass({
    createFromJson: function createFromJson(json) {
      // Create User objects.
      if (json.users === undefined) {
        json.users = [];
      }
      var users = {};
      json.users.forEach(function (userJson) {
        users[userJson.id] = _user.default.create(userJson);
      });

      // Create Topic objects.
      if (json.topics === undefined) {
        json.topics = [];
      }
      var topics = {};
      json.topics.forEach(function (topicJson) {
        topics[topicJson.id] = _topic.default.create(topicJson);
      });

      // Create the badges.
      if (json.badges === undefined) {
        json.badges = [];
      }
      var badges = {};
      _badge.default.createFromJson(json).forEach(function (badge) {
        badges[badge.get("id")] = badge;
      });

      // Create UserBadge object(s).
      var userBadges = [];
      if ("user_badge" in json) {
        userBadges = [json.user_badge];
      } else {
        userBadges = json.user_badge_info && json.user_badge_info.user_badges || json.user_badges;
      }

      userBadges = userBadges.map(function (userBadgeJson) {
        var userBadge = UserBadge.create(userBadgeJson);

        var grantedAtDate = Date.parse(userBadge.get("granted_at"));
        userBadge.set("grantedAt", grantedAtDate);

        userBadge.set("badge", badges[userBadge.get("badge_id")]);
        if (userBadge.get("user_id")) {
          userBadge.set("user", users[userBadge.get("user_id")]);
        }
        if (userBadge.get("granted_by_id")) {
          userBadge.set("granted_by", users[userBadge.get("granted_by_id")]);
        }
        if (userBadge.get("topic_id")) {
          userBadge.set("topic", topics[userBadge.get("topic_id")]);
        }
        return userBadge;
      });

      if ("user_badge" in json) {
        return userBadges[0];
      } else {
        if (json.user_badge_info) {
          userBadges.grant_count = json.user_badge_info.grant_count;
          userBadges.username = json.user_badge_info.username;
        }
        return userBadges;
      }
    },

    /**
      Find all badges for a given username.
       @method findByUsername
      @param {String} username
      @param {Object} options
      @returns {Promise} a promise that resolves to an array of `UserBadge`.
    **/
    findByUsername: function findByUsername(username, options) {
      if (!username) {
        return _rsvp.Promise.resolve([]);
      }
      var url = "/user-badges/" + username + ".json";
      if (options && options.grouped) {
        url += "?grouped=true";
      }
      return (0, _ajax.ajax)(url).then(function (json) {
        return UserBadge.createFromJson(json);
      });
    },

    /**
      Find all badge grants for a given badge ID.
       @method findById
      @param {String} badgeId
      @returns {Promise} a promise that resolves to an array of `UserBadge`.
    **/
    findByBadgeId: function findByBadgeId(badgeId, options) {
      if (!options) {
        options = {};
      }
      options.badge_id = badgeId;

      return (0, _ajax.ajax)("/user_badges.json", {
        data: options
      }).then(function (json) {
        return UserBadge.createFromJson(json);
      });
    },

    /**
      Grant the badge having id `badgeId` to the user identified by `username`.
       @method grant
      @param {Integer} badgeId id of the badge to be granted.
      @param {String} username username of the user to be granted the badge.
      @returns {Promise} a promise that resolves to an instance of `UserBadge`.
    **/
    grant: function grant(badgeId, username, reason) {
      return (0, _ajax.ajax)("/user_badges", {
        type: "POST",
        data: {
          username: username,
          badge_id: badgeId,
          reason: reason
        }
      }).then(function (json) {
        return UserBadge.createFromJson(json);
      });
    }
  });

  exports.default = UserBadge;
});
define("discourse/lib/autosize", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  var set = typeof Set === "function" ? new Set() : function () {
    var list = [];

    return {
      has: function has(key) {
        return Boolean(list.indexOf(key) > -1);
      },
      add: function add(key) {
        list.push(key);
      },
      delete: function _delete(key) {
        list.splice(list.indexOf(key), 1);
      }
    };
  }();

  function assign(ta) {
    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref$setOverflowX = _ref.setOverflowX,
        setOverflowX = _ref$setOverflowX === undefined ? true : _ref$setOverflowX,
        _ref$setOverflowY = _ref.setOverflowY,
        setOverflowY = _ref$setOverflowY === undefined ? true : _ref$setOverflowY;

    if (!ta || !ta.nodeName || ta.nodeName !== "TEXTAREA" || set.has(ta)) return;

    var heightOffset = null;
    var overflowY = null;
    var clientWidth = ta.clientWidth;

    function init() {
      var style = window.getComputedStyle(ta, null);

      overflowY = style.overflowY;

      if (style.resize === "vertical") {
        ta.style.resize = "none";
      } else if (style.resize === "both") {
        ta.style.resize = "horizontal";
      }

      if (style.boxSizing === "content-box") {
        heightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));
      } else {
        heightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);
      }
      // Fix when a textarea is not on document body and heightOffset is Not a Number
      if (isNaN(heightOffset)) {
        heightOffset = 0;
      }

      update();
    }

    function changeOverflow(value) {
      {
        // Chrome/Safari-specific fix:
        // When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space
        // made available by removing the scrollbar. The following forces the necessary text reflow.
        var width = ta.style.width;
        ta.style.width = "0px";
        // Force reflow:
        /* jshint ignore:start */
        ta.offsetWidth;
        /* jshint ignore:end */
        ta.style.width = width;
      }

      overflowY = value;

      if (setOverflowY) {
        ta.style.overflowY = value;
      }

      resize();
    }

    function resize() {
      var htmlTop = window.pageYOffset;
      var bodyTop = document.body.scrollTop;
      var originalHeight = ta.style.height;

      ta.style.height = "auto";

      var endHeight = ta.scrollHeight + heightOffset;

      if (ta.scrollHeight === 0) {
        // If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.
        ta.style.height = originalHeight;
        return;
      }

      ta.style.height = endHeight + "px";

      // used to check if an update is actually necessary on window.resize
      clientWidth = ta.clientWidth;

      // prevents scroll-position jumping
      document.documentElement.scrollTop = htmlTop;
      document.body.scrollTop = bodyTop;
    }

    function update() {
      var startHeight = ta.style.height;

      resize();

      var style = window.getComputedStyle(ta, null);

      if (style.height !== ta.style.height) {
        if (overflowY !== "visible") {
          changeOverflow("visible");
        }
      } else {
        if (overflowY !== "hidden") {
          changeOverflow("hidden");
        }
      }

      if (startHeight !== ta.style.height) {
        var evt = document.createEvent("Event");
        evt.initEvent("autosize:resized", true, false);
        ta.dispatchEvent(evt);
      }
    }

    var pageResize = function pageResize() {
      if (ta.clientWidth !== clientWidth) {
        update();
      }
    };

    var destroy = function destroy(style) {
      window.removeEventListener("resize", pageResize, false);
      ta.removeEventListener("input", update, false);
      ta.removeEventListener("keyup", update, false);
      ta.removeEventListener("autosize:destroy", destroy, false);
      ta.removeEventListener("autosize:update", update, false);
      set.delete(ta);

      Object.keys(style).forEach(function (key) {
        ta.style[key] = style[key];
      });
    };

    ta.addEventListener("autosize:destroy", destroy, false);

    // IE9 does not fire onpropertychange or oninput for deletions,
    // so binding to onkeyup to catch most of those events.
    // There is no way that I know of to detect something like 'cut' in IE9.
    if ("onpropertychange" in ta && "oninput" in ta) {
      ta.addEventListener("keyup", update, false);
    }

    window.addEventListener("resize", pageResize, false);
    ta.addEventListener("input", update, false);
    ta.addEventListener("autosize:update", update, false);
    set.add(ta);

    if (setOverflowX) {
      ta.style.overflowX = "hidden";
      ta.style.wordWrap = "break-word";
    }

    init();
  }

  function exportDestroy(ta) {
    if (!(ta && ta.nodeName && ta.nodeName === "TEXTAREA")) return;
    var evt = document.createEvent("Event");
    evt.initEvent("autosize:destroy", true, false);
    ta.dispatchEvent(evt);
  }

  function exportUpdate(ta) {
    if (!(ta && ta.nodeName && ta.nodeName === "TEXTAREA")) return;
    var evt = document.createEvent("Event");
    evt.initEvent("autosize:update", true, false);
    ta.dispatchEvent(evt);
  }

  var autosize = function autosize(el, options) {
    if (el) {
      Array.prototype.forEach.call(el.length ? el : [el], function (x) {
        return assign(x, options);
      });
    }
    return el;
  };
  autosize.destroy = function (el) {
    if (el) {
      Array.prototype.forEach.call(el.length ? el : [el], exportDestroy);
    }
    return el;
  };
  autosize.update = function (el) {
    if (el) {
      Array.prototype.forEach.call(el.length ? el : [el], exportUpdate);
    }
    return el;
  };

  exports.default = autosize;
});
define("discourse/lib/cached-topic-list", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.findOrResetCachedTopicList = findOrResetCachedTopicList;
  function findOrResetCachedTopicList(session, filter) {
    var lastTopicList = session.get("topicList");
    if (lastTopicList && lastTopicList.filter === filter) {
      return lastTopicList;
    } else {
      session.setProperties({
        topicList: null,
        topicListScrollPosition: null
      });
      return false;
    }
  }
});
define("discourse/lib/category-hashtags", ["exports", "discourse/lib/utilities"], function (exports, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.SEPARATOR = undefined;
  exports.replaceSpan = replaceSpan;
  exports.categoryHashtagTriggerRule = categoryHashtagTriggerRule;
  var SEPARATOR = exports.SEPARATOR = ":";
  function replaceSpan($elem, categorySlug, categoryLink) {
    $elem.replaceWith("<a href=\"" + categoryLink + "\" class=\"hashtag\">#<span>" + categorySlug + "</span></a>");
  }

  function categoryHashtagTriggerRule(textarea, opts) {
    var result = (0, _utilities.caretRowCol)(textarea);
    var row = result.rowNum;
    var col = result.colNum;
    var line = textarea.value.split("\n")[row - 1];

    if (opts && opts.backSpace) {
      col = col - 1;
      line = line.slice(0, line.length - 1);

      // Don't trigger autocomplete when backspacing into a `#category |` => `#category|`
      if (/^#{1}\w+/.test(line)) return false;
    }

    // Don't trigger autocomplete when ATX-style headers are used
    if (col < 6 && line.slice(0, col) === "#".repeat(col)) {
      return false;
    }

    if ((0, _utilities.inCodeBlock)(textarea.value, (0, _utilities.caretPosition)(textarea))) {
      return false;
    }

    return true;
  }
});
define("discourse/lib/category-tag-search", ["exports", "discourse/lib/debounce", "discourse/lib/autocomplete", "discourse/models/category", "discourse/lib/tag-hashtags", "discourse/lib/category-hashtags", "rsvp"], function (exports, _debounce, _autocomplete, _category, _tagHashtags, _categoryHashtags, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.search = search;


  var cache = {};
  var cacheTime;
  var oldSearch;

  function updateCache(term, results) {
    cache[term] = results;
    cacheTime = new Date();
    return results;
  }

  function searchTags(term, categories, limit) {
    return new _rsvp.Promise(function (resolve) {
      var clearPromise = setTimeout(function () {
        resolve(_autocomplete.CANCELLED_STATUS);
      }, 5000);

      var debouncedSearch = (0, _debounce.default)(function (q, cats, resultFunc) {
        oldSearch = $.ajax(Discourse.getURL("/tags/filter/search"), {
          type: "GET",
          cache: true,
          data: { limit: limit, q: q }
        });

        var returnVal = _autocomplete.CANCELLED_STATUS;

        oldSearch.then(function (r) {
          var categoryNames = cats.map(function (c) {
            return c.model.get("name");
          });

          var tags = r.results.map(function (tag) {
            var tagName = tag.text;

            return {
              name: tagName,
              text: categoryNames.includes(tagName) ? "" + tagName + _tagHashtags.TAG_HASHTAG_POSTFIX : tagName,
              count: tag.count
            };
          });

          returnVal = cats.concat(tags);
        }).always(function () {
          oldSearch = null;
          resultFunc(returnVal);
        });
      }, 300);

      debouncedSearch(term, categories, function (result) {
        clearTimeout(clearPromise);
        resolve(updateCache(term, result));
      });
    });
  }

  function search(term, siteSettings) {
    if (oldSearch) {
      oldSearch.abort();
      oldSearch = null;
    }

    if (new Date() - cacheTime > 30000) cache = {};
    var cached = cache[term];
    if (cached) return cached;

    var limit = 5;
    var categories = _category.default.search(term, { limit: limit });
    var numOfCategories = categories.length;

    categories = categories.map(function (category) {
      return { model: category, text: _category.default.slugFor(category, _categoryHashtags.SEPARATOR) };
    });

    if (numOfCategories !== limit && siteSettings.tagging_enabled) {
      return searchTags(term, categories, limit - numOfCategories);
    } else {
      return updateCache(term, categories);
    }
  }
});
define("discourse/lib/clean-dom", ["exports", "@ember/runloop"], function (exports, _runloop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.cleanDOM = cleanDOM;

  function _clean() {
    if (window.MiniProfiler) {
      window.MiniProfiler.pageTransition();
    }

    // Close some elements that may be open
    $("header ul.icons li").removeClass("active");
    $('[data-toggle="dropdown"]').parent().removeClass("open");
    // close the lightbox
    if ($.magnificPopup && $.magnificPopup.instance) {
      $.magnificPopup.instance.close();
      $("body").removeClass("mfp-zoom-out-cur");
    }

    // Remove any link focus
    // NOTE: the '.not("body")' is here to prevent a bug in IE10 on Win7
    // cf. https://stackoverflow.com/questions/5657371
    $(document.activeElement).not("body").not(".no-blur").blur();

    Discourse.set("contextCount", 0);
    Discourse.__container__.lookup("route:application").send("closeModal");
    var hideDropDownFunction = $("html").data("hide-dropdown");
    if (hideDropDownFunction) {
      hideDropDownFunction();
    }

    // TODO: Avoid container lookup here
    var appEvents = Discourse.__container__.lookup("service:app-events");
    appEvents.trigger("dom:clean");
  }

  function cleanDOM() {
    (0, _runloop.scheduleOnce)("afterRender", _clean);
  }
});
define("discourse/lib/click-track", ["exports", "@ember/runloop", "discourse/lib/ajax", "discourse/lib/url", "discourse/lib/intercept-click", "discourse/lib/utilities", "rsvp", "discourse-common/config/environment", "discourse/models/user"], function (exports, _runloop, _ajax, _url, _interceptClick, _utilities, _rsvp, _environment, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.isValidLink = isValidLink;
  function isValidLink($link) {
    // .hashtag == category/tag link
    // .back == quote back ^ button
    if ($link.is(".lightbox, .no-track-link, .hashtag, .back")) {
      return false;
    }

    if ($link.parents("aside.quote, .elided, .expanded-embed").length !== 0) {
      return false;
    }

    return $link.hasClass("track-link") || $link.closest(".hashtag, .badge-category, .onebox-result, .onebox-body").length === 0;
  }

  exports.default = {
    trackClick: function trackClick(e) {
      // right clicks are not tracked
      if (e.which === 3) {
        return true;
      }

      // Cancel click if triggered as part of selection.
      var selection = window.getSelection();
      if (selection.type === "Range" || selection.rangeCount > 0) {
        if ((0, _utilities.selectedText)() !== "") {
          return true;
        }
      }

      var $link = $(e.currentTarget);
      var tracking = isValidLink($link);

      // Return early for mentions and group mentions
      if ($link.is(".mention, .mention-group")) {
        return true;
      }

      var href = ($link.attr("href") || $link.data("href") || "").trim();
      if (!href || href.indexOf("mailto:") === 0) {
        return true;
      }

      if ($link.hasClass("attachment")) {
        // Warn the user if they cannot download the file.
        if (Discourse.SiteSettings.prevent_anons_from_downloading_files && !_user.default.current()) {
          bootbox.alert(I18n.t("post.errors.attachment_download_requires_login"));
        } else if ((0, _interceptClick.wantsNewWindow)(e)) {
          var newWindow = window.open(href, "_blank");
          newWindow.opener = null;
          newWindow.focus();
        } else {
          _url.default.redirectTo(href);
        }
        return false;
      }

      var $article = $link.closest("article:not(.onebox-body), .excerpt, #revisions");
      var postId = $article.data("post-id");
      var topicId = $("#topic").data("topic-id") || $article.data("topic-id");
      var userId = $link.data("user-id") || $article.data("user-id");
      var ownLink = userId && userId === _user.default.currentProp("id");

      // Update badge clicks unless it's our own.
      if (tracking && !ownLink) {
        var $badge = $("span.badge", $link);
        if ($badge.length === 1) {
          var html = $badge.html();
          var key = new Date().toLocaleDateString() + "-" + postId + "-" + href;
          if (/^\d+$/.test(html) && !sessionStorage.getItem(key)) {
            sessionStorage.setItem(key, true);
            $badge.html(parseInt(html, 10) + 1);
          }
        }
      }

      var trackPromise = _rsvp.Promise.resolve();
      if (tracking) {
        if (_environment.default.environment !== "test" && navigator.sendBeacon) {
          var data = new FormData();
          data.append("url", href);
          data.append("post_id", postId);
          data.append("topic_id", topicId);
          navigator.sendBeacon(Discourse.getURL("/clicks/track"), data);
        } else {
          trackPromise = (0, _ajax.ajax)(Discourse.getURL("/clicks/track"), {
            type: "POST",
            data: {
              url: href,
              post_id: postId,
              topic_id: topicId
            }
          });
        }
      }

      var isInternal = _url.default.isInternal(href);
      var openExternalInNewTab = _user.default.currentProp("external_links_in_new_tab");

      if (!(0, _interceptClick.wantsNewWindow)(e)) {
        if (!isInternal && openExternalInNewTab) {
          var _newWindow = window.open(href, "_blank");
          _newWindow.opener = null;
          _newWindow.focus();

          // Hack to prevent changing current window.location.
          // e.preventDefault() does not work.
          if (!$link.data("href")) {
            $link.addClass("no-href");
            $link.data("href", $link.attr("href"));
            $link.attr("href", null);
            $link.data("auto-route", true);

            (0, _runloop.later)(function () {
              $link.removeClass("no-href");
              $link.attr("href", $link.data("href"));
              $link.data("href", null);
              $link.data("auto-route", null);
            }, 50);
          }
        } else {
          trackPromise.finally(function () {
            if (isInternal) {
              _url.default.routeTo(href);
            } else {
              _url.default.redirectTo(href);
            }
          });
        }

        return false;
      }

      return true;
    }
  };
});
define('discourse/lib/concerns/search-constants', ['exports'], function (exports) {
  'use strict';

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  var PHRASE_MATCH_REGEXP_PATTERN = exports.PHRASE_MATCH_REGEXP_PATTERN = '"([^"]+)"';
});
define("discourse/lib/copy-text", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (text, element) {
    var supported = false;
    try {
      // Chrome: This only returns true within a user gesture.
      // Chrome: queryCommandEnabled() only returns true if a selection is
      //   present, so we use queryCommandSupported() instead for the fail-fast.
      if (document.queryCommandSupported("copy")) {
        supported = true;
      }
    } catch (e) {
      // Ignore
    }
    if (!supported) {
      return;
    }

    var newRange = document.createRange();
    newRange.selectNode(element);
    var selection = window.getSelection();
    selection.removeAllRanges();
    selection.addRange(newRange);

    try {
      if (document.execCommand("copy")) {
        return true;
      }
    } catch (e) {
      // Ignore
    }
    return false;
  };
});
define("discourse/lib/d-popover", ["exports", "discourse/lib/text-direction"], function (exports, _textDirection) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.POPOVER_SELECTORS = undefined;
  exports.hidePopover = hidePopover;
  exports.showPopover = showPopover;


  var D_POPOVER_ID = "d-popover";

  var D_POPOVER_TEMPLATE = "\n  <div id=\"" + D_POPOVER_ID + "\" class=\"is-under\">\n    <div class=\"d-popover-arrow d-popover-top-arrow\"></div>\n    <div class=\"d-popover-content\">\n      <div class=\"spinner small\"></div>\n    </div>\n    <div class=\"d-popover-arrow d-popover-bottom-arrow\"></div>\n  </div>\n";

  var D_ARROW_HEIGHT = 10;

  var D_HORIZONTAL_MARGIN = 5;

  var POPOVER_SELECTORS = exports.POPOVER_SELECTORS = "[data-html-popover], [data-html-tooltip], [data-popover], [data-tooltip]";

  function hidePopover() {
    getPopover().fadeOut().remove();

    return getPopover();
  }

  function showPopover(event) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    var $enteredElement = $(event.target).closest(POPOVER_SELECTORS).first();

    if (!$enteredElement.length) {
      $enteredElement = $(event.target);
    }

    if (isRetina()) {
      getPopover().addClass("retina");
    }

    if (!getPopover().length) {
      $("body").append($(D_POPOVER_TEMPLATE));
    }

    setPopoverHtmlContent($enteredElement, options.htmlContent);
    setPopoverTextContent($enteredElement, options.textContent);

    getPopover().fadeIn();

    positionPopover($enteredElement);

    return {
      html: function html(content) {
        return replaceHtmlContent($enteredElement, content);
      },
      text: function text(content) {
        return replaceTextContent($enteredElement, content);
      },
      hide: hidePopover
    };
  }

  function setPopoverHtmlContent($enteredElement, content) {
    content = content || $enteredElement.attr("data-html-popover") || $enteredElement.attr("data-html-tooltip");

    replaceHtmlContent($enteredElement, content);
  }

  function setPopoverTextContent($enteredElement, content) {
    content = content || $enteredElement.attr("data-popover") || $enteredElement.attr("data-tooltip");

    replaceTextContent($enteredElement, content);
  }

  function replaceTextContent($enteredElement, content) {
    if (content) {
      getPopover().find(".d-popover-content").text(content);
      window.requestAnimationFrame(function () {
        return positionPopover($enteredElement);
      });
    }
  }

  function replaceHtmlContent($enteredElement, content) {
    if (content) {
      getPopover().find(".d-popover-content").html(content);
      window.requestAnimationFrame(function () {
        return positionPopover($enteredElement);
      });
    }
  }

  function positionPopover($element) {
    var $popover = getPopover();
    $popover.removeClass("is-above is-under is-left-aligned is-right-aligned");

    var $dHeader = $(".d-header");
    var windowRect = {
      left: 0,
      top: $dHeader.length ? $dHeader[0].getBoundingClientRect().bottom : 0,
      width: $(window).width(),
      height: $(window).height()
    };

    var popoverRect = {
      width: $popover.width(),
      height: $popover.height(),
      left: null,
      right: null
    };

    if (popoverRect.width > windowRect.width - D_HORIZONTAL_MARGIN * 2) {
      popoverRect.width = windowRect.width - D_HORIZONTAL_MARGIN * 2;
      $popover.width(popoverRect.width);
    }

    var targetRect = $element[0].getBoundingClientRect();
    var underSpace = windowRect.height - targetRect.bottom - D_ARROW_HEIGHT;
    var topSpace = targetRect.top - windowRect.top - D_ARROW_HEIGHT;

    if (underSpace > popoverRect.height + D_HORIZONTAL_MARGIN || underSpace > topSpace) {
      $popover.css("top", targetRect.bottom + window.pageYOffset + D_ARROW_HEIGHT).addClass("is-under");
    } else {
      $popover.css("top", targetRect.top + window.pageYOffset - popoverRect.height - D_ARROW_HEIGHT).addClass("is-above");
    }

    var leftSpace = targetRect.left + targetRect.width / 2;

    if ((0, _textDirection.siteDir)() === "ltr") {
      if (leftSpace > popoverRect.width / 2 + D_HORIZONTAL_MARGIN) {
        popoverRect.left = leftSpace - popoverRect.width / 2;
        $popover.css("left", popoverRect.left);
      } else {
        popoverRect.left = D_HORIZONTAL_MARGIN;
        $popover.css("left", popoverRect.left).addClass("is-left-aligned");
      }
    } else {
      var rightSpace = windowRect.width - targetRect.right;

      if (rightSpace > popoverRect.width / 2 + D_HORIZONTAL_MARGIN) {
        popoverRect.left = leftSpace - popoverRect.width / 2;
        $popover.css("left", popoverRect.left);
      } else {
        popoverRect.left = windowRect.width - popoverRect.width - D_HORIZONTAL_MARGIN * 2;
        $popover.css("left", popoverRect.left).addClass("is-right-aligned");
      }
    }

    var arrowPosition = void 0;
    if ((0, _textDirection.siteDir)() === "ltr") {
      arrowPosition = Math.abs(targetRect.left - popoverRect.left);
    } else {
      arrowPosition = targetRect.left - popoverRect.left + targetRect.width / 2;
    }
    $popover.find(".d-popover-arrow").css("left", arrowPosition);
  }

  function isRetina() {
    return window.devicePixelRatio && window.devicePixelRatio > 1;
  }

  function getPopover() {
    return $(document.getElementById(D_POPOVER_ID));
  }
});
define("discourse/lib/decimal-adjust", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (type, value, exp) {
    // If the exp is undefined or zero...
    if (typeof exp === "undefined" || +exp === 0) {
      return Math[type](value);
    }
    value = +value;
    exp = +exp;
    // If the value is not a number or the exp is not an integer...
    if (isNaN(value) || !(typeof exp === "number" && exp % 1 === 0)) {
      return NaN;
    }
    // Shift
    value = value.toString().split("e");
    value = Math[type](+(value[0] + "e" + (value[1] ? +value[1] - exp : -exp)));
    // Shift back
    value = value.toString().split("e");
    return +(value[0] + "e" + (value[1] ? +value[1] + exp : exp));
  };
});
define("discourse/lib/desktop-notifications", ["exports", "@ember/runloop", "discourse/lib/url", "discourse/lib/key-value-store", "discourse/lib/utilities", "rsvp", "discourse/models/site", "discourse/models/user"], function (exports, _runloop, _url, _keyValueStore, _utilities, _rsvp, _site, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.disable = exports.confirmNotification = exports.alertChannel = exports.unsubscribe = exports.onNotification = exports.init = exports.context = undefined;


  var primaryTab = false;
  var liveEnabled = false;
  var havePermission = null;
  var mbClientId = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx";
  var lastAction = -1;

  var focusTrackerKey = "focus-tracker";
  var idleThresholdTime = 1000 * 10; // 10 seconds

  var context = "discourse_desktop_notifications_";
  var keyValueStore = new _keyValueStore.default(context);

  // Called from an initializer
  function init(messageBus, appEvents) {
    liveEnabled = false;
    mbClientId = messageBus.clientId;

    if (!_user.default.current()) {
      return;
    }

    try {
      keyValueStore.getItem(focusTrackerKey);
    } catch (e) {
      // eslint-disable-next-line no-console
      console.info("Discourse desktop notifications are disabled - localStorage denied.");
      return;
    }

    if (!("Notification" in window)) {
      // eslint-disable-next-line no-console
      console.info("Discourse desktop notifications are disabled - not supported by browser");
      return;
    }

    try {
      if (Notification.permission === "granted") {
        havePermission = true;
      } else if (Notification.permission === "denied") {
        havePermission = false;
        return;
      }
    } catch (e) {
      // eslint-disable-next-line no-console
      console.warn("Unexpected error, Notification is defined on window but not a responding correctly " + e);
    }

    liveEnabled = true;
    try {
      // Preliminary checks passed, continue with setup
      setupNotifications(appEvents);
    } catch (e) {
      // eslint-disable-next-line no-console
      console.error(e);
    }
  }

  function confirmNotification() {
    var notification = new Notification(I18n.t("notifications.popup.confirm_title", {
      site_title: Discourse.SiteSettings.title
    }), {
      body: I18n.t("notifications.popup.confirm_body"),
      icon: Discourse.SiteSettings.site_logo_small_url || Discourse.SiteSettings.site_logo_url,
      tag: "confirm-subscription"
    });

    var clickEventHandler = function clickEventHandler() {
      return notification.close();
    };

    notification.addEventListener("click", clickEventHandler);
    (0, _runloop.later)(function () {
      notification.close();
      notification.removeEventListener("click", clickEventHandler);
    }, 10 * 1000);
  }

  // This function is only called if permission was granted
  function setupNotifications(appEvents) {
    window.addEventListener("storage", function (e) {
      // note: This event only fires when other tabs setItem()
      var key = e.key;
      if (key !== "" + context + focusTrackerKey) {
        return true;
      }
      primaryTab = false;
    });

    window.addEventListener("focus", function () {
      if (!primaryTab) {
        primaryTab = true;
        keyValueStore.setItem(focusTrackerKey, mbClientId);
      }
    });

    if (document && typeof document.hidden !== "undefined" && document["hidden"]) {
      primaryTab = false;
    } else {
      primaryTab = true;
      keyValueStore.setItem(focusTrackerKey, mbClientId);
    }

    if (document) {
      document.addEventListener("scroll", resetIdle);
    }

    appEvents.on("page:changed", resetIdle);
  }

  function resetIdle() {
    lastAction = Date.now();
  }
  function isIdle() {
    return lastAction + idleThresholdTime < Date.now();
  }

  // Call-in point from message bus
  function onNotification(data) {
    if (!liveEnabled) {
      return;
    }
    if (!primaryTab) {
      return;
    }
    if (!isIdle()) {
      return;
    }
    if (keyValueStore.getItem("notifications-disabled")) {
      return;
    }

    var notificationTitle = I18n.t(i18nKey(data.notification_type), {
      site_title: Discourse.SiteSettings.title,
      topic: data.topic_title,
      username: (0, _utilities.formatUsername)(data.username)
    });

    var notificationBody = data.excerpt;

    var notificationIcon = Discourse.SiteSettings.site_logo_small_url || Discourse.SiteSettings.site_logo_url;

    var notificationTag = "discourse-notification-" + Discourse.SiteSettings.title + "-" + data.topic_id;

    requestPermission().then(function () {
      // This shows the notification!
      var notification = new Notification(notificationTitle, {
        body: notificationBody,
        icon: notificationIcon,
        tag: notificationTag
      });

      function clickEventHandler() {
        _url.default.routeTo(data.post_url);
        // Cannot delay this until the page renders
        // due to trigger-based permissions
        window.focus();
      }

      notification.addEventListener("click", clickEventHandler);
      (0, _runloop.later)(function () {
        notification.close();
        notification.removeEventListener("click", clickEventHandler);
      }, 10 * 1000);
    });
  }

  // Utility function
  // Wraps Notification.requestPermission in a Promise
  function requestPermission() {
    if (havePermission === true) {
      return _rsvp.Promise.resolve();
    } else if (havePermission === false) {
      return _rsvp.Promise.reject();
    } else {
      return new _rsvp.Promise(function (resolve, reject) {
        Notification.requestPermission(function (status) {
          if (status === "granted") {
            resolve();
          } else {
            reject();
          }
        });
      });
    }
  }

  function i18nKey(notification_type) {
    return "notifications.popup." + _site.default.current().get("notificationLookup")[notification_type];
  }

  function alertChannel(user) {
    return "/notification-alert/" + user.get("id");
  }

  function unsubscribe(bus, user) {
    bus.unsubscribe(alertChannel(user));
  }

  function disable() {
    keyValueStore.setItem("notifications-disabled", "disabled");
  }

  exports.context = context;
  exports.init = init;
  exports.onNotification = onNotification;
  exports.unsubscribe = unsubscribe;
  exports.alertChannel = alertChannel;
  exports.confirmNotification = confirmNotification;
  exports.disable = disable;
});
define("discourse/lib/dirty-keys", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var DirtyKeys = function () {
    function DirtyKeys(name) {
      _classCallCheck(this, DirtyKeys);

      this.name = name;
      this._keys = {};
    }

    _createClass(DirtyKeys, [{
      key: "keyDirty",
      value: function keyDirty(key, options) {
        options = options || {};
        options.dirty = true;
        this._keys[key] = options;
      }
    }, {
      key: "forceAll",
      value: function forceAll() {
        this.keyDirty("*");
      }
    }, {
      key: "allDirty",
      value: function allDirty() {
        return !!this._keys["*"];
      }
    }, {
      key: "optionsFor",
      value: function optionsFor(key) {
        return this._keys[key] || { dirty: false };
      }
    }, {
      key: "renderedKey",
      value: function renderedKey(key) {
        if (key === "*") {
          this._keys = {};
        } else {
          delete this._keys[key];
        }
      }
    }]);

    return DirtyKeys;
  }();

  exports.default = DirtyKeys;
});
define("discourse/lib/discourse-location", ["exports", "@ember/object", "discourse/lib/utilities", "@ember/object/internals"], function (exports, _object, _utilities, _internals) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var popstateFired = false;
  var supportsHistoryState = window.history && "state" in window.history;
  var popstateCallbacks = [];

  /**
    `Ember.DiscourseLocation` implements the location API using the browser's
    `history.pushState` API.
  
    @class DiscourseLocation
    @namespace Discourse
    @extends @ember/object
  */
  var DiscourseLocation = _object.default.extend({
    init: function init() {
      this._super.apply(this, arguments);

      this.set("location", this.location || window.location);

      this.initState();
    },
    initState: function initState() {
      var history = this.history || window.history;
      if (history && history.scrollRestoration) {
        history.scrollRestoration = "manual";
      }

      this.set("history", history);

      var url = this.formatURL(this.getURL());

      if (this.location && this.location.hash) {
        url += this.location.hash;
      }

      this.replaceState(url);
    },


    /**
      Will be pre-pended to path upon state change
       @property rootURL
      @default '/'
    */
    rootURL: "/",

    getURL: function getURL() {
      var url = this.location.pathname;

      url = url.replace(new RegExp("^" + Discourse.BaseUri), "");

      var search = this.location.search || "";
      url += search;
      return url;
    },
    setURL: function setURL(path) {
      var state = this.getState();
      path = this.formatURL(path);

      if (state && state.path !== path) {
        var paths = [path, state.path];
        if (!(paths.includes("/") && paths.includes("/" + (0, _utilities.defaultHomepage)()))) {
          this.pushState(path);
        }
      }
    },
    replaceURL: function replaceURL(path) {
      var state = this.getState();
      path = this.formatURL(path);

      if (!state || state.path !== path) {
        this.replaceState(path);
      }
    },
    getState: function getState() {
      return supportsHistoryState ? this.history.state : this._historyState;
    },
    pushState: function pushState(path) {
      var state = { path: path };

      // store state if browser doesn't support `history.state`
      if (!supportsHistoryState) {
        this._historyState = state;
      } else {
        this.history.pushState(state, null, path);
      }

      // used for webkit workaround
      this._previousURL = this.getURL();
    },
    replaceState: function replaceState(path) {
      var state = { path: path };

      // store state if browser doesn't support `history.state`
      if (!supportsHistoryState) {
        this._historyState = state;
      } else {
        this.history.replaceState(state, null, path);
      }

      // used for webkit workaround
      this._previousURL = this.getURL();
    },
    onUpdateURL: function onUpdateURL(callback) {
      var _this = this;

      var guid = (0, _internals.guidFor)(this);

      $(window).on("popstate.ember-location-" + guid, function () {
        var url = _this.getURL();

        // Ignore initial page load popstate event in Chrome
        if (!popstateFired) {
          popstateFired = true;
          if (url === _this._previousURL) return;
        }

        popstateCallbacks.forEach(function (cb) {
          return cb(url);
        });
        callback(url);
      });
    },
    formatURL: function formatURL(url) {
      var rootURL = this.rootURL;

      if (url !== "") {
        rootURL = rootURL.replace(/\/$/, "");

        if (rootURL.length > 0 && url.indexOf(rootURL + "/") === 0) {
          rootURL = "";
        }
      }

      return rootURL + url;
    },
    willDestroy: function willDestroy() {
      this._super.apply(this, arguments);

      var guid = (0, _internals.guidFor)(this);
      $(window).off("popstate.ember-location-" + guid);
    }
  });

  exports.default = DiscourseLocation;
});
define("discourse/lib/export-result", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.outputExportResult = outputExportResult;
  function outputExportResult(result) {
    if (result.success) {
      bootbox.alert(I18n.t("admin.export_csv.success"));
    } else {
      bootbox.alert(I18n.t("admin.export_csv.failed"));
    }
  }
});
define("discourse/lib/highlight-syntax", ["exports", "discourse/lib/load-script"], function (exports, _loadScript) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = highlightSyntax;
  exports.registerHighlightJSLanguage = registerHighlightJSLanguage;
  /*global hljs:true */
  var _moreLanguages = [];

  function highlightSyntax($elem) {
    var selector = Discourse.SiteSettings.autohighlight_all_code ? "pre code" : "pre code[class]",
        path = Discourse.HighlightJSPath;

    if (!path) {
      return;
    }

    $(selector, $elem).each(function (i, e) {
      $(e).removeClass("lang-auto");
      (0, _loadScript.default)(path).then(function () {
        customHighlightJSLanguages();
        hljs.highlightBlock(e);
      });
    });
  }

  function registerHighlightJSLanguage(name, fn) {
    _moreLanguages.push({ name: name, fn: fn });
  }

  function customHighlightJSLanguages() {
    _moreLanguages.forEach(function (l) {
      if (hljs.getLanguage(l.name) === undefined) {
        hljs.registerLanguage(l.name, l.fn);
      }
    });
  }
});
define("discourse/lib/highlight-text", ["exports", "discourse/lib/concerns/search-constants"], function (exports, _searchConstants) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.CLASS_NAME = undefined;

  exports.default = function ($elem, term) {
    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

    if (!_.isEmpty(term)) {
      // special case ignore "l" which is used for magic sorting
      var words = _.reject(term.match(new RegExp(_searchConstants.PHRASE_MATCH_REGEXP_PATTERN + "|[^\\s]+", "g")), function (t) {
        return t === "l";
      });

      words = words.map(function (w) {
        return w.replace(/^"(.*)"$/, "$1");
      });
      var highlightOpts = { wordsOnly: true };
      if (!opts.defaultClassName) highlightOpts.className = CLASS_NAME;
      $elem.highlight(words, highlightOpts);
    }
  };

  var CLASS_NAME = exports.CLASS_NAME = "search-highlight";
});
define("discourse/lib/intercept-click", ["exports", "discourse/lib/url"], function (exports, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.wantsNewWindow = wantsNewWindow;
  exports.default = interceptClick;
  function wantsNewWindow(e) {
    return e.isDefaultPrevented() || e.shiftKey || e.metaKey || e.ctrlKey || e.button && e.button !== 0 || e.target && e.target.target === "_blank";
  }

  /**
    Discourse does some server side rendering of HTML, such as the `cooked` contents of
    posts. The downside of this in an Ember app is the links will not go through the router.
    This jQuery code intercepts clicks on those links and routes them properly.
  **/
  function interceptClick(e) {
    if (wantsNewWindow(e)) {
      return;
    }

    var $currentTarget = $(e.currentTarget),
        href = $currentTarget.attr("href");

    if (!href || href === "#" || $currentTarget.attr("target") || $currentTarget.data("ember-action") || $currentTarget.data("auto-route") || $currentTarget.data("share-url") || $currentTarget.hasClass("widget-link") || $currentTarget.hasClass("raw-link") || $currentTarget.hasClass("mention") || !$currentTarget.hasClass("d-link") && !$currentTarget.data("user-card") && $currentTarget.hasClass("ember-view") || $currentTarget.hasClass("lightbox") || href.indexOf("mailto:") === 0 || href.match(/^http[s]?:\/\//i) && !href.match(new RegExp("^https?:\\/\\/" + window.location.hostname, "i"))) {
      return;
    }

    e.preventDefault();
    _url.default.routeTo(href);
    return false;
  }
});
define("discourse/lib/is-element-in-viewport", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (element) {
    if (element instanceof jQuery) {
      element = element[0];
    }

    var $window = $(window),
        rect = element.getBoundingClientRect();

    return rect.top >= 0 && rect.left >= 0 && rect.bottom <= $window.height() && rect.right <= $window.width();
  };
});
define("discourse/lib/keyboard-shortcuts", ["exports", "@ember/runloop", "discourse/lib/url", "discourse/models/composer", "discourse/lib/offset-calculator", "discourse/lib/ajax"], function (exports, _runloop, _url, _composer, _offsetCalculator, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var bindings = {
    "!": { postAction: "showFlags" },
    "#": { handler: "goToPost", anonymous: true },
    "/": { handler: "toggleSearch", anonymous: true },
    "ctrl+alt+f": { handler: "toggleSearch", anonymous: true, global: true },
    "=": { handler: "toggleHamburgerMenu", anonymous: true },
    "?": { handler: "showHelpModal", anonymous: true },
    ".": { click: ".alert.alert-info.clickable", anonymous: true }, // show incoming/updated topics
    b: { handler: "toggleBookmark" },
    c: { handler: "createTopic" },
    C: { handler: "focusComposer" },
    "ctrl+f": { handler: "showPageSearch", anonymous: true },
    "command+f": { handler: "showPageSearch", anonymous: true },
    "ctrl+p": { handler: "printTopic", anonymous: true },
    "command+p": { handler: "printTopic", anonymous: true },
    d: { postAction: "deletePost" },
    e: { postAction: "editPost" },
    end: { handler: "goToLastPost", anonymous: true },
    "command+down": { handler: "goToLastPost", anonymous: true },
    f: { handler: "toggleBookmarkTopic" },
    "g h": { path: "/", anonymous: true },
    "g l": { path: "/latest", anonymous: true },
    "g n": { path: "/new" },
    "g u": { path: "/unread" },
    "g c": { path: "/categories", anonymous: true },
    "g t": { path: "/top", anonymous: true },
    "g b": { path: "/bookmarks" },
    "g p": { path: "/my/activity" },
    "g m": { path: "/my/messages" },
    "g d": { path: "/my/activity/drafts" },
    "g s": { handler: "goToFirstSuggestedTopic", anonymous: true },
    home: { handler: "goToFirstPost", anonymous: true },
    "command+up": { handler: "goToFirstPost", anonymous: true },
    j: { handler: "selectDown", anonymous: true },
    k: { handler: "selectUp", anonymous: true },
    // we use this odd routing here vs a postAction: cause like
    // has an animation so the widget handles that
    // TODO: teach controller how to trigger the widget animation
    l: { click: ".topic-post.selected button.toggle-like" },
    "m m": { handler: "setTrackingToMuted" }, // mark topic as muted
    "m r": { handler: "setTrackingToRegular" }, // mark topic as regular
    "m t": { handler: "setTrackingToTracking" }, // mark topic as tracking
    "m w": { handler: "setTrackingToWatching" }, // mark topic as watching
    "o,enter": {
      click: [".topic-list tr.selected a.title", ".latest-topic-list .latest-topic-list-item.selected div.main-link a.title", ".top-topic-list .latest-topic-list-item.selected div.main-link a.title", ".latest .featured-topic.selected a.title"].join(", "),
      anonymous: true
    }, // open selected topic on latest or categories page
    tab: { handler: "switchFocusCategoriesPage", anonymous: true },
    p: { handler: "showCurrentUser" },
    q: { handler: "quoteReply" },
    r: { postAction: "replyToPost" },
    s: { click: ".topic-post.selected a.post-date", anonymous: true }, // share post
    "shift+j": { handler: "nextSection", anonymous: true },
    "shift+k": { handler: "prevSection", anonymous: true },
    "shift+p": { handler: "pinUnpinTopic" },
    "shift+r": { handler: "replyToTopic" },
    "shift+s": { click: "#topic-footer-buttons button.share", anonymous: true }, // share topic
    "shift+l": { handler: "goToUnreadPost" },
    "shift+z shift+z": { handler: "logout" },
    "shift+f11": { handler: "fullscreenComposer", global: true },
    "shift+u": { handler: "deferTopic" },
    "shift+a": { handler: "toggleAdminActions" },
    t: { postAction: "replyAsNewTopic" },
    u: { handler: "goBack", anonymous: true },
    "x r": {
      click: "#dismiss-new,#dismiss-new-top,#dismiss-posts,#dismiss-posts-top"
    }, // dismiss new/posts
    "x t": { click: "#dismiss-topics,#dismiss-topics-top" // dismiss topics
    } };

  var animationDuration = 100;

  exports.default = {
    bindEvents: function bindEvents(keyTrapper, container) {
      var _this = this;

      this.keyTrapper = keyTrapper;
      this.container = container;
      this._stopCallback();

      this.searchService = this.container.lookup("search-service:main");
      this.appEvents = this.container.lookup("service:app-events");
      this.currentUser = this.container.lookup("current-user:main");
      var siteSettings = this.container.lookup("site-settings:main");

      // Disable the shortcut if private messages are disabled
      if (!siteSettings.enable_personal_messages) {
        delete bindings["g m"];
      }

      Object.keys(bindings).forEach(function (key) {
        var binding = bindings[key];
        if (!binding.anonymous && !_this.currentUser) {
          return;
        }

        if (binding.path) {
          _this._bindToPath(binding.path, key);
        } else if (binding.handler) {
          if (binding.global) {
            // global shortcuts will trigger even while focusing on input/textarea
            _this._globalBindToFunction(binding.handler, key);
          } else {
            _this._bindToFunction(binding.handler, key);
          }
        } else if (binding.postAction) {
          _this._bindToSelectedPost(binding.postAction, key);
        } else if (binding.click) {
          _this._bindToClick(binding.click, key);
        }
      });
    },
    toggleBookmark: function toggleBookmark() {
      this.sendToSelectedPost("toggleBookmark");
      this.sendToTopicListItemView("toggleBookmark");
    },
    toggleBookmarkTopic: function toggleBookmarkTopic() {
      var topic = this.currentTopic();
      // BIG hack, need a cleaner way
      if (topic && $(".posts-wrapper").length > 0) {
        this.container.lookup("controller:topic").send("toggleBookmark");
      } else {
        this.sendToTopicListItemView("toggleBookmark");
      }
    },
    logout: function logout() {
      this.container.lookup("route:application").send("logout");
    },
    quoteReply: function quoteReply() {
      this.sendToSelectedPost("replyToPost");
      // lazy but should work for now
      (0, _runloop.later)(function () {
        return $(".d-editor .quote").click();
      }, 500);

      return false;
    },
    goToFirstSuggestedTopic: function goToFirstSuggestedTopic() {
      var $el = $(".suggested-topics a.raw-topic-link:first");
      if ($el.length) {
        $el.click();
      } else {
        var controller = this.container.lookup("controller:topic");
        // Only the last page contains list of suggested topics.
        var url = "/t/" + controller.get("model.id") + "/last.json";
        (0, _ajax.ajax)(url).then(function (result) {
          if (result.suggested_topics && result.suggested_topics.length > 0) {
            var topic = controller.store.createRecord("topic", result.suggested_topics[0]);
            _url.default.routeTo(topic.get("url"));
          }
        });
      }
    },
    goToFirstPost: function goToFirstPost() {
      this._jumpTo("jumpTop");
    },
    goToLastPost: function goToLastPost() {
      this._jumpTo("jumpBottom");
    },
    goToUnreadPost: function goToUnreadPost() {
      this._jumpTo("jumpUnread");
    },
    _jumpTo: function _jumpTo(direction) {
      if ($(".container.posts").length) {
        this.container.lookup("controller:topic").send(direction);
      }
    },
    replyToTopic: function replyToTopic() {
      this._replyToPost();

      return false;
    },
    selectDown: function selectDown() {
      this._moveSelection(1);
    },
    selectUp: function selectUp() {
      this._moveSelection(-1);
    },
    goBack: function goBack() {
      history.back();
    },
    nextSection: function nextSection() {
      this._changeSection(1);
    },
    prevSection: function prevSection() {
      this._changeSection(-1);
    },
    showPageSearch: function showPageSearch(event) {
      var _this2 = this;

      (0, _runloop.run)(function () {
        _this2.appEvents.trigger("header:keyboard-trigger", {
          type: "page-search",
          event: event
        });
      });
    },
    printTopic: function printTopic(event) {
      var _this3 = this;

      (0, _runloop.run)(function () {
        if ($(".container.posts").length) {
          event.preventDefault(); // We need to stop printing the current page in Firefox
          _this3.container.lookup("controller:topic").print();
        }
      });
    },
    createTopic: function createTopic() {
      if (!(this.currentUser && this.currentUser.can_create_topic)) {
        return;
      }

      // If the page has a create-topic button, use it for context sensitive attributes like category
      var $createTopicButton = $("#create-topic");
      if ($createTopicButton.length) {
        $createTopicButton.click();
        return;
      }

      this.container.lookup("controller:composer").open({
        action: _composer.default.CREATE_TOPIC,
        draftKey: _composer.default.NEW_TOPIC_KEY
      });
    },
    focusComposer: function focusComposer() {
      var composer = this.container.lookup("controller:composer");
      if (composer.get("model.viewOpen")) {
        setTimeout(function () {
          return $("textarea.d-editor-input").focus();
        }, 0);
      } else {
        composer.send("openIfDraft");
      }
    },
    fullscreenComposer: function fullscreenComposer() {
      var composer = this.container.lookup("controller:composer");
      if (composer.get("model")) {
        composer.toggleFullscreen();
      }
    },
    pinUnpinTopic: function pinUnpinTopic() {
      this.container.lookup("controller:topic").togglePinnedState();
    },
    goToPost: function goToPost() {
      this.appEvents.trigger("topic:keyboard-trigger", { type: "jump" });
    },
    toggleSearch: function toggleSearch(event) {
      this.appEvents.trigger("header:keyboard-trigger", {
        type: "search",
        event: event
      });

      return false;
    },
    toggleHamburgerMenu: function toggleHamburgerMenu(event) {
      this.appEvents.trigger("header:keyboard-trigger", {
        type: "hamburger",
        event: event
      });
    },
    showCurrentUser: function showCurrentUser(event) {
      this.appEvents.trigger("header:keyboard-trigger", { type: "user", event: event });
    },
    showHelpModal: function showHelpModal() {
      this.container.lookup("controller:application").send("showKeyboardShortcutsHelp");
    },
    setTrackingToMuted: function setTrackingToMuted(event) {
      (0, _runloop.throttle)(this, "_setTracking", { id: 0, event: event }, 250, true);
    },
    setTrackingToRegular: function setTrackingToRegular(event) {
      (0, _runloop.throttle)(this, "_setTracking", { id: 1, event: event }, 250, true);
    },
    setTrackingToTracking: function setTrackingToTracking(event) {
      (0, _runloop.throttle)(this, "_setTracking", { id: 2, event: event }, 250, true);
    },
    setTrackingToWatching: function setTrackingToWatching(event) {
      (0, _runloop.throttle)(this, "_setTracking", { id: 3, event: event }, 250, true);
    },
    _setTracking: function _setTracking(params) {
      this.appEvents.trigger("topic-notifications-button:changed", {
        type: "notification",
        id: params.id,
        event: params.event
      });
    },
    sendToTopicListItemView: function sendToTopicListItemView(action) {
      var elem = $("tr.selected.topic-list-item.ember-view")[0];
      if (elem) {
        var registry = this.container.lookup("-view-registry:main");
        if (registry) {
          var view = registry[elem.id];
          view.send(action);
        }
      }
    },
    currentTopic: function currentTopic() {
      var topicController = this.container.lookup("controller:topic");
      if (topicController) {
        var topic = topicController.get("model");
        if (topic) {
          return topic;
        }
      }
    },
    sendToSelectedPost: function sendToSelectedPost(action) {
      var container = this.container;
      // TODO: We should keep track of the post without a CSS class
      var selectedPostId = parseInt($(".topic-post.selected article.boxed").data("post-id"), 10);
      if (selectedPostId) {
        var topicController = container.lookup("controller:topic");
        var post = topicController.get("model.postStream.posts").findBy("id", selectedPostId);
        if (post) {
          // TODO: Use ember closure actions

          var actionMethod = topicController.actions[action];
          if (!actionMethod) {
            var topicRoute = container.lookup("route:topic");
            actionMethod = topicRoute.actions[action];
          }

          var result = actionMethod.call(topicController, post);
          if (result && result.then) {
            this.appEvents.trigger("post-stream:refresh", { id: selectedPostId });
          }
        }
      }

      return false;
    },
    _bindToSelectedPost: function _bindToSelectedPost(action, binding) {
      var _this4 = this;

      this.keyTrapper.bind(binding, function () {
        return _this4.sendToSelectedPost(action);
      });
    },
    _bindToPath: function _bindToPath(path, key) {
      this.keyTrapper.bind(key, function () {
        return _url.default.routeTo(Discourse.BaseUri + path);
      });
    },
    _bindToClick: function _bindToClick(selector, binding) {
      binding = binding.split(",");
      this.keyTrapper.bind(binding, function (e) {
        var $sel = $(selector);

        // Special case: We're binding to enter.
        if (e && e.keyCode === 13) {
          // Binding to enter should only be effective when there is something
          // to select.
          if ($sel.length === 0) {
            return;
          }

          // If effective, prevent default.
          e.preventDefault();
        }
        $sel.click();
      });
    },
    _globalBindToFunction: function _globalBindToFunction(func, binding) {
      if (typeof this[func] === "function") {
        this.keyTrapper.bindGlobal(binding, this[func].bind(this));
      }
    },
    _bindToFunction: function _bindToFunction(func, binding) {
      if (typeof this[func] === "function") {
        this.keyTrapper.bind(binding, this[func].bind(this));
      }
    },
    _moveSelection: function _moveSelection(direction) {
      // Pressing a move key (J/K) very quick (i.e. keeping J or K pressed) will
      // move fast by disabling smooth page scrolling.
      var now = +new Date();
      var fast = this._lastMoveTime && now - this._lastMoveTime < 1.5 * animationDuration;
      this._lastMoveTime = now;

      var $articles = this._findArticles();
      if ($articles === undefined) {
        return;
      }

      var $selected = $articles.filter(".selected");
      if ($selected.length === 0) {
        $selected = $articles.filter("[data-islastviewedtopic=true]");
      }

      // Discard selection if it is not in viewport, so users can combine
      // keyboard shortcuts with mouse scrolling.
      if ($selected.length !== 0 && !fast) {
        var offset = (0, _offsetCalculator.minimumOffset)();
        var beginScreen = $(window).scrollTop() - offset;
        var endScreen = beginScreen + window.innerHeight + offset;
        var beginArticle = $selected.offset().top;
        var endArticle = $selected.offset().top + $selected.height();
        if (beginScreen > endArticle || beginArticle > endScreen) {
          $selected = null;
        }
      }

      // If still nothing is selected, select the first post that is
      // visible and cancel move operation.
      if (!$selected || $selected.length === 0) {
        var _offset = (0, _offsetCalculator.minimumOffset)();
        $selected = $articles.toArray().find(function (article) {
          return article.getBoundingClientRect().top > _offset;
        });
        if (!$selected) {
          $selected = $articles[$articles.length - 1];
        }
        direction = 0;
      }

      var index = $articles.index($selected);
      var $article = $articles.eq(index);

      // Try doing a page scroll in the context of current post.
      if (!fast && direction !== 0 && $article.length > 0) {
        // The beginning of first article is the beginning of the page.
        var _beginArticle = $article.is(".topic-post") && $article.find("#post_1").length ? 0 : $article.offset().top;
        var _endArticle = $article.offset().top + $article[0].getBoundingClientRect().height;

        var _beginScreen = $(window).scrollTop();
        var _endScreen = _beginScreen + window.innerHeight;

        if (direction < 0 && _beginScreen > _beginArticle) {
          return this._scrollTo(Math.max(_beginScreen - window.innerHeight + 3 * (0, _offsetCalculator.minimumOffset)(), // page up
          _beginArticle - (0, _offsetCalculator.minimumOffset)() // beginning of article
          ));
        } else if (direction > 0 && _endScreen < _endArticle - (0, _offsetCalculator.minimumOffset)()) {
          return this._scrollTo(Math.min(_endScreen - 3 * (0, _offsetCalculator.minimumOffset)(), // page down
          _endArticle - window.innerHeight // end of article
          ));
        }
      }

      // Try scrolling to post above or below.
      if ($selected.length !== 0) {
        if (direction === -1 && index === 0) return;
        if (direction === 1 && index === $articles.length - 1) return;
      }

      $article = $articles.eq(index + direction);
      if ($article.length > 0) {
        $articles.removeClass("selected");
        $article.addClass("selected");

        var articleRect = $article[0].getBoundingClientRect();
        if (!fast && direction < 0 && articleRect.height > window.innerHeight) {
          // Scrolling to the last "page" of the previous post if post has multiple
          // "pages" (if its height does not fit in the screen).
          return this._scrollTo($article.offset().top + articleRect.height - window.innerHeight);
        } else if ($article.is(".topic-post")) {
          return this._scrollTo($article.find("#post_1").length > 0 ? 0 : $article.offset().top - (0, _offsetCalculator.minimumOffset)(), function () {
            return $("a.tabLoc", $article).focus();
          });
        }

        // Otherwise scroll through the suggested topic list.
        this._scrollList($article, direction);
      }
    },
    _scrollTo: function _scrollTo(scrollTop, complete) {
      $("html, body").stop(true, true).animate({ scrollTop: scrollTop }, { duration: animationDuration, complete: complete });
    },
    _scrollList: function _scrollList($article) {
      // Try to keep the article on screen
      var pos = $article.offset();
      var height = $article.height();
      var headerHeight = $("header.d-header").height();
      var scrollTop = $(window).scrollTop();
      var windowHeight = $(window).height();

      // skip if completely on screen
      if (pos.top - headerHeight > scrollTop && pos.top + height < scrollTop + windowHeight) {
        return;
      }

      var scrollPos = pos.top + height / 2 - windowHeight * 0.5;
      if (height > windowHeight - headerHeight) {
        scrollPos = pos.top - headerHeight;
      }
      if (scrollPos < 0) {
        scrollPos = 0;
      }

      if (this._scrollAnimation) {
        this._scrollAnimation.stop();
      }
      this._scrollAnimation = $("html, body").animate({ scrollTop: scrollPos + "px" }, animationDuration);
    },
    categoriesTopicsList: function categoriesTopicsList() {
      var setting = this.container.lookup("site-settings:main").desktop_category_page_style;
      switch (setting) {
        case "categories_with_featured_topics":
          return $(".latest .featured-topic");
        case "categories_and_latest_topics":
          return $(".latest-topic-list .latest-topic-list-item");
        case "categories_and_top_topics":
          return $(".top-topic-list .latest-topic-list-item");
        default:
          return $();
      }
    },
    _findArticles: function _findArticles() {
      var $topicList = $(".topic-list");
      var $postsWrapper = $(".posts-wrapper");
      var $categoriesTopicsList = this.categoriesTopicsList();

      if ($postsWrapper.length > 0) {
        return $(".posts-wrapper .topic-post, .topic-list tbody tr");
      } else if ($topicList.length > 0) {
        return $topicList.find(".topic-list-item");
      } else if ($categoriesTopicsList.length > 0) {
        return $categoriesTopicsList;
      }
    },
    _changeSection: function _changeSection(direction) {
      var $sections = $(".nav.nav-pills li"),
          active = $(".nav.nav-pills li.active"),
          index = $sections.index(active) + direction;

      if (index >= 0 && index < $sections.length) {
        $sections.eq(index).find("a").click();
      }
    },
    _stopCallback: function _stopCallback() {
      var oldStopCallback = this.keyTrapper.prototype.stopCallback;

      this.keyTrapper.prototype.stopCallback = function (e, element, combo, sequence) {
        if ((combo === "ctrl+f" || combo === "command+f") && element.id === "search-term") {
          return false;
        }
        return oldStopCallback.call(this, e, element, combo, sequence);
      };
    },
    _replyToPost: function _replyToPost() {
      this.container.lookup("controller:topic").send("replyToPost");
    },
    deferTopic: function deferTopic() {
      this.container.lookup("controller:topic").send("deferTopic");
    },
    toggleAdminActions: function toggleAdminActions() {
      this.appEvents.trigger("topic:toggle-actions");
    }
  };
});
define("discourse/lib/lazy-load-images", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.setupLazyLoading = setupLazyLoading;
  var OBSERVER_OPTIONS = {
    rootMargin: "66%" // load images slightly before they're visible
  };

  // Min size in pixels for consideration for lazy loading
  var MINIMUM_SIZE = 150;

  var hiddenData = new WeakMap();

  var LOADING_DATA = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";

  // We hide an image by replacing it with a transparent gif
  function hide(image) {
    image.classList.add("d-lazyload");
    image.classList.add("d-lazyload-hidden");

    hiddenData.set(image, {
      src: image.src,
      srcset: image.srcset,
      width: image.width,
      height: image.height,
      className: image.className
    });
    image.removeAttribute("srcset");

    image.src = image.dataset.smallUpload || LOADING_DATA;
    image.removeAttribute("data-small-upload");
  }

  // Restore an image when onscreen
  function show(image) {
    var imageData = hiddenData.get(image);

    if (imageData) {
      var copyImg = new Image();
      copyImg.onload = function () {
        image.src = copyImg.src;
        if (copyImg.srcset) {
          image.srcset = copyImg.srcset;
        }
        image.classList.remove("d-lazyload-hidden");

        if (image.onload) {
          // don't bother fighting with existing handler
          // this can mean a slight flash on mobile
          image.parentNode.removeChild(copyImg);
        } else {
          image.onload = function () {
            image.parentNode.removeChild(copyImg);
            image.onload = null;
          };
        }

        copyImg.onload = null;
      };

      copyImg.src = imageData.src;

      if (imageData.srcset) {
        copyImg.srcset = imageData.srcset;
      }

      // width of image may not match, use computed style which
      // is the actual size of the image
      var computedStyle = window.getComputedStyle(image);
      var actualWidth = parseInt(computedStyle.width, 10);
      var actualHeight = parseInt(computedStyle.height, 10);

      copyImg.style.position = "absolute";
      copyImg.style.top = image.offsetTop + "px";
      copyImg.style.left = image.offsetLeft + "px";
      copyImg.style.width = actualWidth + "px";
      copyImg.style.height = actualHeight + "px";

      copyImg.className = imageData.className;

      // insert after the current element so styling still will
      // apply to original image firstChild selectors
      image.parentNode.insertBefore(copyImg, image.nextSibling);
    } else {
      image.classList.remove("d-lazyload-hidden");
    }
  }

  function setupLazyLoading(api) {
    var observer = new IntersectionObserver(function (entries) {
      entries.forEach(function (entry) {
        var target = entry.target;


        if (entry.isIntersecting) {
          show(target);
          observer.unobserve(target);
        }
      });
    }, OBSERVER_OPTIONS);

    api.decorateCooked(function ($post) {
      $("img", $post).each(function (_, img) {
        if (img.width >= MINIMUM_SIZE && img.height >= MINIMUM_SIZE) {
          hide(img);
          observer.observe(img);
        }
      });
    }, { onlyStream: true, id: "discourse-lazy-load" });
  }
});
define("discourse/lib/lightbox", ["exports", "discourse/lib/load-script", "discourse/lib/utilities", "discourse-common/lib/icon-library", "discourse/helpers/loading-spinner", "discourse/models/user"], function (exports, _loadScript, _utilities, _iconLibrary, _loadingSpinner, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function ($elem) {
    if (!$elem) {
      return;
    }

    (0, _loadScript.default)("/javascripts/jquery.magnific-popup.min.js").then(function () {
      var spoilers = $elem.find(".spoiler a.lightbox, .spoiled a.lightbox");

      $elem.find("a.lightbox").not(spoilers).magnificPopup({
        type: "image",
        closeOnContentClick: false,
        removalDelay: 300,
        mainClass: "mfp-zoom-in",
        tClose: I18n.t("lightbox.close"),
        tLoading: _loadingSpinner.spinnerHTML,

        gallery: {
          enabled: true,
          tPrev: I18n.t("lightbox.previous"),
          tNext: I18n.t("lightbox.next"),
          tCounter: I18n.t("lightbox.counter")
        },

        ajax: {
          tError: I18n.t("lightbox.content_load_error")
        },

        callbacks: {
          open: function open() {
            var wrap = this.wrap,
                img = this.currItem.img,
                maxHeight = img.css("max-height");

            wrap.on("click.pinhandler", "img", function () {
              wrap.toggleClass("mfp-force-scrollbars");
              img.css("max-height", wrap.hasClass("mfp-force-scrollbars") ? "none" : maxHeight);
            });

            if ((0, _utilities.isAppWebview)()) {
              (0, _utilities.postRNWebviewMessage)("headerBg", $(".mfp-bg").css("background-color"));
            }
          },
          beforeClose: function beforeClose() {
            this.wrap.off("click.pinhandler");
            this.wrap.removeClass("mfp-force-scrollbars");
            if ((0, _utilities.isAppWebview)()) {
              (0, _utilities.postRNWebviewMessage)("headerBg", $(".d-header").css("background-color"));
            }
          }
        },

        image: {
          tError: I18n.t("lightbox.image_load_error"),
          titleSrc: function titleSrc(item) {
            var href = item.el.data("download-href") || item.src;
            var src = [(0, _utilities.escapeExpression)(item.el.attr("title")), $("span.informations", item.el).text()];
            if (!Discourse.SiteSettings.prevent_anons_from_downloading_files || _user.default.current()) {
              src.push('<a class="image-source-link" href="' + href + '">' + (0, _iconLibrary.renderIcon)("string", "download") + I18n.t("lightbox.download") + "</a>");
            }
            return src.join(" &middot; ");
          }
        }
      });
    });
  };
});
define("discourse/lib/link-category-hashtags", ["exports", "@ember/runloop", "discourse/lib/ajax", "discourse/lib/category-hashtags"], function (exports, _runloop, _ajax, _categoryHashtags) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.linkSeenCategoryHashtags = linkSeenCategoryHashtags;
  exports.fetchUnseenCategoryHashtags = fetchUnseenCategoryHashtags;


  var validCategoryHashtags = {};
  var checkedCategoryHashtags = [];
  var testedKey = "tested";
  var testedClass = "hashtag-" + testedKey;

  function updateFound($hashtags, categorySlugs) {
    (0, _runloop.schedule)("afterRender", function () {
      $hashtags.each(function (index, hashtag) {
        var categorySlug = categorySlugs[index];
        var link = validCategoryHashtags[categorySlug];
        var $hashtag = $(hashtag);

        if (link) {
          (0, _categoryHashtags.replaceSpan)($hashtag, categorySlug, link);
        } else if (checkedCategoryHashtags.indexOf(categorySlug) !== -1) {
          $hashtag.addClass(testedClass);
        }
      });
    });
  }

  function linkSeenCategoryHashtags($elem) {
    var $hashtags = $("span.hashtag:not(." + testedClass + ")", $elem);
    var unseen = [];

    if ($hashtags.length) {
      var categorySlugs = $hashtags.map(function (_, hashtag) {
        return $(hashtag).text().substr(1);
      });
      if (categorySlugs.length) {
        _.uniq(categorySlugs).forEach(function (categorySlug) {
          if (checkedCategoryHashtags.indexOf(categorySlug) === -1) {
            unseen.push(categorySlug);
          }
        });
      }
      updateFound($hashtags, categorySlugs);
    }

    return unseen;
  }

  function fetchUnseenCategoryHashtags(categorySlugs) {
    return (0, _ajax.ajax)("/category_hashtags/check", {
      data: { category_slugs: categorySlugs }
    }).then(function (response) {
      response.valid.forEach(function (category) {
        validCategoryHashtags[category.slug] = category.url;
      });
      checkedCategoryHashtags.push.apply(checkedCategoryHashtags, categorySlugs);
    });
  }
});
define("discourse/lib/link-lookup", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var _warned = {};
  var NO_RESULT = [false, null];

  var LinkLookup = function () {
    function LinkLookup(links) {
      _classCallCheck(this, LinkLookup);

      this._links = links;
    }

    _createClass(LinkLookup, [{
      key: "check",
      value: function check(post, href) {
        if (_warned[href]) {
          return NO_RESULT;
        }

        var normalized = href.replace(/^https?:\/\//, "").replace(/\/$/, "");
        if (_warned[normalized]) {
          return NO_RESULT;
        }

        var linkInfo = this._links[normalized];
        if (linkInfo) {
          if (post) {
            // Skip edits to the OP
            if (post) {
              var postNumber = post.get("post_number");
              if (postNumber === 1 || postNumber === linkInfo.post_number) {
                return NO_RESULT;
              }
            }

            // Don't warn on older posts
            var createdAt = moment(post.get("created_at"));
            if (createdAt.isBefore(moment().subtract(2, "weeks"))) {
              return NO_RESULT;
            }
          }

          _warned[href] = true;
          _warned[normalized] = true;
          return [true, linkInfo];
        }

        return NO_RESULT;
      }
    }]);

    return LinkLookup;
  }();

  exports.default = LinkLookup;
});
define("discourse/lib/link-mentions", ["exports", "@ember/runloop", "discourse/lib/ajax", "discourse/lib/url", "discourse/lib/utilities"], function (exports, _runloop, _ajax, _url, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.linkSeenMentions = linkSeenMentions;
  exports.fetchUnseenMentions = fetchUnseenMentions;


  var maxGroupMention = void 0;

  function replaceSpan($e, username, opts) {
    var extra = "";
    var extraClass = "";

    if (opts && opts.group) {
      if (opts.mentionable) {
        extra = "data-name='" + username + "' data-mentionable-user-count='" + opts.mentionable.user_count + "' data-max-mentions='" + maxGroupMention + "'";
        extraClass = "notify";
      }
      $e.replaceWith("<a href='" + (Discourse.getURL("/g/") + username) + "' class='mention-group " + extraClass + "' " + extra + ">@" + username + "</a>");
    } else {
      if (opts && opts.cannot_see) {
        extra = "data-name='" + username + "'";
        extraClass = "cannot-see";
      }
      $e.replaceWith("<a href='" + (0, _url.userPath)(username.toLowerCase()) + "' class='mention " + extraClass + "' " + extra + ">@" + (0, _utilities.formatUsername)(username) + "</a>");
    }
  }

  var found = {};
  var foundGroups = {};
  var mentionableGroups = {};
  var checked = {};
  var cannotSee = [];

  function updateFound($mentions, usernames) {
    (0, _runloop.scheduleOnce)("afterRender", function () {
      $mentions.each(function (i, e) {
        var $e = $(e);
        var username = usernames[i];
        if (found[username.toLowerCase()]) {
          replaceSpan($e, username, { cannot_see: cannotSee[username] });
        } else if (mentionableGroups[username]) {
          replaceSpan($e, username, {
            group: true,
            mentionable: mentionableGroups[username]
          });
        } else if (foundGroups[username]) {
          replaceSpan($e, username, { group: true });
        } else if (checked[username]) {
          $e.addClass("mention-tested");
        }
      });
    });
  }

  function linkSeenMentions($elem, siteSettings) {
    var $mentions = $("span.mention:not(.mention-tested)", $elem);
    if ($mentions.length) {
      var usernames = $mentions.map(function (_, e) {
        return $(e).text().substr(1);
      });
      updateFound($mentions, usernames);
      return _.uniq(usernames).filter(function (u) {
        return !checked[u] && u.length >= siteSettings.min_username_length;
      });
    }
    return [];
  }

  // 'Create a New Topic' scenario is not supported (per conversation with codinghorror)
  // https://meta.discourse.org/t/taking-another-1-7-release-task/51986/7
  function fetchUnseenMentions(usernames, topic_id) {
    return (0, _ajax.ajax)((0, _url.userPath)("is_local_username"), {
      data: { usernames: usernames, topic_id: topic_id }
    }).then(function (r) {
      r.valid.forEach(function (v) {
        return found[v] = true;
      });
      r.valid_groups.forEach(function (vg) {
        return foundGroups[vg] = true;
      });
      r.mentionable_groups.forEach(function (mg) {
        return mentionableGroups[mg.name] = mg;
      });
      r.cannot_see.forEach(function (cs) {
        return cannotSee[cs] = true;
      });
      maxGroupMention = r.max_users_notified_per_group_mention;
      usernames.forEach(function (u) {
        return checked[u] = true;
      });
      return r;
    });
  }
});
define("discourse/lib/link-tag-hashtag", ["exports", "@ember/runloop", "discourse/lib/ajax", "discourse/lib/category-hashtags", "discourse/lib/tag-hashtags"], function (exports, _runloop, _ajax, _categoryHashtags, _tagHashtags) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.linkSeenTagHashtags = linkSeenTagHashtags;
  exports.fetchUnseenTagHashtags = fetchUnseenTagHashtags;


  var validTagHashtags = {};
  var checkedTagHashtags = [];
  var testedClass = "tag-hashtag-tested";

  function updateFound($hashtags, tagValues) {
    (0, _runloop.schedule)("afterRender", function () {
      $hashtags.each(function (index, hashtag) {
        var tagValue = tagValues[index];
        var link = validTagHashtags[tagValue];
        var $hashtag = $(hashtag);

        if (link) {
          (0, _categoryHashtags.replaceSpan)($hashtag, tagValue, link);
        } else if (checkedTagHashtags.indexOf(tagValue) !== -1) {
          $hashtag.addClass(testedClass);
        }
      });
    });
  }

  function linkSeenTagHashtags($elem) {
    var $hashtags = $("span.hashtag:not(." + testedClass + ")", $elem);
    var unseen = [];

    if ($hashtags.length) {
      var tagValues = $hashtags.map(function (_, hashtag) {
        return $(hashtag).text().substr(1).replace(_tagHashtags.TAG_HASHTAG_POSTFIX, "");
      });

      if (tagValues.length) {
        _.uniq(tagValues).forEach(function (tagValue) {
          if (checkedTagHashtags.indexOf(tagValue) === -1) unseen.push(tagValue);
        });
      }
      updateFound($hashtags, tagValues);
    }

    return unseen;
  }

  function fetchUnseenTagHashtags(tagValues) {
    return (0, _ajax.ajax)("/tags/check", { data: { tag_values: tagValues } }).then(function (response) {
      response.valid.forEach(function (tag) {
        validTagHashtags[tag.value] = tag.url;
      });
      checkedTagHashtags.push.apply(checkedTagHashtags, tagValues);
    });
  }
});
define("discourse/lib/mobile", ["exports", "discourse-common/lib/deprecated", "discourse-common/config/environment"], function (exports, _deprecated, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.forceMobile = forceMobile;
  exports.resetMobile = resetMobile;


  var mobileForced = false;

  //  An object that is responsible for logic related to mobile devices.
  var Mobile = {
    isMobileDevice: false,
    mobileView: false,

    init: function init() {
      var $html = $("html");
      this.isMobileDevice = mobileForced || $html.hasClass("mobile-device");
      this.mobileView = mobileForced || $html.hasClass("mobile-view");

      if (_environment.default.environment === "test" || mobileForced) {
        return;
      }

      try {
        if (window.location.search.match(/mobile_view=1/)) {
          localStorage.mobileView = true;
        }
        if (window.location.search.match(/mobile_view=0/)) {
          localStorage.mobileView = false;
        }
        if (window.location.search.match(/mobile_view=auto/)) {
          localStorage.removeItem("mobileView");
        }
        if (localStorage.mobileView) {
          var savedValue = localStorage.mobileView === "true";
          if (savedValue !== this.mobileView) {
            this.reloadPage(savedValue);
          }
        }
      } catch (err) {
        // localStorage may be disabled, just skip this
        // you get security errors if it is disabled
      }
    },
    toggleMobileView: function toggleMobileView() {
      try {
        if (localStorage) {
          localStorage.mobileView = !this.mobileView;
        }
      } catch (err) {
        // localStorage may be disabled, skip
      }
      this.reloadPage(!this.mobileView);
    },
    reloadPage: function reloadPage(mobile) {
      window.location.assign(window.location.pathname + "?mobile_view=" + (mobile ? "1" : "0"));
    }
  };

  function forceMobile() {
    mobileForced = true;
  }

  function resetMobile() {
    mobileForced = false;
  }

  Object.defineProperty(Discourse, "Mobile", {
    get: function get() {
      (0, _deprecated.default)("`Discourse.Mobile` is deprecated, use `this.site.mobileView` instead");
      return Mobile;
    }
  });

  exports.default = Mobile;
});
define("discourse/lib/optional-service", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (name) {
    return computed(function (defaultName) {
      return getOwner(this).lookup("service:" + (name || dasherize(defaultName)));
    });
  };

  var _Ember = Ember,
      computed = _Ember.computed,
      getOwner = _Ember.getOwner,
      dasherize = _Ember.String.dasherize;
});
define("discourse/lib/page-tracker", ["exports", "@ember/runloop"], function (exports, _runloop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.setTransient = setTransient;
  exports.getTransient = getTransient;
  exports.resetPageTracking = resetPageTracking;
  exports.startPageTracking = startPageTracking;
  exports.addGTMPageChangedCallback = addGTMPageChangedCallback;
  exports.googleTagManagerPageChanged = googleTagManagerPageChanged;

  var _started = false;
  var cache = {};
  var transitionCount = 0;

  function setTransient(key, data, count) {
    cache[key] = { data: data, target: transitionCount + count };
  }

  function getTransient(key) {
    return cache[key];
  }

  function resetPageTracking() {
    _started = false;
    transitionCount = 0;
    cache = {};
  }

  function startPageTracking(router, appEvents) {
    if (_started) {
      return;
    }
    router.on("routeDidChange", function (transition) {
      // we ocassionally prevent tracking of replaced pages when only query params changed
      // eg: google analytics
      var replacedOnlyQueryParams = transition.urlMethod === "replace" && transition.queryParamsOnly;

      router.send("refreshTitle");
      var url = Discourse.getURL(router.get("url"));

      // Refreshing the title is debounced, so we need to trigger this in the
      // next runloop to have the correct title.
      (0, _runloop.next)(function () {
        var title = Discourse.get("_docTitle");

        appEvents.trigger("page:changed", {
          url: url,
          title: title,
          currentRouteName: router.currentRouteName,
          replacedOnlyQueryParams: replacedOnlyQueryParams
        });
      });

      transitionCount++;
      Object.keys(cache).forEach(function (k) {
        var v = cache[k];
        if (v && v.target && v.target < transitionCount) {
          delete cache[k];
        }
      });
    });

    _started = true;
  }

  var _gtmPageChangedCallbacks = [];

  function addGTMPageChangedCallback(callback) {
    _gtmPageChangedCallbacks.push(callback);
  }

  function googleTagManagerPageChanged(data) {
    var gtmData = {
      event: "virtualPageView",
      page: {
        title: data.title,
        url: data.url
      }
    };

    _gtmPageChangedCallbacks.forEach(function (callback) {
      return callback(gtmData);
    });

    window.dataLayer.push(gtmData);
  }
});
define("discourse/lib/plugin-api", ["exports", "discourse-common/lib/deprecated", "discourse-common/lib/icon-library", "discourse/widgets/post-cooked", "discourse/components/plugin-connector", "discourse/components/composer-editor", "discourse/components/discourse-banner", "discourse/widgets/post-menu", "discourse/lib/transform-post", "discourse/lib/highlight-syntax", "discourse/components/d-editor", "discourse/components/mount-widget", "discourse/components/global-notice", "discourse/widgets/widget", "discourse/widgets/post-stream", "virtual-dom", "discourse/controllers/composer", "discourse/lib/plugin-connectors", "discourse/widgets/post-small-action", "discourse/lib/register-topic-footer-button", "discourse/controllers/discovery-sortable", "discourse/lib/render-tags", "discourse/widgets/user-menu", "discourse/widgets/post", "discourse/widgets/header", "discourse/helpers/category-link", "discourse/lib/render-tag", "discourse/models/nav-item", "discourse/lib/utilities", "select-kit/mixins/plugin-api", "discourse/lib/page-tracker", "discourse/helpers/user-avatar", "discourse/widgets/poster-name", "discourse/controllers/topic", "discourse/lib/sharing", "discourse/components/edit-category-settings", "discourse/models/composer", "@ember/object/evented"], function (exports, _deprecated, _iconLibrary, _postCooked, _pluginConnector, _composerEditor, _discourseBanner, _postMenu, _transformPost, _highlightSyntax, _dEditor, _mountWidget, _globalNotice, _widget, _postStream, _virtualDom, _composer, _pluginConnectors, _postSmallAction, _registerTopicFooterButton2, _discoverySortable, _renderTags, _userMenu, _post, _header, _categoryLink, _renderTag, _navItem, _utilities, _pluginApi, _pageTracker, _userAvatar, _posterName, _topic, _sharing, _editCategorySettings, _composer2, _evented) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.withPluginApi = withPluginApi;
  exports.resetPluginApi = resetPluginApi;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  // If you add any methods to the API ensure you bump up this number
  var PLUGIN_API_VERSION = "0.8.38";

  var PluginApi = function () {
    function PluginApi(version, container) {
      _classCallCheck(this, PluginApi);

      this.version = version;
      this.container = container;
      this.h = _virtualDom.h;
    }

    /**
     * Use this function to retrieve the currently logged in user within your plugin.
     * If the user is not logged in, it will be `null`.
     **/


    _createClass(PluginApi, [{
      key: "getCurrentUser",
      value: function getCurrentUser() {
        return this._lookupContainer("current-user:main");
      }
    }, {
      key: "_lookupContainer",
      value: function _lookupContainer(path) {
        if (!this.container || this.container.isDestroying || this.container.isDestroyed) {
          return;
        }

        return this.container.lookup(path);
      }
    }, {
      key: "_resolveClass",
      value: function _resolveClass(resolverName, opts) {
        opts = opts || {};

        if (this.container.cache[resolverName]) {
          // eslint-disable-next-line no-console
          console.warn("\"" + resolverName + "\" was already cached in the container. Changes won't be applied.");
        }

        var klass = this.container.factoryFor(resolverName);
        if (!klass) {
          if (!opts.ignoreMissing) {
            // eslint-disable-next-line no-console
            console.warn("\"" + resolverName + "\" was not found by modifyClass");
          }
          return;
        }

        return klass;
      }
    }, {
      key: "modifyClass",
      value: function modifyClass(resolverName, changes, opts) {
        var klass = this._resolveClass(resolverName, opts);
        if (klass) {
          klass.class.reopen(changes);
        }
        return klass;
      }
    }, {
      key: "modifyClassStatic",
      value: function modifyClassStatic(resolverName, changes, opts) {
        var klass = this._resolveClass(resolverName, opts);
        if (klass) {
          klass.class.reopenClass(changes);
        }
        return klass;
      }
    }, {
      key: "registerIconRenderer",
      value: function registerIconRenderer(fn) {
        (0, _iconLibrary.registerIconRenderer)(fn);
      }
    }, {
      key: "replaceIcon",
      value: function replaceIcon(source, destination) {
        (0, _iconLibrary.replaceIcon)(source, destination);
      }
    }, {
      key: "decorateCooked",
      value: function decorateCooked(callback, opts) {
        opts = opts || {};

        (0, _postCooked.addDecorator)(callback);

        if (!opts.onlyStream) {
          decorate(_composerEditor.default, "previewRefreshed", callback, opts.id);
          decorate(_discourseBanner.default, "didInsertElement", callback, opts.id);
          decorate(this.container.factoryFor("component:user-stream").class, "didInsertElement", callback, opts.id);
        }
      }
    }, {
      key: "addPosterIcon",
      value: function addPosterIcon(cb) {
        var site = this._lookupContainer("site:main");
        var loc = site && site.mobileView ? "before" : "after";

        (0, _widget.decorateWidget)("poster-name:" + loc, function (dec) {
          var attrs = dec.attrs;
          var result = cb(attrs.userCustomFields || {}, attrs);

          if (result) {
            var iconBody = void 0;

            if (result.icon) {
              iconBody = (0, _iconLibrary.iconNode)(result.icon);
            } else if (result.emoji) {
              iconBody = result.emoji.split("|").map(function (name) {
                var widgetAttrs = { name: name };
                if (result.emojiTitle) widgetAttrs.title = true;
                return dec.attach("emoji", widgetAttrs);
              });
            }

            if (result.text) {
              iconBody = [iconBody, result.text];
            }

            if (result.url) {
              iconBody = dec.h("a", { attributes: { href: result.url } }, iconBody);
            }

            return dec.h("span.poster-icon", { className: result.className, attributes: { title: result.title } }, iconBody);
          }
        });
      }
    }, {
      key: "decorateWidget",
      value: function decorateWidget(name, fn) {
        (0, _widget.decorateWidget)(name, fn);
      }
    }, {
      key: "attachWidgetAction",
      value: function attachWidgetAction(widget, actionName, fn) {
        var widgetClass = (0, _widget.queryRegistry)(widget) || this.container.factoryFor("widget:" + widget).class;
        widgetClass.prototype[actionName] = fn;
      }
    }, {
      key: "includePostAttributes",
      value: function includePostAttributes() {
        _transformPost.includeAttributes.apply(undefined, arguments);
      }
    }, {
      key: "addPostMenuButton",
      value: function addPostMenuButton(name, callback) {
        (0, _postMenu.addButton)(name, callback);
      }
    }, {
      key: "onToolbarCreate",
      value: function onToolbarCreate(callback) {
        (0, _dEditor.addToolbarCallback)(callback);
      }
    }, {
      key: "addToolbarPopupMenuOptionsCallback",
      value: function addToolbarPopupMenuOptionsCallback(callback) {
        (0, _composer.addPopupMenuOptionsCallback)(callback);
      }
    }, {
      key: "cleanupStream",
      value: function cleanupStream(fn) {
        (0, _mountWidget.addWidgetCleanCallback)("post-stream", fn);
      }
    }, {
      key: "onPageChange",
      value: function onPageChange(fn) {
        this.onAppEvent("page:changed", function (data) {
          return fn(data.url, data.title);
        });
      }
    }, {
      key: "onAppEvent",
      value: function onAppEvent(name, fn) {
        var appEvents = this._lookupContainer("service:app-events");
        appEvents && appEvents.on(name, fn);
      }
    }, {
      key: "customUserAvatarClasses",
      value: function customUserAvatarClasses(fn) {
        (0, _userAvatar.registerCustomAvatarHelper)(fn);
      }
    }, {
      key: "disableNameSuppressionOnPosts",
      value: function disableNameSuppressionOnPosts() {
        (0, _posterName.disableNameSuppression)();
      }
    }, {
      key: "registerCustomPostMessageCallback",
      value: function registerCustomPostMessageCallback(type, callback) {
        (0, _topic.registerCustomPostMessageCallback)(type, callback);
      }
    }, {
      key: "changeWidgetSetting",
      value: function changeWidgetSetting(widgetName, settingName, newValue) {
        (0, _widget.changeSetting)(widgetName, settingName, newValue);
      }
    }, {
      key: "preventCloak",
      value: function preventCloak(postId) {
        (0, _postStream.preventCloak)(postId);
      }
    }, {
      key: "createWidget",
      value: function createWidget(name, args) {
        return (0, _widget.createWidget)(name, args);
      }
    }, {
      key: "reopenWidget",
      value: function reopenWidget(name, args) {
        return (0, _widget.reopenWidget)(name, args);
      }
    }, {
      key: "addFlagProperty",
      value: function addFlagProperty() {
        (0, _deprecated.default)("addFlagProperty has been removed. Use the reviewable API instead.");
      }
    }, {
      key: "addHeaderPanel",
      value: function addHeaderPanel(name, toggle, transformAttrs) {
        (0, _header.attachAdditionalPanel)(name, toggle, transformAttrs);
      }
    }, {
      key: "addStorePluralization",
      value: function addStorePluralization(thing, plural) {
        var store = this._lookupContainer("service:store");
        store && store.addPluralization(thing, plural);
      }
    }, {
      key: "registerConnectorClass",
      value: function registerConnectorClass(outletName, connectorName, klass) {
        (0, _pluginConnectors.extraConnectorClass)(outletName + "/" + connectorName, klass);
      }
    }, {
      key: "registerTopicFooterButton",
      value: function registerTopicFooterButton(action) {
        (0, _registerTopicFooterButton2.registerTopicFooterButton)(action);
      }
    }, {
      key: "addPostSmallActionIcon",
      value: function addPostSmallActionIcon(key, icon) {
        (0, _postSmallAction.addPostSmallActionIcon)(key, icon);
      }
    }, {
      key: "addDiscoveryQueryParam",
      value: function addDiscoveryQueryParam(param, options) {
        (0, _discoverySortable.addDiscoveryQueryParam)(param, options);
      }
    }, {
      key: "addTagsHtmlCallback",
      value: function addTagsHtmlCallback(callback, options) {
        (0, _renderTags.addTagsHtmlCallback)(callback, options);
      }
    }, {
      key: "addUserMenuGlyph",
      value: function addUserMenuGlyph(glyph) {
        (0, _userMenu.addUserMenuGlyph)(glyph);
      }
    }, {
      key: "addPostClassesCallback",
      value: function addPostClassesCallback(callback) {
        (0, _post.addPostClassesCallback)(callback);
      }
    }, {
      key: "addPostTransformCallback",
      value: function addPostTransformCallback(callback) {
        (0, _postStream.addPostTransformCallback)(callback);
      }
    }, {
      key: "addNavigationBarItem",
      value: function addNavigationBarItem(item) {
        if (!item["name"]) {
          // eslint-disable-next-line no-console
          console.warn("A 'name' is required when adding a Navigation Bar Item.", item);
        } else {
          var customHref = item.customHref;
          if (customHref) {
            var router = this.container.lookup("service:router");
            item.customHref = function (category, args) {
              return customHref(category, args, router);
            };
          }

          var customFilter = item.customFilter;
          if (customFilter) {
            var _router = this.container.lookup("service:router");
            item.customFilter = function (category, args) {
              return customFilter(category, args, _router);
            };
          }

          var forceActive = item.forceActive;
          if (forceActive) {
            var _router2 = this.container.lookup("service:router");
            item.forceActive = function (category, args) {
              return forceActive(category, args, _router2);
            };
          }

          var init = item.init;
          if (init) {
            var _router3 = this.container.lookup("service:router");
            item.init = function (navItem, category, args) {
              init(navItem, category, args, _router3);
            };
          }

          (0, _navItem.addNavItem)(item);
        }
      }
    }, {
      key: "formatUsername",
      value: function formatUsername(fn) {
        (0, _utilities.replaceFormatter)(fn);
      }
    }, {
      key: "modifySelectKit",
      value: function modifySelectKit(pluginApiKey) {
        return (0, _pluginApi.modifySelectKit)(pluginApiKey);
      }
    }, {
      key: "addGTMPageChangedCallback",
      value: function addGTMPageChangedCallback(fn) {
        (0, _pageTracker.addGTMPageChangedCallback)(fn);
      }
    }, {
      key: "addSharingSource",
      value: function addSharingSource(options) {
        _sharing.default.addSharingId(options.id);
        _sharing.default.addSource(options);
      }
    }, {
      key: "addComposerUploadHandler",
      value: function addComposerUploadHandler(extensions, method) {
        (0, _composerEditor.addComposerUploadHandler)(extensions, method);
      }
    }, {
      key: "addComposerUploadMarkdownResolver",
      value: function addComposerUploadMarkdownResolver(resolver) {
        (0, _composerEditor.addComposerUploadMarkdownResolver)(resolver);
      }
    }, {
      key: "composerBeforeSave",
      value: function composerBeforeSave(method) {
        _composer2.default.reopen({ beforeSave: method });
      }
    }, {
      key: "serializeToDraft",
      value: function serializeToDraft(fieldName, property) {
        _composer2.default.serializeToDraft(fieldName, property);
      }
    }, {
      key: "addCategorySortCriteria",
      value: function addCategorySortCriteria(criteria) {
        (0, _editCategorySettings.addCategorySortCriteria)(criteria);
      }
    }, {
      key: "replaceCategoryLinkRenderer",
      value: function replaceCategoryLinkRenderer(fn) {
        (0, _categoryLink.replaceCategoryLinkRenderer)(fn);
      }
    }, {
      key: "replaceTagRenderer",
      value: function replaceTagRenderer(fn) {
        (0, _renderTag.replaceTagRenderer)(fn);
      }
    }, {
      key: "registerHighlightJSLanguage",
      value: function registerHighlightJSLanguage(name, fn) {
        (0, _highlightSyntax.registerHighlightJSLanguage)(name, fn);
      }
    }, {
      key: "addGlobalNotice",
      value: function addGlobalNotice(id, text, options) {
        (0, _globalNotice.addGlobalNotice)(id, text, options);
      }
    }, {
      key: "decoratePluginOutlet",
      value: function decoratePluginOutlet(outletName, callback, opts) {
        (0, _pluginConnector.addPluginOutletDecorator)(outletName, callback, opts || {});
      }
    }]);

    return PluginApi;
  }();

  var _pluginv01 = void 0;

  // from http://stackoverflow.com/questions/6832596/how-to-compare-software-version-number-using-js-only-number
  function cmpVersions(a, b) {
    var i, diff;
    var regExStrip0 = /(\.0+)+$/;
    var segmentsA = a.replace(regExStrip0, "").split(".");
    var segmentsB = b.replace(regExStrip0, "").split(".");
    var l = Math.min(segmentsA.length, segmentsB.length);

    for (i = 0; i < l; i++) {
      diff = parseInt(segmentsA[i], 10) - parseInt(segmentsB[i], 10);
      if (diff) {
        return diff;
      }
    }
    return segmentsA.length - segmentsB.length;
  }

  function getPluginApi(version) {
    version = version.toString();
    if (cmpVersions(version, PLUGIN_API_VERSION) <= 0) {
      if (!_pluginv01) {
        _pluginv01 = new PluginApi(version, Discourse.__container__);
      }

      // We are recycling the compatible object, but let's update to the higher version
      if (_pluginv01.version < version) {
        _pluginv01.version = version;
      }
      return _pluginv01;
    } else {
      // eslint-disable-next-line no-console
      console.warn("Plugin API v" + version + " is not supported");
    }
  }

  /**
   * withPluginApi(version, apiCodeCallback, opts)
   *
   * Helper to version our client side plugin API. Pass the version of the API that your
   * plugin is coded against. If that API is available, the `apiCodeCallback` function will
   * be called with the `PluginApi` object.
   */
  function withPluginApi(version, apiCodeCallback, opts) {
    opts = opts || {};

    var api = getPluginApi(version);
    if (api) {
      return apiCodeCallback(api, opts);
    }
  }

  var _decorateId = 0;
  var _decorated = new WeakMap();

  function decorate(klass, evt, cb, id) {
    if (!id) {
      // eslint-disable-next-line no-console
      console.warn("`decorateCooked` should be supplied with an `id` option to avoid memory leaks.");
    } else {
      if (!_decorated.has(klass)) {
        _decorated.set(klass, new Set());
      }
      id = id + ":" + evt;
      var set = _decorated.get(klass);
      if (set.has(id)) {
        return;
      }
      set.add(id);
    }

    var mixin = {};
    mixin["_decorate_" + _decorateId++] = (0, _evented.on)(evt, function ($elem) {
      $elem = $elem || $(this.element);
      if ($elem) {
        cb($elem);
      }
    });
    klass.reopen(mixin);
  }

  function resetPluginApi() {
    _pluginv01 = null;
  }
});
define("discourse/lib/plugin-connectors", ["exports", "discourse/models/site", "discourse-common/lib/deprecated"], function (exports, _site, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.resetExtraClasses = resetExtraClasses;
  exports.extraConnectorClass = extraConnectorClass;
  exports.clearCache = clearCache;
  exports.connectorsFor = connectorsFor;
  exports.renderedConnectorsFor = renderedConnectorsFor;
  exports.rawConnectorsFor = rawConnectorsFor;
  exports.buildArgsWithDeprecations = buildArgsWithDeprecations;


  var _connectorCache = void 0;
  var _rawConnectorCache = void 0;
  var _extraConnectorClasses = {};
  var _classPaths = void 0;

  function resetExtraClasses() {
    _extraConnectorClasses = {};
    _classPaths = undefined;
  }

  // Note: In plugins, define a class by path and it will be wired up automatically
  // eg: discourse/connectors/<OUTLET NAME>/<CONNECTOR NAME>.js.es6
  function extraConnectorClass(name, obj) {
    _extraConnectorClasses[name] = obj;
  }

  var DefaultConnectorClass = {
    actions: {},
    shouldRender: function shouldRender() {
      return true;
    },
    setupComponent: function setupComponent() {},
    teardownComponent: function teardownComponent() {}
  };

  function findOutlets(collection, callback) {
    var disabledPlugins = _site.default.currentProp("disabled_plugins") || [];

    Object.keys(collection).forEach(function (res) {
      if (res.indexOf("/connectors/") !== -1) {
        // Skip any disabled plugins
        for (var i = 0; i < disabledPlugins.length; i++) {
          if (res.indexOf("/" + disabledPlugins[i] + "/") !== -1) {
            return;
          }
        }

        var segments = res.split("/");
        var outletName = segments[segments.length - 2];
        var uniqueName = segments[segments.length - 1];

        callback(outletName, res, uniqueName);
      }
    });
  }

  function clearCache() {
    _connectorCache = null;
    _rawConnectorCache = null;
  }

  function findClass(outletName, uniqueName) {
    if (!_classPaths) {
      _classPaths = {};
      findOutlets(require._eak_seen, function (outlet, res, un) {
        _classPaths[outlet + "/" + un] = requirejs(res).default;
      });
    }

    var id = outletName + "/" + uniqueName;
    var foundClass = _extraConnectorClasses[id] || _classPaths[id];

    return foundClass ? jQuery.extend({}, DefaultConnectorClass, foundClass) : DefaultConnectorClass;
  }

  function buildConnectorCache() {
    _connectorCache = {};

    findOutlets(Ember.TEMPLATES, function (outletName, resource, uniqueName) {
      _connectorCache[outletName] = _connectorCache[outletName] || [];

      _connectorCache[outletName].push({
        outletName: outletName,
        templateName: resource.replace("javascripts/", ""),
        template: Ember.TEMPLATES[resource],
        classNames: outletName + "-outlet " + uniqueName,
        connectorClass: findClass(outletName, uniqueName)
      });
    });
  }

  function buildRawConnectorCache() {
    _rawConnectorCache = {};
    findOutlets(Discourse.RAW_TEMPLATES, function (outletName, resource) {
      _rawConnectorCache[outletName] = _rawConnectorCache[outletName] || [];
      _rawConnectorCache[outletName].push({
        template: Discourse.RAW_TEMPLATES[resource]
      });
    });
  }

  function connectorsFor(outletName) {
    if (!_connectorCache) {
      buildConnectorCache();
    }
    return _connectorCache[outletName] || [];
  }

  function renderedConnectorsFor(outletName, args, context) {
    return connectorsFor(outletName).filter(function (con) {
      return con.connectorClass.shouldRender(args, context);
    });
  }

  function rawConnectorsFor(outletName) {
    if (!_rawConnectorCache) {
      buildRawConnectorCache();
    }
    return _rawConnectorCache[outletName] || [];
  }

  function buildArgsWithDeprecations(args, deprecatedArgs) {
    var output = {};

    Object.keys(args).forEach(function (key) {
      Object.defineProperty(output, key, { value: args[key] });
    });

    Object.keys(deprecatedArgs).forEach(function (key) {
      Object.defineProperty(output, key, {
        get: function get() {
          (0, _deprecated.default)(key + " is deprecated");

          return deprecatedArgs[key];
        }
      });
    });

    return output;
  }
});
define("discourse/lib/push-notifications", ["exports", "discourse/lib/ajax", "discourse/lib/key-value-store"], function (exports, _ajax, _keyValueStore) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.keyValueStore = undefined;
  exports.userSubscriptionKey = userSubscriptionKey;
  exports.isPushNotificationsSupported = isPushNotificationsSupported;
  exports.isPushNotificationsEnabled = isPushNotificationsEnabled;
  exports.register = register;
  exports.subscribe = subscribe;
  exports.unsubscribe = unsubscribe;
  var keyValueStore = exports.keyValueStore = new _keyValueStore.default("discourse_push_notifications_");

  function userSubscriptionKey(user) {
    return "subscribed-" + user.get("id");
  }

  function sendSubscriptionToServer(subscription, sendConfirmation) {
    (0, _ajax.ajax)("/push_notifications/subscribe", {
      type: "POST",
      data: {
        subscription: subscription.toJSON(),
        send_confirmation: sendConfirmation
      }
    });
  }

  function userAgentVersionChecker(agent, version, mobileView) {
    var uaMatch = navigator.userAgent.match(new RegExp(agent + "/(\\d+)\\.\\d"));
    if (uaMatch && mobileView) return false;
    if (!uaMatch || parseInt(uaMatch[1], 10) < version) return false;
    return true;
  }

  function resetIdle() {
    if ("controller" in navigator.serviceWorker && navigator.serviceWorker.controller != null) {
      navigator.serviceWorker.controller.postMessage({ lastAction: Date.now() });
    }
  }

  function setupActivityListeners(appEvents) {
    window.addEventListener("focus", resetIdle);

    if (document) {
      document.addEventListener("scroll", resetIdle);
    }

    appEvents.on("page:changed", resetIdle);
  }

  function isPushNotificationsSupported(mobileView) {
    if (!("serviceWorker" in navigator && ServiceWorkerRegistration && typeof Notification !== "undefined" && "showNotification" in ServiceWorkerRegistration.prototype && "PushManager" in window)) {
      return false;
    }

    if (!userAgentVersionChecker("Firefox", 44, mobileView) && !userAgentVersionChecker("Chrome", 50)) {
      return false;
    }

    return true;
  }

  function isPushNotificationsEnabled(user, mobileView) {
    return user && isPushNotificationsSupported(mobileView) && keyValueStore.getItem(userSubscriptionKey(user));
  }

  function register(user, mobileView, router, appEvents) {
    if (!isPushNotificationsSupported(mobileView)) return;
    if (Notification.permission === "denied" || !user) return;

    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {
      serviceWorkerRegistration.pushManager.getSubscription().then(function (subscription) {
        if (subscription) {
          sendSubscriptionToServer(subscription, false);
          // Resync localStorage
          keyValueStore.setItem(userSubscriptionKey(user), "subscribed");
        }
        setupActivityListeners(appEvents);
      }).catch(function (e) {
        // eslint-disable-next-line no-console
        console.error(e);
      });
    });

    navigator.serviceWorker.addEventListener("message", function (event) {
      if ("url" in event.data) {
        var url = event.data.url;
        router.handleURL(url);
      }
    });
  }

  function subscribe(callback, applicationServerKey, mobileView) {
    if (!isPushNotificationsSupported(mobileView)) return;

    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {
      serviceWorkerRegistration.pushManager.subscribe({
        userVisibleOnly: true,
        applicationServerKey: new Uint8Array(applicationServerKey.split("|")) // eslint-disable-line no-undef
      }).then(function (subscription) {
        sendSubscriptionToServer(subscription, true);
        if (callback) callback();
      }).catch(function (e) {
        // eslint-disable-next-line no-console
        console.error(e);
      });
    });
  }

  function unsubscribe(user, callback, mobileView) {
    if (!isPushNotificationsSupported(mobileView)) return;

    keyValueStore.setItem(userSubscriptionKey(user), "");
    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {
      serviceWorkerRegistration.pushManager.getSubscription().then(function (subscription) {
        if (subscription) {
          subscription.unsubscribe().then(function (successful) {
            if (successful) {
              (0, _ajax.ajax)("/push_notifications/unsubscribe", {
                type: "POST",
                data: { subscription: subscription.toJSON() }
              });
            }
          });
        }
      }).catch(function (e) {
        // eslint-disable-next-line no-console
        console.error(e);
      });

      if (callback) callback();
    });
  }
});
define("discourse/lib/pwa-utils", ["exports", "rsvp"], function (exports, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.nativeShare = nativeShare;
  exports.getNativeContact = getNativeContact;
  function nativeShare(data) {
    var caps = Discourse.__container__.lookup("capabilities:main");
    return new _rsvp.Promise(function (resolve, reject) {
      if (!(caps.isIOS || caps.isAndroid || caps.isWinphone)) {
        reject();
        return;
      }
      if (window.location.protocol === "https:" && typeof window.navigator.share !== "undefined") {
        window.navigator.share(data).then(resolve).catch(function (e) {
          if (e.name === "AbortError") {
            // closing share panel do nothing
          } else {
            reject();
          }
        });
      } else {
        reject();
      }
    });
  }

  function getNativeContact(properties, multiple) {
    var caps = Discourse.__container__.lookup("capabilities:main");
    return new _rsvp.Promise(function (resolve, reject) {
      if (!caps.hasContactPicker) {
        reject();
        return;
      }

      navigator.contacts.select(properties, { multiple: multiple }).then(resolve).catch(reject);
    });
  }
});
define("discourse/lib/quote-state", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var QuoteState = function () {
    function QuoteState() {
      _classCallCheck(this, QuoteState);

      this.clear();
    }

    _createClass(QuoteState, [{
      key: "selected",
      value: function selected(postId, buffer, opts) {
        this.postId = postId;
        this.buffer = buffer;
        this.opts = opts;
      }
    }, {
      key: "clear",
      value: function clear() {
        this.buffer = "";
        this.postId = null;
        this.opts = null;
      }
    }]);

    return QuoteState;
  }();

  exports.default = QuoteState;
});
define("discourse/lib/raw-templates", ["exports", "discourse-common/resolver"], function (exports, _resolver) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.findRawTemplate = findRawTemplate;
  function findRawTemplate(name) {
    if ((0, _resolver.getResolverOption)("mobileView")) {
      return Discourse.RAW_TEMPLATES["javascripts/mobile/" + name] || Discourse.RAW_TEMPLATES["javascripts/" + name] || Discourse.RAW_TEMPLATES["mobile/" + name] || Discourse.RAW_TEMPLATES[name];
    }

    return Discourse.RAW_TEMPLATES["javascripts/" + name] || Discourse.RAW_TEMPLATES[name];
  }
});
define("discourse/lib/register-topic-footer-button", ["exports", "@ember/error", "@ember/object"], function (exports, _error, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.registerTopicFooterButton = registerTopicFooterButton;
  exports.getTopicFooterButtons = getTopicFooterButtons;
  exports.clearTopicFooterButtons = clearTopicFooterButtons;

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  var _topicFooterButtons = {};

  function registerTopicFooterButton(button) {
    if (!button.id) {
      (0, _error.default)("Attempted to register a topic button: " + button + " with no id.");
      return;
    }

    if (_topicFooterButtons[button.id]) {
      return;
    }

    var defaultButton = {
      // id of the button, required
      id: null,

      // icon displayed on the button
      icon: null,

      // local key path for title attribute
      title: null,
      translatedTitle: null,

      // local key path for label
      label: null,
      translatedLabel: null,

      // is this button disaplyed in the mobile dropdown or as an inline button ?
      dropdown: false,

      // css class appended to the button
      classNames: [],

      // discourseComputed properties which should force a button state refresh
      // eg: ["topic.bookmarked", "topic.category_id"]
      dependentKeys: [],

      // should we display this button ?
      displayed: true,

      // is this button disabled ?
      disabled: false,

      // display order, higher comes first
      priority: 0
    };

    var normalizedButton = Object.assign(defaultButton, button);

    if (!normalizedButton.icon && !normalizedButton.title && !normalizedButton.translatedTitle) {
      (0, _error.default)("Attempted to register a topic button: " + button.id + " with no icon or title.");
      return;
    }

    _topicFooterButtons[normalizedButton.id] = normalizedButton;
  }

  function getTopicFooterButtons() {
    var _ref;

    var dependentKeys = (_ref = []).concat.apply(_ref, _toConsumableArray(Object.values(_topicFooterButtons).map(function (tfb) {
      return tfb.dependentKeys;
    }).filter(function (x) {
      return x;
    })));

    return _object.computed.apply(undefined, _toConsumableArray(dependentKeys).concat([{
      get: function get() {
        var _this = this;

        var _isFunction = function _isFunction(descriptor) {
          return descriptor && typeof descriptor === "function";
        };

        var _compute = function _compute(button, property) {
          var field = button[property];

          if (_isFunction(field)) {
            return field.apply(_this);
          }

          return field;
        };

        return Object.values(_topicFooterButtons).filter(function (button) {
          return _compute(button, "displayed");
        }).map(function (button) {
          var discourseComputedButon = {};

          discourseComputedButon.id = button.id;

          var label = _compute(button, "label");
          discourseComputedButon.label = label ? I18n.t(label) : _compute(button, "translatedLabel");

          var title = _compute(button, "title");
          discourseComputedButon.title = title ? I18n.t(title) : _compute(button, "translatedTitle");

          discourseComputedButon.classNames = (_compute(button, "classNames") || []).join(" ");

          discourseComputedButon.icon = _compute(button, "icon");
          discourseComputedButon.disabled = _compute(button, "disabled");
          discourseComputedButon.dropdown = _compute(button, "dropdown");
          discourseComputedButon.priority = _compute(button, "priority");

          if (_isFunction(button.action)) {
            discourseComputedButon.action = function () {
              return button.action.apply(_this);
            };
          } else {
            var actionName = button.action;
            discourseComputedButon.action = function () {
              return _this[actionName]();
            };
          }

          return discourseComputedButon;
        }).sortBy("priority").reverse();
      }
    }]));
  }

  function clearTopicFooterButtons() {
    _topicFooterButtons = [];
  }
});
define("discourse/lib/render-tag", ["exports", "discourse/models/user"], function (exports, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.replaceTagRenderer = replaceTagRenderer;
  exports.defaultRenderTag = defaultRenderTag;
  exports.default = renderTag;


  var _renderer = defaultRenderTag;

  function replaceTagRenderer(fn) {
    _renderer = fn;
  }

  function defaultRenderTag(tag, params) {
    params = params || {};
    var visibleName = Handlebars.Utils.escapeExpression(tag);
    tag = visibleName.toLowerCase();
    var classes = ["discourse-tag"];
    var tagName = params.tagName || "a";
    var path = void 0;
    if (tagName === "a" && !params.noHref) {
      if ((params.isPrivateMessage || params.pmOnly) && _user.default.current()) {
        var username = params.tagsForUser ? params.tagsForUser : _user.default.current().username;
        path = "/u/" + username + "/messages/tags/" + tag;
      } else {
        path = "/tag/" + tag;
      }
    }
    var href = path ? " href='" + Discourse.getURL(path) + "' " : "";

    if (Discourse.SiteSettings.tag_style || params.style) {
      classes.push(params.style || Discourse.SiteSettings.tag_style);
    }
    if (params.size) {
      classes.push(params.size);
    }

    var val = "<" + tagName + href + " data-tag-name=" + tag + " class='" + classes.join(" ") + "'>" + visibleName + "</" + tagName + ">";

    if (params.count) {
      val += " <span class='discourse-tag-count'>x" + params.count + "</span>";
    }

    return val;
  }

  function renderTag(tag, params) {
    return _renderer(tag, params);
  }
});
define("discourse/lib/render-tags", ["exports", "discourse/lib/render-tag"], function (exports, _renderTag) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addTagsHtmlCallback = addTagsHtmlCallback;

  exports.default = function (topic, params) {
    var tags = topic.tags;
    var buffer = "";
    var tagsForUser = null;
    var tagName = void 0;
    var isPrivateMessage = topic.get("isPrivateMessage");

    if (params) {
      if (params.mode === "list") {
        tags = topic.get("visibleListTags");
      }
      if (params.tagsForUser) {
        tagsForUser = params.tagsForUser;
      }
      if (params.tagName) {
        tagName = params.tagName;
      }
    }

    var customHtml = null;
    if (callbacks) {
      callbacks.forEach(function (c) {
        var html = c(topic, params);
        if (html) {
          if (customHtml) {
            customHtml += html;
          } else {
            customHtml = html;
          }
        }
      });
    }

    if (customHtml || tags && tags.length > 0) {
      buffer = "<div class='discourse-tags'>";
      if (tags) {
        for (var i = 0; i < tags.length; i++) {
          buffer += (0, _renderTag.default)(tags[i], { isPrivateMessage: isPrivateMessage, tagsForUser: tagsForUser, tagName: tagName }) + " ";
        }
      }

      if (customHtml) {
        buffer += customHtml;
      }

      buffer += "</div>";
    }
    return buffer;
  };

  var callbacks = null;
  var priorities = null;

  function addTagsHtmlCallback(callback, options) {
    callbacks = callbacks || [];
    priorities = priorities || [];
    var priority = options && options.priority || 0;

    var i = 0;
    while (i < priorities.length && priorities[i] > priority) {
      i += 1;
    }

    priorities.splice(i, 0, priority);
    callbacks.splice(i, 0, callback);
  }
});
define("discourse/lib/render-topic-featured-link", ["exports", "virtual-dom", "discourse-common/lib/icon-library", "discourse/models/user"], function (exports, _virtualDom, _iconLibrary, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addFeaturedLinkMetaDecorator = addFeaturedLinkMetaDecorator;
  exports.extractLinkMeta = extractLinkMeta;
  exports.default = renderTopicFeaturedLink;
  exports.topicFeaturedLinkNode = topicFeaturedLinkNode;


  var _decorators = [];

  function addFeaturedLinkMetaDecorator(decorator) {
    _decorators.push(decorator);
  }

  function extractLinkMeta(topic) {
    var href = topic.get("featured_link");
    var target = _user.default.currentProp("external_links_in_new_tab") ? "_blank" : "";

    if (!href) {
      return;
    }

    var meta = {
      target: target,
      href: href,
      domain: topic.get("featured_link_root_domain"),
      rel: "nofollow ugc"
    };

    if (_decorators.length) {
      _decorators.forEach(function (cb) {
        return cb(meta);
      });
    }

    return meta;
  }

  function renderTopicFeaturedLink(topic) {
    var meta = extractLinkMeta(topic);
    if (meta) {
      return "<a class=\"topic-featured-link\" rel=\"" + meta.rel + "\" target=\"" + meta.target + "\" href=\"" + meta.href + "\">" + (0, _iconLibrary.renderIcon)("string", "external-link-alt") + " " + meta.domain + "</a>";
    } else {
      return "";
    }
  }
  function topicFeaturedLinkNode(topic) {
    var meta = extractLinkMeta(topic);
    if (meta) {
      return (0, _virtualDom.h)("a.topic-featured-link", {
        attributes: { href: meta.href, rel: meta.rel, target: meta.target }
      }, [(0, _iconLibrary.renderIcon)("node", "external-link-alt"), meta.domain]);
    }
  }
});
define("discourse/lib/reports-loader", ["exports", "@ember/runloop", "discourse/lib/ajax"], function (exports, _runloop, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  var debounce = _runloop.run.debounce;


  var _queue = [];
  var _processing = 0;

  // max number of reports which will be requested in one bulk request
  var MAX_JOB_SIZE = 4;

  // max number of concurrent bulk requests
  var MAX_CONCURRENCY = 3;

  // max number of jobs stored, first entered jobs will be evicted first
  var MAX_QUEUE_SIZE = 20;

  var BULK_REPORTS_ENDPOINT = "/admin/reports/bulk";

  var DEBOUNCING_DELAY = 50;

  exports.default = {
    enqueue: function enqueue(type, params, callback) {
      // makes sures the queue is not filling indefinitely
      if (_queue.length >= MAX_QUEUE_SIZE) {
        var removedJobs = _queue.splice(0, 1)[0];
        removedJobs.forEach(function (job) {
          // this is technically not a 429, but it's the result
          // of client doing too many requests so we want the same
          // behavior
          job.runnable()(429);
        });
      }

      _queue.push({ runnable: function runnable() {
          return callback;
        }, type: type, params: params });

      debounce(this, this._processQueue, DEBOUNCING_DELAY);
    },
    _processQueue: function _processQueue() {
      var _this = this;

      if (_queue.length === 0) return;
      if (_processing >= MAX_CONCURRENCY) return;

      _processing++;

      var jobs = _queue.splice(0, MAX_JOB_SIZE);

      // if queue has still jobs after splice, we request a future processing
      if (_queue.length > 0) {
        debounce(this, this._processQueue, DEBOUNCING_DELAY);
      }

      var reports = {};
      jobs.forEach(function (job) {
        reports[job.type] = job.params;
      });

      (0, _ajax.ajax)(BULK_REPORTS_ENDPOINT, { data: { reports: reports } }).then(function (response) {
        jobs.forEach(function (job) {
          var report = response.reports.findBy("type", job.type);
          job.runnable()(report);
        });
      }).catch(function (data) {
        jobs.forEach(function (job) {
          if (data.jqXHR && data.jqXHR.status === 429) {
            job.runnable()(429);
          } else if (data.jqXHR && data.jqXHR.status === 500) {
            job.runnable()(500);
          } else {
            job.runnable()();
          }
        });
      }).finally(function () {
        _processing--;

        debounce(_this, _this._processQueue, DEBOUNCING_DELAY);
      });
    },
    _reset: function _reset() {
      _queue = [];
      _processing = 0;
    }
  };
});
define("discourse/lib/round", ["exports", "discourse/lib/decimal-adjust"], function (exports, _decimalAdjust) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (value, exp) {
    return (0, _decimalAdjust.default)("round", value, exp);
  };
});
define("discourse/lib/screen-track", ["exports", "@ember/runloop", "discourse/lib/ajax"], function (exports, _runloop, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  // We use this class to track how long posts in a topic are on the screen.
  var PAUSE_UNLESS_SCROLLED = 1000 * 60 * 3;
  var MAX_TRACKING_TIME = 1000 * 60 * 6;
  var ANON_MAX_TOPIC_IDS = 5;

  var _default = function () {
    function _default(topicTrackingState, siteSettings, session, currentUser) {
      _classCallCheck(this, _default);

      this.topicTrackingState = topicTrackingState;
      this.siteSettings = siteSettings;
      this.session = session;
      this.currentUser = currentUser;
      this.reset();
    }

    _createClass(_default, [{
      key: "start",
      value: function start(topicId, topicController) {
        var _this = this;

        var currentTopicId = this._topicId;
        if (currentTopicId && currentTopicId !== topicId) {
          this.tick();
          this.flush();
        }

        this.reset();

        // Create an interval timer if we don't have one.
        if (!this._interval) {
          this._interval = setInterval(function () {
            return _this.tick();
          }, 1000);
          this._boundScrolled = (0, _runloop.bind)(this, this.scrolled);
          $(window).on("scroll.screentrack", this._boundScrolled);
        }

        this._topicId = topicId;
        this._topicController = topicController;
      }
    }, {
      key: "stop",
      value: function stop() {
        // already stopped no need to "extra stop"
        if (!this._topicId) {
          return;
        }

        if (this._boundScrolled) {
          $(window).off("scroll.screentrack", this._boundScrolled);
        }

        this.tick();
        this.flush();
        this.reset();

        this._topicId = null;
        this._topicController = null;

        if (this._interval) {
          clearInterval(this._interval);
          this._interval = null;
        }
      }
    }, {
      key: "setOnscreen",
      value: function setOnscreen(onscreen, readOnscreen) {
        this._onscreen = onscreen;
        this._readOnscreen = readOnscreen;
      }
    }, {
      key: "reset",
      value: function reset() {
        var now = new Date().getTime();
        this._lastTick = now;
        this._lastScrolled = now;
        this._lastFlush = 0;
        this._timings = {};
        this._totalTimings = {};
        this._topicTime = 0;
        this._onscreen = [];
        this._readOnscreen = [];
        this._readPosts = {};
        this._inProgress = false;
      }
    }, {
      key: "scrolled",
      value: function scrolled() {
        this._lastScrolled = new Date().getTime();
      }
    }, {
      key: "registerAnonCallback",
      value: function registerAnonCallback(cb) {
        this._anonCallback = cb;
      }
    }, {
      key: "flush",
      value: function flush() {
        var _this2 = this;

        var newTimings = {};
        var totalTimings = this._totalTimings;

        var timings = this._timings;
        Object.keys(this._timings).forEach(function (postNumber) {
          var time = timings[postNumber];
          totalTimings[postNumber] = totalTimings[postNumber] || 0;

          if (time > 0 && totalTimings[postNumber] < MAX_TRACKING_TIME) {
            totalTimings[postNumber] += time;
            newTimings[postNumber] = time;
          }
          timings[postNumber] = 0;
        });

        var topicId = parseInt(this._topicId, 10);
        var highestSeen = 0;

        // Workaround to avoid ignored posts being "stuck unread"
        var controller = this._topicController;
        var stream = controller ? controller.get("model.postStream") : null;
        if (this.currentUser && // Logged in
        this.currentUser.get("ignored_users.length") && // At least 1 user is ignored
        stream && // Sanity check
        stream.hasNoFilters && // The stream is not filtered (by username or summary)
        !stream.canAppendMore && // We are at the end of the stream
        stream.posts.lastObject && // The last post exists
        stream.posts.lastObject.read && // The last post is read
        stream.gaps && // The stream has gaps
        !!stream.gaps.after[stream.posts.lastObject.id] && // Stream ends with a gap
        stream.topic.last_read_post_number !== stream.posts.lastObject.post_number + stream.get("gaps.after." + stream.posts.lastObject.id + ".length") // The last post in the gap has not been marked read
        ) {
            newTimings[stream.posts.lastObject.post_number + stream.get("gaps.after." + stream.posts.lastObject.id + ".length")] = 1;
          }

        Object.keys(newTimings).forEach(function (postNumber) {
          highestSeen = Math.max(highestSeen, parseInt(postNumber, 10));
        });

        var highestSeenByTopic = this.session.get("highestSeenByTopic");
        if ((highestSeenByTopic[topicId] || 0) < highestSeen) {
          highestSeenByTopic[topicId] = highestSeen;
        }

        this.topicTrackingState.updateSeen(topicId, highestSeen);

        if (!$.isEmptyObject(newTimings)) {
          if (this.currentUser) {
            this._inProgress = true;

            (0, _ajax.ajax)("/topics/timings", {
              data: {
                timings: newTimings,
                topic_time: this._topicTime,
                topic_id: topicId
              },
              cache: false,
              type: "POST",
              headers: {
                "X-SILENCE-LOGGER": "true"
              }
            }).then(function () {
              var topicController = _this2._topicController;
              if (topicController) {
                var postNumbers = Object.keys(newTimings).map(function (v) {
                  return parseInt(v, 10);
                });
                topicController.readPosts(topicId, postNumbers);
              }
            }).catch(function (e) {
              var error = e.jqXHR;
              if (error.status === 405 && error.responseJSON.error_type === "read_only") return;
            }).finally(function () {
              _this2._inProgress = false;
              _this2._lastFlush = 0;
            });
          } else if (this._anonCallback) {
            // Anonymous viewer - save to localStorage
            var storage = this.keyValueStore;

            // Save total time
            var existingTime = storage.getInt("anon-topic-time");
            storage.setItem("anon-topic-time", existingTime + this._topicTime);

            // Save unique topic IDs up to a max
            var topicIds = storage.get("anon-topic-ids");
            if (topicIds) {
              topicIds = topicIds.split(",").map(function (e) {
                return parseInt(e, 10);
              });
            } else {
              topicIds = [];
            }
            if (topicIds.indexOf(topicId) === -1 && topicIds.length < ANON_MAX_TOPIC_IDS) {
              topicIds.push(topicId);
              storage.setItem("anon-topic-ids", topicIds.join(","));
            }

            // Inform the observer
            this._anonCallback();

            // No need to call controller.readPosts()
          }

          this._topicTime = 0;
        }

        this._lastFlush = 0;
      }
    }, {
      key: "tick",
      value: function tick() {
        var _this3 = this;

        var now = new Date().getTime();

        // If the user hasn't scrolled the browser in a long time, stop tracking time read
        var sinceScrolled = now - this._lastScrolled;
        if (sinceScrolled > PAUSE_UNLESS_SCROLLED) {
          return;
        }

        var diff = now - this._lastTick;
        this._lastFlush += diff;
        this._lastTick = now;

        var totalTimings = this._totalTimings;
        var timings = this._timings;
        var nextFlush = this.siteSettings.flush_timings_secs * 1000;

        var rush = Object.keys(timings).some(function (postNumber) {
          return timings[postNumber] > 0 && !totalTimings[postNumber] && !_this3._readPosts[postNumber];
        });

        if (!this._inProgress && (this._lastFlush > nextFlush || rush)) {
          this.flush();
        }

        if (Discourse.get("hasFocus")) {
          this._topicTime += diff;

          this._onscreen.forEach(function (postNumber) {
            return timings[postNumber] = (timings[postNumber] || 0) + diff;
          });

          this._readOnscreen.forEach(function (postNumber) {
            _this3._readPosts[postNumber] = true;
          });
        }
      }
    }]);

    return _default;
  }();

  exports.default = _default;
});
define("discourse/lib/settings", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.prioritizeNameInUx = prioritizeNameInUx;
  function prioritizeNameInUx(name, siteSettings) {
    siteSettings = siteSettings || Discourse.SiteSettings;

    return !siteSettings.prioritize_username_in_ux && name && name.trim().length > 0;
  }
});
define("discourse/lib/sharing", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  /**
    If you want to add a new sharing source to Discourse, you can do so like this:
  
    ```javascript
      import Sharing from 'discourse/lib/sharing';
  
      Sharing.addSource({
  
        // This id must be present in the `share_links` site setting too
        id: 'twitter',
  
        // The icon that will be displayed, choose between icon name `icon` and custom HTML `htmlIcon`.
        // When both provided, prefer `icon`
        icon: 'twitter-square'
        htmlIcon: '<img src="example.com/example.jpg">',
  
        // A callback for generating the remote link from the `link` and `title`
        generateUrl: function(link, title) {
          return "http://twitter.com/intent/tweet?url=" + encodeURIComponent(link) + "&text=" + encodeURIComponent(title);
        },
  
        // If provided, handle by custom javascript rather than default url open
        clickHandler: function(link, title){
          alert("Hello!")
        }
  
        // If true, opens in a popup of `popupHeight` size. If false it's opened in a new tab
        shouldOpenInPopup: true,
        popupHeight: 265
      });
    ```
  **/

  var _sources = {};
  var _customSharingIds = [];

  exports.default = {
    // allows to by pass site settings and add a sharing id through plugin api
    // useful for theme components for example when only few users want to add
    // sharing to a specific third party
    addSharingId: function addSharingId(id) {
      _customSharingIds.push(id);
    },
    addSource: function addSource(source) {
      // backwards compatibility for plugins
      if (source.faIcon) {
        source.icon = source.faIcon.replace("fa-", "");
        delete source.faIcon;
      }

      _sources[source.id] = source;
    },
    shareSource: function shareSource(source, data) {
      if (source.clickHandler) {
        source.clickHandler(data.url, data.title);
      } else {
        var url = source.generateUrl(data.url, data.title);
        var options = {
          menubar: "no",
          toolbar: "no",
          resizable: "yes",
          scrollbars: "yes",
          width: 600,
          height: source.popupHeight || 315
        };
        var stringOptions = Object.keys(options).map(function (k) {
          return k + "=" + options[k];
        }).join(",");

        if (source.shouldOpenInPopup) {
          window.open(url, "", stringOptions);
        } else {
          window.open(url, "_blank");
        }
      }
    },
    activeSources: function activeSources() {
      var linksSetting = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";

      return linksSetting.split("|").concat(_customSharingIds).map(function (s) {
        return _sources[s];
      }).compact();
    },
    _reset: function _reset() {
      _sources = {};
      _customSharingIds = [];
    }
  };
});
define("discourse/lib/static-route-builder", ["exports", "discourse/routes/discourse", "discourse/models/static-page", "discourse/lib/url"], function (exports, _discourse, _staticPage, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (page) {
    return _discourse.default.extend({
      renderTemplate: function renderTemplate() {
        this.render("static");
      },
      beforeModel: function beforeModel(transition) {
        var configKey = configs[page];
        if (configKey && Discourse.SiteSettings[configKey].length > 0) {
          transition.abort();
          _url.default.redirectTo(Discourse.SiteSettings[configKey]);
        }
      },
      activate: function activate() {
        this._super.apply(this, arguments);
        (0, _url.jumpToElement)(document.location.hash.substr(1));
      },
      model: function model() {
        return _staticPage.default.find(page);
      },
      setupController: function setupController(controller, model) {
        this.controllerFor("static").set("model", model);
      },
      titleToken: function titleToken() {
        return I18n.t(page);
      },


      actions: {
        didTransition: function didTransition() {
          this.controllerFor("application").set("showFooter", true);
          return true;
        }
      }
    });
  };

  var configs = {
    faq: "faq_url",
    tos: "tos_url",
    privacy: "privacy_policy_url"
  };
});
define("discourse/lib/svg-sprite-loader", ["exports", "discourse/lib/load-script"], function (exports, _loadScript) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "svg-sprite-loader",
    load: function load(spritePath, spriteName) {
      var c = "svg-sprites";
      var $cEl = "#" + c;
      var $spriteEl = $cEl + " ." + spriteName;

      if ($($cEl).length === 0) $("body").append("<div id=\"" + c + "\">");

      if ($($spriteEl).length === 0) $($cEl).append("<div class=\"" + spriteName + "\">");

      (0, _loadScript.default)(spritePath).then(function () {
        $($spriteEl).html(window.__svg_sprite);
        // we got to clean up here... this is one giant string
        delete window.__svg_sprite;
      });
    }
  };
});
define("discourse/lib/tag-hashtags", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  var TAG_HASHTAG_POSTFIX = exports.TAG_HASHTAG_POSTFIX = "::tag";
});
define("discourse/lib/theme-selector", ["exports", "discourse/lib/ajax", "discourse-common/lib/deprecated"], function (exports, _ajax, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.currentThemeKey = currentThemeKey;
  exports.currentThemeIds = currentThemeIds;
  exports.currentThemeId = currentThemeId;
  exports.setLocalTheme = setLocalTheme;
  exports.refreshCSS = refreshCSS;
  exports.previewTheme = previewTheme;
  exports.listThemes = listThemes;


  var keySelector = "meta[name=discourse_theme_ids]";

  function currentThemeKey() {
    // eslint-disable-next-line no-console
    if (console && console.warn && console.trace) {
      // TODO: Remove this code Jan 2019
      (0, _deprecated.default)("'currentThemeKey' is is deprecated use 'currentThemeId' instead. A theme component may require updating.");
    }
  }

  function currentThemeIds() {
    var themeIds = [];
    var elem = _.first($(keySelector));
    if (elem) {
      elem.content.split(",").forEach(function (num) {
        num = parseInt(num, 10);
        if (!isNaN(num)) {
          themeIds.push(num);
        }
      });
    }
    return themeIds;
  }

  function currentThemeId() {
    return currentThemeIds()[0];
  }

  function setLocalTheme(ids, themeSeq) {
    ids = ids.reject(function (id) {
      return !id;
    });
    if (ids && ids.length > 0) {
      $.cookie("theme_ids", ids.join(",") + "|" + themeSeq, {
        path: "/",
        expires: 9999
      });
    } else {
      $.removeCookie("theme_ids", { path: "/", expires: 1 });
    }
  }

  function refreshCSS(node, hash, newHref) {
    var $orig = $(node);

    if ($orig.data("reloading")) {
      clearTimeout($orig.data("timeout"));
      $orig.data("copy").remove();
    }

    if (!$orig.data("orig")) {
      $orig.data("orig", node.href);
    }

    $orig.data("reloading", true);

    var orig = $(node).data("orig");

    var reloaded = $orig.clone(true);
    if (hash) {
      reloaded[0].href = orig + (orig.indexOf("?") >= 0 ? "&hash=" : "?hash=") + hash;
    } else {
      reloaded[0].href = newHref;
    }

    $orig.after(reloaded);

    var timeout = setTimeout(function () {
      $orig.remove();
      reloaded.data("reloading", false);
    }, 2000);

    $orig.data("timeout", timeout);
    $orig.data("copy", reloaded);
  }

  function previewTheme() {
    var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

    ids = ids.reject(function (id) {
      return !id;
    });
    if (!ids.includes(currentThemeId())) {
      Discourse.set("assetVersion", "forceRefresh");

      (0, _ajax.ajax)("/themes/assets/" + (ids.length > 0 ? ids.join("-") : "default")).then(function (results) {
        var elem = _.first($(keySelector));
        if (elem) {
          elem.content = ids.join(",");
        }

        results.themes.forEach(function (theme) {
          var node = $("link[rel=stylesheet][data-target=" + theme.target + "]")[0];
          if (node) {
            refreshCSS(node, null, theme.new_href);
          }
        });
      });
    }
  }

  function listThemes(site) {
    var themes = site.get("user_themes");

    if (!themes) {
      return null;
    }

    var hasDefault = !!themes.findBy("default", true);

    var results = [];
    if (!hasDefault) {
      results.push({ name: I18n.t("themes.default_description"), id: null });
    }

    themes.forEach(function (t) {
      results.push({ name: t.name, id: t.theme_id });
    });

    return results.length === 0 ? null : results;
  }
});
define("discourse/lib/tooltip", ["exports", "discourse-common/lib/deprecated", "discourse/lib/utilities"], function (exports, _deprecated, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.showTooltip = showTooltip;
  exports.hideTooltip = hideTooltip;
  exports.registerTooltip = registerTooltip;
  exports.registerHoverTooltip = registerHoverTooltip;
  exports.unregisterTooltip = unregisterTooltip;
  exports.unregisterHoverTooltip = unregisterHoverTooltip;


  var fadeSpeed = 300;
  var tooltipID = "#discourse-tooltip";

  function showTooltip(e) {
    var $this = $(e.currentTarget),
        $parent = $this.offsetParent();
    // html tooltip are risky try your best to sanitize anything
    // displayed as html to avoid XSS attacks
    var content = $this.attr("data-tooltip") ? (0, _utilities.escapeExpression)($this.attr("data-tooltip")) : $this.attr("data-html-tooltip") || "";
    var retina = window.devicePixelRatio && window.devicePixelRatio > 1 ? "class='retina'" : "";

    var pos = $this.offset();
    var delta = $parent.offset();
    pos.top -= delta.top;
    pos.left -= delta.left;

    hideTooltip(tooltipID);

    $this.after("\n    <div id=\"discourse-tooltip\" " + retina + ">\n      <div class=\"tooltip-pointer\"></div>\n      <div class=\"tooltip-content\">" + content + "</div>\n    </div>\n  ");

    $(window).on("click.discourse", function (event) {
      if ($(event.target).closest(tooltipID).length === 0) {
        $(tooltipID).remove();
        $(window).off("click.discourse");
      }
      return true;
    });

    var $tooltip = $(tooltipID);
    $tooltip.css({ top: 0, left: 0 });

    var left = pos.left - $tooltip.width() / 2 + $this.width() / 2;
    if (left < 0) {
      $tooltip.find(".tooltip-pointer").css({
        "margin-left": left * 2 + "px"
      });
      left = 0;
    }

    // also do a right margin fix
    var parentWidth = $parent.width();
    if (left + $tooltip.width() > parentWidth) {
      var oldLeft = left;
      left = parentWidth - $tooltip.width();

      $tooltip.find(".tooltip-pointer").css({
        "margin-left": (oldLeft - left) * 2 + "px"
      });
    }

    $tooltip.css({
      top: pos.top + 5 + "px",
      left: left + "px"
    });

    $tooltip.fadeIn(fadeSpeed);

    return false;
  }

  function hideTooltip() {
    $(tooltipID).fadeOut(fadeSpeed).remove();
  }

  function registerTooltip(jqueryContext) {
    (0, _deprecated.default)("tooltip is getting deprecated. Use d-popover instead");

    if (jqueryContext.length) {
      jqueryContext.off("click").on("click", function (event) {
        return showTooltip(event);
      });
    }
  }

  function registerHoverTooltip(jqueryContext) {
    (0, _deprecated.default)("tooltip is getting deprecated. Use d-popover instead");

    if (jqueryContext.length) {
      jqueryContext.off("mouseenter mouseleave click").on("mouseenter click", showTooltip).on("mouseleave", hideTooltip);
    }
  }

  function unregisterTooltip(jqueryContext) {
    if (jqueryContext.length) {
      jqueryContext.off("click");
    }
  }

  function unregisterHoverTooltip(jqueryContext) {
    if (jqueryContext.length) {
      jqueryContext.off("mouseenter mouseleave click");
    }
  }
});
define("discourse/lib/transform-post", ["exports", "@ember/utils", "discourse/lib/url"], function (exports, _utils, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.includeAttributes = includeAttributes;
  exports.transformBasicPost = transformBasicPost;
  exports.default = transformPost;


  var _additionalAttributes = [];

  function includeAttributes() {
    for (var _len = arguments.length, attributes = Array(_len), _key = 0; _key < _len; _key++) {
      attributes[_key] = arguments[_key];
    }

    attributes.forEach(function (a) {
      return _additionalAttributes.push(a);
    });
  }

  function transformBasicPost(post) {
    // Note: it can be dangerous to not use `get` in Ember code, but this is significantly
    // faster and has tests to confirm it works. We only call `get` when the property is a CP
    var postAtts = {
      id: post.id,
      hidden: post.hidden,
      deleted: post.get("deleted"),
      deleted_at: post.deleted_at,
      user_deleted: post.user_deleted,
      isDeleted: post.deleted_at || post.user_deleted, // xxxxx
      deletedByAvatarTemplate: null,
      deletedByUsername: null,
      primary_group_name: post.primary_group_name,
      primary_group_flair_url: post.primary_group_flair_url,
      primary_group_flair_bg_color: post.primary_group_flair_bg_color,
      primary_group_flair_color: post.primary_group_flair_color,
      wiki: post.wiki,
      lastWikiEdit: post.last_wiki_edit,
      firstPost: post.post_number === 1,
      post_number: post.post_number,
      cooked: post.cooked,
      via_email: post.via_email,
      isAutoGenerated: post.is_auto_generated,
      user_id: post.user_id,
      usernameUrl: (0, _url.userPath)(post.username),
      username: post.username,
      avatar_template: post.avatar_template,
      bookmarked: post.bookmarked,
      bookmarkedWithReminder: post.bookmarked_with_reminder,
      bookmarkReminderAt: post.bookmark_reminder_at,
      yours: post.yours,
      shareUrl: post.get("shareUrl"),
      staff: post.staff,
      admin: post.admin,
      moderator: post.moderator,
      new_user: post.trust_level === 0,
      name: post.name,
      user_title: post.user_title,
      created_at: post.created_at,
      updated_at: post.updated_at,
      canDelete: post.can_delete,
      showFlagDelete: false,
      canRecover: post.can_recover,
      canEdit: post.can_edit,
      canFlag: !(0, _utils.isEmpty)(post.get("flagsAvailable")),
      canReviewTopic: false,
      reviewableId: post.reviewable_id,
      reviewableScoreCount: post.reviewable_score_count,
      reviewableScorePendingCount: post.reviewable_score_pending_count,
      version: post.version,
      canRecoverTopic: false,
      canDeleteTopic: false,
      canViewEditHistory: post.can_view_edit_history,
      canWiki: post.can_wiki,
      showLike: false,
      liked: false,
      canToggleLike: false,
      likeCount: false,
      actionsSummary: null,
      read: post.read,
      replyToUsername: null,
      replyToAvatarTemplate: null,
      reply_to_post_number: post.reply_to_post_number,
      cooked_hidden: !!post.cooked_hidden,
      expandablePost: false,
      replyCount: post.reply_count,
      locked: post.locked,
      userCustomFields: post.user_custom_fields,
      readCount: post.readers_count
    };

    _additionalAttributes.forEach(function (a) {
      return postAtts[a] = post[a];
    });

    return postAtts;
  }

  function transformPost(currentUser, site, post, prevPost, nextPost) {
    // Note: it can be dangerous to not use `get` in Ember code, but this is significantly
    // faster and has tests to confirm it works. We only call `get` when the property is a CP
    var postType = post.post_type;
    var postTypes = site.post_types;
    var topic = post.topic;
    var details = topic.get("details");

    var postAtts = transformBasicPost(post);

    var createdBy = details.created_by || {};

    postAtts.topicId = topic.id;
    postAtts.topicOwner = createdBy.id === post.user_id;
    postAtts.topicCreatedById = createdBy.id;
    postAtts.post_type = postType;
    postAtts.via_email = post.via_email;
    postAtts.isAutoGenerated = post.is_auto_generated;
    postAtts.isModeratorAction = postType === postTypes.moderator_action;
    postAtts.isWhisper = postType === postTypes.whisper;
    postAtts.isSmallAction = postType === postTypes.small_action || post.action_code === "split_topic";
    postAtts.canBookmark = !!currentUser;
    postAtts.canManage = currentUser && currentUser.get("canManageTopic");
    postAtts.canViewRawEmail = currentUser && (currentUser.id === post.user_id || currentUser.staff);
    postAtts.canReplyAsNewTopic = details.can_reply_as_new_topic;
    postAtts.canReviewTopic = !!details.can_review_topic;
    postAtts.isWarning = topic.is_warning;
    postAtts.links = post.get("internalLinks");
    postAtts.replyDirectlyBelow = nextPost && nextPost.reply_to_post_number === post.post_number;
    postAtts.replyDirectlyAbove = prevPost && post.reply_to_post_number === prevPost.post_number;
    postAtts.linkCounts = post.link_counts;
    postAtts.actionCode = post.action_code;
    postAtts.actionCodeWho = post.action_code_who;
    postAtts.topicUrl = topic.get("url");
    postAtts.isSaving = post.isSaving;

    if (post.notice_type) {
      postAtts.noticeType = post.notice_type;
      if (postAtts.noticeType === "custom") {
        postAtts.noticeMessage = post.notice_args;
      } else if (postAtts.noticeType === "returning_user") {
        postAtts.noticeTime = new Date(post.notice_args);
      }
    }

    var showPMMap = topic.archetype === "private_message" && post.post_number === 1;
    if (showPMMap) {
      postAtts.showPMMap = true;
      postAtts.allowedGroups = details.allowed_groups;
      postAtts.allowedUsers = details.allowed_users;
      postAtts.canRemoveAllowedUsers = details.can_remove_allowed_users;
      postAtts.canRemoveSelfId = details.can_remove_self_id;
      postAtts.canInvite = details.can_invite_to;
    }

    var showTopicMap = showPMMap || post.post_number === 1 && topic.archetype === "regular" && topic.posts_count > 1;
    if (showTopicMap) {
      postAtts.showTopicMap = true;
      postAtts.topicCreatedAt = topic.created_at;
      postAtts.createdByUsername = createdBy.username;
      postAtts.createdByAvatarTemplate = createdBy.avatar_template;
      postAtts.createdByName = createdBy.name;

      postAtts.lastPostUrl = topic.get("lastPostUrl");
      postAtts.lastPostUsername = details.last_poster.username;
      postAtts.lastPostAvatarTemplate = details.last_poster.avatar_template;
      postAtts.lastPostName = details.last_poster.name;
      postAtts.lastPostAt = topic.last_posted_at;

      postAtts.topicReplyCount = topic.get("replyCount");
      postAtts.topicViews = topic.views;
      postAtts.topicViewsHeat = topic.get("viewsHeat");

      postAtts.participantCount = topic.participant_count;
      postAtts.topicLikeCount = topic.like_count;
      postAtts.topicLinks = details.links;
      if (postAtts.topicLinks) {
        postAtts.topicLinkLength = details.links.length;
      }
      postAtts.topicPostsCount = topic.posts_count;

      postAtts.participants = details.participants;

      var postStream = topic.get("postStream");
      postAtts.userFilters = postStream.userFilters;
      postAtts.topicSummaryEnabled = postStream.summary;
      postAtts.topicWordCount = topic.word_count;
      postAtts.hasTopicSummary = topic.has_summary;
    }

    if (postAtts.isDeleted) {
      postAtts.deletedByAvatarTemplate = post.get("postDeletedBy.avatar_template");
      postAtts.deletedByUsername = post.get("postDeletedBy.username");
    }

    var replyToUser = post.get("reply_to_user");
    if (replyToUser) {
      postAtts.replyToUsername = replyToUser.username;
      postAtts.replyToAvatarTemplate = replyToUser.avatar_template;
    }

    if (post.actions_summary) {
      postAtts.actionsSummary = post.actions_summary.filter(function (a) {
        return a.actionType.name_key !== "like" && a.acted;
      }).map(function (a) {
        var action = a.actionType.name_key;

        return {
          id: a.id,
          postId: post.id,
          action: action,
          canUndo: a.can_undo,
          description: I18n.t("post.actions.by_you." + action)
        };
      });
    }

    var likeAction = post.likeAction;
    if (likeAction) {
      postAtts.liked = likeAction.acted;
      postAtts.canToggleLike = likeAction.get("canToggle");
      postAtts.showLike = postAtts.liked || postAtts.canToggleLike;
      postAtts.likeCount = likeAction.count;
    }

    if (!currentUser) {
      postAtts.showLike = !topic.archived;
    }

    if (postAtts.post_number === 1) {
      postAtts.canRecoverTopic = postAtts.isDeleted && details.can_recover;
      postAtts.canDeleteTopic = !postAtts.isDeleted && details.can_delete;
      postAtts.expandablePost = topic.expandable_first_post;

      // Show a "Flag to delete" message if not staff and you can't
      // otherwise delete it.
      postAtts.showFlagDelete = !postAtts.canDelete && postAtts.yours && currentUser && !currentUser.staff;
    } else {
      postAtts.canRecover = postAtts.isDeleted && postAtts.canRecover;
      postAtts.canDelete = postAtts.canDelete && !post.deleted_at && currentUser && (currentUser.staff || !post.user_deleted);
    }

    _additionalAttributes.forEach(function (a) {
      return postAtts[a] = post[a];
    });

    return postAtts;
  }
});
define("discourse/lib/uploads", ["exports", "discourse/lib/utilities"], function (exports, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.markdownNameFromFileName = markdownNameFromFileName;
  exports.validateUploadedFiles = validateUploadedFiles;
  exports.authorizedExtensions = authorizedExtensions;
  exports.authorizesAllExtensions = authorizesAllExtensions;
  exports.authorizesOneOrMoreExtensions = authorizesOneOrMoreExtensions;
  exports.authorizesOneOrMoreImageExtensions = authorizesOneOrMoreImageExtensions;
  exports.isImage = isImage;
  exports.isVideo = isVideo;
  exports.isAudio = isAudio;
  exports.allowsImages = allowsImages;
  exports.allowsAttachments = allowsAttachments;
  exports.uploadIcon = uploadIcon;
  exports.getUploadMarkdown = getUploadMarkdown;
  exports.displayErrorForUpload = displayErrorForUpload;

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  function isGUID(value) {
    return (/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(value)
    );
  }

  function markdownNameFromFileName(fileName) {
    var name = fileName.substr(0, fileName.lastIndexOf("."));

    if ((0, _utilities.isAppleDevice)() && isGUID(name)) {
      name = I18n.t("upload_selector.default_image_alt_text");
    }

    return name.replace(/\[|\]|\|/g, "");
  }

  function validateUploadedFiles(files, opts) {
    if (!files || files.length === 0) {
      return false;
    }

    if (files.length > 1) {
      bootbox.alert(I18n.t("post.errors.too_many_uploads"));
      return false;
    }

    var upload = files[0];

    // CHROME ONLY: if the image was pasted, sets its name to a default one
    if (typeof Blob !== "undefined" && typeof File !== "undefined") {
      if (upload instanceof Blob && !(upload instanceof File) && upload.type === "image/png") {
        upload.name = "image.png";
      }
    }

    opts = opts || {};
    opts.type = uploadTypeFromFileName(upload.name);

    return validateUploadedFile(upload, opts);
  }

  function validateUploadedFile(file, opts) {
    if (opts.skipValidation) return true;

    opts = opts || {};
    var user = opts.user;
    var staff = user && user.staff;

    if (!authorizesOneOrMoreExtensions(staff)) return false;

    var name = file && file.name;

    if (!name) {
      return false;
    }

    // check that the uploaded file is authorized
    if (opts.allowStaffToUploadAnyFileInPm && opts.isPrivateMessage) {
      if (staff) {
        return true;
      }
    }

    if (opts.imagesOnly) {
      if (!isImage(name) && !isAuthorizedImage(name, staff)) {
        bootbox.alert(I18n.t("post.errors.upload_not_authorized", {
          authorized_extensions: authorizedImagesExtensions(staff)
        }));
        return false;
      }
    } else if (opts.csvOnly) {
      if (!/\.csv$/i.test(name)) {
        bootbox.alert(I18n.t("user.invited.bulk_invite.error"));
        return false;
      }
    } else {
      if (!authorizesAllExtensions(staff) && !isAuthorizedFile(name, staff)) {
        bootbox.alert(I18n.t("post.errors.upload_not_authorized", {
          authorized_extensions: authorizedExtensions(staff)
        }));
        return false;
      }
    }

    if (!opts.bypassNewUserRestriction) {
      // ensures that new users can upload a file
      if (user && !user.isAllowedToUploadAFile(opts.type)) {
        bootbox.alert(I18n.t("post.errors." + opts.type + "_upload_not_allowed_for_new_user"));
        return false;
      }
    }

    // everything went fine
    return true;
  }

  var IMAGES_EXTENSIONS_REGEX = /(png|jpe?g|gif|svg|ico)/i;

  function extensionsToArray(exts) {
    return exts.toLowerCase().replace(/[\s\.]+/g, "").split("|").filter(function (ext) {
      return ext.indexOf("*") === -1;
    });
  }

  function extensions() {
    return extensionsToArray(Discourse.SiteSettings.authorized_extensions);
  }

  function staffExtensions() {
    return extensionsToArray(Discourse.SiteSettings.authorized_extensions_for_staff);
  }

  function imagesExtensions(staff) {
    var exts = extensions().filter(function (ext) {
      return IMAGES_EXTENSIONS_REGEX.test(ext);
    });
    if (staff) {
      var staffExts = staffExtensions().filter(function (ext) {
        return IMAGES_EXTENSIONS_REGEX.test(ext);
      });
      exts = _.union(exts, staffExts);
    }
    return exts;
  }

  function extensionsRegex() {
    return new RegExp("\\.(" + extensions().join("|") + ")$", "i");
  }

  function imagesExtensionsRegex(staff) {
    return new RegExp("\\.(" + imagesExtensions(staff).join("|") + ")$", "i");
  }

  function staffExtensionsRegex() {
    return new RegExp("\\.(" + staffExtensions().join("|") + ")$", "i");
  }

  function isAuthorizedFile(fileName, staff) {
    if (staff && staffExtensionsRegex().test(fileName)) {
      return true;
    }
    return extensionsRegex().test(fileName);
  }

  function isAuthorizedImage(fileName, staff) {
    return imagesExtensionsRegex(staff).test(fileName);
  }

  function authorizedExtensions(staff) {
    var exts = staff ? [].concat(_toConsumableArray(extensions()), _toConsumableArray(staffExtensions())) : extensions();
    return exts.filter(function (ext) {
      return ext.length > 0;
    }).join(", ");
  }

  function authorizedImagesExtensions(staff) {
    return authorizesAllExtensions(staff) ? "png, jpg, jpeg, gif, svg, ico" : imagesExtensions(staff).join(", ");
  }

  function authorizesAllExtensions(staff) {
    return Discourse.SiteSettings.authorized_extensions.indexOf("*") >= 0 || Discourse.SiteSettings.authorized_extensions_for_staff.indexOf("*") >= 0 && staff;
  }

  function authorizesOneOrMoreExtensions(staff) {
    if (authorizesAllExtensions(staff)) return true;

    return Discourse.SiteSettings.authorized_extensions.split("|").filter(function (ext) {
      return ext;
    }).length > 0;
  }

  function authorizesOneOrMoreImageExtensions(staff) {
    if (authorizesAllExtensions(staff)) return true;
    return imagesExtensions(staff).length > 0;
  }

  function isImage(path) {
    return (/\.(png|webp|jpe?g|gif|svg|ico)$/i.test(path)
    );
  }

  function isVideo(path) {
    return (/\.(mov|mp4|webm|m4v|3gp|ogv|avi|mpeg|ogv)$/i.test(path)
    );
  }

  function isAudio(path) {
    return (/\.(mp3|og[ga]|opus|wav|m4[abpr]|aac|flac)$/i.test(path)
    );
  }

  function uploadTypeFromFileName(fileName) {
    return isImage(fileName) ? "image" : "attachment";
  }

  function allowsImages(staff) {
    return authorizesAllExtensions(staff) || IMAGES_EXTENSIONS_REGEX.test(authorizedExtensions(staff));
  }

  function allowsAttachments(staff) {
    return authorizesAllExtensions(staff) || authorizedExtensions(staff).split(", ").length > imagesExtensions(staff).length;
  }

  function uploadIcon(staff) {
    return allowsAttachments(staff) ? "upload" : "far-image";
  }

  function imageMarkdown(upload) {
    return "![" + markdownNameFromFileName(upload.original_filename) + "|" + upload.thumbnail_width + "x" + upload.thumbnail_height + "](" + (upload.short_url || upload.url) + ")";
  }

  function playableMediaMarkdown(upload, type) {
    return "![" + markdownNameFromFileName(upload.original_filename) + "|" + type + "](" + upload.short_url + ")";
  }

  function attachmentMarkdown(upload) {
    return "[" + upload.original_filename + "|attachment](" + upload.short_url + ") (" + I18n.toHumanSize(upload.filesize) + ")";
  }

  function getUploadMarkdown(upload) {
    if (isImage(upload.original_filename)) {
      return imageMarkdown(upload);
    } else if (isAudio(upload.original_filename)) {
      return playableMediaMarkdown(upload, "audio");
    } else if (isVideo(upload.original_filename)) {
      return playableMediaMarkdown(upload, "video");
    } else {
      return attachmentMarkdown(upload);
    }
  }

  function displayErrorForUpload(data) {
    if (data.jqXHR) {
      switch (data.jqXHR.status) {
        // cancelled by the user
        case 0:
          return;

        // entity too large, usually returned from the web server
        case 413:
          var type = uploadTypeFromFileName(data.files[0].name);
          var max_size_kb = Discourse.SiteSettings["max_" + type + "_size_kb"];
          bootbox.alert(I18n.t("post.errors.file_too_large", { max_size_kb: max_size_kb }));
          return;

        // the error message is provided by the server
        case 422:
          if (data.jqXHR.responseJSON.message) {
            bootbox.alert(data.jqXHR.responseJSON.message);
          } else {
            bootbox.alert(data.jqXHR.responseJSON.errors.join("\n"));
          }
          return;
      }
    } else if (data.errors && data.errors.length > 0) {
      bootbox.alert(data.errors.join("\n"));
      return;
    }
    // otherwise, display a generic error message
    bootbox.alert(I18n.t("post.errors.upload"));
  }
});
define("discourse/lib/user-activation", ["exports", "discourse/lib/ajax", "discourse/lib/ajax-error", "discourse/lib/url"], function (exports, _ajax, _ajaxError, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.resendActivationEmail = resendActivationEmail;
  exports.changeEmail = changeEmail;
  function resendActivationEmail(username) {
    return (0, _ajax.ajax)((0, _url.userPath)("action/send_activation_email"), {
      type: "POST",
      data: { username: username }
    }).catch(_ajaxError.popupAjaxError);
  }

  function changeEmail(data) {
    return (0, _ajax.ajax)((0, _url.userPath)("update-activation-email"), { data: data, type: "PUT" });
  }
});
define("discourse/lib/webauthn", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.stringToBuffer = stringToBuffer;
  exports.bufferToBase64 = bufferToBase64;
  exports.isWebauthnSupported = isWebauthnSupported;
  exports.getWebauthnCredential = getWebauthnCredential;

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  function stringToBuffer(str) {
    var buffer = new ArrayBuffer(str.length);
    var byteView = new Uint8Array(buffer);
    for (var i = 0; i < str.length; i++) {
      byteView[i] = str.charCodeAt(i);
    }
    return buffer;
  }

  function bufferToBase64(buffer) {
    return btoa(String.fromCharCode.apply(String, _toConsumableArray(new Uint8Array(buffer))));
  }

  function isWebauthnSupported() {
    return typeof PublicKeyCredential !== "undefined";
  }

  function getWebauthnCredential(challenge, allowedCredentialIds, successCallback, errorCallback) {
    if (!isWebauthnSupported()) {
      return errorCallback(I18n.t("login.security_key_support_missing_error"));
    }

    var challengeBuffer = stringToBuffer(challenge);
    var allowCredentials = allowedCredentialIds.map(function (credentialId) {
      return {
        id: stringToBuffer(atob(credentialId)),
        type: "public-key"
      };
    });

    navigator.credentials.get({
      publicKey: {
        challenge: challengeBuffer,
        allowCredentials: allowCredentials,
        timeout: 60000,

        // see https://chromium.googlesource.com/chromium/src/+/master/content/browser/webauth/uv_preferred.md for why
        // default value of preferred is not necesarrily what we want, it limits webauthn to only devices that support
        // user verification, which usually requires entering a PIN
        userVerification: "discouraged"
      }
    }).then(function (credential) {
      // 1. if there is a credential, check if the raw ID base64 matches
      // any of the allowed credential ids
      if (!allowedCredentialIds.some(function (credentialId) {
        return bufferToBase64(credential.rawId) === credentialId;
      })) {
        return errorCallback(I18n.t("login.security_key_no_matching_credential_error"));
      }

      var credentialData = {
        signature: bufferToBase64(credential.response.signature),
        clientData: bufferToBase64(credential.response.clientDataJSON),
        authenticatorData: bufferToBase64(credential.response.authenticatorData),
        credentialId: bufferToBase64(credential.rawId)
      };
      successCallback(credentialData);
    }).catch(function (err) {
      if (err.name === "NotAllowedError") {
        return errorCallback(I18n.t("login.security_key_not_allowed_error"));
      }
      errorCallback(err);
    });
  }
});
define("discourse/mixins/add-archetype-class", ["exports", "discourse-common/utils/decorators"], function (exports, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = (_dec = (0, _decorators.observes)("archetype"), _dec2 = (0, _decorators.on)("init"), (_obj = {
    _cleanUp: function _cleanUp() {
      $("body").removeClass(function (_, css) {
        return (css.match(/\barchetype-\S+/g) || []).join(" ");
      });
    },
    _archetypeChanged: function _archetypeChanged() {
      var archetype = this.archetype;
      this._cleanUp();

      if (archetype) {
        $("body").addClass("archetype-" + archetype);
      }
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      this._cleanUp();
    }
  }, (_applyDecoratedDescriptor(_obj, "_archetypeChanged", [_dec, _dec2], Object.getOwnPropertyDescriptor(_obj, "_archetypeChanged"), _obj)), _obj));
});
define("discourse/mixins/buffered-content", ["exports", "@ember/object/proxy", "@ember/object/mixin", "@ember/object"], function (exports, _proxy, _mixin, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.bufferedProperty = bufferedProperty;


  /* global BufferedProxy: true */
  function bufferedProperty(property) {
    var mixin = {
      buffered: (0, _object.computed)(property, function () {
        return _proxy.default.extend(BufferedProxy).create({
          content: this.get(property)
        });
      }),

      rollbackBuffer: function rollbackBuffer() {
        this.buffered.discardBufferedChanges();
      },

      commitBuffer: function commitBuffer() {
        this.buffered.applyBufferedChanges();
      }
    };

    // It's a good idea to null out fields when declaring objects
    mixin.property = null;

    return _mixin.default.create(mixin);
  }

  exports.default = bufferedProperty("content");
});
define("discourse/mixins/bulk-topic-selection", ["exports", "@ember/object/computed", "discourse/lib/notification-levels", "discourse-common/utils/decorators", "@ember/object/mixin", "discourse/models/topic"], function (exports, _computed, _notificationLevels, _decorators, _mixin, _topic) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _mixin.default.create((_dec = (0, _decorators.on)("init"), (_obj = {
    bulkSelectEnabled: false,
    selected: null,

    canBulkSelect: (0, _computed.alias)("currentUser.staff"),

    resetSelected: function resetSelected() {
      this.set("selected", []);
    },


    actions: {
      toggleBulkSelect: function toggleBulkSelect() {
        this.toggleProperty("bulkSelectEnabled");
        this.selected.clear();
      },
      dismissRead: function dismissRead(operationType, categoryOptions) {
        var _this = this;

        var operation = void 0;
        if (operationType === "posts") {
          operation = { type: "dismiss_posts" };
        } else {
          operation = {
            type: "change_notification_level",
            notification_level_id: _notificationLevels.NotificationLevels.REGULAR
          };
        }

        var promise = void 0;
        if (this.selected.length > 0) {
          promise = _topic.default.bulkOperation(this.selected, operation);
        } else {
          promise = _topic.default.bulkOperationByFilter("unread", operation, this.get("category.id"), categoryOptions);
        }

        promise.then(function (result) {
          if (result && result.topic_ids) {
            var tracker = _this.topicTrackingState;
            result.topic_ids.forEach(function (t) {
              return tracker.removeTopic(t);
            });
            tracker.incrementMessageCount();
          }

          _this.send("closeModal");
          _this.send("refresh");
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "resetSelected", [_dec], Object.getOwnPropertyDescriptor(_obj, "resetSelected"), _obj)), _obj)));
});
define("discourse/mixins/can-check-emails", ["exports", "@ember/object/computed", "discourse/lib/computed", "@ember/object/mixin"], function (exports, _computed, _computed2, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    isCurrentUser: (0, _computed2.propertyEqual)("model.id", "currentUser.id"),
    showEmailOnProfile: (0, _computed2.setting)("moderators_view_emails"),
    canStaffCheckEmails: (0, _computed.and)("showEmailOnProfile", "currentUser.staff"),
    canAdminCheckEmails: (0, _computed.alias)("currentUser.admin"),
    canCheckEmails: (0, _computed.or)("isCurrentUser", "canStaffCheckEmails", "canAdminCheckEmails")
  });
});
define("discourse/mixins/card-contents-base", ["exports", "@ember/object/computed", "@ember/runloop", "discourse/lib/intercept-click", "discourse/lib/after-transition", "discourse/lib/url", "@ember/object/mixin"], function (exports, _computed, _runloop, _interceptClick, _afterTransition, _url, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    elementId: null, //click detection added for data-{elementId}
    triggeringLinkClass: null, //the <a> classname where this card should appear
    _showCallback: null, //username, $target - load up data for when show is called, should call this._positionCard($target) when it's done.

    postStream: (0, _computed.alias)("topic.postStream"),
    viewingTopic: (0, _computed.match)("currentPath", /^topic\./),

    visible: false,
    username: null,
    loading: null,
    cardTarget: null,
    post: null,
    isFixed: false,
    isDocked: false,

    _show: function _show(username, $target) {
      // No user card for anon
      if (this.siteSettings.hide_user_profiles_from_public && !this.currentUser) {
        return false;
      }

      username = Ember.Handlebars.Utils.escapeExpression(username.toString());

      // Don't show if nested
      if ($target.parents(".card-content").length) {
        this._close();
        _url.default.routeTo($target.attr("href"));
        return false;
      }

      var currentUsername = this.username;
      if (username === currentUsername && this.loading === username) {
        return;
      }

      var postId = $target.parents("article").data("post-id");
      var wasVisible = this.visible;
      var previousTarget = this.cardTarget;
      var target = $target[0];

      if (wasVisible) {
        this._close();
        if (target === previousTarget) {
          return;
        }
      }

      var post = this.viewingTopic && postId ? this.postStream.findLoadedPost(postId) : null;
      this.setProperties({
        username: username,
        loading: username,
        cardTarget: target,
        post: post
      });

      this._showCallback(username, $target);

      // We bind scrolling on mobile after cards are shown to hide them if user scrolls
      if (this.site.mobileView) {
        this._bindMobileScroll();
      }

      return false;
    },
    didInsertElement: function didInsertElement() {
      var _this = this;

      this._super.apply(this, arguments);
      (0, _afterTransition.default)($(this.element), this._hide.bind(this));
      var id = this.elementId;
      var triggeringLinkClass = this.triggeringLinkClass;
      var clickOutsideEventName = "mousedown.outside-" + id;
      var clickDataExpand = "click.discourse-" + id;
      var clickMention = "click.discourse-" + id + "-" + triggeringLinkClass;
      var previewClickEvent = "click.discourse-preview-" + id + "-" + triggeringLinkClass;
      var mobileScrollEvent = "scroll.mobile-card-cloak";

      this.setProperties({
        clickOutsideEventName: clickOutsideEventName,
        clickDataExpand: clickDataExpand,
        clickMention: clickMention,
        previewClickEvent: previewClickEvent,
        mobileScrollEvent: mobileScrollEvent
      });

      $("html").off(clickOutsideEventName).on(clickOutsideEventName, function (e) {
        if (_this.visible) {
          var $target = $(e.target);
          if ($target.closest("[data-" + id + "]").data(id) || $target.closest("a." + triggeringLinkClass).length > 0 || $target.closest("#" + id).length > 0) {
            return;
          }

          _this._close();
        }

        return true;
      });

      $("#main-outlet").on(clickDataExpand, "[data-" + id + "]", function (e) {
        if ((0, _interceptClick.wantsNewWindow)(e)) {
          return;
        }
        var $target = $(e.currentTarget);
        return _this._show($target.data(id), $target);
      });

      $("#main-outlet").on(clickMention, "a." + triggeringLinkClass, function (e) {
        if ((0, _interceptClick.wantsNewWindow)(e)) {
          return;
        }
        var $target = $(e.currentTarget);
        return _this._show($target.text().replace(/^@/, ""), $target);
      });

      this.appEvents.on(previewClickEvent, this, "_previewClick");

      this.appEvents.on("topic-header:trigger-" + id, this, "_topicHeaderTrigger");
    },
    _topicHeaderTrigger: function _topicHeaderTrigger(username, $target) {
      this.setProperties({ isFixed: true, isDocked: true });
      return this._show(username, $target);
    },
    _bindMobileScroll: function _bindMobileScroll() {
      var _this2 = this;

      var mobileScrollEvent = this.mobileScrollEvent;
      var onScroll = function onScroll() {
        (0, _runloop.throttle)(_this2, _this2._close, 1000);
      };

      $(window).on(mobileScrollEvent, onScroll);
    },
    _unbindMobileScroll: function _unbindMobileScroll() {
      var mobileScrollEvent = this.mobileScrollEvent;

      $(window).off(mobileScrollEvent);
    },
    _previewClick: function _previewClick($target) {
      this.set("isFixed", true);
      return this._show($target.text().replace(/^@/, ""), $target);
    },
    _positionCard: function _positionCard(target) {
      var _this3 = this;

      var rtl = $("html").css("direction") === "rtl";
      if (!target) {
        return;
      }
      var width = $(this.element).width();
      var height = 175;
      var isFixed = this.isFixed;
      var isDocked = this.isDocked;

      var verticalAdjustments = 0;

      (0, _runloop.schedule)("afterRender", function () {
        if (target) {
          if (!_this3.site.mobileView) {
            var position = target.offset();
            if (target.parents(".d-header").length > 0) {
              position.top = target.position().top;
            }

            if (position) {
              position.bottom = "unset";

              if (rtl) {
                // The site direction is rtl
                position.right = $(window).width() - position.left + 10;
                position.left = "auto";
                var overage = $(window).width() - 50 - (position.right + width);
                if (overage < 0) {
                  position.right += overage;
                  position.top += target.height() + 48;
                  verticalAdjustments += target.height() + 48;
                }
              } else {
                // The site direction is ltr
                position.left += target.width() + 10;

                var _overage = $(window).width() - 50 - (position.left + width);
                if (_overage < 0) {
                  position.left += _overage;
                  position.top += target.height() + 48;
                  verticalAdjustments += target.height() + 48;
                }
              }

              position.top -= $("#main-outlet").offset().top;
              if (isFixed) {
                position.top -= $("html").scrollTop();
                //if content is fixed and will be cut off on the bottom, display it above...
                if (position.top + height + verticalAdjustments > $(window).height() - 50) {
                  position.bottom = $(window).height() - (target.offset().top - $("html").scrollTop());
                  if (verticalAdjustments > 0) {
                    position.bottom += 48;
                  }
                  position.top = "unset";
                }
              }

              var avatarOverflowSize = 44;
              if (isDocked && position.top < avatarOverflowSize) {
                position.top = avatarOverflowSize;
              }

              $(_this3.element).css(position);
            }
          }

          if (_this3.site.mobileView) {
            $(".card-cloak").removeClass("hidden");
            var _position = target.offset();
            _position.top = "10%"; // match modal behaviour
            _position.left = 0;
            $(_this3.element).css(_position);
          }
          $(_this3.element).toggleClass("docked-card", isDocked);

          // After the card is shown, focus on the first link
          //
          // note: we DO NOT use afterRender here cause _positionCard may
          // run afterwards, if we allowed this to happen the usercard
          // may be offscreen and we may scroll all the way to it on focus
          (0, _runloop.next)(null, function () {
            var firstLink = _this3.element.querySelector("a");
            firstLink && firstLink.focus();
          });
        }
      });
    },
    _hide: function _hide() {
      if (!this.visible) {
        $(this.element).css({ left: -9999, top: -9999 });
        if (this.site.mobileView) {
          $(".card-cloak").addClass("hidden");
        }
      }
    },
    _close: function _close() {
      this.setProperties({
        visible: false,
        username: null,
        loading: null,
        cardTarget: null,
        post: null,
        isFixed: false,
        isDocked: false
      });

      // Card will be removed, so we unbind mobile scrolling
      if (this.site.mobileView) {
        this._unbindMobileScroll();
      }
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      var clickOutsideEventName = this.clickOutsideEventName;
      var clickDataExpand = this.clickDataExpand;
      var clickMention = this.clickMention;
      var previewClickEvent = this.previewClickEvent;

      $("html").off(clickOutsideEventName);
      $("#main").off(clickDataExpand).off(clickMention);

      this.appEvents.off(previewClickEvent, this, "_previewClick");

      this.appEvents.off("topic-header:trigger-" + this.elementId, this, "_topicHeaderTrigger");
    },
    keyUp: function keyUp(e) {
      if (e.keyCode === 27) {
        // ESC
        var target = this.cardTarget;
        this._close();
        target.focus();
      }
    }
  });
});
define("discourse/mixins/cleans-up", ["exports", "@ember/object/evented", "@ember/object/mixin"], function (exports, _evented, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    _initializeChooser: (0, _evented.on)("didInsertElement", function () {
      this.appEvents.on("dom:clean", this, "cleanUp");
    }),

    _clearChooser: (0, _evented.on)("willDestroyElement", function () {
      this.appEvents.off("dom:clean", this, "cleanUp");
    })
  });
});
define("discourse/mixins/docking", ["exports", "@ember/object/mixin", "@ember/runloop"], function (exports, _mixin, _runloop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var helper = {
    offset: function offset() {
      var mainOffset = $("#main").offset();
      var offsetTop = mainOffset ? mainOffset.top : 0;
      return (window.pageYOffset || $("html").scrollTop()) - offsetTop;
    }
  };

  exports.default = _mixin.default.create({
    queueDockCheck: null,

    init: function init() {
      var _this = this;

      this._super.apply(this, arguments);
      this.queueDockCheck = function () {
        (0, _runloop.debounce)(_this, _this.safeDockCheck, 5);
      };
    },
    safeDockCheck: function safeDockCheck() {
      if (this.isDestroyed || this.isDestroying) {
        return;
      }
      this.dockCheck(helper);
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      $(window).bind("scroll.discourse-dock", this.queueDockCheck);
      $(document).bind("touchmove.discourse-dock", this.queueDockCheck);

      this.dockCheck(helper);
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      $(window).unbind("scroll.discourse-dock", this.queueDockCheck);
      $(document).unbind("touchmove.discourse-dock", this.queueDockCheck);
    }
  });
});
define("discourse/mixins/filter-mode", ["exports", "@ember/object/mixin", "@ember/object", "discourse/models/category"], function (exports, _mixin, _object, _category) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    filterModeInternal: (0, _object.computed)("rawFilterMode", "filterType", "category", "noSubcategories", function () {
      var rawFilterMode = this.rawFilterMode;
      if (rawFilterMode) {
        return rawFilterMode;
      } else {
        var category = this.category;
        var filterType = this.filterType;

        if (category) {
          var noSubcategories = this.noSubcategories;

          return "c/" + _category.default.slugFor(category) + (noSubcategories ? "/none" : "") + "/l/" + filterType;
        } else {
          return filterType;
        }
      }
    }),

    filterMode: (0, _object.computed)("filterModeInternal", {
      get: function get() {
        return this.filterModeInternal;
      },
      set: function set(key, value) {
        this.set("rawFilterMode", value);
        var parts = value.split("/");

        if (parts.length >= 2 && parts[parts.length - 2] === "top") {
          this.set("filterType", "top");
        } else {
          this.set("filterType", parts.pop());
        }

        return value;
      }
    })
  });
});
define("discourse/mixins/grant-badge-controller", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "discourse/models/user-badge", "discourse-common/lib/icon-library", "@ember/object/mixin"], function (exports, _decorators, _computed, _userBadge, _iconLibrary, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _mixin.default.create((_dec = (0, _decorators.default)("allBadges.[]", "userBadges.[]"), _dec2 = (0, _decorators.default)("selectedBadgeId", "grantableBadges"), (_obj = {
    grantableBadges: function grantableBadges(allBadges, userBadges) {
      var granted = userBadges.reduce(function (map, badge) {
        map[badge.get("badge_id")] = true;
        return map;
      }, {});

      return allBadges.filter(function (badge) {
        return badge.get("enabled") && badge.get("manually_grantable") && (!granted[badge.get("id")] || badge.get("multiple_grant"));
      }).map(function (badge) {
        if (badge.get("icon")) {
          badge.set("icon", (0, _iconLibrary.convertIconClass)(badge.icon));
        }
        return badge;
      }).sort(function (a, b) {
        return a.get("name").localeCompare(b.get("name"));
      });
    },


    noGrantableBadges: (0, _computed.empty)("grantableBadges"),

    selectedBadgeGrantable: function selectedBadgeGrantable(selectedBadgeId, grantableBadges) {
      return grantableBadges && grantableBadges.find(function (badge) {
        return badge.get("id") === selectedBadgeId;
      });
    },
    grantBadge: function grantBadge(selectedBadgeId, username, badgeReason) {
      var _this = this;

      return _userBadge.default.grant(selectedBadgeId, username, badgeReason).then(function (newBadge) {
        _this.userBadges.pushObject(newBadge);
        return newBadge;
      }, function (error) {
        throw error;
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "grantableBadges", [_dec], Object.getOwnPropertyDescriptor(_obj, "grantableBadges"), _obj), _applyDecoratedDescriptor(_obj, "selectedBadgeGrantable", [_dec2], Object.getOwnPropertyDescriptor(_obj, "selectedBadgeGrantable"), _obj)), _obj)));
});
define("discourse/mixins/key-enter-escape", ["exports", "discourse/lib/utilities"], function (exports, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    keyDown: function keyDown(e) {
      if (e.which === 27) {
        this.cancelled();
        return false;
      } else if (e.which === 13 && (e.ctrlKey || e.metaKey || (0, _utilities.isiPad)() && e.altKey)) {
        // CTRL+ENTER or CMD+ENTER
        //
        // iPad physical keyboard does not offer Command or Control detection
        // so use ALT-ENTER
        this.save();
        return false;
      }
    }
  };
});
define("discourse/mixins/load-more", ["exports", "discourse/lib/eyeline", "discourse/mixins/scrolling", "discourse-common/utils/decorators", "@ember/object/mixin"], function (exports, _eyeline, _scrolling, _decorators, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _mixin.default.create(_scrolling.default, (_dec = (0, _decorators.on)("didInsertElement"), _dec2 = (0, _decorators.on)("willDestroyElement"), (_obj = {
    scrolled: function scrolled() {
      var eyeline = this.eyeline;
      return eyeline && eyeline.update();
    },
    loadMoreUnlessFull: function loadMoreUnlessFull() {
      if (this.screenNotFull()) {
        this.send("loadMore");
      }
    },
    _bindEyeline: function _bindEyeline() {
      var _this = this;

      var eyeline = new _eyeline.default(this.eyelineSelector + ":last");
      this.set("eyeline", eyeline);
      eyeline.on("sawBottom", function () {
        return _this.send("loadMore");
      });
      eyeline.update(); // update once to consider current position
      this.bindScrolling();
    },
    _removeEyeline: function _removeEyeline() {
      this.unbindScrolling();
    }
  }, (_applyDecoratedDescriptor(_obj, "_bindEyeline", [_dec], Object.getOwnPropertyDescriptor(_obj, "_bindEyeline"), _obj), _applyDecoratedDescriptor(_obj, "_removeEyeline", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_removeEyeline"), _obj)), _obj)));
});
define("discourse/mixins/mobile-scroll-direction", ["exports", "@ember/runloop", "@ember/object/mixin"], function (exports, _runloop, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  // Small buffer so that very tiny scrolls don't trigger mobile header switch
  var MOBILE_SCROLL_TOLERANCE = 5;

  exports.default = _mixin.default.create({
    _lastScroll: null,
    _bottomHit: 0,

    calculateDirection: function calculateDirection(offset) {
      var _this = this;

      // Difference between this scroll and the one before it.
      var delta = Math.floor(offset - this._lastScroll);

      // This is a tiny scroll, so we ignore it.
      if (delta <= MOBILE_SCROLL_TOLERANCE && delta >= -MOBILE_SCROLL_TOLERANCE) return;

      // don't calculate when resetting offset (i.e. going to /latest or to next topic in suggested list)
      if (offset === 0) return;

      var prevDirection = this.mobileScrollDirection;
      var currDirection = delta > 0 ? "down" : null;

      var distanceToBottom = Math.floor($("body").height() - offset - $(window).height());

      // Handle Safari top overscroll first
      if (offset < 0) {
        this.set("mobileScrollDirection", null);
      } else if (currDirection !== prevDirection && distanceToBottom > 0) {
        this.set("mobileScrollDirection", currDirection);
      }

      // We store this to compare against it the next time the user scrolls
      this._lastScroll = Math.floor(offset);

      // Not at the bottom yet
      if (distanceToBottom > 0) {
        this._bottomHit = 0;
        return;
      }

      // If the user reaches the very bottom of the topic, we only want to reset
      // this scroll direction after a second scrolldown. This is a nicer event
      // similar to what Safari and Chrome do.
      (0, _runloop.debounce)(function () {
        _this._bottomHit = 1;
      }, 1000);

      if (this._bottomHit === 1) {
        this.set("mobileScrollDirection", null);
      }
    }
  });
});
define("discourse/mixins/modal-functionality", ["exports", "discourse/lib/show-modal", "@ember/object/mixin"], function (exports, _showModal2, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    flash: function flash(text, messageClass) {
      this.appEvents.trigger("modal-body:flash", { text: text, messageClass: messageClass });
    },
    clearFlash: function clearFlash() {
      this.appEvents.trigger("modal-body:clearFlash");
    },
    showModal: function showModal() {
      return _showModal2.default.apply(undefined, arguments);
    },


    actions: {
      closeModal: function closeModal() {
        this.modal.send("closeModal");
        this.set("panels", []);
      },
      onSelectPanel: function onSelectPanel(panel) {
        this.set("selectedPanel", panel);
      }
    }
  });
});
define("discourse/mixins/name-validation", ["exports", "@ember/utils", "discourse-common/utils/decorators", "@ember/object/mixin", "@ember/object"], function (exports, _utils, _decorators, _mixin, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _mixin.default.create((_dec = (0, _decorators.default)(), _dec2 = (0, _decorators.default)("accountName"), (_obj = {
    nameInstructions: function nameInstructions() {
      return I18n.t(this.siteSettings.full_name_required ? "user.name.instructions_required" : "user.name.instructions");
    },
    nameValidation: function nameValidation() {
      if (this.siteSettings.full_name_required && (0, _utils.isEmpty)(this.accountName)) {
        return _object.default.create({ failed: true });
      }

      return _object.default.create({ ok: true });
    }
  }, (_applyDecoratedDescriptor(_obj, "nameInstructions", [_dec], Object.getOwnPropertyDescriptor(_obj, "nameInstructions"), _obj), _applyDecoratedDescriptor(_obj, "nameValidation", [_dec2], Object.getOwnPropertyDescriptor(_obj, "nameValidation"), _obj)), _obj)));
});
define("discourse/mixins/open-composer", ["exports", "discourse/models/composer", "@ember/object/mixin"], function (exports, _composer, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    openComposer: function openComposer(controller) {
      var categoryId = controller.get("category.id");
      if (categoryId && controller.category.isUncategorizedCategory && !this.siteSettings.allow_uncategorized_topics) {
        categoryId = null;
      }

      this.controllerFor("composer").open({
        categoryId: categoryId,
        action: _composer.default.CREATE_TOPIC,
        draftKey: controller.get("model.draft_key") || _composer.default.NEW_TOPIC_KEY,
        draftSequence: controller.get("model.draft_sequence") || 0
      });
    },
    openComposerWithTopicParams: function openComposerWithTopicParams(controller, topicTitle, topicBody, topicCategoryId, topicTags) {
      this.controllerFor("composer").open({
        action: _composer.default.CREATE_TOPIC,
        topicTitle: topicTitle,
        topicBody: topicBody,
        topicCategoryId: topicCategoryId,
        topicTags: topicTags,
        draftKey: controller.get("model.draft_key") || _composer.default.NEW_TOPIC_KEY,
        draftSequence: controller.get("model.draft_sequence")
      });
    },
    openComposerWithMessageParams: function openComposerWithMessageParams(recipients, topicTitle, topicBody) {
      this.controllerFor("composer").open({
        action: _composer.default.PRIVATE_MESSAGE,
        recipients: recipients,
        topicTitle: topicTitle,
        topicBody: topicBody,
        archetypeId: "private_message",
        draftKey: _composer.default.NEW_PRIVATE_MESSAGE_KEY
      });
    }
  });
});
define("discourse/mixins/pan-events", ["exports", "@ember/object/mixin"], function (exports, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.MINIMUM_SWIPE_DISTANCE = exports.SWIPE_VELOCITY_THRESHOLD = exports.SWIPE_DISTANCE_THRESHOLD = exports.SWIPE_VELOCITY = undefined;

  /**
     Pan events is a mixin that allows components to detect and respond to swipe gestures
     It fires callbacks for panStart, panEnd, panMove with the pan state, and the original event.
   **/
  var SWIPE_VELOCITY = exports.SWIPE_VELOCITY = 40;
  var SWIPE_DISTANCE_THRESHOLD = exports.SWIPE_DISTANCE_THRESHOLD = 50;
  var SWIPE_VELOCITY_THRESHOLD = exports.SWIPE_VELOCITY_THRESHOLD = 0.12;
  var MINIMUM_SWIPE_DISTANCE = exports.MINIMUM_SWIPE_DISTANCE = 5;
  exports.default = _mixin.default.create({
    //velocity is pixels per ms

    _panState: null,

    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      this.addTouchListeners($(this.element));
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      this.removeTouchListeners($(this.element));
    },
    addTouchListeners: function addTouchListeners($element) {
      var _this = this;

      if (this.site.mobileView) {
        $element.on("touchstart", function (e) {
          return e.touches && _this._panStart(e.touches[0]);
        }).on("touchmove", function (e) {
          var touchEvent = e.touches[0];
          touchEvent.type = "pointermove";
          _this._panMove(touchEvent, e);
        }).on("touchend", function (e) {
          return _this._panMove({ type: "pointerup" }, e);
        }).on("touchcancel", function (e) {
          return _this._panMove({ type: "pointercancel" }, e);
        });
      }
    },
    removeTouchListeners: function removeTouchListeners($element) {
      if (this.site.mobileView) {
        $element.off("touchstart").off("touchmove").off("touchend").off("touchcancel");
      }
    },
    _calculateDirection: function _calculateDirection(oldState, deltaX, deltaY) {
      if (oldState.start || !oldState.direction) {
        if (Math.abs(deltaX) > Math.abs(deltaY)) {
          return deltaX > 0 ? "right" : "left";
        } else {
          return deltaY > 0 ? "down" : "up";
        }
      }
      return oldState.direction;
    },
    _calculateNewPanState: function _calculateNewPanState(oldState, e) {
      if (e.type === "pointerup" || e.type === "pointercancel") {
        return oldState;
      }
      var newTimestamp = new Date().getTime();
      var timeDiffSeconds = newTimestamp - oldState.timestamp;
      if (timeDiffSeconds === 0) {
        return oldState;
      }
      //calculate delta x, y, distance from START location
      var deltaX = e.clientX - oldState.startLocation.x;
      var deltaY = e.clientY - oldState.startLocation.y;
      var distance = Math.round(Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2)));

      //calculate velocity from previous event center location
      var eventDeltaX = e.clientX - oldState.center.x;
      var eventDeltaY = e.clientY - oldState.center.y;
      var velocityX = eventDeltaX / timeDiffSeconds;
      var velocityY = eventDeltaY / timeDiffSeconds;
      var deltaDistance = Math.sqrt(Math.pow(eventDeltaX, 2) + Math.pow(eventDeltaY, 2));
      var velocity = deltaDistance / timeDiffSeconds;

      return {
        startLocation: oldState.startLocation,
        center: { x: Math.round(e.clientX), y: Math.round(e.clientY) },
        velocity: velocity,
        velocityX: velocityX,
        velocityY: velocityY,
        deltaX: deltaX,
        deltaY: deltaY,
        distance: distance,
        start: false,
        timestamp: newTimestamp,
        direction: this._calculateDirection(oldState, deltaX, deltaY)
      };
    },
    _panStart: function _panStart(e) {
      var newState = {
        center: { x: Math.round(e.clientX), y: Math.round(e.clientY) },
        startLocation: { x: e.clientX, y: e.clientY },
        velocity: 0,
        velocityX: 0,
        velocityY: 0,
        deltaX: 0,
        deltaY: 0,
        distance: 0,
        start: true,
        timestamp: new Date().getTime(),
        direction: null
      };
      this.set("_panState", newState);
    },
    _panMove: function _panMove(e, originalEvent) {
      if (!this._panState) {
        this._panStart(e);
        return;
      }
      var previousState = this._panState;
      var newState = this._calculateNewPanState(previousState, e);
      if (previousState.start && newState.distance < MINIMUM_SWIPE_DISTANCE) {
        return;
      }
      this.set("_panState", newState);
      newState.originalEvent = originalEvent;
      if (previousState.start && "panStart" in this) {
        this.panStart(newState);
      } else if ((e.type === "pointerup" || e.type === "pointercancel") && "panEnd" in this) {
        this.panEnd(newState);
      } else if (e.type === "pointermove" && "panMove" in this) {
        this.panMove(newState);
      }
    }
  });
});
define("discourse/mixins/password-validation", ["exports", "@ember/utils", "discourse-common/utils/decorators", "@ember/object/mixin", "@ember/object"], function (exports, _utils, _decorators, _mixin, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _mixin.default.create((_dec = (0, _decorators.default)("passwordMinLength"), _dec2 = (0, _decorators.default)("isDeveloper", "admin"), _dec3 = (0, _decorators.default)("accountPassword", "passwordRequired", "rejectedPasswords.[]", "accountUsername", "accountEmail", "passwordMinLength"), (_obj = {
    rejectedPasswords: null,

    init: function init() {
      this._super.apply(this, arguments);
      this.set("rejectedPasswords", []);
      this.set("rejectedPasswordsMessages", new Map());
    },
    passwordInstructions: function passwordInstructions() {
      return I18n.t("user.password.instructions", {
        count: this.passwordMinLength
      });
    },
    passwordMinLength: function passwordMinLength(isDeveloper, admin) {
      return isDeveloper || admin ? this.siteSettings.min_admin_password_length : this.siteSettings.min_password_length;
    },
    passwordValidation: function passwordValidation(password, passwordRequired, rejectedPasswords, accountUsername, accountEmail, passwordMinLength) {
      if (!passwordRequired) {
        return _object.default.create({ ok: true });
      }

      if (rejectedPasswords.includes(password)) {
        return _object.default.create({
          failed: true,
          reason: this.rejectedPasswordsMessages.get(password) || I18n.t("user.password.common")
        });
      }

      // If blank, fail without a reason
      if ((0, _utils.isEmpty)(password)) {
        return _object.default.create({ failed: true });
      }

      // If too short
      if (password.length < passwordMinLength) {
        return _object.default.create({
          failed: true,
          reason: I18n.t("user.password.too_short")
        });
      }

      if (!(0, _utils.isEmpty)(accountUsername) && password === accountUsername) {
        return _object.default.create({
          failed: true,
          reason: I18n.t("user.password.same_as_username")
        });
      }

      if (!(0, _utils.isEmpty)(accountEmail) && password === accountEmail) {
        return _object.default.create({
          failed: true,
          reason: I18n.t("user.password.same_as_email")
        });
      }

      // Looks good!
      return _object.default.create({
        ok: true,
        reason: I18n.t("user.password.ok")
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "passwordInstructions", [_dec], Object.getOwnPropertyDescriptor(_obj, "passwordInstructions"), _obj), _applyDecoratedDescriptor(_obj, "passwordMinLength", [_dec2], Object.getOwnPropertyDescriptor(_obj, "passwordMinLength"), _obj), _applyDecoratedDescriptor(_obj, "passwordValidation", [_dec3], Object.getOwnPropertyDescriptor(_obj, "passwordValidation"), _obj)), _obj)));
});
define("discourse/mixins/preferences-tab-controller", ["exports", "discourse-common/utils/decorators", "@ember/object/mixin"], function (exports, _decorators, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _mixin.default.create((_dec = (0, _decorators.default)("model.isSaving"), (_obj = {
    saved: false,

    saveButtonText: function saveButtonText(isSaving) {
      return isSaving ? I18n.t("saving") : I18n.t("save");
    }
  }, (_applyDecoratedDescriptor(_obj, "saveButtonText", [_dec], Object.getOwnPropertyDescriptor(_obj, "saveButtonText"), _obj)), _obj)));
});
define("discourse/mixins/scroll-top", ["exports", "@ember/runloop", "discourse/lib/url", "discourse/mixins/scroll-top", "@ember/object/mixin", "discourse-common/config/environment"], function (exports, _runloop, _url, _scrollTop2, _mixin, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.scrollTop = undefined;


  var context = {
    _scrollTop: function _scrollTop() {
      if (_environment.default.environment === "test") {
        return;
      }
      $(document).scrollTop(0);
    }
  };

  function scrollTop() {
    if (_url.default.isJumpScheduled()) {
      return;
    }
    (0, _runloop.scheduleOnce)("afterRender", context, context._scrollTop);
  }

  exports.default = _mixin.default.create({
    didInsertElement: function didInsertElement() {
      (0, _scrollTop2.deprecated)("The `ScrollTop` mixin is deprecated. Replace it with a `{{d-section}}` component");
      this._super.apply(this, arguments);
      scrollTop();
    }
  });
  exports.scrollTop = scrollTop;
});
define("discourse/mixins/upload", ["exports", "discourse/lib/uploads", "discourse-common/lib/get-url", "@ember/object/evented", "@ember/object/mixin"], function (exports, _uploads, _getUrl, _evented, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mixin.default.create({
    uploading: false,
    uploadProgress: 0,

    uploadDone: function uploadDone() {
      Ember.warn("You should implement `uploadDone`", {
        id: "discourse.upload.missing-upload-done"
      });
    },
    validateUploadedFilesOptions: function validateUploadedFilesOptions() {
      return {};
    },
    calculateUploadUrl: function calculateUploadUrl() {
      return (0, _getUrl.default)(this.getWithDefault("uploadUrl", "/uploads")) + ".json?client_id=" + (this.messageBus && this.messageBus.clientId) + this.uploadUrlParams;
    },


    uploadUrlParams: "",

    uploadOptions: function uploadOptions() {
      return {};
    },


    _initialize: (0, _evented.on)("didInsertElement", function () {
      var _this = this;

      var $upload = $(this.element);
      var reset = function reset() {
        return _this.setProperties({ uploading: false, uploadProgress: 0 });
      };
      var maxFiles = this.getWithDefault("maxFiles", this.siteSettings.simultaneous_uploads);

      $upload.on("fileuploaddone", function (e, data) {
        var upload = data.result;
        _this.uploadDone(upload);
        reset();
      });

      $upload.fileupload(_.merge({
        url: this.calculateUploadUrl(),
        dataType: "json",
        replaceFileInput: false,
        dropZone: $upload,
        pasteZone: $upload
      }, this.uploadOptions()));

      $upload.on("fileuploaddrop", function (e, data) {
        if (maxFiles > 0 && data.files.length > maxFiles) {
          bootbox.alert(I18n.t("post.errors.too_many_dragged_and_dropped_files", {
            max: maxFiles
          }));
          return false;
        } else {
          return true;
        }
      });

      $upload.on("fileuploadsubmit", function (e, data) {
        var opts = _.merge({ bypassNewUserRestriction: true, user: _this.currentUser }, _this.validateUploadedFilesOptions());
        var isValid = (0, _uploads.validateUploadedFiles)(data.files, opts);
        var type = _this.type;
        var form = type ? { type: type } : {};
        if (_this.data) {
          form = $.extend(form, _this.data);
        }
        data.formData = form;
        _this.setProperties({ uploadProgress: 0, uploading: isValid });
        return isValid;
      });

      $upload.on("fileuploadprogressall", function (e, data) {
        var progress = parseInt(data.loaded / data.total * 100, 10);
        _this.set("uploadProgress", progress);
      });

      $upload.on("fileuploadfail", function (e, data) {
        if (!data || data && data.errorThrown !== "abort") {
          (0, _uploads.displayErrorForUpload)(data);
        }
        reset();
      });
    }),

    _destroy: (0, _evented.on)("willDestroyElement", function () {
      this.messageBus && this.messageBus.unsubscribe("/uploads/" + this.type);

      var $upload = $(this.element);
      try {
        $upload.fileupload("destroy");
      } catch (e) {
        /* wasn't initialized yet */
      }
      $upload.off();
    })
  });
});
define("discourse/mixins/url-refresh", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      this.appEvents.on("url:refresh", this, "refresh");
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      this.appEvents.off("url:refresh", this, "refresh");
    }
  };
});
define("discourse/mixins/user-fields-validation", ["exports", "@ember/utils", "@ember/object", "discourse-common/utils/decorators", "@ember/object/mixin"], function (exports, _utils, _object, _decorators, _mixin) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _mixin.default.create((_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.default)("userFields.@each.value"), (_obj = {
    _createUserFields: function _createUserFields() {
      if (!this.site) {
        return;
      }

      var userFields = this.site.get("user_fields");
      if (userFields) {
        userFields = _.sortBy(userFields, "position").map(function (f) {
          return _object.default.create({ value: null, field: f });
        });
      }
      this.set("userFields", userFields);
    },
    userFieldsValidation: function userFieldsValidation() {
      var userFields = this.userFields;
      if (userFields) {
        userFields = userFields.filterBy("field.required");
      }
      if (!(0, _utils.isEmpty)(userFields)) {
        var anyEmpty = userFields.any(function (uf) {
          var val = uf.get("value");
          return !val || (0, _utils.isEmpty)(val);
        });
        if (anyEmpty) {
          return _object.default.create({ failed: true });
        }
      }
      return _object.default.create({ ok: true });
    }
  }, (_applyDecoratedDescriptor(_obj, "_createUserFields", [_dec], Object.getOwnPropertyDescriptor(_obj, "_createUserFields"), _obj), _applyDecoratedDescriptor(_obj, "userFieldsValidation", [_dec2], Object.getOwnPropertyDescriptor(_obj, "userFieldsValidation"), _obj)), _obj)));
});
define("discourse/mixins/username-validation", ["exports", "@ember/utils", "discourse/lib/debounce", "discourse/lib/computed", "discourse-common/utils/decorators", "@ember/object/mixin", "@ember/object", "discourse/models/user"], function (exports, _utils, _debounce, _computed, _decorators, _mixin, _object, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _mixin.default.create((_dec = (0, _decorators.default)("accountUsername"), _dec2 = (0, _decorators.default)("uniqueUsernameValidation", "basicUsernameValidation"), (_obj = {
    uniqueUsernameValidation: null,

    maxUsernameLength: (0, _computed.setting)("max_username_length"),

    minUsernameLength: (0, _computed.setting)("min_username_length"),

    fetchExistingUsername: (0, _debounce.default)(function () {
      var _this = this;

      _user.default.checkUsername(null, this.accountEmail).then(function (result) {
        if (result.suggestion && ((0, _utils.isEmpty)(_this.accountUsername) || _this.accountUsername === _this.get("authOptions.username"))) {
          _this.setProperties({
            accountUsername: result.suggestion,
            prefilledUsername: result.suggestion
          });
        }
      });
    }, 500),

    basicUsernameValidation: function basicUsernameValidation(accountUsername) {
      this.set("uniqueUsernameValidation", null);

      if (accountUsername && accountUsername === this.prefilledUsername) {
        return _object.default.create({
          ok: true,
          reason: I18n.t("user.username.prefilled")
        });
      }

      // If blank, fail without a reason
      if ((0, _utils.isEmpty)(accountUsername)) {
        return _object.default.create({ failed: true });
      }

      // If too short
      if (accountUsername.length < this.siteSettings.min_username_length) {
        return _object.default.create({
          failed: true,
          reason: I18n.t("user.username.too_short")
        });
      }

      // If too long
      if (accountUsername.length > this.maxUsernameLength) {
        return _object.default.create({
          failed: true,
          reason: I18n.t("user.username.too_long")
        });
      }

      this.checkUsernameAvailability();
      // Let's check it out asynchronously
      return _object.default.create({
        failed: true,
        reason: I18n.t("user.username.checking")
      });
    },
    shouldCheckUsernameAvailability: function shouldCheckUsernameAvailability() {
      return !(0, _utils.isEmpty)(this.accountUsername) && this.accountUsername.length >= this.minUsernameLength;
    },


    checkUsernameAvailability: (0, _debounce.default)(function () {
      var _this2 = this;

      if (this.shouldCheckUsernameAvailability()) {
        return _user.default.checkUsername(this.accountUsername, this.accountEmail).then(function (result) {
          _this2.set("isDeveloper", false);
          if (result.available) {
            if (result.is_developer) {
              _this2.set("isDeveloper", true);
            }
            return _this2.set("uniqueUsernameValidation", _object.default.create({
              ok: true,
              reason: I18n.t("user.username.available")
            }));
          } else {
            if (result.suggestion) {
              return _this2.set("uniqueUsernameValidation", _object.default.create({
                failed: true,
                reason: I18n.t("user.username.not_available", result)
              }));
            } else {
              return _this2.set("uniqueUsernameValidation", _object.default.create({
                failed: true,
                reason: result.errors ? result.errors.join(" ") : I18n.t("user.username.not_available_no_suggestion")
              }));
            }
          }
        });
      }
    }, 500),

    usernameValidation: function usernameValidation() {
      var basicValidation = this.basicUsernameValidation;
      var uniqueUsername = this.uniqueUsernameValidation;
      return uniqueUsername ? uniqueUsername : basicValidation;
    }
  }, (_applyDecoratedDescriptor(_obj, "basicUsernameValidation", [_dec], Object.getOwnPropertyDescriptor(_obj, "basicUsernameValidation"), _obj), _applyDecoratedDescriptor(_obj, "usernameValidation", [_dec2], Object.getOwnPropertyDescriptor(_obj, "usernameValidation"), _obj)), _obj)));
});
define("discourse/mixins/viewing-action-type", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    viewingActionType: function viewingActionType(userActionType) {
      this.controllerFor("user").set("userActionType", userActionType);
      this.controllerFor("user-activity").set("userActionType", userActionType);
    }
  };
});
define("discourse/models/invite", ["exports", "@ember/object", "discourse/lib/ajax", "discourse/lib/ajax-error", "discourse/lib/url", "rsvp", "@ember/utils", "discourse/models/user"], function (exports, _object, _ajax, _ajaxError, _url, _rsvp, _utils, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var Invite = _object.default.extend({
    rescind: function rescind() {
      (0, _ajax.ajax)("/invites", {
        type: "DELETE",
        data: { email: this.email }
      });
      this.set("rescinded", true);
    },
    reinvite: function reinvite() {
      var _this = this;

      return (0, _ajax.ajax)("/invites/reinvite", {
        type: "POST",
        data: { email: this.email }
      }).then(function () {
        return _this.set("reinvited", true);
      }).catch(_ajaxError.popupAjaxError);
    }
  });

  Invite.reopenClass({
    create: function create() {
      var result = this._super.apply(this, arguments);
      if (result.user) {
        result.user = _user.default.create(result.user);
      }
      return result;
    },
    findInvitedBy: function findInvitedBy(user, filter, search, offset) {
      if (!user) _rsvp.Promise.resolve();

      var data = {};
      if (!(0, _utils.isNone)(filter)) data.filter = filter;
      if (!(0, _utils.isNone)(search)) data.search = search;
      data.offset = offset || 0;

      return (0, _ajax.ajax)((0, _url.userPath)(user.username_lower + "/invited.json"), {
        data: data
      }).then(function (result) {
        result.invites = result.invites.map(function (i) {
          return Invite.create(i);
        });
        return _object.default.create(result);
      });
    },
    findInvitedCount: function findInvitedCount(user) {
      if (!user) _rsvp.Promise.resolve();

      return (0, _ajax.ajax)((0, _url.userPath)(user.username_lower + "/invited_count.json")).then(function (result) {
        return _object.default.create(result.counts);
      });
    },
    reinviteAll: function reinviteAll() {
      return (0, _ajax.ajax)("/invites/reinvite-all", { type: "POST" });
    },
    rescindAll: function rescindAll() {
      return (0, _ajax.ajax)("/invites/rescind-all", { type: "POST" });
    }
  });

  exports.default = Invite;
});
define("discourse/controllers/discovery-sortable", ["exports", "@ember/object/computed", "@ember/controller", "discourse/components/d-navigation"], function (exports, _computed, _controller, _dNavigation) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addDiscoveryQueryParam = exports.queryParams = undefined;


  // Just add query params here to have them automatically passed to topic list filters.
  var queryParams = exports.queryParams = {
    order: { replace: true, refreshModel: true },
    ascending: { replace: true, refreshModel: true },
    status: { replace: true, refreshModel: true },
    state: { replace: true, refreshModel: true },
    search: { replace: true, refreshModel: true },
    max_posts: { replace: true, refreshModel: true },
    q: { replace: true, refreshModel: true },
    tags: { replace: true },
    before: { replace: true, refreshModel: true },
    bumped_before: { replace: true, refreshModel: true }
  };

  // Basic controller options
  var controllerOpts = {
    discoveryTopics: (0, _controller.inject)("discovery/topics"),
    queryParams: Object.keys(queryParams)
  };

  // Aliases for the values
  controllerOpts.queryParams.forEach(function (p) {
    return controllerOpts[p] = (0, _computed.alias)("discoveryTopics." + p);
  });

  var SortableController = _controller.default.extend(controllerOpts);

  var addDiscoveryQueryParam = exports.addDiscoveryQueryParam = function addDiscoveryQueryParam(p, opts) {
    queryParams[p] = opts;
    var cOpts = {};
    cOpts[p] = (0, _computed.alias)("discoveryTopics." + p);
    cOpts["queryParams"] = Object.keys(queryParams);
    SortableController.reopen(cOpts);

    if (opts && opts.persisted) {
      _dNavigation.default.reopen({
        persistedQueryParams: queryParams
      });
    }
  };

  exports.default = SortableController;
});
define("discourse/controllers/navigation/default", ["exports", "discourse-common/utils/decorators", "@ember/controller", "discourse/mixins/filter-mode"], function (exports, _decorators, _controller, _filterMode) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend(_filterMode.default, (_dec = (0, _decorators.default)("discoveryTopics.model", "discoveryTopics.model.draft"), (_obj = {
    discovery: (0, _controller.inject)(),
    discoveryTopics: (0, _controller.inject)("discovery/topics"),

    draft: function draft() {
      return this.get("discoveryTopics.model.draft");
    }
  }, (_applyDecoratedDescriptor(_obj, "draft", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "draft"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/components/edit-category-panel", ["exports", "@ember/object/computed", "@ember/component"], function (exports, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.buildCategoryPanel = buildCategoryPanel;

  var EditCategoryPanel = _component.default.extend({});

  exports.default = EditCategoryPanel;
  function buildCategoryPanel(tab, extras) {
    return EditCategoryPanel.extend({
      activeTab: (0, _computed.equal)("selectedTab", tab),
      classNameBindings: [":modal-tab", "activeTab::hide", ":edit-category-tab-" + tab]
    }, extras || {});
  }
});
define("discourse/components/site-header", ["exports", "@ember/runloop", "discourse/components/mount-widget", "discourse-common/utils/decorators", "discourse/mixins/docking", "discourse/mixins/pan-events"], function (exports, _runloop, _mountWidget, _decorators, _docking, _panEvents) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.headerHeight = headerHeight;
  exports.headerTop = headerTop;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  var PANEL_BODY_MARGIN = 30;

  var SiteHeaderComponent = _mountWidget.default.extend(_docking.default, _panEvents.default, (_dec = (0, _decorators.observes)("currentUser.unread_notifications", "currentUser.unread_private_messages", "currentUser.reviewable_count"), (_obj = {
    widget: "header",
    docAt: null,
    dockedHeader: null,
    _animate: false,
    _isPanning: false,
    _panMenuOrigin: "right",
    _panMenuOffset: 0,
    _scheduledMovingAnimation: null,
    _scheduledRemoveAnimate: null,
    _topic: null,

    notificationsChanged: function notificationsChanged() {
      this.queueRerender();
    },
    _animateOpening: function _animateOpening($panel) {
      $panel.css({ right: "", left: "" });
      this._panMenuOffset = 0;
    },
    _animateClosing: function _animateClosing($panel, menuOrigin, windowWidth) {
      var _this = this;

      $panel.css(menuOrigin, -windowWidth);
      this._animate = true;
      (0, _runloop.schedule)("afterRender", function () {
        _this.eventDispatched("dom:clean", "header");
        _this._panMenuOffset = 0;
      });
    },
    _isRTL: function _isRTL() {
      return $("html").css("direction") === "rtl";
    },
    _leftMenuClass: function _leftMenuClass() {
      return this._isRTL() ? ".user-menu" : ".hamburger-panel";
    },
    _leftMenuAction: function _leftMenuAction() {
      return this._isRTL() ? "toggleUserMenu" : "toggleHamburger";
    },
    _rightMenuAction: function _rightMenuAction() {
      return this._isRTL() ? "toggleHamburger" : "toggleUserMenu";
    },
    _handlePanDone: function _handlePanDone(offset, event) {
      var _this2 = this;

      var $window = $(window);
      var windowWidth = $window.width();
      var $menuPanels = $(".menu-panel");
      var menuOrigin = this._panMenuOrigin;
      this._shouldMenuClose(event, menuOrigin) ? offset += _panEvents.SWIPE_VELOCITY : offset -= _panEvents.SWIPE_VELOCITY;
      $menuPanels.each(function (idx, panel) {
        var $panel = $(panel);
        var $headerCloak = $(".header-cloak");
        $panel.css(menuOrigin, -offset);
        $headerCloak.css("opacity", Math.min(0.5, (300 - offset) / 600));
        if (offset > windowWidth) {
          _this2._animateClosing($panel, menuOrigin, windowWidth);
        } else if (offset <= 0) {
          _this2._animateOpening($panel);
        } else {
          //continue to open or close menu
          _this2._scheduledMovingAnimation = window.requestAnimationFrame(function () {
            return _this2._handlePanDone(offset, event);
          });
        }
      });
    },
    _shouldMenuClose: function _shouldMenuClose(e, menuOrigin) {
      // menu should close after a pan either:
      // if a user moved the panel closed past a threshold and away and is NOT swiping back open
      // if a user swiped to close fast enough regardless of distance
      if (menuOrigin === "right") {
        return e.deltaX > _panEvents.SWIPE_DISTANCE_THRESHOLD && e.velocityX > -_panEvents.SWIPE_VELOCITY_THRESHOLD || e.velocityX > 0;
      } else {
        return e.deltaX < -_panEvents.SWIPE_DISTANCE_THRESHOLD && e.velocityX < _panEvents.SWIPE_VELOCITY_THRESHOLD || e.velocityX < 0;
      }
    },
    panStart: function panStart(e) {
      var center = e.center;
      var $centeredElement = $(document.elementFromPoint(center.x, center.y));
      if (($centeredElement.hasClass("panel-body") || $centeredElement.hasClass("header-cloak") || $centeredElement.parents(".panel-body").length) && (e.direction === "left" || e.direction === "right")) {
        e.originalEvent.preventDefault();
        this._isPanning = true;
      } else {
        this._isPanning = false;
      }
    },
    panEnd: function panEnd(e) {
      var _this3 = this;

      if (!this._isPanning) {
        return;
      }
      this._isPanning = false;
      $(".menu-panel").each(function (idx, panel) {
        var $panel = $(panel);
        var offset = $panel.css("right");
        if (_this3._panMenuOrigin === "left") {
          offset = $panel.css("left");
        }
        offset = Math.abs(parseInt(offset, 10));
        _this3._handlePanDone(offset, e);
      });
    },
    panMove: function panMove(e) {
      var _this4 = this;

      if (!this._isPanning) {
        return;
      }
      var $menuPanels = $(".menu-panel");
      $menuPanels.each(function (idx, panel) {
        var $panel = $(panel);
        var $headerCloak = $(".header-cloak");
        if (_this4._panMenuOrigin === "right") {
          var pxClosed = Math.min(0, -e.deltaX + _this4._panMenuOffset);
          $panel.css("right", pxClosed);
          $headerCloak.css("opacity", Math.min(0.5, (300 + pxClosed) / 600));
        } else {
          var _pxClosed = Math.min(0, e.deltaX + _this4._panMenuOffset);
          $panel.css("left", _pxClosed);
          $headerCloak.css("opacity", Math.min(0.5, (300 + _pxClosed) / 600));
        }
      });
    },
    dockCheck: function dockCheck(info) {
      var $header = $("header.d-header");

      if (this.docAt === null) {
        if (!($header && $header.length === 1)) return;
        this.docAt = $header.offset().top;
      }

      var $body = $("body");
      var offset = info.offset();
      if (offset >= this.docAt) {
        if (!this.dockedHeader) {
          $body.addClass("docked");
          this.dockedHeader = true;
        }
      } else {
        if (this.dockedHeader) {
          $body.removeClass("docked");
          this.dockedHeader = false;
        }
      }
    },
    setTopic: function setTopic(topic) {
      this.eventDispatched("dom:clean", "header");
      this._topic = topic;
      this.queueRerender();
    },
    willRender: function willRender() {
      if (this.get("currentUser.staff")) {
        $("body").addClass("staff");
      }
    },
    didInsertElement: function didInsertElement() {
      var _this5 = this;

      this._super.apply(this, arguments);
      $(window).on("resize.discourse-menu-panel", function () {
        return _this5.afterRender();
      });

      this.appEvents.on("header:show-topic", this, "setTopic");
      this.appEvents.on("header:hide-topic", this, "setTopic");

      this.dispatch("notifications:changed", "user-notifications");
      this.dispatch("header:keyboard-trigger", "header");
      this.dispatch("search-autocomplete:after-complete", "search-term");

      this.appEvents.on("dom:clean", this, "_cleanDom");
    },
    _cleanDom: function _cleanDom() {
      // For performance, only trigger a re-render if any menu panels are visible
      if (this.element.querySelector(".menu-panel")) {
        this.eventDispatched("dom:clean", "header");
      }
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      $("body").off("keydown.header");
      $(window).off("resize.discourse-menu-panel");

      this.appEvents.off("header:show-topic", this, "setTopic");
      this.appEvents.off("header:hide-topic", this, "setTopic");
      this.appEvents.off("dom:clean", this, "_cleanDom");

      (0, _runloop.cancel)(this._scheduledRemoveAnimate);
      window.cancelAnimationFrame(this._scheduledMovingAnimation);
    },
    buildArgs: function buildArgs() {
      return {
        topic: this._topic,
        canSignUp: this.canSignUp
      };
    },
    afterRender: function afterRender() {
      var _this6 = this;

      var $menuPanels = $(".menu-panel");
      if ($menuPanels.length === 0) {
        if (this.site.mobileView) {
          this._animate = true;
        }
        return;
      }

      var $window = $(window);
      var windowWidth = $window.width();

      var headerWidth = $("#main-outlet .container").width() || 1100;
      var remaining = (windowWidth - headerWidth) / 2;
      var viewMode = remaining < 50 ? "slide-in" : "drop-down";

      $menuPanels.each(function (idx, panel) {
        var $panel = $(panel);
        var $headerCloak = $(".header-cloak");
        var width = parseInt($panel.attr("data-max-width"), 10) || 300;
        if (windowWidth - width < 50) {
          width = windowWidth - 50;
        }
        if (_this6._panMenuOffset) {
          _this6._panMenuOffset = -width;
        }

        $panel.removeClass("drop-down slide-in").addClass(viewMode);
        if (_this6._animate || _this6._panMenuOffset !== 0) {
          $headerCloak.css("opacity", 0);
          if (_this6.site.mobileView && $panel.parent(_this6._leftMenuClass()).length > 0) {
            _this6._panMenuOrigin = "left";
            $panel.css("left", -windowWidth);
          } else {
            _this6._panMenuOrigin = "right";
            $panel.css("right", -windowWidth);
          }
        }

        var $panelBody = $(".panel-body", $panel);
        // 2 pixel fudge allows for firefox subpixel sizing stuff causing scrollbar
        var contentHeight = $(".panel-body-contents", $panel).height() + 2;

        // We use a mutationObserver to check for style changes, so it's important
        // we don't set it if it doesn't change. Same goes for the $panelBody!
        var style = $panel.prop("style");

        if (viewMode === "drop-down") {
          var $buttonPanel = $("header ul.icons");
          if ($buttonPanel.length === 0) {
            return;
          }

          // These values need to be set here, not in the css file - this is to deal with the
          // possibility of the window being resized and the menu changing from .slide-in to .drop-down.
          if (style.top !== "100%" || style.height !== "auto") {
            $panel.css({ top: "100%", height: "auto" });
          }

          // adjust panel height
          var fullHeight = $window.height();
          var offsetTop = $panel.offset().top;
          var scrollTop = $window.scrollTop();

          if (contentHeight + (offsetTop - scrollTop) + PANEL_BODY_MARGIN > fullHeight || _this6.site.mobileView) {
            contentHeight = fullHeight - (offsetTop - scrollTop) - PANEL_BODY_MARGIN;
          }
          if ($panelBody.height() !== contentHeight) {
            $panelBody.height(contentHeight);
          }
          $("body").addClass("drop-down-mode");
        } else {
          if (_this6.site.mobileView) {
            $headerCloak.show();
          }

          var menuTop = _this6.site.mobileView ? headerTop() : headerHeight();

          var height = void 0;
          var winHeightOffset = 16;
          var initialWinHeight = window.innerHeight ? window.innerHeight : $(window).height();
          var winHeight = initialWinHeight - winHeightOffset;
          if (menuTop + contentHeight < winHeight && !_this6.site.mobileView) {
            height = contentHeight + "px";
          } else {
            height = winHeight - menuTop;
          }

          if ($panelBody.prop("style").height !== "100%") {
            $panelBody.height("100%");
          }
          if (style.top !== menuTop + "px" || style.height !== height) {
            $panel.css({ top: menuTop + "px", height: height });
            $(".header-cloak").css({ top: menuTop + "px" });
          }
          $("body").removeClass("drop-down-mode");
        }

        $panel.width(width);
        if (_this6._animate) {
          $panel.addClass("animate");
          $headerCloak.addClass("animate");
          _this6._scheduledRemoveAnimate = (0, _runloop.later)(function () {
            $panel.removeClass("animate");
            $headerCloak.removeClass("animate");
          }, 200);
        }
        $panel.css({ right: "", left: "" });
        $headerCloak.css("opacity", 0.5);
        _this6._animate = false;
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "notificationsChanged", [_dec], Object.getOwnPropertyDescriptor(_obj, "notificationsChanged"), _obj)), _obj)));

  exports.default = SiteHeaderComponent;
  function headerHeight() {
    var $header = $("header.d-header");

    // Header may not exist in tests (e.g. in the user menu component test).
    if ($header.length === 0) {
      return 0;
    }

    var headerOffset = $header.offset();
    var headerOffsetTop = headerOffset ? headerOffset.top : 0;
    return $header.outerHeight() + headerOffsetTop - $(window).scrollTop();
  }

  function headerTop() {
    var $header = $("header.d-header");
    var headerOffset = $header.offset();
    var headerOffsetTop = headerOffset ? headerOffset.top : 0;
    return headerOffsetTop - $(window).scrollTop();
  }
});
define("discourse/components/d-editor", ["exports", "@ember/runloop", "@ember/service", "@ember/component", "discourse-common/utils/decorators", "discourse/lib/category-hashtags", "discourse/lib/category-tag-search", "discourse/lib/text", "discourse-common/lib/get-owner", "discourse/lib/raw-templates", "discourse/lib/text-direction", "discourse/lib/utilities", "discourse/lib/to-markdown", "discourse-common/lib/deprecated", "discourse/lib/intercept-click", "pretty-text/emoji/data", "pretty-text/emoji", "discourse/lib/show-modal", "rsvp", "discourse-common/config/environment"], function (exports, _runloop, _service, _component, _decorators, _categoryHashtags, _categoryTagSearch, _text, _getOwner, _rawTemplates, _textDirection, _utilities, _toMarkdown, _deprecated, _interceptClick, _data, _emoji, _showModal, _rsvp, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addToolbarCallback = addToolbarCallback;
  exports.onToolbarCreate = onToolbarCreate;

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  // Our head can be a static string or a function that returns a string
  // based on input (like for numbered lists).
  function getHead(head, prev) {
    if (typeof head === "string") {
      return [head, head.length];
    } else {
      return getHead(head(prev));
    }
  }

  function getButtonLabel(labelKey, defaultLabel) {
    // use the Font Awesome icon if the label matches the default
    return I18n.t(labelKey) === defaultLabel ? null : labelKey;
  }

  var OP = {
    NONE: 0,
    REMOVED: 1,
    ADDED: 2
  };

  var FOUR_SPACES_INDENT = "4-spaces-indent";

  var _createCallbacks = [];

  var isInside = function isInside(text, regex) {
    var matches = text.match(regex);
    return matches && matches.length % 2;
  };

  var Toolbar = function () {
    function Toolbar(opts) {
      var _this = this;

      _classCallCheck(this, Toolbar);

      var siteSettings = opts.siteSettings;

      this.shortcuts = {};
      this.context = null;

      this.groups = [{ group: "fontStyles", buttons: [] }, { group: "insertions", buttons: [] }, { group: "extras", buttons: [] }];

      this.addButton({
        trimLeading: true,
        id: "bold",
        group: "fontStyles",
        icon: "bold",
        label: getButtonLabel("composer.bold_label", "B"),
        shortcut: "B",
        perform: function perform(e) {
          return e.applySurround("**", "**", "bold_text");
        }
      });

      this.addButton({
        trimLeading: true,
        id: "italic",
        group: "fontStyles",
        icon: "italic",
        label: getButtonLabel("composer.italic_label", "I"),
        shortcut: "I",
        perform: function perform(e) {
          return e.applySurround("*", "*", "italic_text");
        }
      });

      if (opts.showLink) {
        this.addButton({
          id: "link",
          group: "insertions",
          shortcut: "K",
          trimLeading: true,
          sendAction: function sendAction(event) {
            return _this.context.send("showLinkModal", event);
          }
        });
      }

      this.addButton({
        id: "quote",
        group: "insertions",
        icon: "quote-right",
        shortcut: "Shift+9",
        perform: function perform(e) {
          return e.applyList("> ", "blockquote_text", {
            applyEmptyLines: true,
            multiline: true
          });
        }
      });

      this.addButton({
        id: "code",
        group: "insertions",
        shortcut: "Shift+C",
        action: function action() {
          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          return _this.context.send("formatCode", args);
        }
      });

      this.addButton({
        id: "bullet",
        group: "extras",
        icon: "list-ul",
        shortcut: "Shift+8",
        title: "composer.ulist_title",
        perform: function perform(e) {
          return e.applyList("* ", "list_item");
        }
      });

      this.addButton({
        id: "list",
        group: "extras",
        icon: "list-ol",
        shortcut: "Shift+7",
        title: "composer.olist_title",
        perform: function perform(e) {
          return e.applyList(function (i) {
            return !i ? "1. " : parseInt(i, 10) + 1 + ". ";
          }, "list_item");
        }
      });

      if (siteSettings.support_mixed_text_direction) {
        this.addButton({
          id: "toggle-direction",
          group: "extras",
          icon: "exchange-alt",
          shortcut: "Shift+6",
          title: "composer.toggle_direction",
          perform: function perform(e) {
            return e.toggleDirection();
          }
        });
      }

      this.groups[this.groups.length - 1].lastGroup = true;
    }

    _createClass(Toolbar, [{
      key: "addButton",
      value: function addButton(button) {
        var _this2 = this;

        var g = this.groups.findBy("group", button.group);
        if (!g) {
          throw new Error("Couldn't find toolbar group " + button.group);
        }

        var createdButton = {
          id: button.id,
          className: button.className || button.id,
          label: button.label,
          icon: button.label ? null : button.icon || button.id,
          action: button.action || function (a) {
            return _this2.context.send("toolbarButton", a);
          },
          perform: button.perform || function () {},
          trimLeading: button.trimLeading,
          popupMenu: button.popupMenu || false
        };

        if (button.sendAction) {
          createdButton.sendAction = button.sendAction;
        }

        var title = I18n.t(button.title || "composer." + button.id + "_title");
        if (button.shortcut) {
          var mac = /Mac|iPod|iPhone|iPad/.test(navigator.platform);
          var mod = mac ? "Meta" : "Ctrl";
          var shortcutTitle = mod + "+" + button.shortcut;

          // Mac users are used to glyphs for shortcut keys
          if (mac) {
            shortcutTitle = shortcutTitle.replace("Shift", "\u21E7").replace("Meta", "\u2318").replace("Alt", "\u2325").replace(/\+/g, "");
          } else {
            shortcutTitle = shortcutTitle.replace("Shift", I18n.t("shortcut_modifier_key.shift")).replace("Ctrl", I18n.t("shortcut_modifier_key.ctrl")).replace("Alt", I18n.t("shortcut_modifier_key.alt"));
          }

          createdButton.title = title + " (" + shortcutTitle + ")";

          this.shortcuts[(mod + "+" + button.shortcut).toLowerCase()] = createdButton;
        } else {
          createdButton.title = title;
        }

        if (button.unshift) {
          g.buttons.unshift(createdButton);
        } else {
          g.buttons.push(createdButton);
        }
      }
    }]);

    return Toolbar;
  }();

  function addToolbarCallback(func) {
    _createCallbacks.push(func);
  }

  function onToolbarCreate(func) {
    (0, _deprecated.default)("`onToolbarCreate` is deprecated, use the plugin api instead.");
    addToolbarCallback(func);
  }

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("placeholder"), _dec2 = (0, _decorators.on)("willDestroyElement"), _dec3 = (0, _decorators.observes)("ready", "value"), (_obj = {
    classNames: ["d-editor"],
    ready: false,
    lastSel: null,
    _mouseTrap: null,
    showLink: true,
    emojiPickerIsActive: false,
    emojiStore: (0, _service.inject)("emoji-store"),

    placeholderTranslated: function placeholderTranslated(placeholder) {
      if (placeholder) return I18n.t(placeholder);
      return null;
    },
    _readyNow: function _readyNow() {
      this.set("ready", true);

      if (this.autofocus) {
        this.element.querySelector("textarea").focus();
      }
    },
    init: function init() {
      this._super.apply(this, arguments);

      this.register = (0, _getOwner.getRegister)(this);
    },
    didInsertElement: function didInsertElement() {
      var _this3 = this;

      this._super.apply(this, arguments);

      var $editorInput = $(this.element.querySelector(".d-editor-input"));
      this._applyEmojiAutocomplete($editorInput);
      this._applyCategoryHashtagAutocomplete($editorInput);

      (0, _runloop.scheduleOnce)("afterRender", this, this._readyNow);

      var mouseTrap = Mousetrap(this.element.querySelector(".d-editor-input"));
      var shortcuts = this.get("toolbar.shortcuts");

      Object.keys(shortcuts).forEach(function (sc) {
        var button = shortcuts[sc];
        mouseTrap.bind(sc, function () {
          button.action(button);
          return false;
        });
      });

      // disable clicking on links in the preview
      $(this.element.querySelector(".d-editor-preview")).on("click.preview", function (e) {
        if ((0, _interceptClick.wantsNewWindow)(e)) {
          return;
        }
        var $target = $(e.target);
        if ($target.is("a.mention")) {
          _this3.appEvents.trigger("click.discourse-preview-user-card-mention", $target);
        }
        if ($target.is("a.mention-group")) {
          _this3.appEvents.trigger("click.discourse-preview-group-card-mention-group", $target);
        }
        if ($target.is("a")) {
          e.preventDefault();
          return false;
        }
      });

      if (this.composerEvents) {
        this.appEvents.on("composer:insert-block", this, "_insertBlock");
        this.appEvents.on("composer:insert-text", this, "_insertText");
        this.appEvents.on("composer:replace-text", this, "_replaceText");
      }
      this._mouseTrap = mouseTrap;
    },
    _insertBlock: function _insertBlock(text) {
      this._addBlock(this._getSelected(), text);
    },
    _insertText: function _insertText(text, options) {
      this._addText(this._getSelected(), text, options);
    },
    _shutDown: function _shutDown() {
      if (this.composerEvents) {
        this.appEvents.off("composer:insert-block", this, "_insertBlock");
        this.appEvents.off("composer:insert-text", this, "_insertText");
        this.appEvents.off("composer:replace-text", this, "_replaceText");
      }

      var mouseTrap = this._mouseTrap;
      Object.keys(this.get("toolbar.shortcuts")).forEach(function (sc) {
        return mouseTrap.unbind(sc);
      });
      $(this.element.querySelector(".d-editor-preview")).off("click.preview");
    },
    toolbar: function toolbar() {
      var toolbar = new Toolbar(this.getProperties("site", "siteSettings", "showLink"));
      toolbar.context = this;

      _createCallbacks.forEach(function (cb) {
        return cb(toolbar);
      });

      if (this.extraButtons) {
        this.extraButtons(toolbar);
      }
      return toolbar;
    },
    _updatePreview: function _updatePreview() {
      var _this4 = this;

      if (this._state !== "inDOM") {
        return;
      }

      var value = this.value;
      var markdownOptions = this.markdownOptions || {};

      (0, _text.cookAsync)(value, markdownOptions).then(function (cooked) {
        if (_this4.isDestroyed) {
          return;
        }
        _this4.set("preview", cooked);
        (0, _runloop.scheduleOnce)("afterRender", function () {
          if (_this4._state !== "inDOM") {
            return;
          }
          var $preview = $(_this4.element.querySelector(".d-editor-preview"));
          if ($preview.length === 0) return;

          if (_this4.previewUpdated) {
            _this4.previewUpdated($preview);
          }
        });
      });
    },
    _watchForChanges: function _watchForChanges() {
      if (!this.ready) {
        return;
      }

      // Debouncing in test mode is complicated
      if (_environment.default.environment === "test") {
        this._updatePreview();
      } else {
        (0, _runloop.debounce)(this, this._updatePreview, 30);
      }
    },
    _applyCategoryHashtagAutocomplete: function _applyCategoryHashtagAutocomplete() {
      var _this5 = this;

      var siteSettings = this.siteSettings;

      $(this.element.querySelector(".d-editor-input")).autocomplete({
        template: (0, _rawTemplates.findRawTemplate)("category-tag-autocomplete"),
        key: "#",
        afterComplete: function afterComplete() {
          return _this5._focusTextArea();
        },
        transformComplete: function transformComplete(obj) {
          return obj.text;
        },
        dataSource: function dataSource(term) {
          if (term.match(/\s/)) {
            return null;
          }
          return (0, _categoryTagSearch.search)(term, siteSettings);
        },
        triggerRule: function triggerRule(textarea, opts) {
          return (0, _categoryHashtags.categoryHashtagTriggerRule)(textarea, opts);
        }
      });
    },
    _applyEmojiAutocomplete: function _applyEmojiAutocomplete($editorInput) {
      var _this6 = this;

      if (!this.siteSettings.enable_emoji) {
        return;
      }

      $editorInput.autocomplete({
        template: (0, _rawTemplates.findRawTemplate)("emoji-selector-autocomplete"),
        key: ":",
        afterComplete: function afterComplete(text) {
          _this6.set("value", text);
          _this6._focusTextArea();
        },

        onKeyUp: function onKeyUp(text, cp) {
          if ((0, _utilities.inCodeBlock)(text, cp)) {
            return false;
          }

          var matches = /(?:^|[^a-z])(:(?!:).?[\w-]*:?(?!:)(?:t\d?)?:?) ?$/gi.exec(text.substring(0, cp));

          if (matches && matches[1]) {
            return [matches[1]];
          }
        },

        transformComplete: function transformComplete(v) {
          if (v.code) {
            _this6.emojiStore.track(v.code);
            return v.code + ":";
          } else {
            $editorInput.autocomplete({ cancel: true });
            _this6.setProperties({
              isEditorFocused: $("textarea.d-editor-input").is(":focus"),
              emojiPickerIsActive: true
            });

            (0, _runloop.schedule)("afterRender", function () {
              var filterInput = document.querySelector(".emoji-picker input[name='filter']");
              if (filterInput) {
                filterInput.value = v.term;

                (0, _runloop.later)(function () {
                  return filterInput.dispatchEvent(new Event("input"));
                }, 50);
              }
            });

            return "";
          }
        },

        dataSource: function dataSource(term) {
          return new _rsvp.Promise(function (resolve) {
            var full = ":" + term;
            term = term.toLowerCase();

            if (term.length < _this6.siteSettings.emoji_autocomplete_min_chars) {
              return resolve([]);
            }

            if (term === "") {
              if (_this6.emojiStore.favorites.length) {
                return resolve(_this6.emojiStore.favorites.slice(0, 5));
              } else {
                return resolve(["slight_smile", "smile", "wink", "sunny", "blush"]);
              }
            }

            if (_data.translations[full]) {
              return resolve([_data.translations[full]]);
            }

            var match = term.match(/^:?(.*?):t([2-6])?$/);
            if (match) {
              var name = match[1];
              var scale = match[2];

              if ((0, _emoji.isSkinTonableEmoji)(name)) {
                if (scale) {
                  return resolve([name + ":t" + scale]);
                } else {
                  return resolve([2, 3, 4, 5, 6].map(function (x) {
                    return name + ":t" + x;
                  }));
                }
              }
            }

            var options = (0, _emoji.emojiSearch)(term, { maxResults: 5 });

            return resolve(options);
          }).then(function (list) {
            return list.map(function (code) {
              return { code: code, src: (0, _text.emojiUrlFor)(code) };
            });
          }).then(function (list) {
            if (list.length) {
              list.push({ label: I18n.t("composer.more_emoji"), term: term });
            }
            return list;
          });
        },

        triggerRule: function triggerRule(textarea) {
          return !(0, _utilities.inCodeBlock)(textarea.value, (0, _utilities.caretPosition)(textarea));
        }
      });
    },
    _getSelected: function _getSelected(trimLeading, opts) {
      if (!this.ready) {
        return;
      }

      var textarea = this.element.querySelector("textarea.d-editor-input");
      var value = textarea.value;
      var start = textarea.selectionStart;
      var end = textarea.selectionEnd;

      // trim trailing spaces cause **test ** would be invalid
      while (end > start && /\s/.test(value.charAt(end - 1))) {
        end--;
      }

      if (trimLeading) {
        // trim leading spaces cause ** test** would be invalid
        while (end > start && /\s/.test(value.charAt(start))) {
          start++;
        }
      }

      var selVal = value.substring(start, end);
      var pre = value.slice(0, start);
      var post = value.slice(end);

      if (opts && opts.lineVal) {
        var lineVal = value.split("\n")[value.substr(0, textarea.selectionStart).split("\n").length - 1];
        return { start: start, end: end, value: selVal, pre: pre, post: post, lineVal: lineVal };
      } else {
        return { start: start, end: end, value: selVal, pre: pre, post: post };
      }
    },
    _selectText: function _selectText(from, length) {
      var _this7 = this;

      (0, _runloop.scheduleOnce)("afterRender", function () {
        var textarea = _this7.element.querySelector("textarea.d-editor-input");
        var $textarea = $(textarea);
        var oldScrollPos = $textarea.scrollTop();
        if (!_this7.capabilities.isIOS || (0, _utilities.safariHacksDisabled)()) {
          $textarea.focus();
        }
        textarea.selectionStart = from;
        textarea.selectionEnd = from + length;
        (0, _runloop.next)(function () {
          return $textarea.trigger("change");
        });
        $textarea.scrollTop(oldScrollPos);
      });
    },


    // perform the same operation over many lines of text
    _getMultilineContents: function _getMultilineContents(lines, head, hval, hlen, tail, tlen, opts) {
      var operation = OP.NONE;

      var applyEmptyLines = opts && opts.applyEmptyLines;

      return lines.map(function (l) {
        if (!applyEmptyLines && l.length === 0) {
          return l;
        }

        if (operation !== OP.ADDED && (l.slice(0, hlen) === hval && tlen === 0 || tail.length && l.slice(-tlen) === tail)) {
          operation = OP.REMOVED;
          if (tlen === 0) {
            var _result = l.slice(hlen);

            var _getHead = getHead(head, hval);

            var _getHead2 = _slicedToArray(_getHead, 2);

            hval = _getHead2[0];
            hlen = _getHead2[1];

            return _result;
          } else if (l.slice(-tlen) === tail) {
            var _result2 = l.slice(hlen, -tlen);

            var _getHead3 = getHead(head, hval);

            var _getHead4 = _slicedToArray(_getHead3, 2);

            hval = _getHead4[0];
            hlen = _getHead4[1];

            return _result2;
          }
        } else if (operation === OP.NONE) {
          operation = OP.ADDED;
        } else if (operation === OP.REMOVED) {
          return l;
        }

        var result = "" + hval + l + tail;

        var _getHead5 = getHead(head, hval);

        var _getHead6 = _slicedToArray(_getHead5, 2);

        hval = _getHead6[0];
        hlen = _getHead6[1];

        return result;
      }).join("\n");
    },
    _applySurround: function _applySurround(sel, head, tail, exampleKey, opts) {
      var pre = sel.pre;
      var post = sel.post;

      var tlen = tail.length;
      if (sel.start === sel.end) {
        if (tlen === 0) {
          return;
        }

        var _getHead7 = getHead(head),
            _getHead8 = _slicedToArray(_getHead7, 2),
            hval = _getHead8[0],
            hlen = _getHead8[1];

        var example = I18n.t("composer." + exampleKey);
        this.set("value", "" + pre + hval + example + tail + post);
        this._selectText(pre.length + hlen, example.length);
      } else if (opts && !opts.multiline) {
        var _getHead9 = getHead(head),
            _getHead10 = _slicedToArray(_getHead9, 2),
            _hval = _getHead10[0],
            _hlen = _getHead10[1];

        if (opts.useBlockMode && sel.value.split("\n").length > 1) {
          _hval += "\n";
          _hlen += 1;
          tail = "\n" + tail;
        }

        if (pre.slice(-_hlen) === _hval && post.slice(0, tail.length) === tail) {
          this.set("value", "" + pre.slice(0, -_hlen) + sel.value + post.slice(tail.length));
          this._selectText(sel.start - _hlen, sel.value.length);
        } else {
          this.set("value", "" + pre + _hval + sel.value + tail + post);
          this._selectText(sel.start + _hlen, sel.value.length);
        }
      } else {
        var lines = sel.value.split("\n");

        var _getHead11 = getHead(head),
            _getHead12 = _slicedToArray(_getHead11, 2),
            _hval2 = _getHead12[0],
            _hlen2 = _getHead12[1];

        if (lines.length === 1 && pre.slice(-tlen) === tail && post.slice(0, _hlen2) === _hval2) {
          this.set("value", "" + pre.slice(0, -_hlen2) + sel.value + post.slice(tlen));
          this._selectText(sel.start - _hlen2, sel.value.length);
        } else {
          var contents = this._getMultilineContents(lines, head, _hval2, _hlen2, tail, tlen, opts);

          this.set("value", "" + pre + contents + post);
          if (lines.length === 1 && tlen > 0) {
            this._selectText(sel.start + _hlen2, sel.value.length);
          } else {
            this._selectText(sel.start, contents.length);
          }
        }
      }
    },
    _applyList: function _applyList(sel, head, exampleKey, opts) {
      if (sel.value.indexOf("\n") !== -1) {
        this._applySurround(sel, head, "", exampleKey, opts);
      } else {
        var _getHead13 = getHead(head),
            _getHead14 = _slicedToArray(_getHead13, 2),
            hval = _getHead14[0],
            hlen = _getHead14[1];

        if (sel.start === sel.end) {
          sel.value = I18n.t("composer." + exampleKey);
        }

        var trimmedPre = sel.pre.trim();
        var number = sel.value.indexOf(hval) === 0 ? sel.value.slice(hlen) : "" + hval + sel.value;
        var preLines = trimmedPre.length ? trimmedPre + "\n\n" : "";

        var trimmedPost = sel.post.trim();
        var post = trimmedPost.length ? "\n\n" + trimmedPost : trimmedPost;

        this.set("value", "" + preLines + number + post);
        this._selectText(preLines.length, number.length);
      }
    },
    _replaceText: function _replaceText(oldVal, newVal) {
      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

      var val = this.value;
      var needleStart = val.indexOf(oldVal);

      if (needleStart === -1) {
        // Nothing to replace.
        return;
      }

      var textarea = this.element.querySelector("textarea.d-editor-input");

      // Determine post-replace selection.
      var newSelection = (0, _utilities.determinePostReplaceSelection)({
        selection: { start: textarea.selectionStart, end: textarea.selectionEnd },
        needle: { start: needleStart, end: needleStart + oldVal.length },
        replacement: { start: needleStart, end: needleStart + newVal.length }
      });

      if (opts.index && opts.regex) {
        var i = -1;
        var newValue = val.replace(opts.regex, function (match) {
          i++;
          return i === opts.index ? newVal : match;
        });
        this.set("value", newValue);
      } else {
        // Replace value (side effect: cursor at the end).
        this.set("value", val.replace(oldVal, newVal));
      }

      if (opts.forceFocus || $("textarea.d-editor-input").is(":focus")) {
        // Restore cursor.
        this._selectText(newSelection.start, newSelection.end - newSelection.start);
      }
    },
    _addBlock: function _addBlock(sel, text) {
      text = (text || "").trim();
      if (text.length === 0) {
        return;
      }

      var pre = sel.pre;
      var post = sel.value + sel.post;

      if (pre.length > 0) {
        pre = pre.replace(/\n*$/, "\n\n");
      }

      if (post.length > 0) {
        post = post.replace(/^\n*/, "\n\n");
      } else {
        post = "\n";
      }

      var value = pre + text + post;
      var $textarea = $(this.element.querySelector("textarea.d-editor-input"));

      this.set("value", value);

      $textarea.val(value);
      $textarea.prop("selectionStart", (pre + text).length + 2);
      $textarea.prop("selectionEnd", (pre + text).length + 2);

      this._focusTextArea();
    },
    _addText: function _addText(sel, text, options) {
      var $textarea = $(this.element.querySelector("textarea.d-editor-input"));

      if (options && options.ensureSpace) {
        if ((sel.pre + "").length > 0) {
          if (!sel.pre.match(/\s$/)) {
            text = " " + text;
          }
        }
        if ((sel.post + "").length > 0) {
          if (!sel.post.match(/^\s/)) {
            text = text + " ";
          }
        }
      }

      var insert = "" + sel.pre + text;
      var value = "" + insert + sel.post;
      this.set("value", value);
      $textarea.val(value);
      $textarea.prop("selectionStart", insert.length);
      $textarea.prop("selectionEnd", insert.length);
      (0, _runloop.next)(function () {
        return $textarea.trigger("change");
      });
      this._focusTextArea();
    },
    _extractTable: function _extractTable(text) {
      if (text.endsWith("\n")) {
        text = text.substring(0, text.length - 1);
      }

      var rows = text.split("\n");

      if (rows.length > 1) {
        var columns = rows.map(function (r) {
          return r.split("\t").length;
        });
        var isTable = columns.reduce(function (a, b) {
          return a && columns[0] === b && b > 1;
        }) && !(columns[0] === 2 && rows[0].split("\t")[0].match(/^$|^\d+.$/)); // to skip tab delimited lists

        if (isTable) {
          var splitterRow = [].concat(_toConsumableArray(Array(columns[0]))).map(function () {
            return "---";
          }).join("\t");
          rows.splice(1, 0, splitterRow);

          return "|" + rows.map(function (r) {
            return r.split("\t").join("|");
          }).join("|\n|") + "|\n";
        }
      }
      return null;
    },
    _toggleDirection: function _toggleDirection() {
      var $textArea = $(".d-editor-input");
      var currentDir = $textArea.attr("dir") ? $textArea.attr("dir") : (0, _textDirection.siteDir)(),
          newDir = currentDir === "ltr" ? "rtl" : "ltr";

      $textArea.attr("dir", newDir).focus();
    },
    paste: function paste(e) {
      if (!$(".d-editor-input").is(":focus")) {
        return;
      }

      var isComposer = $("#reply-control .d-editor-input").is(":focus");

      var _clipboardData = (0, _utilities.clipboardData)(e, isComposer),
          clipboard = _clipboardData.clipboard,
          canPasteHtml = _clipboardData.canPasteHtml,
          canUpload = _clipboardData.canUpload;

      var plainText = clipboard.getData("text/plain");
      var html = clipboard.getData("text/html");
      var handled = false;

      var _getSelected2 = this._getSelected(null, { lineVal: true }),
          pre = _getSelected2.pre,
          lineVal = _getSelected2.lineVal;

      var isInlinePasting = pre.match(/[^\n]$/);
      var isCodeBlock = isInside(pre, /(^|\n)```/g);

      if (plainText && this.siteSettings.enable_rich_text_paste && !isInlinePasting && !isCodeBlock) {
        plainText = plainText.trim().replace(/\r/g, "");
        var table = this._extractTable(plainText);
        if (table) {
          this.appEvents.trigger("composer:insert-text", table);
          handled = true;
        }
      }

      if (canPasteHtml && plainText) {
        if (isInlinePasting) {
          canPasteHtml = !(lineVal.match(/^```/) || isInside(pre, /`/g) || lineVal.match(/^    /));
        } else {
          canPasteHtml = !isCodeBlock;
        }
      }

      if (canPasteHtml && !handled) {
        var markdown = (0, _toMarkdown.default)(html);

        if (!plainText || plainText.length < markdown.length) {
          if (isInlinePasting) {
            markdown = markdown.replace(/^#+/, "").trim();
            markdown = pre.match(/\S$/) ? " " + markdown : markdown;
          }

          this.appEvents.trigger("composer:insert-text", markdown);
          handled = true;
        }
      }

      if (handled || canUpload && !plainText) {
        e.preventDefault();
      }
    },


    // ensures textarea scroll position is correct
    _focusTextArea: function _focusTextArea() {
      var textarea = this.element.querySelector("textarea.d-editor-input");
      (0, _runloop.scheduleOnce)("afterRender", function () {
        textarea.blur();
        textarea.focus();
      });
    },


    actions: {
      emoji: function emoji() {
        if (this.disabled) {
          return;
        }

        this.set("isEditorFocused", $("textarea.d-editor-input").is(":focus"));
        this.set("emojiPickerIsActive", !this.emojiPickerIsActive);
      },
      emojiSelected: function emojiSelected(code) {
        var selected = this._getSelected();
        var captures = selected.pre.match(/\B:(\w*)$/);

        if (_.isEmpty(captures)) {
          if (selected.pre.match(/\S$/)) {
            this._addText(selected, " :" + code + ":");
          } else {
            this._addText(selected, ":" + code + ":");
          }
        } else {
          var numOfRemovedChars = selected.pre.length - captures[1].length;
          selected.pre = selected.pre.slice(0, selected.pre.length - captures[1].length);
          selected.start -= numOfRemovedChars;
          selected.end -= numOfRemovedChars;
          this._addText(selected, code + ":");
        }
      },
      toolbarButton: function toolbarButton(button) {
        var _this8 = this;

        if (this.disabled) {
          return;
        }

        var selected = this._getSelected(button.trimLeading);
        var toolbarEvent = {
          selected: selected,
          selectText: function selectText(from, length) {
            return _this8._selectText(from, length);
          },
          applySurround: function applySurround(head, tail, exampleKey, opts) {
            return _this8._applySurround(selected, head, tail, exampleKey, opts);
          },
          applyList: function applyList(head, exampleKey, opts) {
            return _this8._applyList(selected, head, exampleKey, opts);
          },
          addText: function addText(text) {
            return _this8._addText(selected, text);
          },
          replaceText: function replaceText(text) {
            return _this8._addText({ pre: "", post: "" }, text);
          },
          getText: function getText() {
            return _this8.value;
          },
          toggleDirection: function toggleDirection() {
            return _this8._toggleDirection();
          }
        };

        if (button.sendAction) {
          return button.sendAction(toolbarEvent);
        } else {
          button.perform(toolbarEvent);
        }
      },
      showLinkModal: function showLinkModal(toolbarEvent) {
        if (this.disabled) {
          return;
        }

        var linkText = "";
        this._lastSel = toolbarEvent.selected;

        if (this._lastSel) {
          linkText = this._lastSel.value;
        }

        (0, _showModal.default)("insert-hyperlink").setProperties({
          linkText: linkText,
          toolbarEvent: toolbarEvent
        });
      },
      formatCode: function formatCode() {
        if (this.disabled) {
          return;
        }

        var sel = this._getSelected("", { lineVal: true });
        var selValue = sel.value;
        var hasNewLine = selValue.indexOf("\n") !== -1;
        var isBlankLine = sel.lineVal.trim().length === 0;
        var isFourSpacesIndent = this.siteSettings.code_formatting_style === FOUR_SPACES_INDENT;

        if (!hasNewLine) {
          if (selValue.length === 0 && isBlankLine) {
            if (isFourSpacesIndent) {
              var example = I18n.t("composer.code_text");
              this.set("value", sel.pre + "    " + example + sel.post);
              return this._selectText(sel.pre.length + 4, example.length);
            } else {
              return this._applySurround(sel, "```\n", "\n```", "paste_code_text");
            }
          } else {
            return this._applySurround(sel, "`", "`", "code_title");
          }
        } else {
          if (isFourSpacesIndent) {
            return this._applySurround(sel, "    ", "", "code_text");
          } else {
            var preNewline = sel.pre[-1] !== "\n" && sel.pre !== "" ? "\n" : "";
            var postNewline = sel.post[0] !== "\n" ? "\n" : "";
            return this._addText(sel, preNewline + "```\n" + sel.value + "\n```" + postNewline);
          }
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "placeholderTranslated", [_dec], Object.getOwnPropertyDescriptor(_obj, "placeholderTranslated"), _obj), _applyDecoratedDescriptor(_obj, "_shutDown", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_shutDown"), _obj), _applyDecoratedDescriptor(_obj, "toolbar", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "toolbar"), _obj), _applyDecoratedDescriptor(_obj, "_watchForChanges", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_watchForChanges"), _obj)), _obj)));
});
define("discourse/routes/discourse", ["exports", "@ember/runloop", "discourse/models/composer", "discourse-common/lib/get-owner", "@ember/routing/route", "discourse-common/lib/deprecated"], function (exports, _runloop, _composer, _getOwner, _route, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var DiscourseRoute = _route.default.extend({
    showFooter: false,

    // Set to true to refresh a model without a transition if a query param
    // changes
    resfreshQueryWithoutTransition: false,

    activate: function activate() {
      this._super.apply(this, arguments);
      if (this.showFooter) {
        this.controllerFor("application").set("showFooter", true);
      }
    },
    refresh: function refresh() {
      var _this = this;

      if (!this.refreshQueryWithoutTransition) {
        return this._super.apply(this, arguments);
      }

      var router = (0, _getOwner.getOwner)(this).lookup("router:main");
      if (!router._routerMicrolib.activeTransition) {
        var controller = this.controller,
            model = controller.get("model"),
            params = this.controller.getProperties(Object.keys(this.queryParams));

        model.set("loading", true);
        this.model(params).then(function (m) {
          return _this.setupController(controller, m);
        });
      }
    },
    _refreshTitleOnce: function _refreshTitleOnce() {
      this.send("_collectTitleTokens", []);
    },


    actions: {
      _collectTitleTokens: function _collectTitleTokens(tokens) {
        // If there's a title token method, call it and get the token
        if (this.titleToken) {
          var t = this.titleToken();
          if (t && t.length) {
            if (t instanceof Array) {
              t.forEach(function (ti) {
                tokens.push(ti);
              });
            } else {
              tokens.push(t);
            }
          }
        }
        return true;
      },
      refreshTitle: function refreshTitle() {
        (0, _runloop.once)(this, this._refreshTitleOnce);
      },
      clearTopicDraft: function clearTopicDraft() {
        // perhaps re-delegate this to root controller in all cases?
        // TODO also poison the store so it does not come back from the
        // dead
        if (this.get("controller.list.draft")) {
          this.set("controller.list.draft", null);
        }

        if (this.controllerFor("discovery/categories").get("model.draft")) {
          this.controllerFor("discovery/categories").set("model.draft", null);
        }

        if (this.controllerFor("discovery/topics").get("model.draft")) {
          this.controllerFor("discovery/topics").set("model.draft", null);
        }
      }
    },

    redirectIfLoginRequired: function redirectIfLoginRequired() {
      var app = this.controllerFor("application");
      if (app.get("loginRequired")) {
        this.replaceWith("login");
      }
    },
    openTopicDraft: function openTopicDraft(model) {
      var composer = this.controllerFor("composer");

      if (composer.get("model.action") === _composer.default.CREATE_TOPIC && composer.get("model.draftKey") === model.draft_key) {
        composer.set("model.composeState", _composer.default.OPEN);
      } else {
        composer.open({
          action: _composer.default.CREATE_TOPIC,
          draft: model.draft,
          draftKey: model.draft_key,
          draftSequence: model.draft_sequence
        });
      }
    },
    isPoppedState: function isPoppedState(transition) {
      return !transition._discourse_intercepted && !!transition.intent.url;
    }
  });

  Object.defineProperty(Discourse, "Route", {
    get: function get() {
      (0, _deprecated.default)("Import the Route class instead of using Discourse.Route", {
        since: "2.4.0",
        dropFrom: "2.5.0"
      });
      return _route.default;
    }
  });

  exports.default = DiscourseRoute;
});
define("discourse/routes/build-topic-route", ["exports", "discourse/routes/discourse", "discourse/controllers/discovery-sortable", "discourse/lib/utilities", "discourse/models/session", "rsvp", "discourse/models/site"], function (exports, _discourse, _discoverySortable, _utilities, _session, _rsvp, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.findTopicList = exports.filterQueryParams = undefined;

  exports.default = function (filter, extras) {
    extras = extras || {};
    return _discourse.default.extend({
      queryParams: _discoverySortable.queryParams,

      beforeModel: function beforeModel() {
        this.controllerFor("navigation/default").set("filterType", filter.split("/")[0]);
      },
      model: function model(data, transition) {
        // attempt to stop early cause we need this to be called before .sync
        this.screenTrack.stop();

        var findOpts = filterQueryParams(data),
            findExtras = { cached: this.isPoppedState(transition) };

        return findTopicList(this.store, this.topicTrackingState, filter, findOpts, findExtras);
      },
      titleToken: function titleToken() {
        if (filter === (0, _utilities.defaultHomepage)()) {
          return;
        }

        var filterText = I18n.t("filters." + filter.replace("/", ".") + ".title");
        return I18n.t("filters.with_topics", { filter: filterText });
      },
      setupController: function setupController(controller, model) {
        var topicOpts = {
          model: model,
          category: null,
          period: model.get("for_period") || (filter.indexOf("top/") >= 0 ? filter.split("/")[1] : ""),
          selected: [],
          expandAllPinned: false,
          expandGloballyPinned: true
        };

        var params = model.get("params");
        if (params && Object.keys(params).length) {
          if (params.order !== undefined) {
            topicOpts.order = params.order;
          }
          if (params.ascending !== undefined) {
            topicOpts.ascending = params.ascending;
          }
        }
        this.controllerFor("discovery/topics").setProperties(topicOpts);
        this.controllerFor("navigation/default").set("canCreateTopic", model.get("can_create_topic"));
      },
      resetController: function resetController(controller, isExiting) {
        if (isExiting) {
          controller.setProperties({ order: "default", ascending: false });
        }
      },
      renderTemplate: function renderTemplate() {
        this.render("navigation/default", { outlet: "navigation-bar" });
        this.render("discovery/topics", {
          controller: "discovery/topics",
          outlet: "list-container"
        });
      }
    }, extras);
  };

  // A helper to build a topic route for a filter
  function filterQueryParams(params, defaultParams) {
    var findOpts = Object.assign({}, defaultParams || {});

    if (params) {
      Object.keys(_discoverySortable.queryParams).forEach(function (opt) {
        if (params[opt]) {
          findOpts[opt] = params[opt];
        }
      });
    }
    return findOpts;
  }

  function findTopicList(store, tracking, filter, filterParams, extras) {
    extras = extras || {};
    return new _rsvp.Promise(function (resolve) {
      var session = _session.default.current();

      if (extras.cached) {
        var cachedList = session.get("topicList");

        // Try to use the cached version if it exists and is greater than the topics per page
        if (cachedList && cachedList.get("filter") === filter && (cachedList.get("topics.length") || 0) > cachedList.get("per_page") && _.isEqual(cachedList.get("listParams"), filterParams)) {
          cachedList.set("loaded", true);

          if (tracking) {
            tracking.updateTopics(cachedList.get("topics"));
          }
          return resolve(cachedList);
        }
        session.set("topicList", null);
      } else {
        // Clear the cache
        session.setProperties({ topicList: null, topicListScrollPosition: null });
      }

      // Clean up any string parameters that might slip through
      filterParams = filterParams || {};
      Object.keys(filterParams).forEach(function (k) {
        var val = filterParams[k];
        if (val === "undefined" || val === "null" || val === "false") {
          filterParams[k] = undefined;
        }
      });

      return resolve(store.findFiltered("topicList", { filter: filter, params: filterParams || {} }));
    }).then(function (list) {
      list.set("listParams", filterParams);
      if (tracking) {
        tracking.sync(list, list.filter);
        tracking.trackIncoming(list.filter);
      }
      _session.default.currentProp("topicList", list);
      if (list.topic_list && list.topic_list.top_tags) {
        if (list.filter.startsWith("c/") || list.filter.startsWith("tags/c/")) {
          _site.default.currentProp("category_top_tags", list.topic_list.top_tags);
        } else {
          _site.default.currentProp("top_tags", list.topic_list.top_tags);
        }
      }
      return list;
    });
  }

  exports.filterQueryParams = filterQueryParams;
  exports.findTopicList = findTopicList;
});
define("discourse/routes/restricted-user", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    afterModel: function afterModel() {
      if (!this.modelFor("user").get("can_edit")) {
        this.replaceWith("userActivity");
      }
    }
  });
});
define("discourse/routes/user-topic-list", ["exports", "discourse/routes/discourse", "discourse/mixins/viewing-action-type"], function (exports, _discourse, _viewingActionType) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend(_viewingActionType.default, {
    renderTemplate: function renderTemplate() {
      this.render("user-topics-list");
    },
    setupController: function setupController(controller, model) {
      var userActionType = this.userActionType;
      this.controllerFor("user").set("userActionType", userActionType);
      this.controllerFor("user-activity").set("userActionType", userActionType);
      this.controllerFor("user-topics-list").setProperties({
        model: model,
        hideCategory: false
      });
    }
  });
});
define("discourse/routes/user-activity-stream", ["exports", "discourse/routes/discourse", "discourse/mixins/viewing-action-type"], function (exports, _discourse, _viewingActionType) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend(_viewingActionType.default, {
    queryParams: {
      acting_username: { refreshModel: true }
    },

    model: function model() {
      return this.modelFor("user").get("stream");
    },
    afterModel: function afterModel(model, transition) {
      return model.filterBy({
        filter: this.userActionType,
        noContentHelpKey: this.noContentHelpKey || "user_activity.no_default",
        actingUsername: transition.to.queryParams.acting_username
      });
    },
    renderTemplate: function renderTemplate() {
      this.render("user_stream");
    },
    setupController: function setupController(controller, model) {
      controller.set("model", model);
      this.viewingActionType(this.userActionType);
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("user-activity")._showFooter();
        return true;
      }
    }
  });
});
define("discourse/routes/topic-from-params", ["exports", "@ember/utils", "@ember/runloop", "discourse/routes/discourse", "discourse/lib/url", "discourse/models/draft", "discourse-common/config/environment"], function (exports, _utils, _runloop, _discourse, _url, _draft, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    // Avoid default model hook
    model: function model(params) {
      return params;
    },
    deactivate: function deactivate() {
      this._super.apply(this, arguments);
      this.controllerFor("topic").unsubscribe();
    },
    setupController: function setupController(controller, params) {
      var _this = this;

      params = params || {};
      params.track_visit = true;

      var topic = this.modelFor("topic"),
          postStream = topic.postStream,
          topicController = this.controllerFor("topic"),
          composerController = this.controllerFor("composer");

      // I sincerely hope no topic gets this many posts
      if (params.nearPost === "last") {
        params.nearPost = 999999999;
      }

      params.forceLoad = true;

      postStream.refresh(params).then(function () {
        // TODO we are seeing errors where closest post is null and this is exploding
        // we need better handling and logging for this condition.

        // there are no closestPost for hidden topics
        if (topic.view_hidden) {
          return;
        }

        // The post we requested might not exist. Let's find the closest post
        var closestPost = postStream.closestPostForPostNumber(params.nearPost || 1);
        var closest = closestPost.post_number;

        topicController.setProperties({
          "model.currentPost": closest,
          enteredIndex: topic.postStream.progressIndexOfPost(closestPost),
          enteredAt: new Date().getTime().toString()
        });

        _this.appEvents.trigger("page:topic-loaded", topic);
        topicController.subscribe();

        // Highlight our post after the next render
        (0, _runloop.scheduleOnce)("afterRender", function () {
          return _this.appEvents.trigger("post:highlight", closest);
        });

        var opts = {};
        if (document.location.hash && document.location.hash.length) {
          opts.anchor = document.location.hash;
        }
        _url.default.jumpToPost(closest, opts);

        if (!(0, _utils.isEmpty)(topic.draft)) {
          composerController.open({
            draft: _draft.default.getLocal(topic.draft_key, topic.draft),
            draftKey: topic.draft_key,
            draftSequence: topic.draft_sequence,
            ignoreIfChanged: true,
            topic: topic
          });
        }
      }).catch(function (e) {
        if (_environment.default.environment !== "test") {
          // eslint-disable-next-line no-console
          console.log("Could not view topic", e);
        }
      });
    },


    actions: {
      willTransition: function willTransition() {
        this.controllerFor("topic").set("previousURL", document.location.pathname);

        // NOTE: omitting this return can break the back button when transitioning quickly between
        // topics and the latest page.
        return true;
      }
    }
  });
});
define("discourse/components/text-field", ["exports", "discourse-common/utils/decorators", "discourse/lib/text-direction"], function (exports, _decorators, _textDirection) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj, _init;

  exports.default = Ember.TextField.extend((_dec = (0, _decorators.default)("placeholderKey"), (_obj = {
    attributeBindings: ["autocorrect", "autocapitalize", "autofocus", "maxLength", "dir"],

    dir: function dir() {
      if (this.siteSettings.support_mixed_text_direction) {
        var val = this.value;
        if (val) {
          return (0, _textDirection.isRTL)(val) ? "rtl" : "ltr";
        } else {
          return (0, _textDirection.siteDir)();
        }
      }
    },
    keyUp: function keyUp(event) {
      this._super(event);

      if (this.siteSettings.support_mixed_text_direction) {
        var val = this.value;
        if ((0, _textDirection.isRTL)(val)) {
          this.set("dir", "rtl");
        } else if ((0, _textDirection.isLTR)(val)) {
          this.set("dir", "ltr");
        } else {
          this.set("dir", (0, _textDirection.siteDir)());
        }
      }
    },

    placeholder: {
      get: function get() {
        if (this._placeholder) return this._placeholder;
        return this.placeholderKey ? I18n.t(this.placeholderKey) : "";
      },
      set: function set(value) {
        return this._placeholder = value;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "dir", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "dir"), _obj), _applyDecoratedDescriptor(_obj, "placeholder", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "placeholder"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/components/conditional-loading-spinner", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("size"), (_obj = {
    classNameBindings: [":loading-container", "containerClass", "condition:visible"],

    containerClass: function containerClass(size) {
      return size === "small" ? "inline-spinner" : undefined;
    }
  }, (_applyDecoratedDescriptor(_obj, "containerClass", [_dec], Object.getOwnPropertyDescriptor(_obj, "containerClass"), _obj)), _obj)));
});
define("discourse/helpers/user-avatar", ["exports", "@ember/object", "discourse-common/lib/helpers", "discourse/lib/utilities"], function (exports, _object, _helpers, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.renderAvatar = undefined;
  exports.registerCustomAvatarHelper = registerCustomAvatarHelper;
  exports.addExtraUserClasses = addExtraUserClasses;
  exports.classesForUser = classesForUser;


  var _customAvatarHelpers = void 0;

  function registerCustomAvatarHelper(fn) {
    _customAvatarHelpers = _customAvatarHelpers || [];
    _customAvatarHelpers.push(fn);
  }

  function addExtraUserClasses(u, args) {
    var extraClasses = classesForUser(u).join(" ");
    if (extraClasses && extraClasses.length) {
      args.extraClasses = extraClasses;
    }
    return args;
  }

  function classesForUser(u) {
    var result = [];
    if (_customAvatarHelpers) {
      for (var i = 0; i < _customAvatarHelpers.length; i++) {
        result = result.concat(_customAvatarHelpers[i](u));
      }
    }
    return result;
  }

  function renderAvatar(user, options) {
    options = options || {};

    if (user) {
      var name = (0, _object.get)(user, options.namePath || "name");
      var username = (0, _object.get)(user, options.usernamePath || "username");
      var avatarTemplate = (0, _object.get)(user, options.avatarTemplatePath || "avatar_template");

      if (!username || !avatarTemplate) {
        return "";
      }

      var displayName = name || (0, _utilities.formatUsername)(username);

      var title = options.title;
      if (!title && !options.ignoreTitle) {
        // first try to get a title
        title = (0, _object.get)(user, "title");
        // if there was no title provided
        if (!title) {
          // try to retrieve a description
          var description = (0, _object.get)(user, "description");
          // if a description has been provided
          if (description && description.length > 0) {
            // preprend the username before the description
            title = displayName + " - " + description;
          }
        }
      }

      return (0, _utilities.avatarImg)({
        size: options.imageSize,
        extraClasses: (0, _object.get)(user, "extras") || options.extraClasses,
        title: title || displayName,
        avatarTemplate: avatarTemplate
      });
    } else {
      return "";
    }
  }

  (0, _helpers.registerUnbound)("avatar", function (user, params) {
    return new Handlebars.SafeString(renderAvatar.call(this, user, params));
  });

  exports.renderAvatar = renderAvatar;
});
define("discourse/helpers/cold-age-class", ["exports", "discourse-common/lib/helpers"], function (exports, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.daysSinceEpoch = undefined;


  function daysSinceEpoch(dt) {
    // 1000 * 60 * 60 * 24 = days since epoch
    return dt.getTime() / 86400000;
  }

  (0, _helpers.registerUnbound)("cold-age-class", function (dt, params) {
    var className = params["class"] || "age";

    if (!dt) {
      return className;
    }

    var startDate = params.startDate || new Date();

    // Show heat on age
    var nowDays = daysSinceEpoch(startDate),
        epochDays = daysSinceEpoch(new Date(dt));

    if (nowDays - epochDays > Discourse.SiteSettings.cold_age_days_high) return className + " coldmap-high";
    if (nowDays - epochDays > Discourse.SiteSettings.cold_age_days_medium) return className + " coldmap-med";
    if (nowDays - epochDays > Discourse.SiteSettings.cold_age_days_low) return className + " coldmap-low";

    return className;
  });

  exports.daysSinceEpoch = daysSinceEpoch;
});
define("discourse/helpers/loading-spinner", ["exports", "discourse-common/lib/helpers"], function (exports, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.renderSpinner = exports.spinnerHTML = undefined;


  function renderSpinner(cssClass) {
    var html = "<div class='spinner";
    if (cssClass) {
      html += " " + cssClass;
    }
    return html + "'></div>";
  }
  var spinnerHTML = renderSpinner();

  exports.default = (0, _helpers.htmlHelper)(function (params) {
    var hash = params.hash;
    return renderSpinner(hash && hash.size ? hash.size : undefined);
  });
  exports.spinnerHTML = spinnerHTML;
  exports.renderSpinner = renderSpinner;
});
define("discourse/helpers/category-link", ["exports", "@ember/object", "discourse-common/lib/helpers", "discourse/lib/text-direction", "discourse-common/lib/icon-library", "discourse/models/category", "discourse/models/site"], function (exports, _object, _helpers, _textDirection, _iconLibrary, _category, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.replaceCategoryLinkRenderer = replaceCategoryLinkRenderer;
  exports.categoryBadgeHTML = categoryBadgeHTML;
  exports.categoryLinkHTML = categoryLinkHTML;


  var escapeExpression = Handlebars.Utils.escapeExpression;
  var _renderer = defaultCategoryLinkRenderer;

  function replaceCategoryLinkRenderer(fn) {
    _renderer = fn;
  }

  function categoryStripe(color, classes) {
    var style = color ? "style='background-color: #" + color + ";'" : "";
    return "<span class='" + classes + "' " + style + "></span>";
  }

  /**
    Generates category badge HTML
  
    @param {Object} category The category to generate the badge for.
    @param {Object} opts
      @param {String}  [opts.url] The url that we want the category badge to link to.
      @param {Boolean} [opts.allowUncategorized] If false, returns an empty string for the uncategorized category.
      @param {Boolean} [opts.link] If false, the category badge will not be a link.
      @param {Boolean} [opts.hideParent] If true, parent category will be hidden in the badge.
      @param {Boolean} [opts.recursive] If true, the function will be called recursively for all parent categories
      @param {Number}  [opts.depth] Current category depth, used for limiting recursive calls
  **/
  function categoryBadgeHTML(category, opts) {
    opts = opts || {};

    if (!category || !opts.allowUncategorized && (0, _object.get)(category, "id") === _site.default.currentProp("uncategorized_category_id") && Discourse.SiteSettings.suppress_uncategorized_badge) return "";

    var depth = (opts.depth || 1) + 1;
    if (opts.recursive && depth <= Discourse.SiteSettings.max_category_nesting) {
      var parentCategory = _category.default.findById(category.parent_category_id);
      opts.depth = depth;
      return categoryBadgeHTML(parentCategory, opts) + _renderer(category, opts);
    }

    return _renderer(category, opts);
  }

  function categoryLinkHTML(category, options) {
    var categoryOptions = {};

    // TODO: This is a compatibility layer with the old helper structure.
    // Can be removed once we migrate to `registerUnbound` fully
    if (options && options.hash) {
      options = options.hash;
    }

    if (options) {
      if (options.allowUncategorized) {
        categoryOptions.allowUncategorized = true;
      }
      if (options.link !== undefined) {
        categoryOptions.link = options.link;
      }
      if (options.extraClasses) {
        categoryOptions.extraClasses = options.extraClasses;
      }
      if (options.hideParent) {
        categoryOptions.hideParent = true;
      }
      if (options.categoryStyle) {
        categoryOptions.categoryStyle = options.categoryStyle;
      }
      if (options.recursive) {
        categoryOptions.recursive = true;
      }
    }
    return new Handlebars.SafeString(categoryBadgeHTML(category, categoryOptions));
  }

  (0, _helpers.registerUnbound)("category-link", categoryLinkHTML);

  function buildTopicCount(count) {
    return "<span class=\"topic-count\" aria-label=\"" + I18n.t("category_row.topic_count", { count: count }) + "\">&times; " + count + "</span>";
  }

  function defaultCategoryLinkRenderer(category, opts) {
    var descriptionText = (0, _object.get)(category, "description_text");
    var restricted = (0, _object.get)(category, "read_restricted");
    var url = opts.url ? opts.url : Discourse.getURL("/c/" + _category.default.slugFor(category) + "/" + (0, _object.get)(category, "id"));
    var href = opts.link === false ? "" : url;
    var tagName = opts.link === false || opts.link === "false" ? "span" : "a";
    var extraClasses = opts.extraClasses ? " " + opts.extraClasses : "";
    var color = (0, _object.get)(category, "color");
    var html = "";
    var parentCat = null;
    var categoryDir = "";

    if (!opts.hideParent) {
      parentCat = _category.default.findById((0, _object.get)(category, "parent_category_id"));
    }

    var categoryStyle = opts.categoryStyle || Discourse.SiteSettings.category_style;
    if (categoryStyle !== "none") {
      if (parentCat && parentCat !== category) {
        html += categoryStripe((0, _object.get)(parentCat, "color"), "badge-category-parent-bg");
      }
      html += categoryStripe(color, "badge-category-bg");
    }

    var classNames = "badge-category clear-badge";
    if (restricted) {
      classNames += " restricted";
    }

    var style = "";
    if (categoryStyle === "box") {
      style = "style=\"color: #" + (0, _object.get)(category, "text_color") + ";\"";
    }

    html += "<span " + style + " " + 'data-drop-close="true" class="' + classNames + '"' + (descriptionText ? 'title="' + descriptionText + '" ' : "") + ">";

    var categoryName = escapeExpression((0, _object.get)(category, "name"));

    if (Discourse.SiteSettings.support_mixed_text_direction) {
      categoryDir = (0, _textDirection.isRTL)(categoryName) ? 'dir="rtl"' : 'dir="ltr"';
    }

    if (restricted) {
      html += (0, _iconLibrary.iconHTML)("lock") + "<span class=\"category-name\" " + categoryDir + ">" + categoryName + "</span>";
    } else {
      html += "<span class=\"category-name\" " + categoryDir + ">" + categoryName + "</span>";
    }
    html += "</span>";

    if (opts.topicCount && categoryStyle !== "box") {
      html += buildTopicCount(opts.topicCount);
    }

    if (href) {
      href = " href=\"" + href + "\" ";
    }

    extraClasses = categoryStyle ? categoryStyle + extraClasses : extraClasses;

    var afterBadgeWrapper = "";
    if (opts.topicCount && categoryStyle === "box") {
      afterBadgeWrapper += buildTopicCount(opts.topicCount);
    }
    return "<" + tagName + " class=\"badge-wrapper " + extraClasses + "\" " + href + ">" + html + "</" + tagName + ">" + afterBadgeWrapper;
  }
});
define("discourse/mapping-router", ["exports", "discourse/lib/utilities", "discourse/lib/url", "discourse-common/config/environment", "discourse/models/site"], function (exports, _utilities, _url, _environment, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.mapRoutes = mapRoutes;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var rootURL = Discourse.BaseUri;

  var BareRouter = Ember.Router.extend({
    rootURL: rootURL,
    location: _environment.default.environment === "test" ? "none" : "discourse-location",

    handleURL: function handleURL(url) {
      url = (0, _url.rewritePath)(url);
      var params = url.split("?");

      if (params[0] === "/") {
        url = (0, _utilities.defaultHomepage)();
        if (params[1] && params[1].length) {
          url = url + "?" + params[1];
        }
      }
      return this._super(url);
    }
  });

  // Ember's router can't be extended. We need to allow plugins to add routes to routes that were defined
  // in the core app. This class has the same API as Ember's `Router.map` but saves the results in a tree.
  // The tree is applied after all plugins are defined.

  var RouteNode = function () {
    function RouteNode(name) {
      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;

      _classCallCheck(this, RouteNode);

      this.name = name;
      this.opts = opts;
      this.depth = depth;
      this.children = [];
      this.childrenByName = {};
      this.paths = {};
      this.site = _site.default.current();

      if (!opts.path) {
        opts.path = name;
      }

      this.paths[opts.path] = true;
    }

    _createClass(RouteNode, [{
      key: "route",
      value: function route(name, opts, fn) {
        if (typeof opts === "function") {
          fn = opts;
          opts = {};
        } else {
          opts = opts || {};
        }

        var existing = this.childrenByName[name];
        if (existing) {
          if (opts.path) {
            existing.paths[opts.path] = true;
          }
          existing.extract(fn);
        } else {
          var node = new RouteNode(name, opts, this.depth + 1);
          node.extract(fn);
          this.childrenByName[name] = node;
          this.children.push(node);
        }
      }
    }, {
      key: "extract",
      value: function extract(fn) {
        if (!fn) {
          return;
        }
        fn.call(this);
      }
    }, {
      key: "mapRoutes",
      value: function mapRoutes(router) {
        var children = this.children;
        if (this.name === "root") {
          children.forEach(function (c) {
            return c.mapRoutes(router);
          });
        } else {
          var builder = children.length === 0 ? undefined : function () {
            var _this = this;

            children.forEach(function (c) {
              return c.mapRoutes(_this);
            });
          };
          router.route(this.name, this.opts, builder);
        }
      }
    }, {
      key: "findSegment",
      value: function findSegment(segments) {
        if (segments && segments.length) {
          var first = segments.shift();
          var node = this.childrenByName[first];
          if (node) {
            return segments.length === 0 ? node : node.findSegment(segments);
          }
        }
      }
    }, {
      key: "findPath",
      value: function findPath(path) {
        if (path) {
          return this.findSegment(path.split("."));
        }
      }
    }]);

    return RouteNode;
  }();

  function mapRoutes() {
    var tree = new RouteNode("root");
    var extras = [];

    // If a module is defined as `route-map` in discourse or a plugin, its routes
    // will be built automatically. You can supply a `resource` property to
    // automatically put it in that resource, such as `admin`. That way plugins
    // can define admin routes.
    Object.keys(requirejs._eak_seen).forEach(function (key) {
      if (/route-map$/.test(key)) {
        var module = requirejs(key, null, null, true);
        if (!module || !module.default) {
          throw new Error(key + " must export a route map.");
        }

        var mapObj = module.default;
        if (typeof mapObj === "function") {
          tree.extract(mapObj);
        } else {
          extras.push(mapObj);
        }
      }
    });

    extras.forEach(function (extra) {
      var node = tree.findPath(extra.resource);
      if (node) {
        node.extract(extra.map);
      }
    });

    return BareRouter.extend().map(function () {
      tree.mapRoutes(this);
      this.route("unknown", { path: "*path" });
    });
  }

  exports.default = BareRouter;
});
define("discourse/controllers/about", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/controller"], function (exports, _decorators, _computed, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  exports.default = _controller.default.extend((_obj = {
    faqOverriden: (0, _computed.gt)("siteSettings.faq_url.length", 0),

    contactInfo: function contactInfo() {
      if (this.siteSettings.contact_url) {
        return I18n.t("about.contact_info", {
          contact_info: "<a href='" + this.siteSettings.contact_url + "' target='_blank'>" + this.siteSettings.contact_url + "</a>"
        });
      } else if (this.siteSettings.contact_email) {
        return I18n.t("about.contact_info", {
          contact_info: this.siteSettings.contact_email
        });
      } else {
        return null;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "contactInfo", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "contactInfo"), _obj)), _obj));
});
define("discourse/controllers/account-created-edit-email", ["exports", "discourse-common/utils/decorators", "@ember/controller", "discourse/lib/user-activation", "discourse/lib/ajax-error"], function (exports, _decorators, _controller, _userActivation, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("newEmail", "accountCreated.email"), (_obj = {
    accountCreated: null,
    newEmail: null,

    submitDisabled: function submitDisabled(newEmail, currentEmail) {
      return newEmail === currentEmail;
    },


    actions: {
      changeEmail: function changeEmail() {
        var _this = this;

        var email = this.newEmail;
        (0, _userActivation.changeEmail)({ email: email }).then(function () {
          _this.set("accountCreated.email", email);
          _this.transitionToRoute("account-created.resent");
        }).catch(_ajaxError.popupAjaxError);
      },
      cancel: function cancel() {
        this.transitionToRoute("account-created.index");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "submitDisabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "submitDisabled"), _obj)), _obj)));
});
define("discourse/controllers/account-created-index", ["exports", "@ember/controller", "discourse/lib/user-activation"], function (exports, _controller, _userActivation) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    actions: {
      sendActivationEmail: function sendActivationEmail() {
        var _this = this;

        (0, _userActivation.resendActivationEmail)(this.get("accountCreated.username")).then(function () {
          _this.transitionToRoute("account-created.resent");
        });
      },
      editActivationEmail: function editActivationEmail() {
        this.transitionToRoute("account-created.edit-email");
      }
    }
  });
});
define("discourse/controllers/activation-edit", ["exports", "discourse-common/utils/decorators", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/ajax-error", "discourse/lib/user-activation"], function (exports, _decorators, _controller, _modalFunctionality, _ajaxError, _userActivation) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("newEmail", "currentEmail"), (_obj = {
    login: (0, _controller.inject)(),

    currentEmail: null,
    newEmail: null,
    password: null,

    submitDisabled: function submitDisabled(newEmail, currentEmail) {
      return newEmail === currentEmail;
    },


    actions: {
      changeEmail: function changeEmail() {
        var _this = this;

        var login = this.login;

        (0, _userActivation.changeEmail)({
          username: login.get("loginName"),
          password: login.get("loginPassword"),
          email: this.newEmail
        }).then(function () {
          var modal = _this.showModal("activation-resent", {
            title: "log_in"
          });
          modal.set("currentEmail", _this.newEmail);
        }).catch(function (err) {
          return _this.flash((0, _ajaxError.extractError)(err), "error");
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "submitDisabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "submitDisabled"), _obj)), _obj)));
});
define("discourse/controllers/add-post-notice", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/text"], function (exports, _decorators, _utils, _controller, _modalFunctionality, _text) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("saving", "notice"), (_obj = {
    post: null,
    resolve: null,
    reject: null,

    notice: null,
    saving: false,

    disabled: function disabled(saving, notice) {
      return saving || (0, _utils.isEmpty)(notice);
    },
    onShow: function onShow() {
      this.setProperties({
        notice: "",
        saving: false
      });
    },
    onClose: function onClose() {
      var reject = this.reject;
      if (reject) {
        reject();
      }
    },


    actions: {
      setNotice: function setNotice() {
        var _this = this;

        this.set("saving", true);

        var post = this.post;
        var resolve = this.resolve;
        var reject = this.reject;
        var notice = this.notice;

        // Let `updatePostField` handle state.
        this.setProperties({ resolve: null, reject: null });

        post.updatePostField("notice", notice).then(function () {
          return (0, _text.cookAsync)(notice, { features: { onebox: false } });
        }).then(function (cookedNotice) {
          post.setProperties({
            notice_type: "custom",
            notice_args: cookedNotice.string
          });
          resolve();
          _this.send("closeModal");
        }).catch(function () {
          reject();
          _this.send("closeModal");
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "disabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "disabled"), _obj)), _obj)));
});
define("discourse/controllers/application", ["exports", "discourse-common/utils/decorators", "@ember/service", "@ember/controller", "discourse/lib/utilities"], function (exports, _decorators, _service, _controller, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  exports.default = _controller.default.extend((_obj = {
    showTop: true,
    showFooter: false,
    router: (0, _service.inject)(),

    canSignUp: function canSignUp() {
      return !Discourse.SiteSettings.invite_only && Discourse.SiteSettings.allow_new_registrations && !Discourse.SiteSettings.enable_sso;
    },
    loginRequired: function loginRequired() {
      return Discourse.SiteSettings.login_required && !this.currentUser;
    },
    showFooterNav: function showFooterNav() {
      return (0, _utilities.isAppWebview)() || (0, _utilities.isiOSPWA)();
    }
  }, (_applyDecoratedDescriptor(_obj, "canSignUp", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "canSignUp"), _obj), _applyDecoratedDescriptor(_obj, "loginRequired", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "loginRequired"), _obj), _applyDecoratedDescriptor(_obj, "showFooterNav", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "showFooterNav"), _obj)), _obj));
});
define("discourse/controllers/associate-account-confirm", ["exports", "@ember/controller", "discourse/lib/ajax", "discourse/lib/ajax-error", "discourse/mixins/modal-functionality"], function (exports, _controller, _ajax, _ajaxError, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    actions: {
      finishConnect: function finishConnect() {
        var _this = this;

        (0, _ajax.ajax)({
          url: "/associate/" + encodeURIComponent(this.model.token),
          type: "POST"
        }).then(function (result) {
          if (result.success) {
            _this.transitionToRoute("preferences.account", _this.currentUser.findDetails());
            _this.send("closeModal");
          } else {
            _this.set("model.error", result.error);
          }
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  });
});
define("discourse/controllers/auth-token", ["exports", "@ember/runloop", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/ajax", "discourse/lib/url"], function (exports, _runloop, _controller, _modalFunctionality, _ajax, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    expanded: false,

    onShow: function onShow() {
      var _this = this;

      (0, _ajax.ajax)((0, _url.userPath)(this.get("currentUser.username_lower") + "/activity.json")).then(function (posts) {
        if (posts.length > 0) {
          _this.set("latest_post", posts[0]);
        }
      });
    },


    actions: {
      toggleExpanded: function toggleExpanded() {
        this.set("expanded", !this.expanded);
      },
      highlightSecure: function highlightSecure() {
        this.send("closeModal");

        (0, _runloop.next)(function () {
          var $prefPasswordDiv = $(".pref-password");

          $prefPasswordDiv.addClass("highlighted");
          $prefPasswordDiv.on("animationend", function () {
            return $prefPasswordDiv.removeClass("highlighted");
          });

          window.scrollTo({
            top: $prefPasswordDiv.offset().top,
            behavior: "smooth"
          });
        });
      }
    }
  });
});
define("discourse/controllers/avatar-selector", ["exports", "discourse-common/utils/decorators", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/ajax", "discourse/lib/uploads", "discourse/lib/ajax-error"], function (exports, _decorators, _controller, _modalFunctionality, _ajax, _uploads, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("selected", "user.system_avatar_upload_id", "user.gravatar_avatar_upload_id", "user.custom_avatar_upload_id"), _dec2 = (0, _decorators.default)("selected", "user.system_avatar_template", "user.gravatar_avatar_template", "user.custom_avatar_template"), _dec3 = (0, _decorators.default)(), (_obj = {
    selectedUploadId: function selectedUploadId(selected, system, gravatar, custom) {
      switch (selected) {
        case "system":
          return system;
        case "gravatar":
          return gravatar;
        default:
          return custom;
      }
    },
    selectedAvatarTemplate: function selectedAvatarTemplate(selected, system, gravatar, custom) {
      switch (selected) {
        case "system":
          return system;
        case "gravatar":
          return gravatar;
        default:
          return custom;
      }
    },
    allowAvatarUpload: function allowAvatarUpload() {
      return this.siteSettings.allow_uploaded_avatars && (0, _uploads.allowsImages)(this.currentUser.staff);
    },


    actions: {
      uploadComplete: function uploadComplete() {
        this.set("selected", "uploaded");
      },
      refreshGravatar: function refreshGravatar() {
        var _this = this;

        this.set("gravatarRefreshDisabled", true);

        return (0, _ajax.ajax)("/user_avatar/" + this.get("user.username") + "/refresh_gravatar.json", { method: "POST" }).then(function (result) {
          if (!result.gravatar_upload_id) {
            _this.set("gravatarFailed", true);
          } else {
            _this.set("gravatarFailed", false);

            _this.user.setProperties({
              gravatar_avatar_upload_id: result.gravatar_upload_id,
              gravatar_avatar_template: result.gravatar_avatar_template
            });
          }
        }).finally(function () {
          return _this.set("gravatarRefreshDisabled", false);
        });
      },
      selectAvatar: function selectAvatar(url) {
        this.user.selectAvatar(url).then(function () {
          return window.location.reload();
        }).catch(_ajaxError.popupAjaxError);
      },
      saveAvatarSelection: function saveAvatarSelection() {
        var selectedUploadId = this.selectedUploadId;
        var type = this.selected;

        this.user.pickAvatar(selectedUploadId, type).then(function () {
          return window.location.reload();
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "selectedUploadId", [_dec], Object.getOwnPropertyDescriptor(_obj, "selectedUploadId"), _obj), _applyDecoratedDescriptor(_obj, "selectedAvatarTemplate", [_dec2], Object.getOwnPropertyDescriptor(_obj, "selectedAvatarTemplate"), _obj), _applyDecoratedDescriptor(_obj, "allowAvatarUpload", [_dec3], Object.getOwnPropertyDescriptor(_obj, "allowAvatarUpload"), _obj)), _obj)));
});
define("discourse/controllers/badges/index", ["exports", "discourse-common/utils/decorators", "@ember/controller"], function (exports, _decorators, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("model"), (_obj = {
    badgeGroups: function badgeGroups(model) {
      var sorted = _.sortBy(model, function (badge) {
        var pos = badge.get("badge_grouping.position");
        var type = badge.get("badge_type_id");
        var name = badge.get("name");

        return ("000" + pos).slice(-4) + (10 - type) + name;
      });

      var grouped = [];
      var group = [],
          groupId;

      sorted.forEach(function (badge) {
        if (groupId !== badge.badge_grouping_id) {
          if (group && group.length > 0) {
            grouped.push({
              badges: group,
              badgeGrouping: group[0].badge_grouping
            });
          }
          group = [];
          groupId = badge.badge_grouping_id;
        }
        group.push(badge);
      });

      if (group && group.length > 0) {
        grouped.push({ badges: group, badgeGrouping: group[0].badge_grouping });
      }

      return grouped;
    }
  }, (_applyDecoratedDescriptor(_obj, "badgeGroups", [_dec], Object.getOwnPropertyDescriptor(_obj, "badgeGroups"), _obj)), _obj)));
});
define("discourse/controllers/badges/show", ["exports", "@ember/controller", "@ember/object", "discourse/models/badge", "discourse/models/user-badge", "discourse-common/utils/decorators"], function (exports, _controller, _object, _badge, _userBadge, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("userBadgesAll"), _dec2 = (0, _decorators.default)("filteredList"), _dec3 = (0, _decorators.default)("username"), _dec4 = (0, _decorators.default)("username", "model.grant_count", "userBadges.grant_count"), _dec5 = (0, _decorators.default)("model.grant_count", "userBadges.grant_count"), _dec6 = (0, _decorators.default)("model.allow_title", "model.has_badge", "model"), _dec7 = (0, _decorators.default)("noMoreBadges", "grantCount", "userBadges.length"), _dec8 = (0, _decorators.default)("user", "model.grant_count"), _dec9 = (0, _decorators.observes)("canLoadMore"), (_obj = {
    queryParams: ["username"],
    noMoreBadges: false,
    userBadges: null,
    application: (0, _controller.inject)(),
    hiddenSetTitle: true,

    filteredList: function filteredList(userBadgesAll) {
      return userBadgesAll.filterBy("badge.allow_title", true);
    },
    selectableUserBadges: function selectableUserBadges(filteredList) {
      return [_object.default.create({
        badge: _badge.default.create({ name: I18n.t("badges.none") })
      })].concat(_toConsumableArray(filteredList.uniqBy("badge.name")));
    },
    user: function user(username) {
      if (username) {
        return this.userBadges[0].get("user");
      }
    },
    grantCount: function grantCount(username, modelCount, userCount) {
      return username ? userCount : modelCount;
    },
    othersCount: function othersCount(modelCount, userCount) {
      return modelCount - userCount;
    },
    canSelectTitle: function canSelectTitle(hasTitleBadges, hasBadge) {
      return this.siteSettings.enable_badges && hasTitleBadges && hasBadge;
    },


    actions: {
      loadMore: function loadMore() {
        var _this = this;

        if (this.loadingMore) {
          return;
        }
        this.set("loadingMore", true);

        var userBadges = this.userBadges;

        _userBadge.default.findByBadgeId(this.get("model.id"), {
          offset: userBadges.length,
          username: this.username
        }).then(function (result) {
          userBadges.pushObjects(result);
          if (userBadges.length === 0) {
            _this.set("noMoreBadges", true);
          }
        }).finally(function () {
          _this.set("loadingMore", false);
        });
      },
      toggleSetUserTitle: function toggleSetUserTitle() {
        return this.toggleProperty("hiddenSetTitle");
      }
    },

    canLoadMore: function canLoadMore(noMoreBadges, grantCount, userBadgeLength) {
      if (noMoreBadges) {
        return false;
      }
      return grantCount > (userBadgeLength || 0);
    },
    canShowOthers: function canShowOthers(user, grantCount) {
      return !!user && grantCount > 1;
    },
    _showFooter: function _showFooter() {
      this.set("application.showFooter", !this.canLoadMore);
    }
  }, (_applyDecoratedDescriptor(_obj, "filteredList", [_dec], Object.getOwnPropertyDescriptor(_obj, "filteredList"), _obj), _applyDecoratedDescriptor(_obj, "selectableUserBadges", [_dec2], Object.getOwnPropertyDescriptor(_obj, "selectableUserBadges"), _obj), _applyDecoratedDescriptor(_obj, "user", [_dec3], Object.getOwnPropertyDescriptor(_obj, "user"), _obj), _applyDecoratedDescriptor(_obj, "grantCount", [_dec4], Object.getOwnPropertyDescriptor(_obj, "grantCount"), _obj), _applyDecoratedDescriptor(_obj, "othersCount", [_dec5], Object.getOwnPropertyDescriptor(_obj, "othersCount"), _obj), _applyDecoratedDescriptor(_obj, "canSelectTitle", [_dec6], Object.getOwnPropertyDescriptor(_obj, "canSelectTitle"), _obj), _applyDecoratedDescriptor(_obj, "canLoadMore", [_dec7], Object.getOwnPropertyDescriptor(_obj, "canLoadMore"), _obj), _applyDecoratedDescriptor(_obj, "canShowOthers", [_dec8], Object.getOwnPropertyDescriptor(_obj, "canShowOthers"), _obj), _applyDecoratedDescriptor(_obj, "_showFooter", [_dec9], Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _obj)), _obj)));
});
define("discourse/controllers/basic-modal-body", ["exports", "@ember/controller", "discourse/mixins/modal-functionality"], function (exports, _controller, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    modal: null
  });
});
define("discourse/controllers/bookmark", ["exports", "@ember/controller", "discourse/mixins/modal-functionality", "discourse-common/utils/decorators", "discourse/lib/ajax-error", "@ember/template", "discourse/lib/ajax", "@ember/object/computed"], function (exports, _controller, _modalFunctionality, _decorators, _ajaxError, _template, _ajax, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _desc, _value, _obj, _init;

  var START_OF_DAY_HOUR = 8;
  var REMINDER_TYPES = {
    AT_DESKTOP: "at_desktop",
    LATER_TODAY: "later_today",
    NEXT_BUSINESS_DAY: "next_business_day",
    TOMORROW: "tomorrow",
    NEXT_WEEK: "next_week",
    NEXT_MONTH: "next_month",
    CUSTOM: "custom"
  };

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)(), _dec2 = (0, _decorators.default)(), _dec3 = (0, _decorators.default)(), _dec4 = (0, _decorators.default)(), _dec5 = (0, _decorators.default)(), _dec6 = (0, _decorators.default)(), _dec7 = (0, _decorators.default)(), _dec8 = (0, _decorators.default)(), (_obj = {
    loading: false,
    errorMessage: null,
    name: null,
    selectedReminderType: null,
    closeWithoutSaving: false,
    isSavingBookmarkManually: false,
    onCloseWithoutSaving: null,

    onShow: function onShow() {
      this.setProperties({
        errorMessage: null,
        name: null,
        selectedReminderType: null,
        closeWithoutSaving: false,
        isSavingBookmarkManually: false
      });
    },


    // we always want to save the bookmark unless the user specifically
    // clicks the save or cancel button to mimic browser behaviour
    onClose: function onClose() {
      if (!this.closeWithoutSaving && !this.isSavingBookmarkManually) {
        this.saveBookmark();
      }
      if (this.onCloseWithoutSaving && this.closeWithoutSaving) {
        this.onCloseWithoutSaving();
      }
    },


    usingMobileDevice: (0, _computed.reads)("site.mobileView"),
    showBookmarkReminderControls: false,

    reminderTypes: function reminderTypes() {
      return REMINDER_TYPES;
    },

    showLaterToday: function showLaterToday() {
      return !this.laterToday().isSame(this.tomorrow(), "date");
    },
    laterTodayFormatted: function laterTodayFormatted() {
      return (0, _template.htmlSafe)(I18n.t("bookmarks.reminders.later_today", {
        date: this.laterToday().format(I18n.t("dates.time"))
      }));
    },
    tomorrowFormatted: function tomorrowFormatted() {
      return (0, _template.htmlSafe)(I18n.t("bookmarks.reminders.tomorrow", {
        date: this.tomorrow().format(I18n.t("dates.time_short_day"))
      }));
    },
    nextBusinessDayFormatted: function nextBusinessDayFormatted() {
      return (0, _template.htmlSafe)(I18n.t("bookmarks.reminders.next_business_day", {
        date: this.nextBusinessDay().format(I18n.t("dates.time_short_day"))
      }));
    },
    nextWeekFormatted: function nextWeekFormatted() {
      return (0, _template.htmlSafe)(I18n.t("bookmarks.reminders.next_week", {
        date: this.nextWeek().format(I18n.t("dates.long_no_year"))
      }));
    },
    nextMonthFormatted: function nextMonthFormatted() {
      return (0, _template.htmlSafe)(I18n.t("bookmarks.reminders.next_month", {
        date: this.nextMonth().format(I18n.t("dates.long_no_year"))
      }));
    },
    userHasTimezoneSet: function userHasTimezoneSet() {
      return !_.isEmpty(this.userTimezone());
    },
    saveBookmark: function saveBookmark() {
      var _this = this;

      var reminderAt = this.reminderAt();
      var reminderAtISO = reminderAt ? reminderAt.toISOString() : null;
      var data = {
        reminder_type: this.selectedReminderType,
        reminder_at: reminderAtISO,
        name: this.name,
        post_id: this.model.postId
      };

      return (0, _ajax.ajax)("/bookmarks", { type: "POST", data: data }).then(function () {
        if (_this.afterSave) {
          _this.afterSave(reminderAtISO);
        }
      });
    },
    reminderAt: function reminderAt() {
      if (!this.selectedReminderType) {
        return;
      }

      switch (this.selectedReminderType) {
        case REMINDER_TYPES.AT_DESKTOP:
          // TODO: Implement at desktop bookmark reminder functionality
          return "";
        case REMINDER_TYPES.LATER_TODAY:
          return this.laterToday();
        case REMINDER_TYPES.NEXT_BUSINESS_DAY:
          return this.nextBusinessDay();
        case REMINDER_TYPES.TOMORROW:
          return this.tomorrow();
        case REMINDER_TYPES.NEXT_WEEK:
          return this.nextWeek();
        case REMINDER_TYPES.NEXT_MONTH:
          return this.nextMonth();
        case REMINDER_TYPES.CUSTOM:
          // TODO: Implement custom bookmark reminder times
          return "";
      }
    },
    nextWeek: function nextWeek() {
      return this.startOfDay(this.now().add(7, "days"));
    },
    nextMonth: function nextMonth() {
      return this.startOfDay(this.now().add(1, "month"));
    },
    nextBusinessDay: function nextBusinessDay() {
      var currentDay = this.now().isoWeekday(); // 1=Mon, 7=Sun
      var next = null;

      // friday
      if (currentDay === 5) {
        next = this.now().add(3, "days");
        // saturday
      } else if (currentDay === 6) {
        next = this.now().add(2, "days");
      } else {
        next = this.now().add(1, "day");
      }

      return this.startOfDay(next);
    },
    tomorrow: function tomorrow() {
      return this.startOfDay(this.now().add(1, "day"));
    },
    startOfDay: function startOfDay(momentDate) {
      return momentDate.hour(START_OF_DAY_HOUR).startOf("hour");
    },
    userTimezone: function userTimezone() {
      return this.currentUser.timezone;
    },
    now: function now() {
      return moment.tz(this.userTimezone());
    },
    laterToday: function laterToday() {
      var later = this.now().add(3, "hours");
      return later.minutes() < 30 ? later.minutes(30) : later.add(30, "minutes").startOf("hour");
    },


    actions: {
      saveAndClose: function saveAndClose() {
        var _this2 = this;

        this.isSavingBookmarkManually = true;
        this.saveBookmark().then(function () {
          return _this2.send("closeModal");
        }).catch(function (e) {
          _this2.isSavingBookmarkManually = false;
          (0, _ajaxError.popupAjaxError)(e);
        });
      },
      closeWithoutSavingBookmark: function closeWithoutSavingBookmark() {
        this.closeWithoutSaving = true;
        this.send("closeModal");
      },
      selectReminderType: function selectReminderType(type) {
        this.set("selectedReminderType", type);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "reminderTypes", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "reminderTypes"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "showLaterToday", [_dec2], Object.getOwnPropertyDescriptor(_obj, "showLaterToday"), _obj), _applyDecoratedDescriptor(_obj, "laterTodayFormatted", [_dec3], Object.getOwnPropertyDescriptor(_obj, "laterTodayFormatted"), _obj), _applyDecoratedDescriptor(_obj, "tomorrowFormatted", [_dec4], Object.getOwnPropertyDescriptor(_obj, "tomorrowFormatted"), _obj), _applyDecoratedDescriptor(_obj, "nextBusinessDayFormatted", [_dec5], Object.getOwnPropertyDescriptor(_obj, "nextBusinessDayFormatted"), _obj), _applyDecoratedDescriptor(_obj, "nextWeekFormatted", [_dec6], Object.getOwnPropertyDescriptor(_obj, "nextWeekFormatted"), _obj), _applyDecoratedDescriptor(_obj, "nextMonthFormatted", [_dec7], Object.getOwnPropertyDescriptor(_obj, "nextMonthFormatted"), _obj), _applyDecoratedDescriptor(_obj, "userHasTimezoneSet", [_dec8], Object.getOwnPropertyDescriptor(_obj, "userHasTimezoneSet"), _obj)), _obj)));
});
define("discourse/controllers/bulk-notification-level", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/controller", "discourse/lib/notification-levels"], function (exports, _decorators, _computed, _controller, _notificationLevels) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  exports.default = _controller.default.extend((_obj = {
    topicBulkActions: (0, _controller.inject)(),
    notificationLevelId: null,

    notificationLevels: function notificationLevels() {
      return _notificationLevels.topicLevels.map(function (level) {
        return {
          id: level.id.toString(),
          name: I18n.t("topic.notifications." + level.key + ".title"),
          description: I18n.t("topic.notifications." + level.key + ".description")
        };
      });
    },


    disabled: (0, _computed.empty)("notificationLevelId"),

    actions: {
      changeNotificationLevel: function changeNotificationLevel() {
        this.topicBulkActions.performAndRefresh({
          type: "change_notification_level",
          notification_level_id: this.notificationLevelId
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "notificationLevels", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "notificationLevels"), _obj)), _obj));
});
define("discourse/controllers/change-owner", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/object/computed", "@ember/runloop", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/url", "discourse/models/topic"], function (exports, _decorators, _utils, _computed, _runloop, _controller, _modalFunctionality, _url, _topic) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("saving", "new_user"), (_obj = {
    topicController: (0, _controller.inject)("topic"),

    saving: false,
    new_user: null,

    selectedPostsCount: (0, _computed.alias)("topicController.selectedPostsCount"),
    selectedPostsUsername: (0, _computed.alias)("topicController.selectedPostsUsername"),

    buttonDisabled: function buttonDisabled(saving, newUser) {
      return saving || (0, _utils.isEmpty)(newUser);
    },
    onShow: function onShow() {
      this.setProperties({
        saving: false,
        new_user: ""
      });
    },


    actions: {
      changeOwnershipOfPosts: function changeOwnershipOfPosts() {
        var _this = this;

        this.set("saving", true);

        var options = {
          post_ids: this.get("topicController.selectedPostIds"),
          username: this.new_user
        };

        _topic.default.changeOwners(this.get("topicController.model.id"), options).then(function () {
          _this.send("closeModal");
          _this.topicController.send("deselectAll");
          if (_this.get("topicController.multiSelect")) {
            _this.topicController.send("toggleMultiSelect");
          }
          (0, _runloop.next)(function () {
            return _url.default.routeTo(_this.get("topicController.model.url"));
          });
        }, function () {
          _this.flash(I18n.t("topic.change_owner.error"), "alert-error");
          _this.set("saving", false);
        });

        return false;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "buttonDisabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "buttonDisabled"), _obj)), _obj)));
});
define("discourse/controllers/change-timestamp", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/runloop", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/url", "discourse/models/topic"], function (exports, _decorators, _utils, _runloop, _controller, _modalFunctionality, _url, _topic) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("saving"), _dec2 = (0, _decorators.default)("date", "time"), _dec3 = (0, _decorators.default)("createdAt"), _dec4 = (0, _decorators.default)("saving", "date", "validTimestamp"), (_obj = {
    topicController: (0, _controller.inject)("topic"),
    saving: false,
    date: "",
    time: "",

    buttonTitle: function buttonTitle(saving) {
      return saving ? I18n.t("saving") : I18n.t("topic.change_timestamp.action");
    },
    createdAt: function createdAt(date, time) {
      return moment(date + " " + time, "YYYY-MM-DD HH:mm:ss");
    },
    validTimestamp: function validTimestamp(createdAt) {
      return moment().diff(createdAt, "minutes") < 0;
    },
    buttonDisabled: function buttonDisabled(saving, date, validTimestamp) {
      if (saving || validTimestamp) return true;
      return (0, _utils.isEmpty)(date);
    },
    onShow: function onShow() {
      this.set("date", moment().format("YYYY-MM-DD"));
    },


    actions: {
      changeTimestamp: function changeTimestamp() {
        var _this = this;

        this.set("saving", true);

        var topic = this.topicController.model;

        _topic.default.changeTimestamp(topic.id, this.createdAt.unix()).then(function () {
          _this.send("closeModal");
          _this.setProperties({ date: "", time: "", saving: false });
          (0, _runloop.next)(function () {
            return _url.default.routeTo(topic.url);
          });
        }).catch(function () {
          return _this.flash(I18n.t("topic.change_timestamp.error"), "alert-error");
        }).finally(function () {
          return _this.set("saving", false);
        });

        return false;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "buttonTitle", [_dec], Object.getOwnPropertyDescriptor(_obj, "buttonTitle"), _obj), _applyDecoratedDescriptor(_obj, "createdAt", [_dec2], Object.getOwnPropertyDescriptor(_obj, "createdAt"), _obj), _applyDecoratedDescriptor(_obj, "validTimestamp", [_dec3], Object.getOwnPropertyDescriptor(_obj, "validTimestamp"), _obj), _applyDecoratedDescriptor(_obj, "buttonDisabled", [_dec4], Object.getOwnPropertyDescriptor(_obj, "buttonDisabled"), _obj)), _obj)));
});
define("discourse/controllers/composer", ["exports", "@ember/utils", "@ember/object/computed", "@ember/runloop", "@ember/service", "@ember/controller", "discourse/lib/url", "discourse/lib/quote", "discourse/models/draft", "discourse/models/composer", "discourse-common/utils/decorators", "discourse-common/lib/get-owner", "discourse/lib/utilities", "discourse/lib/uploads", "discourse/lib/text", "discourse/lib/formatter", "rsvp", "discourse-common/config/environment", "@ember/object", "discourse-common/lib/deprecated"], function (exports, _utils, _computed, _runloop, _service, _controller, _url, _quote, _draft, _composer, _decorators, _getOwner, _utilities, _uploads, _text, _formatter, _rsvp, _environment, _object, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.toggleCheckDraftPopup = toggleCheckDraftPopup;
  exports.clearPopupMenuOptionsCallback = clearPopupMenuOptionsCallback;
  exports.addPopupMenuOptionsCallback = addPopupMenuOptionsCallback;

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _desc, _value, _obj, _obj2;

  function loadDraft(store, opts) {
    opts = opts || {};

    var draft = opts.draft;
    var draftKey = opts.draftKey;
    var draftSequence = opts.draftSequence;

    try {
      if (draft && typeof draft === "string") {
        draft = JSON.parse(draft);
      }
    } catch (error) {
      draft = null;
      _draft.default.clear(draftKey, draftSequence);
    }
    if (draft && (draft.title && draft.title !== "" || draft.reply && draft.reply !== "")) {
      var composer = store.createRecord("composer");
      var serializedFields = _composer.default.serializedFieldsForDraft();

      var attrs = {
        draftKey: draftKey,
        draftSequence: draftSequence,
        draft: true,
        composerState: _composer.default.DRAFT
      };

      serializedFields.forEach(function (f) {
        attrs[f] = draft[f] || opts[f];
      });

      composer.open(attrs);

      return composer;
    }
  }

  var _popupMenuOptionsCallbacks = [];

  var _checkDraftPopup = !_environment.default.environment === "test";

  function toggleCheckDraftPopup(enabled) {
    _checkDraftPopup = enabled;
  }

  function clearPopupMenuOptionsCallback() {
    _popupMenuOptionsCallbacks.length = 0;
  }

  function addPopupMenuOptionsCallback(callback) {
    _popupMenuOptionsCallbacks.push(callback);
  }

  exports.default = _controller.default.extend((_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.default)("showPreview"), _dec3 = (0, _decorators.observes)("showPreview"), _dec4 = (0, _decorators.default)("model.replyingToTopic", "model.creatingPrivateMessage", "model.targetRecipients", "model.composeState"), _dec5 = (0, _decorators.default)("model.canEditTitle", "model.creatingPrivateMessage"), _dec6 = (0, _decorators.default)("model.editingPost", "model.topic.details.can_edit"), _dec7 = (0, _decorators.default)("model.editingPost", "model.topic.canEditTags"), _dec8 = (0, _decorators.default)("canWhisper", "replyingToWhisper"), _dec9 = (0, _decorators.default)("model.post"), _dec10 = (0, _decorators.default)("model.action", "isWhispering"), _dec11 = (0, _decorators.default)("model.action", "isWhispering", "model.editConflict"), _dec12 = (0, _decorators.default)("isStaffUser", "model.action"), _dec13 = (0, _decorators.default)("model.composeState", "model.creatingTopic", "model.post"), _dec14 = (0, _decorators.default)("model.creatingPrivateMessage", "model.targetRecipients"), _dec15 = (0, _decorators.default)("model.topic.title"), _dec16 = (0, _decorators.default)(), _dec17 = (0, _decorators.observes)("model.reply", "model.title"), _dec18 = (0, _decorators.default)("model.categoryId", "lastValidatedAt"), _dec19 = (0, _decorators.default)("model.category", "model.tags", "lastValidatedAt"), _dec20 = (0, _decorators.default)("model.action"), _dec21 = (0, _decorators.default)("model.composeState"), (_obj = (_obj2 = {
    topicController: (0, _controller.inject)("topic"),
    router: (0, _service.inject)(),

    checkedMessages: false,
    messageCount: null,
    showEditReason: false,
    editReason: null,
    scopedCategoryId: null,
    lastValidatedAt: null,
    isUploading: false,
    allowUpload: false,
    uploadIcon: "upload",
    topic: null,
    linkLookup: null,
    showPreview: true,
    forcePreview: (0, _computed.and)("site.mobileView", "showPreview"),
    whisperOrUnlistTopic: (0, _computed.or)("isWhispering", "model.unlistTopic"),
    categories: (0, _computed.alias)("site.categoriesList"),

    _setupPreview: function _setupPreview() {
      var val = this.site.mobileView ? false : this.keyValueStore.get("composer.showPreview") || "true";
      this.set("showPreview", val === "true");
    },
    toggleText: function toggleText(showPreview) {
      return showPreview ? I18n.t("composer.hide_preview") : I18n.t("composer.show_preview");
    },
    showPreviewChanged: function showPreviewChanged() {
      if (!this.site.mobileView) {
        this.keyValueStore.set({
          key: "composer.showPreview",
          value: this.showPreview
        });
      }
    },
    focusTarget: function focusTarget(replyingToTopic, creatingPM, usernames, composeState) {
      if (this.capabilities.isIOS && !(0, _utilities.safariHacksDisabled)()) {
        return "none";
      }

      // Focus on usernames if it's blank or if it's just you
      usernames = usernames || "";
      if (creatingPM && usernames.length === 0 || usernames === this.currentUser.username) {
        return "usernames";
      }

      if (replyingToTopic) {
        return "reply";
      }

      if (composeState === _composer.default.FULLSCREEN) {
        return "editor";
      }

      return "title";
    },


    showToolbar: (0, _object.computed)({
      get: function get() {
        var keyValueStore = (0, _getOwner.getOwner)(this).lookup("key-value-store:main");
        var storedVal = keyValueStore.get("toolbar-enabled");
        if (this._toolbarEnabled === undefined && storedVal === undefined) {
          // iPhone 6 is 375, anything narrower and toolbar should
          // be default disabled.
          // That said we should remember the state
          this._toolbarEnabled = window.innerWidth > 370 && !this.capabilities.isAndroid;
        }
        return this._toolbarEnabled || storedVal === "true";
      },
      set: function set(key, val) {
        var keyValueStore = (0, _getOwner.getOwner)(this).lookup("key-value-store:main");
        this._toolbarEnabled = val;
        keyValueStore.set({
          key: "toolbar-enabled",
          value: val ? "true" : "false"
        });
        return val;
      }
    }),

    topicModel: (0, _computed.alias)("topicController.model"),

    canEditTags: function canEditTags(canEditTitle, creatingPrivateMessage) {
      return this.site.can_tag_topics && canEditTitle && !creatingPrivateMessage && (!this.get("model.topic.isPrivateMessage") || this.site.can_tag_pms);
    },
    disableCategoryChooser: function disableCategoryChooser(editingPost, canEditTopic) {
      return editingPost && !canEditTopic;
    },
    disableTagsChooser: function disableTagsChooser(editingPost, canEditTags) {
      return editingPost && !canEditTags;
    },


    isStaffUser: (0, _computed.reads)("currentUser.staff"),

    canUnlistTopic: (0, _computed.and)("model.creatingTopic", "isStaffUser"),

    showWhisperToggle: function showWhisperToggle(canWhisper, replyingToWhisper) {
      return canWhisper && !replyingToWhisper;
    },
    replyingToWhisper: function replyingToWhisper(repliedToPost) {
      return repliedToPost && repliedToPost.post_type === this.site.post_types.whisper;
    },


    isWhispering: (0, _computed.or)("replyingToWhisper", "model.whisper"),

    saveIcon: function saveIcon(action, isWhispering) {
      if (isWhispering) return "far-eye-slash";

      return _composer.SAVE_ICONS[action];
    },
    saveLabel: function saveLabel(action, isWhispering, editConflict) {
      if (editConflict) return "composer.overwrite_edit";else if (isWhispering) return "composer.create_whisper";

      return _composer.SAVE_LABELS[action];
    },
    canWhisper: function canWhisper(isStaffUser, action) {
      return this.siteSettings.enable_whispers && isStaffUser && _composer.default.REPLY === action;
    },
    _setupPopupMenuOption: function _setupPopupMenuOption(callback) {
      var option = callback(this);
      if (typeof option === "undefined") {
        return null;
      }

      if (typeof option.condition === "undefined") {
        option.condition = true;
      } else if (typeof option.condition === "boolean") {
        // uses existing value
      } else {
        option.condition = this.get(option.condition);
      }

      return option;
    },
    popupMenuOptions: function popupMenuOptions(composeState) {
      var _this = this;

      if (composeState === "open" || composeState === "fullscreen") {
        var options = [];

        options.push(this._setupPopupMenuOption(function () {
          return {
            action: "toggleInvisible",
            icon: "far-eye-slash",
            label: "composer.toggle_unlisted",
            condition: "canUnlistTopic"
          };
        }));

        options.push(this._setupPopupMenuOption(function () {
          return {
            action: "toggleWhisper",
            icon: "far-eye-slash",
            label: "composer.toggle_whisper",
            condition: "showWhisperToggle"
          };
        }));

        return options.concat(_popupMenuOptionsCallbacks.map(function (callback) {
          return _this._setupPopupMenuOption(callback);
        }).filter(function (o) {
          return o;
        }));
      }
    },
    showWarning: function showWarning(creatingPrivateMessage, usernames) {
      if (!this.get("currentUser.staff")) {
        return false;
      }

      var hasTargetGroups = this.get("model.hasTargetGroups");

      // We need exactly one user to issue a warning
      if ((0, _utils.isEmpty)(usernames) || usernames.split(",").length !== 1 || hasTargetGroups) {
        return false;
      }

      return creatingPrivateMessage;
    },
    draftTitle: function draftTitle(topicTitle) {
      return (0, _text.emojiUnescape)((0, _utilities.escapeExpression)(topicTitle));
    }
  }, _defineProperty(_obj2, "allowUpload", function allowUpload() {
    return (0, _uploads.authorizesOneOrMoreExtensions)(this.currentUser.staff);
  }), _defineProperty(_obj2, "uploadIcon", function uploadIcon() {
    return (0, _uploads.uploadIcon)(this.currentUser.staff);
  }), _defineProperty(_obj2, "actions", {
    togglePreview: function togglePreview() {
      this.toggleProperty("showPreview");
    },
    closeComposer: function closeComposer() {
      this.close();
    },
    openComposer: function openComposer(options, post, topic) {
      var _this2 = this;

      this.open(options).then(function () {
        var url = void 0;
        if (post) url = post.url;
        if (!post && topic) url = topic.url;

        var topicTitle = void 0;
        if (topic) topicTitle = topic.title;

        if (!url || !topicTitle) return;

        url = location.protocol + "//" + location.host + url;
        var link = "[" + Handlebars.escapeExpression(topicTitle) + "](" + url + ")";
        var continueDiscussion = I18n.t("post.continue_discussion", {
          postLink: link
        });

        var reply = _this2.get("model.reply");
        if (!reply || !reply.includes(continueDiscussion)) {
          _this2.model.prependText(continueDiscussion, {
            new_line: true
          });
        }
      });
    },
    cancelUpload: function cancelUpload() {
      this.set("model.uploadCancelled", true);
    },
    onPopupMenuAction: function onPopupMenuAction(action) {
      this.send(action);
    },
    storeToolbarState: function storeToolbarState(toolbarEvent) {
      this.set("toolbarEvent", toolbarEvent);
    },
    typed: function typed() {
      this.checkReplyLength();
      this.model.typing();
    },
    cancelled: function cancelled() {
      this.send("hitEsc");
    },
    addLinkLookup: function addLinkLookup(linkLookup) {
      this.set("linkLookup", linkLookup);
    },
    afterRefresh: function afterRefresh($preview) {
      var _this3 = this;

      var topic = this.get("model.topic");
      var linkLookup = this.linkLookup;

      if (!topic || !linkLookup) {
        return;
      }

      // Don't check if there's only one post
      if (topic.posts_count === 1) {
        return;
      }

      var post = this.get("model.post");
      var $links = $("a[href]", $preview);
      $links.each(function (idx, l) {
        var href = $(l).prop("href");
        if (href && href.length) {
          var _linkLookup$check = linkLookup.check(post, href),
              _linkLookup$check2 = _slicedToArray(_linkLookup$check, 2),
              warn = _linkLookup$check2[0],
              info = _linkLookup$check2[1];

          if (warn) {
            var body = I18n.t("composer.duplicate_link", {
              domain: info.domain,
              username: info.username,
              post_url: topic.urlForPostNumber(info.post_number),
              ago: (0, _formatter.shortDate)(info.posted_at)
            });
            _this3.appEvents.trigger("composer-messages:create", {
              extraClass: "custom-body",
              templateName: "custom-body",
              body: body
            });
            return false;
          }
        }
        return true;
      });
    },
    toggleWhisper: function toggleWhisper() {
      this.toggleProperty("model.whisper");
    },
    toggleInvisible: function toggleInvisible() {
      this.toggleProperty("model.unlistTopic");
    },
    toggleToolbar: function toggleToolbar() {
      this.toggleProperty("showToolbar");
    },


    // Toggle the reply view
    toggle: function toggle() {
      this.closeAutocomplete();

      if ((0, _utils.isEmpty)(this.get("model.reply")) && (0, _utils.isEmpty)(this.get("model.title"))) {
        this.close();
      } else {
        if (this.get("model.composeState") === _composer.default.OPEN || this.get("model.composeState") === _composer.default.FULLSCREEN) {
          this.shrink();
        } else {
          this.cancelComposer();
        }
      }

      return false;
    },
    fullscreenComposer: function fullscreenComposer() {
      this.toggleFullscreen();
      return false;
    },


    // Import a quote from the post
    importQuote: function importQuote(toolbarEvent) {
      var postStream = this.get("topic.postStream");
      var postId = this.get("model.post.id");

      // If there is no current post, use the first post id from the stream
      if (!postId && postStream) {
        postId = postStream.get("stream.firstObject");
      }

      // If we're editing a post, fetch the reply when importing a quote
      if (this.get("model.editingPost")) {
        var replyToPostNumber = this.get("model.post.reply_to_post_number");
        if (replyToPostNumber) {
          var replyPost = postStream.posts.findBy("post_number", replyToPostNumber);

          if (replyPost) {
            postId = replyPost.id;
          }
        }
      }

      if (postId) {
        this.set("model.loading", true);
        var composer = this;

        return this.store.find("post", postId).then(function (post) {
          var quote = _quote.default.build(post, post.raw, {
            raw: true,
            full: true
          });
          toolbarEvent.addText(quote);
          composer.set("model.loading", false);
        });
      }
    },
    cancel: function cancel() {
      var differentDraftContext = this.get("topic.id") !== this.get("model.topic.id");
      this.cancelComposer(differentDraftContext);
    },
    save: function save() {
      this.save();
    },
    displayEditReason: function displayEditReason() {
      this.set("showEditReason", true);
    },
    hitEsc: function hitEsc() {
      if (document.querySelectorAll(".emoji-picker-modal.fadeIn").length === 1) {
        this.appEvents.trigger("emoji-picker:close");
        return;
      }

      if ((this.messageCount || 0) > 0) {
        this.appEvents.trigger("composer-messages:close");
        return;
      }

      if (this.get("model.viewOpen") || this.get("model.viewFullscreen")) {
        this.shrink();
      }
    },
    openIfDraft: function openIfDraft() {
      if (this.get("model.viewDraft")) {
        this.set("model.composeState", _composer.default.OPEN);
      }
    },
    groupsMentioned: function groupsMentioned(groups) {
      var _this4 = this;

      if (!this.get("model.creatingPrivateMessage") && !this.get("model.topic.isPrivateMessage")) {
        groups.forEach(function (group) {
          var body = void 0;
          var groupLink = Discourse.getURL("/g/" + group.name + "/members");

          if (group.max_mentions < group.user_count) {
            body = I18n.t("composer.group_mentioned_limit", {
              group: "@" + group.name,
              max: group.max_mentions,
              group_link: groupLink
            });
          } else if (group.user_count > 0) {
            body = I18n.t("composer.group_mentioned", {
              group: "@" + group.name,
              count: group.user_count,
              group_link: groupLink
            });
          }

          if (body) {
            _this4.appEvents.trigger("composer-messages:create", {
              extraClass: "custom-body",
              templateName: "custom-body",
              body: body
            });
          }
        });
      }
    },
    cannotSeeMention: function cannotSeeMention(mentions) {
      var _this5 = this;

      mentions.forEach(function (mention) {
        var translation = _this5.get("model.topic.isPrivateMessage") ? "composer.cannot_see_mention.private" : "composer.cannot_see_mention.category";
        var body = I18n.t(translation, {
          username: "@" + mention.name
        });
        _this5.appEvents.trigger("composer-messages:create", {
          extraClass: "custom-body",
          templateName: "custom-body",
          body: body
        });
      });
    }
  }), _defineProperty(_obj2, "disableSubmit", (0, _computed.or)("model.loading", "isUploading")), _defineProperty(_obj2, "save", function save(force) {
    var _this6 = this;

    if (this.disableSubmit) return;

    // Clear the warning state if we're not showing the checkbox anymore
    if (!this.showWarning) {
      this.set("model.isWarning", false);
    }

    var composer = this.model;

    if (composer.cantSubmitPost) {
      this.set("lastValidatedAt", Date.now());
      return;
    }

    composer.set("disableDrafts", true);

    // for now handle a very narrow use case
    // if we are replying to a topic AND not on the topic pop the window up
    if (!force && composer.replyingToTopic) {
      var currentTopic = this.topicModel;

      if (!currentTopic) {
        this.save(true);
        return;
      }

      if (currentTopic.id !== composer.get("topic.id")) {
        var message = I18n.t("composer.posting_not_on_topic");

        var buttons = [{
          label: I18n.t("composer.cancel"),
          class: "d-modal-cancel",
          link: true
        }];

        buttons.push({
          label: I18n.t("composer.reply_here") + "<br/><div class='topic-title overflow-ellipsis'>" + currentTopic.get("fancyTitle") + "</div>",
          class: "btn btn-reply-here",
          callback: function callback() {
            composer.setProperties({ topic: currentTopic, post: null });
            _this6.save(true);
          }
        });

        buttons.push({
          label: I18n.t("composer.reply_original") + "<br/><div class='topic-title overflow-ellipsis'>" + this.get("model.topic.fancyTitle") + "</div>",
          class: "btn-primary btn-reply-on-original",
          callback: function callback() {
            return _this6.save(true);
          }
        });

        bootbox.dialog(message, buttons, { classes: "reply-where-modal" });
        return;
      }
    }

    var staged = false;

    // TODO: This should not happen in model
    var imageSizes = {};
    $("#reply-control .d-editor-preview img").each(function (i, e) {
      var $img = $(e);
      var src = $img.prop("src");

      if (src && src.length) {
        imageSizes[src] = { width: $img.width(), height: $img.height() };
      }
    });

    var promise = composer.save({ imageSizes: imageSizes, editReason: this.editReason }).then(function (result) {
      if (result.responseJson.action === "enqueued") {
        _this6.send("postWasEnqueued", result.responseJson);
        if (result.responseJson.pending_post) {
          var pendingPosts = _this6.get("topicController.model.pending_posts");
          if (pendingPosts) {
            pendingPosts.pushObject(result.responseJson.pending_post);
          }
        }

        return _this6.destroyDraft().then(function () {
          _this6.close();
          _this6.appEvents.trigger("post-stream:refresh");
          return result;
        });
      }

      if (_this6.get("model.editingPost")) {
        _this6.appEvents.trigger("post-stream:refresh", {
          id: parseInt(result.responseJson.id, 10)
        });
        if (result.responseJson.post.post_number === 1) {
          _this6.appEvents.trigger("header:update-topic", composer.topic);
        }
      } else {
        _this6.appEvents.trigger("post-stream:refresh");
      }

      if (result.responseJson.action === "create_post") {
        _this6.appEvents.trigger("post:highlight", result.payload.post_number);
      }

      if (result.responseJson.route_to) {
        _this6.destroyDraft();
        if (result.responseJson.message) {
          return bootbox.alert(result.responseJson.message, function () {
            _url.default.routeTo(result.responseJson.route_to);
          });
        }
        return _url.default.routeTo(result.responseJson.route_to);
      }

      _this6.close();

      var currentUser = _this6.currentUser;
      if (composer.creatingTopic) {
        currentUser.set("topic_count", currentUser.topic_count + 1);
      } else {
        currentUser.set("reply_count", currentUser.reply_count + 1);
      }

      var post = result.target;
      if (post && !staged) {
        _url.default.routeTo(post.url, { skipIfOnScreen: true });
      }
    }).catch(function (error) {
      composer.set("disableDrafts", false);
      if (error) {
        _this6.appEvents.one("composer:will-open", function () {
          return bootbox.alert(error);
        });
      }
    });

    if (this.router.currentRouteName.split(".")[0] === "topic" && composer.get("topic.id") === this.get("topicModel.id")) {
      staged = composer.get("stagedPost");
    }

    this.appEvents.trigger("post-stream:posted", staged);

    this.messageBus.pause();
    promise.finally(function () {
      return _this6.messageBus.resume();
    });

    return promise;
  }), _defineProperty(_obj2, "checkReplyLength", function checkReplyLength() {
    if (!(0, _utils.isEmpty)("model.reply")) {
      this.appEvents.trigger("composer:typed-reply");
    }
  }), _defineProperty(_obj2, "open", function open(opts) {
    var _this7 = this;

    opts = opts || {};

    if (!opts.draftKey) {
      throw new Error("composer opened without a proper draft key");
    }

    var composerModel = this.model;

    if (opts.ignoreIfChanged && composerModel && composerModel.composeState !== _composer.default.CLOSED) {
      return;
    }

    this.setProperties({
      showEditReason: false,
      editReason: null,
      scopedCategoryId: null
    });

    // Scope the categories drop down to the category we opened the composer with.
    if (opts.categoryId && !opts.disableScopedCategory) {
      var category = this.site.categories.findBy("id", opts.categoryId);
      if (category) {
        this.set("scopedCategoryId", opts.categoryId);
      }
    }

    // If we want a different draft than the current composer, close it and clear our model.
    if (composerModel && opts.draftKey !== composerModel.draftKey && composerModel.composeState === _composer.default.DRAFT) {
      this.close();
      composerModel = null;
    }

    return new _rsvp.Promise(function (resolve, reject) {
      if (composerModel && composerModel.replyDirty) {
        // If we're already open, we don't have to do anything
        if (composerModel.composeState === _composer.default.OPEN && composerModel.draftKey === opts.draftKey && !opts.action) {
          return resolve();
        }

        // If it's the same draft, just open it up again.
        if (composerModel.composeState === _composer.default.DRAFT && composerModel.draftKey === opts.draftKey) {
          composerModel.set("composeState", _composer.default.OPEN);
          if (!opts.action) return resolve();
        }

        // If it's a different draft, cancel it and try opening again.
        var differentDraftContext = opts.post && composerModel.topic ? composerModel.topic.id !== opts.post.topic_id : true;

        return _this7.cancelComposer(differentDraftContext).then(function () {
          return _this7.open(opts);
        }).then(resolve, reject);
      }

      if (composerModel && composerModel.action !== opts.action) {
        composerModel.setProperties({ unlistTopic: false, whisper: false });
      }

      // we need a draft sequence for the composer to work
      if (opts.draftSequence === undefined) {
        return _draft.default.get(opts.draftKey).then(function (data) {
          if (opts.skipDraftCheck) {
            data.draft = undefined;
            return data;
          }
          return _this7.confirmDraftAbandon(data);
        }).then(function (data) {
          if (!opts.draft && data.draft) {
            opts.draft = data.draft;
          }
          opts.draftSequence = data.draft_sequence;
          _this7._setModel(composerModel, opts);
        }).then(resolve, reject);
      }
      // otherwise, do the draft check async
      else if (!opts.draft && !opts.skipDraftCheck) {
          _draft.default.get(opts.draftKey).then(function (data) {
            return _this7.confirmDraftAbandon(data);
          }).then(function (data) {
            if (data.draft) {
              opts.draft = data.draft;
              opts.draftSequence = data.draft_sequence;
              _this7.open(opts);
            }
          });
        }

      _this7._setModel(composerModel, opts);
      resolve();
    });
  }), _defineProperty(_obj2, "_setModel", function _setModel(composerModel, opts) {
    var _this8 = this;

    this.set("linkLookup", null);

    if (opts.draft) {
      composerModel = loadDraft(this.store, opts);
      if (composerModel) {
        composerModel.set("topic", opts.topic);
      }
    } else {
      composerModel = composerModel || this.store.createRecord("composer");
      composerModel.open(opts);
    }

    this.set("model", composerModel);
    composerModel.setProperties({
      composeState: _composer.default.OPEN,
      isWarning: false
    });

    if (!this.model.targetRecipients) {
      if (opts.usernames) {
        (0, _deprecated.default)("`usernames` is deprecated, use `recipients` instead.");
        this.model.set("targetRecipients", opts.usernames);
      } else if (opts.recipients) {
        this.model.set("targetRecipients", opts.recipients);
      }
    }

    if (opts.topicTitle && opts.topicTitle.length <= this.siteSettings.max_topic_title_length) {
      this.model.set("title", opts.topicTitle);
    }

    if (opts.topicCategoryId) {
      this.model.set("categoryId", opts.topicCategoryId);
    }

    if (opts.topicTags && !this.site.mobileView && this.site.can_tag_topics) {
      var tags = (0, _utilities.escapeExpression)(opts.topicTags).split(",").slice(0, this.siteSettings.max_tags_per_topic);

      tags.forEach(function (tag, index, array) {
        return array[index] = tag.substring(0, _this8.siteSettings.max_tag_length);
      });

      this.model.set("tags", tags);
    }

    if (opts.topicBody) {
      this.model.set("reply", opts.topicBody);
    }
  }), _defineProperty(_obj2, "viewNewReply", function viewNewReply() {
    _url.default.routeTo(this.get("model.createdPost.url"));
    this.close();
    return false;
  }), _defineProperty(_obj2, "destroyDraft", function destroyDraft() {
    var _this9 = this;

    var key = this.get("model.draftKey");
    if (key) {
      if (key === "new_topic") {
        this.send("clearTopicDraft");
      }

      return _draft.default.clear(key, this.get("model.draftSequence")).then(function () {
        return _this9.appEvents.trigger("draft:destroyed", key);
      });
    } else {
      return _rsvp.Promise.resolve();
    }
  }), _defineProperty(_obj2, "confirmDraftAbandon", function confirmDraftAbandon(data) {
    if (!data.draft) {
      return data;
    }

    // do not show abandon dialog if old draft is clean
    var draft = JSON.parse(data.draft);
    if (draft.reply === draft.originalText) {
      data.draft = null;
      return data;
    }

    if (_checkDraftPopup) {
      return new _rsvp.Promise(function (resolve) {
        bootbox.dialog(I18n.t("drafts.abandon.confirm"), [{
          label: I18n.t("drafts.abandon.no_value"),
          callback: function callback() {
            return resolve(data);
          }
        }, {
          label: I18n.t("drafts.abandon.yes_value"),
          class: "btn-danger",
          callback: function callback() {
            data.draft = null;
            resolve(data);
          }
        }]);
      });
    } else {
      data.draft = null;
      return data;
    }
  }), _defineProperty(_obj2, "cancelComposer", function cancelComposer() {
    var _this10 = this;

    var differentDraft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

    var keyPrefix = this.model.action === "edit" ? "post.abandon_edit" : "post.abandon";

    return new _rsvp.Promise(function (resolve) {
      if (_this10.get("model.hasMetaData") || _this10.get("model.replyDirty")) {
        bootbox.dialog(I18n.t(keyPrefix + ".confirm"), [{
          label: differentDraft ? I18n.t(keyPrefix + ".no_save_draft") : I18n.t(keyPrefix + ".no_value"),
          callback: function callback() {
            // cancel composer without destroying draft on new draft context
            if (differentDraft) {
              _this10.model.clearState();
              _this10.close();
              resolve();
            }
          }
        }, {
          label: I18n.t(keyPrefix + ".yes_value"),
          class: "btn-danger",
          callback: function callback(result) {
            if (result) {
              _this10.destroyDraft().then(function () {
                _this10.model.clearState();
                _this10.close();
                resolve();
              });
            }
          }
        }]);
      } else {
        // it is possible there is some sort of crazy draft with no body ... just give up on it
        _this10.destroyDraft().then(function () {
          _this10.model.clearState();
          _this10.close();
          resolve();
        });
      }
    });
  }), _defineProperty(_obj2, "shrink", function shrink() {
    if (this.get("model.replyDirty") || this.get("model.canEditTitle") && this.get("model.titleDirty")) {
      this.collapse();
    } else {
      this.close();
    }
  }), _defineProperty(_obj2, "_saveDraft", function _saveDraft() {
    var model = this.model;
    if (model) {
      model.saveDraft();
    }
  }), _defineProperty(_obj2, "_shouldSaveDraft", function _shouldSaveDraft() {
    (0, _runloop.debounce)(this, this._saveDraft, 2000);
  }), _defineProperty(_obj2, "categoryValidation", function categoryValidation(categoryId, lastValidatedAt) {
    if (!this.siteSettings.allow_uncategorized_topics && !categoryId) {
      return _object.default.create({
        failed: true,
        reason: I18n.t("composer.error.category_missing"),
        lastShownAt: lastValidatedAt
      });
    }
  }), _defineProperty(_obj2, "tagValidation", function tagValidation(category, tags, lastValidatedAt) {
    var tagsArray = tags || [];
    if (this.site.can_tag_topics && category && category.minimum_required_tags > tagsArray.length) {
      return _object.default.create({
        failed: true,
        reason: I18n.t("composer.error.tags_missing", {
          count: category.minimum_required_tags
        }),
        lastShownAt: lastValidatedAt
      });
    }
  }), _defineProperty(_obj2, "collapse", function collapse() {
    this._saveDraft();
    this.set("model.composeState", _composer.default.DRAFT);
  }), _defineProperty(_obj2, "toggleFullscreen", function toggleFullscreen() {
    this._saveDraft();
    if (this.get("model.composeState") === _composer.default.FULLSCREEN) {
      this.set("model.composeState", _composer.default.OPEN);
    } else {
      this.set("model.composeState", _composer.default.FULLSCREEN);
    }
  }), _defineProperty(_obj2, "close", function close() {
    // the 'fullscreen-composer' class is added to remove scrollbars from the
    // document while in fullscreen mode. If the composer is closed for any reason
    // this class should be removed

    var elem = document.querySelector("html");
    elem.classList.remove("fullscreen-composer");

    this.setProperties({ model: null, lastValidatedAt: null });
  }), _defineProperty(_obj2, "closeAutocomplete", function closeAutocomplete() {
    $(".d-editor-input").autocomplete({ cancel: true });
  }), _defineProperty(_obj2, "canEdit", function canEdit(action) {
    return action === "edit" && this.currentUser.can_edit;
  }), _defineProperty(_obj2, "visible", function visible(state) {
    return state && state !== "closed";
  }), _obj2), (_applyDecoratedDescriptor(_obj, "_setupPreview", [_dec], Object.getOwnPropertyDescriptor(_obj, "_setupPreview"), _obj), _applyDecoratedDescriptor(_obj, "toggleText", [_dec2], Object.getOwnPropertyDescriptor(_obj, "toggleText"), _obj), _applyDecoratedDescriptor(_obj, "showPreviewChanged", [_dec3], Object.getOwnPropertyDescriptor(_obj, "showPreviewChanged"), _obj), _applyDecoratedDescriptor(_obj, "focusTarget", [_dec4], Object.getOwnPropertyDescriptor(_obj, "focusTarget"), _obj), _applyDecoratedDescriptor(_obj, "canEditTags", [_dec5], Object.getOwnPropertyDescriptor(_obj, "canEditTags"), _obj), _applyDecoratedDescriptor(_obj, "disableCategoryChooser", [_dec6], Object.getOwnPropertyDescriptor(_obj, "disableCategoryChooser"), _obj), _applyDecoratedDescriptor(_obj, "disableTagsChooser", [_dec7], Object.getOwnPropertyDescriptor(_obj, "disableTagsChooser"), _obj), _applyDecoratedDescriptor(_obj, "showWhisperToggle", [_dec8], Object.getOwnPropertyDescriptor(_obj, "showWhisperToggle"), _obj), _applyDecoratedDescriptor(_obj, "replyingToWhisper", [_dec9], Object.getOwnPropertyDescriptor(_obj, "replyingToWhisper"), _obj), _applyDecoratedDescriptor(_obj, "saveIcon", [_dec10], Object.getOwnPropertyDescriptor(_obj, "saveIcon"), _obj), _applyDecoratedDescriptor(_obj, "saveLabel", [_dec11], Object.getOwnPropertyDescriptor(_obj, "saveLabel"), _obj), _applyDecoratedDescriptor(_obj, "canWhisper", [_dec12], Object.getOwnPropertyDescriptor(_obj, "canWhisper"), _obj), _applyDecoratedDescriptor(_obj, "popupMenuOptions", [_dec13], Object.getOwnPropertyDescriptor(_obj, "popupMenuOptions"), _obj), _applyDecoratedDescriptor(_obj, "showWarning", [_dec14], Object.getOwnPropertyDescriptor(_obj, "showWarning"), _obj), _applyDecoratedDescriptor(_obj, "draftTitle", [_dec15], Object.getOwnPropertyDescriptor(_obj, "draftTitle"), _obj), _applyDecoratedDescriptor(_obj, "allowUpload", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "allowUpload"), _obj), _applyDecoratedDescriptor(_obj, "uploadIcon", [_dec16], Object.getOwnPropertyDescriptor(_obj, "uploadIcon"), _obj), _applyDecoratedDescriptor(_obj, "_shouldSaveDraft", [_dec17], Object.getOwnPropertyDescriptor(_obj, "_shouldSaveDraft"), _obj), _applyDecoratedDescriptor(_obj, "categoryValidation", [_dec18], Object.getOwnPropertyDescriptor(_obj, "categoryValidation"), _obj), _applyDecoratedDescriptor(_obj, "tagValidation", [_dec19], Object.getOwnPropertyDescriptor(_obj, "tagValidation"), _obj), _applyDecoratedDescriptor(_obj, "canEdit", [_dec20], Object.getOwnPropertyDescriptor(_obj, "canEdit"), _obj), _applyDecoratedDescriptor(_obj, "visible", [_dec21], Object.getOwnPropertyDescriptor(_obj, "visible"), _obj)), _obj)));
});
define("discourse/controllers/convert-to-public-topic", ["exports", "@ember/controller", "discourse/lib/ajax-error", "discourse/mixins/modal-functionality"], function (exports, _controller, _ajaxError, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    publicCategoryId: null,
    saving: true,

    onShow: function onShow() {
      this.setProperties({ publicCategoryId: null, saving: false });
    },


    actions: {
      makePublic: function makePublic() {
        var _this = this;

        var topic = this.model;
        topic.convertTopic("public", { categoryId: this.publicCategoryId }).then(function () {
          topic.set("archetype", "regular");
          topic.set("category_id", _this.publicCategoryId);
          _this.appEvents.trigger("header:show-topic", topic);
          _this.send("closeModal");
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  });
});
define("discourse/controllers/create-account", ["exports", "@ember/utils", "@ember/object/computed", "@ember/controller", "discourse/lib/ajax", "discourse/mixins/modal-functionality", "discourse/lib/computed", "discourse-common/utils/decorators", "discourse/lib/utilities", "discourse/mixins/password-validation", "discourse/mixins/username-validation", "discourse/mixins/name-validation", "discourse/mixins/user-fields-validation", "discourse/lib/url", "discourse/models/login-method", "@ember/object", "discourse/models/user"], function (exports, _utils, _computed, _controller, _ajax, _modalFunctionality, _computed2, _decorators, _utilities, _passwordValidation, _usernameValidation, _nameValidation, _userFieldsValidation, _url, _loginMethod, _object, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend(_modalFunctionality.default, _passwordValidation.default, _usernameValidation.default, _nameValidation.default, _userFieldsValidation.default, (_dec = (0, _decorators.default)("passwordRequired", "nameValidation.failed", "emailValidation.failed", "usernameValidation.failed", "passwordValidation.failed", "userFieldsValidation.failed", "formSubmitted"), _dec2 = (0, _decorators.default)("authOptions.auth_provider"), _dec3 = (0, _decorators.default)("accountEmail", "rejectedEmails.[]"), _dec4 = (0, _decorators.default)("accountEmail", "authOptions.email", "authOptions.email_valid"), _dec5 = (0, _decorators.observes)("emailValidation", "accountEmail"), _dec6 = (0, _decorators.on)("init"), (_obj = {
    login: (0, _controller.inject)(),

    complete: false,
    accountChallenge: 0,
    accountHoneypot: 0,
    formSubmitted: false,
    rejectedEmails: Ember.A([]),
    prefilledUsername: null,
    userFields: null,
    isDeveloper: false,

    hasAuthOptions: (0, _computed.notEmpty)("authOptions"),
    canCreateLocal: (0, _computed2.setting)("enable_local_logins"),
    showCreateForm: (0, _computed.or)("hasAuthOptions", "canCreateLocal"),

    resetForm: function resetForm() {
      // We wrap the fields in a structure so we can assign a value
      this.setProperties({
        accountName: "",
        accountEmail: "",
        accountUsername: "",
        accountPassword: "",
        authOptions: null,
        complete: false,
        formSubmitted: false,
        rejectedEmails: [],
        rejectedPasswords: [],
        prefilledUsername: null,
        isDeveloper: false
      });
      this._createUserFields();
    },
    submitDisabled: function submitDisabled() {
      if (this.formSubmitted) return true;
      if (this.get("nameValidation.failed")) return true;
      if (this.get("emailValidation.failed")) return true;
      if (this.get("usernameValidation.failed") && this.usernameRequired) return true;
      if (this.get("passwordValidation.failed") && this.passwordRequired) return true;
      if (this.get("userFieldsValidation.failed")) return true;

      return false;
    },


    usernameRequired: (0, _computed.not)("authOptions.omit_username"),

    fullnameRequired: function fullnameRequired() {
      return this.get("siteSettings.full_name_required") || this.get("siteSettings.enable_names");
    },
    passwordRequired: function passwordRequired(authProvider) {
      return (0, _utils.isEmpty)(authProvider);
    },
    disclaimerHtml: function disclaimerHtml() {
      return I18n.t("create_account.disclaimer", {
        tos_link: this.get("siteSettings.tos_url") || Discourse.getURL("/tos"),
        privacy_link: this.get("siteSettings.privacy_policy_url") || Discourse.getURL("/privacy")
      });
    },
    emailValidation: function emailValidation(email, rejectedEmails) {
      // If blank, fail without a reason
      if ((0, _utils.isEmpty)(email)) {
        return _object.default.create({
          failed: true
        });
      }

      if (rejectedEmails.includes(email)) {
        return _object.default.create({
          failed: true,
          reason: I18n.t("user.email.invalid")
        });
      }

      if (this.get("authOptions.email") === email && this.get("authOptions.email_valid")) {
        return _object.default.create({
          ok: true,
          reason: I18n.t("user.email.authenticated", {
            provider: this.authProviderDisplayName(this.get("authOptions.auth_provider"))
          })
        });
      }

      if ((0, _utilities.emailValid)(email)) {
        return _object.default.create({
          ok: true,
          reason: I18n.t("user.email.ok")
        });
      }

      return _object.default.create({
        failed: true,
        reason: I18n.t("user.email.invalid")
      });
    },
    emailValidated: function emailValidated() {
      return this.get("authOptions.email") === this.accountEmail && this.get("authOptions.email_valid");
    },
    authProviderDisplayName: function authProviderDisplayName(providerName) {
      var matchingProvider = (0, _loginMethod.findAll)().find(function (provider) {
        return provider.name === providerName;
      });
      return matchingProvider ? matchingProvider.get("prettyName") : providerName;
    },

    prefillUsername: function prefillUsername() {
      if (this.prefilledUsername) {
        // If username field has been filled automatically, and email field just changed,
        // then remove the username.
        if (this.accountUsername === this.prefilledUsername) {
          this.set("accountUsername", "");
        }
        this.set("prefilledUsername", null);
      }
      if (this.get("emailValidation.ok") && ((0, _utils.isEmpty)(this.accountUsername) || this.get("authOptions.email"))) {
        // If email is valid and username has not been entered yet,
        // or email and username were filled automatically by 3rd parth auth,
        // then look for a registered username that matches the email.
        this.fetchExistingUsername();
      }
    },

    hasAtLeastOneLoginButton: function hasAtLeastOneLoginButton() {
      return (0, _loginMethod.findAll)().length > 0;
    },
    fetchConfirmationValue: function fetchConfirmationValue() {
      var _this = this;

      return (0, _ajax.ajax)((0, _url.userPath)("hp.json")).then(function (json) {
        _this._challengeDate = new Date();
        // remove 30 seconds for jitter, make sure this works for at least
        // 30 seconds so we don't have hard loops
        _this._challengeExpiry = parseInt(json.expires_in, 10) - 30;
        if (_this._challengeExpiry < 30) {
          _this._challengeExpiry = 30;
        }

        _this.setProperties({
          accountHoneypot: json.value,
          accountChallenge: json.challenge.split("").reverse().join("")
        });
      });
    },
    performAccountCreation: function performAccountCreation() {
      var _this2 = this;

      var attrs = this.getProperties("accountName", "accountEmail", "accountPassword", "accountUsername", "accountChallenge");

      attrs["accountPasswordConfirm"] = this.accountHoneypot;

      var userFields = this.userFields;
      var destinationUrl = this.get("authOptions.destination_url");

      if (!(0, _utils.isEmpty)(destinationUrl)) {
        $.cookie("destination_url", destinationUrl, { path: "/" });
      }

      // Add the userfields to the data
      if (!(0, _utils.isEmpty)(userFields)) {
        attrs.userFields = {};
        userFields.forEach(function (f) {
          return attrs.userFields[f.get("field.id")] = f.get("value");
        });
      }

      this.set("formSubmitted", true);
      return _user.default.createAccount(attrs).then(function (result) {
        _this2.set("isDeveloper", false);
        if (result.success) {
          // invalidate honeypot
          _this2._challengeExpiry = 1;

          // Trigger the browser's password manager using the hidden static login form:
          var $hidden_login_form = $("#hidden-login-form");
          $hidden_login_form.find("input[name=username]").val(attrs.accountUsername);
          $hidden_login_form.find("input[name=password]").val(attrs.accountPassword);
          $hidden_login_form.find("input[name=redirect]").val((0, _url.userPath)("account-created"));
          $hidden_login_form.submit();
        } else {
          _this2.flash(result.message || I18n.t("create_account.failed"), "error");
          if (result.is_developer) {
            _this2.set("isDeveloper", true);
          }
          if (result.errors && result.errors.email && result.errors.email.length > 0 && result.values) {
            _this2.rejectedEmails.pushObject(result.values.email);
          }
          if (result.errors && result.errors.password && result.errors.password.length > 0) {
            _this2.rejectedPasswords.pushObject(attrs.accountPassword);
          }
          _this2.set("formSubmitted", false);
          $.removeCookie("destination_url");
        }
      }, function () {
        _this2.set("formSubmitted", false);
        $.removeCookie("destination_url");
        return _this2.flash(I18n.t("create_account.failed"), "error");
      });
    },


    actions: {
      externalLogin: function externalLogin(provider) {
        this.login.send("externalLogin", provider);
      },
      createAccount: function createAccount() {
        var _this3 = this;

        if (new Date() - this._challengeDate > 1000 * this._challengeExpiry) {
          this.fetchConfirmationValue().then(function () {
            return _this3.performAccountCreation();
          });
        } else {
          this.performAccountCreation();
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "submitDisabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "submitDisabled"), _obj), _applyDecoratedDescriptor(_obj, "fullnameRequired", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "fullnameRequired"), _obj), _applyDecoratedDescriptor(_obj, "passwordRequired", [_dec2], Object.getOwnPropertyDescriptor(_obj, "passwordRequired"), _obj), _applyDecoratedDescriptor(_obj, "disclaimerHtml", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "disclaimerHtml"), _obj), _applyDecoratedDescriptor(_obj, "emailValidation", [_dec3], Object.getOwnPropertyDescriptor(_obj, "emailValidation"), _obj), _applyDecoratedDescriptor(_obj, "emailValidated", [_dec4], Object.getOwnPropertyDescriptor(_obj, "emailValidated"), _obj), _applyDecoratedDescriptor(_obj, "prefillUsername", [_dec5], (_init = Object.getOwnPropertyDescriptor(_obj, "prefillUsername"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "hasAtLeastOneLoginButton", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "hasAtLeastOneLoginButton"), _obj), _applyDecoratedDescriptor(_obj, "fetchConfirmationValue", [_dec6], Object.getOwnPropertyDescriptor(_obj, "fetchConfirmationValue"), _obj)), _obj)));
});
define("discourse/controllers/discovery", ["exports", "@ember/object/computed", "@ember/controller", "discourse/lib/url", "discourse/models/category", "discourse-common/utils/decorators"], function (exports, _computed, _controller, _url, _category, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("loadedAllItems"), (_obj = {
    discoveryTopics: (0, _controller.inject)("discovery/topics"),
    navigationCategory: (0, _controller.inject)("navigation/category"),
    application: (0, _controller.inject)(),

    loading: false,

    category: (0, _computed.alias)("navigationCategory.category"),
    noSubcategories: (0, _computed.alias)("navigationCategory.noSubcategories"),

    loadedAllItems: (0, _computed.not)("discoveryTopics.model.canLoadMore"),

    _showFooter: function _showFooter() {
      this.set("application.showFooter", this.loadedAllItems);
    },

    showMoreUrl: function showMoreUrl(period) {
      var url = "",
          category = this.category;

      if (category) {
        url = "/c/" + _category.default.slugFor(category) + "/" + category.id + (this.noSubcategories ? "/none" : "") + "/l";
      }

      url += "/top/" + period;
      return url;
    },


    actions: {
      changePeriod: function changePeriod(p) {
        _url.default.routeTo(this.showMoreUrl(p));
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_showFooter", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/controllers/discovery/categories", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/controller", "discourse/controllers/discovery", "@ember/string"], function (exports, _decorators, _computed, _controller, _discovery, _string) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  var subcategoryStyleComponentNames = {
    rows: "categories_only",
    rows_with_featured_topics: "categories_with_featured_topics",
    boxes: "categories_boxes",
    boxes_with_featured_topics: "categories_boxes_with_topics"
  };

  exports.default = _discovery.default.extend((_dec = (0, _decorators.default)("model.categories.[].featuredTopics.length"), _dec2 = (0, _decorators.default)("model.parentCategory"), (_obj = {
    discovery: (0, _controller.inject)(),

    // this makes sure the composer isn't scoping to a specific category
    category: null,

    canEdit: (0, _computed.reads)("currentUser.staff"),

    latestTopicOnly: function latestTopicOnly() {
      return this.get("model.categories").find(function (c) {
        return c.get("featuredTopics.length") > 1;
      }) === undefined;
    },
    categoryPageStyle: function categoryPageStyle(parentCategory) {
      var style = this.site.mobileView ? "categories_with_featured_topics" : this.siteSettings.desktop_category_page_style;

      if (parentCategory) {
        style = subcategoryStyleComponentNames[parentCategory.get("subcategory_list_style")] || style;
      }

      var componentName = parentCategory && style === "categories_and_latest_topics" ? "categories_only" : style;
      return (0, _string.dasherize)(componentName);
    },

    actions: {
      refresh: function refresh() {
        this.send("triggerRefresh");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "latestTopicOnly", [_dec], Object.getOwnPropertyDescriptor(_obj, "latestTopicOnly"), _obj), _applyDecoratedDescriptor(_obj, "categoryPageStyle", [_dec2], Object.getOwnPropertyDescriptor(_obj, "categoryPageStyle"), _obj)), _obj)));
});
define("discourse/controllers/discovery/topics", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/controller", "discourse/controllers/discovery", "discourse/controllers/discovery-sortable", "discourse/mixins/bulk-topic-selection", "discourse/lib/computed", "discourse/lib/show-modal", "discourse/lib/url", "discourse/models/topic-list", "discourse/models/topic"], function (exports, _decorators, _computed, _controller, _discovery, _discoverySortable, _bulkTopicSelection, _computed2, _showModal, _url, _topicList, _topic) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj;

  var controllerOpts = (_dec = (0, _decorators.default)("model.filter", "model.topics.length"), _dec2 = (0, _decorators.default)("model.filter", "model.topics.length"), _dec3 = (0, _decorators.default)("model.filter", "model.topics.length"), _dec4 = (0, _decorators.default)("allLoaded", "model.topics.length"), _dec5 = (0, _decorators.default)("allLoaded", "model.topics.length"), (_obj = {
    discovery: (0, _controller.inject)(),
    discoveryTopics: (0, _controller.inject)("discovery/topics"),

    period: null,

    canStar: (0, _computed.alias)("currentUser.id"),
    showTopicPostBadges: (0, _computed.not)("discoveryTopics.new"),
    redirectedReason: (0, _computed.alias)("currentUser.redirected_to_top.reason"),

    order: "default",
    ascending: false,
    expandGloballyPinned: false,
    expandAllPinned: false,

    resetParams: function resetParams() {
      var _this = this;

      Object.keys(this.get("model.params") || {}).forEach(function (key) {
        // controllerOpts contains the default values for parameters, so use them. They might be null.
        _this.set(key, controllerOpts[key]);
      });
    },


    actions: {
      changeSort: function changeSort(sortBy) {
        if (sortBy === this.order) {
          this.toggleProperty("ascending");
        } else {
          this.setProperties({ order: sortBy, ascending: false });
        }

        this.model.refreshSort(sortBy, this.ascending);
      },
      showInserted: function showInserted() {
        var tracker = this.topicTrackingState;

        // Move inserted into topics
        this.model.loadBefore(tracker.get("newIncoming"), true);
        tracker.resetTracking();
        return false;
      },
      refresh: function refresh() {
        var _this2 = this;

        var filter = this.get("model.filter");
        this.resetParams();

        // Don't refresh if we're still loading
        if (this.get("discovery.loading")) {
          return;
        }

        // If we `send('loading')` here, due to returning true it bubbles up to the
        // router and ember throws an error due to missing `handlerInfos`.
        // Lesson learned: Don't call `loading` yourself.
        this.set("discovery.loading", true);

        this.topicTrackingState.resetTracking();
        this.store.findFiltered("topicList", { filter: filter }).then(function (list) {
          _topicList.default.hideUniformCategory(list, _this2.category);

          _this2.setProperties({ model: list });
          _this2.resetSelected();

          if (_this2.topicTrackingState) {
            _this2.topicTrackingState.sync(list, filter);
          }

          _this2.send("loadingComplete");
        });
      },
      resetNew: function resetNew() {
        var _this3 = this;

        _topic.default.resetNew(this.category, !this.noSubcategories).then(function () {
          return _this3.send("refresh");
        });
      },
      dismissReadPosts: function dismissReadPosts() {
        (0, _showModal.default)("dismiss-read", { title: "topics.bulk.dismiss_read" });
      }
    },

    isFilterPage: function isFilterPage(filter, filterType) {
      if (!filter) {
        return false;
      }
      return filter.match(new RegExp(filterType + "$", "gi")) ? true : false;
    },

    showDismissRead: function showDismissRead(filter, topicsLength) {
      return this.isFilterPage(filter, "unread") && topicsLength > 0;
    },
    showResetNew: function showResetNew(filter, topicsLength) {
      return this.isFilterPage(filter, "new") && topicsLength > 0;
    },
    showDismissAtTop: function showDismissAtTop(filter, topicsLength) {
      return (this.isFilterPage(filter, "new") || this.isFilterPage(filter, "unread")) && topicsLength >= 15;
    },


    hasTopics: (0, _computed.gt)("model.topics.length", 0),
    allLoaded: (0, _computed.empty)("model.more_topics_url"),
    latest: (0, _computed2.endWith)("model.filter", "latest"),
    new: (0, _computed2.endWith)("model.filter", "new"),
    top: (0, _computed.notEmpty)("period"),
    yearly: (0, _computed.equal)("period", "yearly"),
    quarterly: (0, _computed.equal)("period", "quarterly"),
    monthly: (0, _computed.equal)("period", "monthly"),
    weekly: (0, _computed.equal)("period", "weekly"),
    daily: (0, _computed.equal)("period", "daily"),

    footerMessage: function footerMessage(allLoaded, topicsLength) {
      if (!allLoaded) return;

      var category = this.category;
      if (category) {
        return I18n.t("topics.bottom.category", {
          category: category.get("name")
        });
      } else {
        var split = (this.get("model.filter") || "").split("/");
        if (topicsLength === 0) {
          return I18n.t("topics.none." + split[0], {
            category: split[1]
          });
        } else {
          return I18n.t("topics.bottom." + split[0], {
            category: split[1]
          });
        }
      }
    },
    footerEducation: function footerEducation(allLoaded, topicsLength) {
      if (!allLoaded || topicsLength > 0 || !this.currentUser) {
        return;
      }

      var segments = (this.get("model.filter") || "").split("/");

      var tab = segments[segments.length - 1];
      if (tab !== "new" && tab !== "unread") {
        return;
      }

      return I18n.t("topics.none.educate." + tab, {
        userPrefsUrl: (0, _url.userPath)(this.currentUser.get("username_lower") + "/preferences")
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "showDismissRead", [_dec], Object.getOwnPropertyDescriptor(_obj, "showDismissRead"), _obj), _applyDecoratedDescriptor(_obj, "showResetNew", [_dec2], Object.getOwnPropertyDescriptor(_obj, "showResetNew"), _obj), _applyDecoratedDescriptor(_obj, "showDismissAtTop", [_dec3], Object.getOwnPropertyDescriptor(_obj, "showDismissAtTop"), _obj), _applyDecoratedDescriptor(_obj, "footerMessage", [_dec4], Object.getOwnPropertyDescriptor(_obj, "footerMessage"), _obj), _applyDecoratedDescriptor(_obj, "footerEducation", [_dec5], Object.getOwnPropertyDescriptor(_obj, "footerEducation"), _obj)), _obj));

  Object.keys(_discoverySortable.queryParams).forEach(function (p) {
    // If we don't have a default value, initialize it to null
    if (typeof controllerOpts[p] === "undefined") {
      controllerOpts[p] = null;
    }
  });

  exports.default = _discovery.default.extend(controllerOpts, _bulkTopicSelection.default);
});
define("discourse/controllers/edit-category", ["exports", "@ember/utils", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/url", "discourse/lib/ajax-error", "discourse-common/utils/decorators", "discourse/models/category"], function (exports, _utils, _controller, _modalFunctionality, _url, _ajaxError, _decorators, _category) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.observes)("model.description"), _dec3 = (0, _decorators.default)("model.{id,name}"), _dec4 = (0, _decorators.observes)("title"), _dec5 = (0, _decorators.default)("saving", "model.name", "model.color", "deleting"), _dec6 = (0, _decorators.default)("saving", "deleting"), _dec7 = (0, _decorators.default)("name"), _dec8 = (0, _decorators.default)("saving", "model.id"), (_obj = {
    selectedTab: null,
    saving: false,
    deleting: false,
    panels: null,
    hiddenTooltip: true,

    _initPanels: function _initPanels() {
      this.setProperties({
        panels: [],
        validators: []
      });
    },
    onShow: function onShow() {
      this.changeSize();
      this.titleChanged();
      this.set("hiddenTooltip", true);
    },
    changeSize: function changeSize() {
      if (!(0, _utils.isEmpty)(this.get("model.description"))) {
        this.set("modal.modalClass", "edit-category-modal full");
      } else {
        this.set("modal.modalClass", "edit-category-modal small");
      }
    },
    title: function title(model) {
      if (model.id) {
        return I18n.t("category.edit_dialog_title", {
          categoryName: model.name
        });
      }
      return I18n.t("category.create");
    },
    titleChanged: function titleChanged() {
      this.set("modal.title", this.title);
    },
    disabled: function disabled(saving, name, color, deleting) {
      if (saving || deleting) return true;
      if (!name) return true;
      if (!color) return true;
      return false;
    },
    deleteDisabled: function deleteDisabled(saving, deleting) {
      return deleting || saving || false;
    },
    categoryName: function categoryName(name) {
      name = name || "";
      return name.trim().length > 0 ? name : I18n.t("preview");
    },
    saveLabel: function saveLabel(saving, id) {
      if (saving) return "saving";
      return id ? "category.save" : "category.create";
    },


    actions: {
      registerValidator: function registerValidator(validator) {
        this.validators.push(validator);
      },
      saveCategory: function saveCategory() {
        var _this = this;

        if (this.validators.some(function (validator) {
          return validator();
        })) {
          return;
        }
        var model = this.model;
        var parentCategory = this.site.categories.findBy("id", parseInt(model.parent_category_id, 10));

        this.set("saving", true);
        model.set("parentCategory", parentCategory);

        model.save().then(function (result) {
          _this.set("saving", false);
          _this.send("closeModal");
          model.setProperties({
            slug: result.category.slug,
            id: result.category.id
          });
          _url.default.redirectTo("/c/" + _category.default.slugFor(model) + "/" + model.id);
        }).catch(function (error) {
          _this.flash((0, _ajaxError.extractError)(error), "error");
          _this.set("saving", false);
        });
      },
      deleteCategory: function deleteCategory() {
        var _this2 = this;

        this.set("deleting", true);

        this.send("hideModal");
        bootbox.confirm(I18n.t("category.delete_confirm"), I18n.t("no_value"), I18n.t("yes_value"), function (result) {
          if (result) {
            _this2.model.destroy().then(function () {
              // success
              _this2.send("closeModal");
              _url.default.redirectTo("/categories");
            }, function (error) {
              _this2.flash((0, _ajaxError.extractError)(error), "error");
              _this2.send("reopenModal");
              _this2.displayErrors([I18n.t("category.delete_error")]);
              _this2.set("deleting", false);
            });
          } else {
            _this2.send("reopenModal");
            _this2.set("deleting", false);
          }
        });
      },
      toggleDeleteTooltip: function toggleDeleteTooltip() {
        this.toggleProperty("hiddenTooltip");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_initPanels", [_dec], Object.getOwnPropertyDescriptor(_obj, "_initPanels"), _obj), _applyDecoratedDescriptor(_obj, "changeSize", [_dec2], Object.getOwnPropertyDescriptor(_obj, "changeSize"), _obj), _applyDecoratedDescriptor(_obj, "title", [_dec3], Object.getOwnPropertyDescriptor(_obj, "title"), _obj), _applyDecoratedDescriptor(_obj, "titleChanged", [_dec4], Object.getOwnPropertyDescriptor(_obj, "titleChanged"), _obj), _applyDecoratedDescriptor(_obj, "disabled", [_dec5], Object.getOwnPropertyDescriptor(_obj, "disabled"), _obj), _applyDecoratedDescriptor(_obj, "deleteDisabled", [_dec6], Object.getOwnPropertyDescriptor(_obj, "deleteDisabled"), _obj), _applyDecoratedDescriptor(_obj, "categoryName", [_dec7], Object.getOwnPropertyDescriptor(_obj, "categoryName"), _obj), _applyDecoratedDescriptor(_obj, "saveLabel", [_dec8], Object.getOwnPropertyDescriptor(_obj, "saveLabel"), _obj)), _obj)));
});
define("discourse/controllers/edit-topic-timer", ["exports", "@ember/object", "@ember/controller", "discourse-common/utils/decorators", "discourse/mixins/modal-functionality", "discourse/models/topic-timer", "discourse/lib/ajax-error"], function (exports, _object, _controller, _decorators, _modalFunctionality, _topicTimer, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.BUMP_TYPE = exports.REMINDER_TYPE = exports.DELETE_STATUS_TYPE = exports.PUBLISH_TO_CATEGORY_STATUS_TYPE = exports.OPEN_STATUS_TYPE = exports.CLOSE_STATUS_TYPE = undefined;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  var CLOSE_STATUS_TYPE = exports.CLOSE_STATUS_TYPE = "close";
  var OPEN_STATUS_TYPE = exports.OPEN_STATUS_TYPE = "open";
  var PUBLISH_TO_CATEGORY_STATUS_TYPE = exports.PUBLISH_TO_CATEGORY_STATUS_TYPE = "publish_to_category";
  var DELETE_STATUS_TYPE = exports.DELETE_STATUS_TYPE = "delete";
  var REMINDER_TYPE = exports.REMINDER_TYPE = "reminder";
  var BUMP_TYPE = exports.BUMP_TYPE = "bump";

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("model.closed"), _dec2 = (0, _decorators.default)(), _dec3 = (0, _decorators.default)("isPublic", "publicTimerTypes", "privateTimerTypes"), _dec4 = (0, _decorators.default)("isPublic", "model.topic_timer", "model.private_topic_timer"), (_obj = {
    loading: false,
    isPublic: "true",

    publicTimerTypes: function publicTimerTypes(closed) {
      var types = [{
        id: CLOSE_STATUS_TYPE,
        name: I18n.t(closed ? "topic.temp_open.title" : "topic.auto_close.title")
      }, {
        id: OPEN_STATUS_TYPE,
        name: I18n.t(closed ? "topic.auto_reopen.title" : "topic.temp_close.title")
      }, {
        id: PUBLISH_TO_CATEGORY_STATUS_TYPE,
        name: I18n.t("topic.publish_to_category.title")
      }, {
        id: BUMP_TYPE,
        name: I18n.t("topic.auto_bump.title")
      }];
      if (this.currentUser.get("staff")) {
        types.push({
          id: DELETE_STATUS_TYPE,
          name: I18n.t("topic.auto_delete.title")
        });
      }
      return types;
    },
    privateTimerTypes: function privateTimerTypes() {
      return [{ id: REMINDER_TYPE, name: I18n.t("topic.reminder.title") }];
    },
    selections: function selections(isPublic, publicTimerTypes, privateTimerTypes) {
      return "true" === isPublic ? publicTimerTypes : privateTimerTypes;
    },
    topicTimer: function topicTimer(isPublic, publicTopicTimer, privateTopicTimer) {
      return "true" === isPublic ? publicTopicTimer : privateTopicTimer;
    },
    _setTimer: function _setTimer(time, statusType) {
      var _this = this;

      this.set("loading", true);

      _topicTimer.default.updateStatus(this.get("model.id"), time, this.get("topicTimer.based_on_last_post"), statusType, this.get("topicTimer.category_id")).then(function (result) {
        if (time) {
          _this.send("closeModal");

          (0, _object.setProperties)(_this.topicTimer, {
            execute_at: result.execute_at,
            duration: result.duration,
            category_id: result.category_id
          });

          _this.set("model.closed", result.closed);
        } else {
          var topicTimer = _this.isPublic === "true" ? "topic_timer" : "private_topic_timer";
          _this.set("model." + topicTimer, _object.default.create({}));

          _this.setProperties({
            selection: null
          });
        }
      }).catch(_ajaxError.popupAjaxError).finally(function () {
        return _this.set("loading", false);
      });
    },


    actions: {
      onChangeStatusType: function onChangeStatusType(value) {
        this.set("topicTimer.status_type", value);
      },
      onChangeUpdateTime: function onChangeUpdateTime(value) {
        this.set("topicTimer.updateTime", value);
      },
      saveTimer: function saveTimer() {
        if (!this.get("topicTimer.updateTime")) {
          this.flash(I18n.t("topic.topic_status_update.time_frame_required"), "alert-error");
          return;
        }

        this._setTimer(this.get("topicTimer.updateTime"), this.get("topicTimer.status_type"));
      },
      removeTimer: function removeTimer() {
        this._setTimer(null, this.get("topicTimer.status_type"));
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "publicTimerTypes", [_dec], Object.getOwnPropertyDescriptor(_obj, "publicTimerTypes"), _obj), _applyDecoratedDescriptor(_obj, "privateTimerTypes", [_dec2], Object.getOwnPropertyDescriptor(_obj, "privateTimerTypes"), _obj), _applyDecoratedDescriptor(_obj, "selections", [_dec3], Object.getOwnPropertyDescriptor(_obj, "selections"), _obj), _applyDecoratedDescriptor(_obj, "topicTimer", [_dec4], Object.getOwnPropertyDescriptor(_obj, "topicTimer"), _obj)), _obj)));
});
define("discourse/controllers/email-login", ["exports", "discourse-common/utils/decorators", "@ember/controller", "discourse/models/user", "discourse/lib/ajax", "discourse/lib/url", "discourse/lib/ajax-error", "discourse/lib/webauthn"], function (exports, _decorators, _controller, _user, _ajax, _url, _ajaxError, _webauthn) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("model"), _dec2 = (0, _decorators.default)("model"), (_obj = {
    lockImageUrl: Discourse.getURL("/images/lock.svg"),

    secondFactorRequired: function secondFactorRequired(model) {
      return model.security_key_required || model.second_factor_required;
    },
    secondFactorMethod: function secondFactorMethod(model) {
      return model.security_key_required ? _user.SECOND_FACTOR_METHODS.SECURITY_KEY : _user.SECOND_FACTOR_METHODS.TOTP;
    },


    actions: {
      finishLogin: function finishLogin() {
        var _this = this;

        var data = { second_factor_method: this.secondFactorMethod };
        if (this.securityKeyCredential) {
          data.second_factor_token = this.securityKeyCredential;
        } else {
          data.second_factor_token = this.secondFactorToken;
        }

        (0, _ajax.ajax)({
          url: "/session/email-login/" + this.model.token,
          type: "POST",
          data: data
        }).then(function (result) {
          if (result.success) {
            _url.default.redirectTo("/");
          } else {
            _this.set("model.error", result.error);
          }
        }).catch(_ajaxError.popupAjaxError);
      },
      authenticateSecurityKey: function authenticateSecurityKey() {
        var _this2 = this;

        (0, _webauthn.getWebauthnCredential)(this.model.challenge, this.model.allowed_credential_ids, function (credentialData) {
          _this2.set("securityKeyCredential", credentialData);
          _this2.send("finishLogin");
        }, function (errorMessage) {
          _this2.set("model.error", errorMessage);
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "secondFactorRequired", [_dec], Object.getOwnPropertyDescriptor(_obj, "secondFactorRequired"), _obj), _applyDecoratedDescriptor(_obj, "secondFactorMethod", [_dec2], Object.getOwnPropertyDescriptor(_obj, "secondFactorMethod"), _obj)), _obj)));
});
define("discourse/controllers/exception", ["exports", "@ember/object/computed", "@ember/runloop", "@ember/controller", "discourse-common/utils/decorators"], function (exports, _computed, _runloop, _controller, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  var ButtonBackBright = {
    classes: "btn-primary",
    action: "back",
    key: "errors.buttons.back"
  },
      ButtonBackDim = {
    classes: "",
    action: "back",
    key: "errors.buttons.back"
  },
      ButtonTryAgain = {
    classes: "btn-primary",
    action: "tryLoading",
    key: "errors.buttons.again",
    icon: "sync"
  },
      ButtonLoadPage = {
    classes: "btn-primary",
    action: "tryLoading",
    key: "errors.buttons.fixed"
  };

  // The controller for the nice error page
  exports.default = _controller.default.extend((_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.default)("isNetwork", "isServer", "isUnknown"), _dec3 = (0, _decorators.default)("networkFixed", "isNetwork", "isServer", "isUnknown"), _dec4 = (0, _decorators.default)("networkFixed", "isNetwork", "isServer", "isUnknown"), (_obj = {
    thrown: null,
    lastTransition: null,

    isNetwork: function isNetwork() {
      // never made it on the wire
      if (this.get("thrown.readyState") === 0) return true;

      // timed out
      if (this.get("thrown.jqTextStatus") === "timeout") return true;

      return false;
    },


    isNotFound: (0, _computed.equal)("thrown.status", 404),
    isForbidden: (0, _computed.equal)("thrown.status", 403),
    isServer: (0, _computed.gte)("thrown.status", 500),
    isUnknown: (0, _computed.none)("isNetwork", "isServer"),

    // TODO
    // make ajax requests to /srv/status with exponential backoff
    // if one succeeds, set networkFixed to true, which puts a "Fixed!" message on the page
    networkFixed: false,
    loading: false,

    _init: function _init() {
      this.set("loading", false);
    },
    reason: function reason() {
      if (this.isNetwork) {
        return I18n.t("errors.reasons.network");
      } else if (this.isServer) {
        return I18n.t("errors.reasons.server");
      } else if (this.isNotFound) {
        return I18n.t("errors.reasons.not_found");
      } else if (this.isForbidden) {
        return I18n.t("errors.reasons.forbidden");
      } else {
        // TODO
        return I18n.t("errors.reasons.unknown");
      }
    },


    requestUrl: (0, _computed.alias)("thrown.requestedUrl"),

    desc: function desc() {
      if (this.networkFixed) {
        return I18n.t("errors.desc.network_fixed");
      } else if (this.isNetwork) {
        return I18n.t("errors.desc.network");
      } else if (this.isNotFound) {
        return I18n.t("errors.desc.not_found");
      } else if (this.isServer) {
        return I18n.t("errors.desc.server", {
          status: this.get("thrown.status") + " " + this.get("thrown.statusText")
        });
      } else {
        // TODO
        return I18n.t("errors.desc.unknown");
      }
    },
    enabledButtons: function enabledButtons() {
      if (this.networkFixed) {
        return [ButtonLoadPage];
      } else if (this.isNetwork) {
        return [ButtonBackDim, ButtonTryAgain];
      } else {
        return [ButtonBackBright, ButtonTryAgain];
      }
    },


    actions: {
      back: function back() {
        window.history.back();
      },
      tryLoading: function tryLoading() {
        var _this = this;

        this.set("loading", true);

        (0, _runloop.schedule)("afterRender", function () {
          _this.lastTransition.retry();
          _this.set("loading", false);
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "isNetwork", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "isNetwork"), _obj), _applyDecoratedDescriptor(_obj, "_init", [_dec], Object.getOwnPropertyDescriptor(_obj, "_init"), _obj), _applyDecoratedDescriptor(_obj, "reason", [_dec2], Object.getOwnPropertyDescriptor(_obj, "reason"), _obj), _applyDecoratedDescriptor(_obj, "desc", [_dec3], Object.getOwnPropertyDescriptor(_obj, "desc"), _obj), _applyDecoratedDescriptor(_obj, "enabledButtons", [_dec4], Object.getOwnPropertyDescriptor(_obj, "enabledButtons"), _obj)), _obj)));
});
define("discourse/controllers/explain-reviewable", ["exports", "@ember/controller", "discourse/mixins/modal-functionality"], function (exports, _controller, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    loading: null,
    reviewableExplanation: null,

    onShow: function onShow() {
      var _this = this;

      this.setProperties({ loading: true, reviewableExplanation: null });

      this.store.find("reviewable-explanation", this.model.id).then(function (result) {
        return _this.set("reviewableExplanation", result);
      }).finally(function () {
        return _this.set("loading", false);
      });
    }
  });
});
define("discourse/controllers/feature-topic-on-profile", ["exports", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/ajax", "discourse/lib/ajax-error", "@ember/object/computed"], function (exports, _controller, _modalFunctionality, _ajax, _ajaxError, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    newFeaturedTopic: null,
    saving: false,
    noTopicSelected: (0, _computed.none)("newFeaturedTopic"),

    onClose: function onClose() {
      this.set("newFeaturedTopic", null);
    },
    onShow: function onShow() {
      this.set("modal.modalClass", "choose-topic-modal");
    },


    actions: {
      save: function save() {
        var _this = this;

        return (0, _ajax.ajax)("/u/" + this.model.username + "/feature-topic", {
          type: "PUT",
          data: { topic_id: this.newFeaturedTopic.id }
        }).then(function () {
          _this.model.set("featured_topic", _this.newFeaturedTopic);
          _this.send("closeModal");
        }).catch(_ajaxError.popupAjaxError);
      },
      newTopicSelected: function newTopicSelected(topic) {
        this.set("newFeaturedTopic", topic);
      }
    }
  });
});
define("discourse/controllers/feature-topic", ["exports", "discourse-common/utils/decorators", "@ember/controller", "discourse/lib/ajax", "discourse/mixins/modal-functionality", "discourse/helpers/category-link", "@ember/object"], function (exports, _decorators, _controller, _ajax, _modalFunctionality, _categoryLink, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("model.category"), _dec2 = (0, _decorators.default)("categoryLink", "model.pinned_globally", "model.pinned_until"), _dec3 = (0, _decorators.default)("categoryLink"), _dec4 = (0, _decorators.default)("categoryLink", "pinnedInCategoryCount"), _dec5 = (0, _decorators.default)("parsedPinnedInCategoryUntil"), _dec6 = (0, _decorators.default)("parsedPinnedGloballyUntil"), _dec7 = (0, _decorators.default)("model.pinnedInCategoryUntil"), _dec8 = (0, _decorators.default)("model.pinnedGloballyUntil"), _dec9 = (0, _decorators.default)("pinDisabled"), _dec10 = (0, _decorators.default)("pinGloballyDisabled"), (_obj = {
    topicController: (0, _controller.inject)("topic"),

    loading: true,
    pinnedInCategoryCount: 0,
    pinnedGloballyCount: 0,
    bannerCount: 0,

    reset: function reset() {
      this.setProperties({
        "model.pinnedInCategoryUntil": null,
        "model.pinnedGloballyUntil": null,
        pinInCategoryTipShownAt: false,
        pinGloballyTipShownAt: false
      });
    },
    categoryLink: function categoryLink(category) {
      return (0, _categoryLink.categoryLinkHTML)(category, { allowUncategorized: true });
    },
    unPinMessage: function unPinMessage(categoryLink, pinnedGlobally, pinnedUntil) {
      var name = "topic.feature_topic.unpin";
      if (pinnedGlobally) name += "_globally";
      if (moment(pinnedUntil) > moment()) name += "_until";
      var until = moment(pinnedUntil).format("LL");

      return I18n.t(name, { categoryLink: categoryLink, until: until });
    },
    pinMessage: function pinMessage(categoryLink) {
      return I18n.t("topic.feature_topic.pin", { categoryLink: categoryLink });
    },
    alreadyPinnedMessage: function alreadyPinnedMessage(categoryLink, count) {
      var key = count === 0 ? "topic.feature_topic.not_pinned" : "topic.feature_topic.already_pinned";
      return I18n.t(key, { categoryLink: categoryLink, count: count });
    },
    pinDisabled: function pinDisabled(parsedPinnedInCategoryUntil) {
      return !this._isDateValid(parsedPinnedInCategoryUntil);
    },
    pinGloballyDisabled: function pinGloballyDisabled(parsedPinnedGloballyUntil) {
      return !this._isDateValid(parsedPinnedGloballyUntil);
    },
    parsedPinnedInCategoryUntil: function parsedPinnedInCategoryUntil(pinnedInCategoryUntil) {
      return this._parseDate(pinnedInCategoryUntil);
    },
    parsedPinnedGloballyUntil: function parsedPinnedGloballyUntil(pinnedGloballyUntil) {
      return this._parseDate(pinnedGloballyUntil);
    },
    pinInCategoryValidation: function pinInCategoryValidation(pinDisabled) {
      if (pinDisabled) {
        return _object.default.create({
          failed: true,
          reason: I18n.t("topic.feature_topic.pin_validation")
        });
      }
    },
    pinGloballyValidation: function pinGloballyValidation(pinGloballyDisabled) {
      if (pinGloballyDisabled) {
        return _object.default.create({
          failed: true,
          reason: I18n.t("topic.feature_topic.pin_validation")
        });
      }
    },
    _parseDate: function _parseDate(date) {
      return moment(date, ["YYYY-MM-DD", "YYYY-MM-DD HH:mm"]);
    },
    _isDateValid: function _isDateValid(parsedDate) {
      return parsedDate.isValid() && parsedDate > moment();
    },
    onShow: function onShow() {
      var _this = this;

      this.set("loading", true);

      return (0, _ajax.ajax)("/topics/feature_stats.json", {
        data: { category_id: this.get("model.category.id") }
      }).then(function (result) {
        if (result) {
          _this.setProperties({
            pinnedInCategoryCount: result.pinned_in_category_count,
            pinnedGloballyCount: result.pinned_globally_count,
            bannerCount: result.banner_count
          });
        }
      }).finally(function () {
        return _this.set("loading", false);
      });
    },
    _forwardAction: function _forwardAction(name) {
      this.topicController.send(name);
      this.send("closeModal");
    },
    _confirmBeforePinning: function _confirmBeforePinning(count, name, action) {
      var _this2 = this;

      if (count < 4) {
        this._forwardAction(action);
      } else {
        this.send("hideModal");
        bootbox.confirm(I18n.t("topic.feature_topic.confirm_" + name, { count: count }), I18n.t("no_value"), I18n.t("yes_value"), function (confirmed) {
          return confirmed ? _this2._forwardAction(action) : _this2.send("reopenModal");
        });
      }
    },


    actions: {
      pin: function pin() {
        if (this.pinDisabled) {
          this.set("pinInCategoryTipShownAt", Date.now());
        } else {
          this._forwardAction("togglePinned");
        }
      },
      pinGlobally: function pinGlobally() {
        if (this.pinGloballyDisabled) {
          this.set("pinGloballyTipShownAt", Date.now());
        } else {
          this._confirmBeforePinning(this.pinnedGloballyCount, "pin_globally", "pinGlobally");
        }
      },
      unpin: function unpin() {
        this._forwardAction("togglePinned");
      },
      makeBanner: function makeBanner() {
        this._forwardAction("makeBanner");
      },
      removeBanner: function removeBanner() {
        this._forwardAction("removeBanner");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "categoryLink", [_dec], Object.getOwnPropertyDescriptor(_obj, "categoryLink"), _obj), _applyDecoratedDescriptor(_obj, "unPinMessage", [_dec2], Object.getOwnPropertyDescriptor(_obj, "unPinMessage"), _obj), _applyDecoratedDescriptor(_obj, "pinMessage", [_dec3], Object.getOwnPropertyDescriptor(_obj, "pinMessage"), _obj), _applyDecoratedDescriptor(_obj, "alreadyPinnedMessage", [_dec4], Object.getOwnPropertyDescriptor(_obj, "alreadyPinnedMessage"), _obj), _applyDecoratedDescriptor(_obj, "pinDisabled", [_dec5], Object.getOwnPropertyDescriptor(_obj, "pinDisabled"), _obj), _applyDecoratedDescriptor(_obj, "pinGloballyDisabled", [_dec6], Object.getOwnPropertyDescriptor(_obj, "pinGloballyDisabled"), _obj), _applyDecoratedDescriptor(_obj, "parsedPinnedInCategoryUntil", [_dec7], Object.getOwnPropertyDescriptor(_obj, "parsedPinnedInCategoryUntil"), _obj), _applyDecoratedDescriptor(_obj, "parsedPinnedGloballyUntil", [_dec8], Object.getOwnPropertyDescriptor(_obj, "parsedPinnedGloballyUntil"), _obj), _applyDecoratedDescriptor(_obj, "pinInCategoryValidation", [_dec9], Object.getOwnPropertyDescriptor(_obj, "pinInCategoryValidation"), _obj), _applyDecoratedDescriptor(_obj, "pinGloballyValidation", [_dec10], Object.getOwnPropertyDescriptor(_obj, "pinGloballyValidation"), _obj)), _obj)));
});
define("discourse/controllers/flag", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/object", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/models/action-summary", "discourse/models/post-action-type", "discourse/lib/optional-service", "discourse/lib/ajax-error"], function (exports, _decorators, _computed, _object, _controller, _modalFunctionality, _actionSummary, _postActionType, _optionalService, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("spammerDetails.canDelete", "selected.name_key"), _dec2 = (0, _decorators.default)("flagTopic"), _dec3 = (0, _decorators.default)("post", "flagTopic", "model.actions_summary.@each.can_act"), _dec4 = (0, _decorators.default)("post", "flagTopic", "model.actions_summary.@each.can_act"), _dec5 = (0, _decorators.default)("selected.is_custom_flag", "message.length"), _dec6 = (0, _decorators.default)("flagTopic", "selected.is_custom_flag"), _dec7 = (0, _decorators.default)("selected.is_custom_flag"), _dec8 = (0, _decorators.default)("selected.is_custom_flag", "flagTopic"), _dec9 = (0, _decorators.default)("flagTopic", "selected.name_key"), (_obj = {
    adminTools: (0, _optionalService.default)(),
    userDetails: null,
    selected: null,
    flagTopic: null,
    message: null,
    isWarning: false,
    topicActionByName: null,
    spammerDetails: null,

    onShow: function onShow() {
      var _this = this;

      this.setProperties({
        selected: null,
        spammerDetails: null
      });

      var adminTools = this.adminTools;
      if (adminTools) {
        adminTools.checkSpammer(this.get("model.user_id")).then(function (result) {
          _this.set("spammerDetails", result);
        });
      }
    },
    showDeleteSpammer: function showDeleteSpammer(canDeleteSpammer, nameKey) {
      return canDeleteSpammer && nameKey === "spam";
    },
    title: function title(flagTopic) {
      return flagTopic ? "flagging_topic.title" : "flagging.title";
    },
    flagsAvailable: function flagsAvailable() {
      var _this2 = this;

      if (!this.flagTopic) {
        // flagging post
        var flagsAvailable = this.get("model.flagsAvailable");

        // "message user" option should be at the top
        var notifyUserIndex = flagsAvailable.indexOf(flagsAvailable.filterBy("name_key", "notify_user")[0]);
        if (notifyUserIndex !== -1) {
          var notifyUser = flagsAvailable[notifyUserIndex];
          flagsAvailable.splice(notifyUserIndex, 1);
          flagsAvailable.splice(0, 0, notifyUser);
        }
        return flagsAvailable;
      } else {
        // flagging topic
        var lookup = _object.default.create();
        var model = this.model;
        model.get("actions_summary").forEach(function (a) {
          a.flagTopic = model;
          a.actionType = _this2.site.topicFlagTypeById(a.id);
          lookup.set(a.actionType.get("name_key"), _actionSummary.default.create(a));
        });
        this.set("topicActionByName", lookup);

        return this.site.get("topic_flag_types").filter(function (item) {
          return _this2.get("model.actions_summary").some(function (a) {
            return a.id === item.get("id") && a.can_act;
          });
        });
      }
    },
    staffFlagsAvailable: function staffFlagsAvailable() {
      return this.get("model.flagsAvailable") && this.get("model.flagsAvailable").length > 1;
    },
    submitEnabled: function submitEnabled() {
      var selected = this.selected;
      if (!selected) return false;

      if (selected.get("is_custom_flag")) {
        var len = this.get("message.length") || 0;
        return len >= Discourse.SiteSettings.min_personal_message_post_length && len <= _postActionType.MAX_MESSAGE_LENGTH;
      }
      return true;
    },


    submitDisabled: (0, _computed.not)("submitEnabled"),

    canTakeAction: function canTakeAction(flagTopic, isCustomFlag) {
      return !flagTopic && !isCustomFlag && this.currentUser.get("staff");
    },
    submitIcon: function submitIcon(isCustomFlag) {
      return isCustomFlag ? "envelope" : "flag";
    },
    submitLabel: function submitLabel(isCustomFlag, flagTopic) {
      if (isCustomFlag) {
        return flagTopic ? "flagging_topic.notify_action" : "flagging.notify_action";
      }
      return flagTopic ? "flagging_topic.action" : "flagging.action";
    },


    actions: {
      deleteSpammer: function deleteSpammer() {
        var details = this.spammerDetails;
        if (details) {
          details.deleteUser().then(function () {
            return window.location.reload();
          });
        }
      },
      takeAction: function takeAction() {
        this.send("createFlag", { takeAction: true });
        this.set("model.hidden", true);
      },
      createFlag: function createFlag(opts) {
        var _this3 = this;

        var postAction = void 0; // an instance of ActionSummary

        if (!this.flagTopic) {
          postAction = this.get("model.actions_summary").findBy("id", this.get("selected.id"));
        } else {
          postAction = this.get("topicActionByName." + this.get("selected.name_key"));
        }

        var params = this.get("selected.is_custom_flag") ? { message: this.message } : {};
        if (opts) {
          params = $.extend(params, opts);
        }

        this.appEvents.trigger(this.flagTopic ? "topic:flag-created" : "post:flag-created", this.model, postAction, params);

        this.send("hideModal");

        postAction.act(this.model, params).then(function () {
          _this3.send("closeModal");
          if (params.message) {
            _this3.set("message", "");
          }
          _this3.appEvents.trigger("post-stream:refresh", {
            id: _this3.get("model.id")
          });
        }).catch(function (error) {
          _this3.send("closeModal");
          (0, _ajaxError.popupAjaxError)(error);
        });
      },
      createFlagAsWarning: function createFlagAsWarning() {
        this.send("createFlag", { isWarning: true });
        this.set("model.hidden", true);
      },
      changePostActionType: function changePostActionType(action) {
        this.set("selected", action);
      }
    },

    canSendWarning: function canSendWarning(flagTopic, nameKey) {
      return !flagTopic && this.currentUser.get("staff") && nameKey === "notify_user";
    }
  }, (_applyDecoratedDescriptor(_obj, "showDeleteSpammer", [_dec], Object.getOwnPropertyDescriptor(_obj, "showDeleteSpammer"), _obj), _applyDecoratedDescriptor(_obj, "title", [_dec2], Object.getOwnPropertyDescriptor(_obj, "title"), _obj), _applyDecoratedDescriptor(_obj, "flagsAvailable", [_dec3], Object.getOwnPropertyDescriptor(_obj, "flagsAvailable"), _obj), _applyDecoratedDescriptor(_obj, "staffFlagsAvailable", [_dec4], Object.getOwnPropertyDescriptor(_obj, "staffFlagsAvailable"), _obj), _applyDecoratedDescriptor(_obj, "submitEnabled", [_dec5], Object.getOwnPropertyDescriptor(_obj, "submitEnabled"), _obj), _applyDecoratedDescriptor(_obj, "canTakeAction", [_dec6], Object.getOwnPropertyDescriptor(_obj, "canTakeAction"), _obj), _applyDecoratedDescriptor(_obj, "submitIcon", [_dec7], Object.getOwnPropertyDescriptor(_obj, "submitIcon"), _obj), _applyDecoratedDescriptor(_obj, "submitLabel", [_dec8], Object.getOwnPropertyDescriptor(_obj, "submitLabel"), _obj), _applyDecoratedDescriptor(_obj, "canSendWarning", [_dec9], Object.getOwnPropertyDescriptor(_obj, "canSendWarning"), _obj)), _obj)));
});
define("discourse/controllers/forgot-password", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/controller", "discourse/lib/ajax", "discourse/mixins/modal-functionality", "discourse/lib/utilities", "discourse/lib/ajax-error"], function (exports, _decorators, _utils, _controller, _ajax, _modalFunctionality, _utilities, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("accountEmailOrUsername", "disabled"), (_obj = {
    offerHelp: null,
    helpSeen: false,

    submitDisabled: function submitDisabled(accountEmailOrUsername, disabled) {
      return (0, _utils.isEmpty)((accountEmailOrUsername || "").trim()) || disabled;
    },
    onShow: function onShow() {
      if ($.cookie("email")) {
        this.set("accountEmailOrUsername", $.cookie("email"));
      }
    },


    actions: {
      ok: function ok() {
        this.send("closeModal");
      },
      help: function help() {
        this.setProperties({
          offerHelp: I18n.t("forgot_password.help", {
            basePath: Discourse.BaseUri
          }),
          helpSeen: true
        });
      },
      resetPassword: function resetPassword() {
        var _this = this;

        if (this.submitDisabled) return false;
        this.set("disabled", true);

        this.clearFlash();

        (0, _ajax.ajax)("/session/forgot_password", {
          data: { login: this.accountEmailOrUsername.trim() },
          type: "POST"
        }).then(function (data) {
          var accountEmailOrUsername = (0, _utilities.escapeExpression)(_this.accountEmailOrUsername);
          var isEmail = accountEmailOrUsername.match(/@/);
          var key = "forgot_password.complete_" + (isEmail ? "email" : "username");
          var extraClass = void 0;

          if (data.user_found === true) {
            key += "_found";
            _this.set("accountEmailOrUsername", "");
            _this.set("offerHelp", I18n.t(key, {
              email: accountEmailOrUsername,
              username: accountEmailOrUsername
            }));
          } else {
            if (data.user_found === false) {
              key += "_not_found";
              extraClass = "error";
            }

            _this.flash(I18n.t(key, {
              email: accountEmailOrUsername,
              username: accountEmailOrUsername
            }), extraClass);
          }
        }).catch(function (e) {
          _this.flash((0, _ajaxError.extractError)(e), "error");
        }).finally(function () {
          _this.set("disabled", false);
        });

        return false;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "submitDisabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "submitDisabled"), _obj)), _obj)));
});
define("discourse/controllers/full-page-search", ["exports", "@ember/utils", "@ember/object/computed", "@ember/controller", "discourse/lib/ajax", "discourse/lib/search", "discourse-common/utils/decorators", "discourse/models/category", "discourse/lib/utilities", "discourse/lib/page-tracker", "discourse/models/composer", "discourse/mixins/scroll-top"], function (exports, _utils, _computed, _controller, _ajax, _search2, _decorators, _category, _utilities, _pageTracker, _composer, _scrollTop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _desc, _value, _obj, _init;

  var SortOrders = [{ name: I18n.t("search.relevance"), id: 0 }, { name: I18n.t("search.latest_post"), id: 1, term: "order:latest" }, { name: I18n.t("search.most_liked"), id: 2, term: "order:likes" }, { name: I18n.t("search.most_viewed"), id: 3, term: "order:views" }, { name: I18n.t("search.latest_topic"), id: 4, term: "order:latest_topic" }];
  var PAGE_LIMIT = 10;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("resultCount"), _dec2 = (0, _decorators.default)("q"), _dec3 = (0, _decorators.default)("q"), _dec4 = (0, _decorators.default)("skip_context", "context"), _dec5 = (0, _decorators.default)("context", "context_id"), _dec6 = (0, _decorators.default)("q"), _dec7 = (0, _decorators.default)("q"), _dec8 = (0, _decorators.default)("canCreateTopic", "siteSettings.login_required"), _dec9 = (0, _decorators.observes)("sortOrder"), _dec10 = (0, _decorators.observes)("model"), _dec11 = (0, _decorators.default)("q"), _dec12 = (0, _decorators.observes)("q"), _dec13 = (0, _decorators.default)("q"), _dec14 = (0, _decorators.observes)("loading"), _dec15 = (0, _decorators.default)("resultCount", "noSortQ"), _dec16 = (0, _decorators.observes)("model.posts.length"), _dec17 = (0, _decorators.default)("hasResults"), _dec18 = (0, _decorators.default)("model.grouped_search_result.can_create_topic"), _dec19 = (0, _decorators.default)("page"), (_obj = {
    application: (0, _controller.inject)(),
    composer: (0, _controller.inject)(),
    bulkSelectEnabled: null,

    loading: false,
    queryParams: ["q", "expanded", "context_id", "context", "skip_context"],
    q: null,
    selected: [],
    expanded: false,
    context_id: null,
    context: null,
    searching: false,
    sortOrder: 0,
    sortOrders: SortOrders,
    invalidSearch: false,
    page: 1,
    resultCount: null,

    hasResults: function hasResults(resultCount) {
      return (resultCount || 0) > 0;
    },
    hasAutofocus: function hasAutofocus(q) {
      return (0, _utils.isEmpty)(q);
    },
    highlightQuery: function highlightQuery(q) {
      if (!q) {
        return;
      }
      // remove l which can be used for sorting
      return _.reject(q.split(/\s+/), function (t) {
        return t === "l";
      }).join(" ");
    },

    searchContextEnabled: {
      get: function get(skip, context) {
        return !skip && context || skip === "false";
      },
      set: function set(val) {
        this.set("skip_context", val ? "false" : "true");
      }
    },

    searchContextDescription: function searchContextDescription(context, id) {
      var name = id;
      if (context === "category") {
        var category = _category.default.findById(id);
        if (!category) {
          return;
        }

        name = category.get("name");
      }
      return (0, _search2.searchContextDescription)(context, name);
    },
    searchActive: function searchActive(q) {
      return (0, _search2.isValidSearchTerm)(q);
    },
    noSortQ: function noSortQ(q) {
      q = this.cleanTerm(q);
      return (0, _utilities.escapeExpression)(q);
    },
    showSuggestion: function showSuggestion(canCreateTopic, loginRequired) {
      return canCreateTopic || !loginRequired;
    },


    _searchOnSortChange: true,

    setSearchTerm: function setSearchTerm(term) {
      this._searchOnSortChange = false;
      term = this.cleanTerm(term);
      this._searchOnSortChange = true;
      this.set("searchTerm", term);
    },
    cleanTerm: function cleanTerm(term) {
      var _this = this;

      if (term) {
        SortOrders.forEach(function (order) {
          if (order.term) {
            var matches = term.match(new RegExp(order.term + "\\b"));
            if (matches) {
              _this.set("sortOrder", order.id);
              term = term.replace(new RegExp(order.term + "\\b", "g"), "");
              term = term.trim();
            }
          }
        });
      }
      return term;
    },
    triggerSearch: function triggerSearch() {
      if (this._searchOnSortChange) {
        this.set("page", 1);
        this._search();
      }
    },
    modelChanged: function modelChanged() {
      if (this.searchTerm !== this.q) {
        this.setSearchTerm(this.q);
      }
    },
    showLikeCount: function showLikeCount(q) {
      return q && q.indexOf("order:likes") > -1;
    },
    qChanged: function qChanged() {
      var model = this.model;
      if (model && this.get("model.q") !== this.q) {
        this.setSearchTerm(this.q);
        this.send("search");
      }
    },
    isPrivateMessage: function isPrivateMessage(q) {
      return q && this.currentUser && (q.indexOf("in:personal") > -1 || q.indexOf("personal_messages:" + this.currentUser.get("username_lower")) > -1);
    },
    _showFooter: function _showFooter() {
      this.set("application.showFooter", !this.loading);
    },
    resultCountLabel: function resultCountLabel(count, term) {
      var plus = count % 50 === 0 ? "+" : "";
      return I18n.t("search.result_count", { count: count, plus: plus, term: term });
    },
    resultCountChanged: function resultCountChanged() {
      this.set("resultCount", this.get("model.posts.length"));
    },
    canBulkSelect: function canBulkSelect(hasResults) {
      return this.currentUser && this.currentUser.staff && hasResults;
    },
    canCreateTopic: function canCreateTopic(userCanCreateTopic) {
      return this.currentUser && userCanCreateTopic;
    },
    isLastPage: function isLastPage(page) {
      return page === PAGE_LIMIT;
    },


    searchButtonDisabled: (0, _computed.or)("searching", "loading"),

    _search: function _search() {
      var _this2 = this;

      if (this.searching) {
        return;
      }

      this.set("invalidSearch", false);
      var searchTerm = this.searchTerm;
      if (!(0, _search2.isValidSearchTerm)(searchTerm)) {
        this.set("invalidSearch", true);
        return;
      }

      var args = { q: searchTerm, page: this.page };

      if (args.page === 1) {
        this.set("bulkSelectEnabled", false);
        this.selected.clear();
        this.set("searching", true);
        (0, _scrollTop.scrollTop)();
      } else {
        this.set("loading", true);
      }

      var sortOrder = this.sortOrder;
      if (sortOrder && SortOrders[sortOrder].term) {
        args.q += " " + SortOrders[sortOrder].term;
      }

      this.set("q", args.q);

      var skip = this.skip_context;
      if (!skip && this.context || skip === "false") {
        args.search_context = {
          type: this.context,
          id: this.context_id
        };
      }

      var searchKey = (0, _search2.getSearchKey)(args);

      (0, _ajax.ajax)("/search", { data: args }).then(function (results) {
        var model = (0, _search2.translateResults)(results) || {};

        if (results.grouped_search_result) {
          _this2.set("q", results.grouped_search_result.term);
        }

        if (args.page > 1) {
          if (model) {
            _this2.model.posts.pushObjects(model.posts);
            _this2.model.topics.pushObjects(model.topics);
            _this2.model.set("grouped_search_result", results.grouped_search_result);
          }
        } else {
          (0, _pageTracker.setTransient)("lastSearch", { searchKey: searchKey, model: model }, 5);
          model.grouped_search_result = results.grouped_search_result;
          _this2.set("model", model);
        }
      }).finally(function () {
        _this2.set("searching", false);
        _this2.set("loading", false);
      });
    },


    actions: {
      createTopic: function createTopic(searchTerm) {
        var topicCategory = void 0;
        if (searchTerm.indexOf("category:") !== -1) {
          var match = searchTerm.match(/category:(\S*)/);
          if (match && match[1]) {
            topicCategory = match[1];
          }
        }
        this.composer.open({
          action: _composer.default.CREATE_TOPIC,
          draftKey: _composer.default.NEW_TOPIC_KEY,
          topicCategory: topicCategory
        });
      },
      selectAll: function selectAll() {
        this.selected.addObjects(this.get("model.posts").map(function (r) {
          return r.topic;
        }));
        // Doing this the proper way is a HUGE pain,
        // we can hack this to work by observing each on the array
        // in the component, however, when we select ANYTHING, we would force
        // 50 traversals of the list
        // This hack is cheap and easy
        $(".fps-result input[type=checkbox]").prop("checked", true);
      },
      clearAll: function clearAll() {
        this.selected.clear();
        $(".fps-result input[type=checkbox]").prop("checked", false);
      },
      toggleBulkSelect: function toggleBulkSelect() {
        this.toggleProperty("bulkSelectEnabled");
        this.selected.clear();
      },
      search: function search() {
        this.set("page", 1);
        this._search();
        if (this.site.mobileView) this.set("expanded", false);
      },
      toggleAdvancedSearch: function toggleAdvancedSearch() {
        this.toggleProperty("expanded");
      },
      loadMore: function loadMore() {
        var page = this.page;
        if (this.get("model.grouped_search_result.more_full_page_results") && !this.loading && page < PAGE_LIMIT) {
          this.incrementProperty("page");
          this._search();
        }
      },
      logClick: function logClick(topicId) {
        if (this.get("model.grouped_search_result.search_log_id") && topicId) {
          (0, _ajax.ajax)("/search/click", {
            type: "POST",
            data: {
              search_log_id: this.get("model.grouped_search_result.search_log_id"),
              search_result_id: topicId,
              search_result_type: "topic"
            }
          });
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "hasResults", [_dec], Object.getOwnPropertyDescriptor(_obj, "hasResults"), _obj), _applyDecoratedDescriptor(_obj, "hasAutofocus", [_dec2], Object.getOwnPropertyDescriptor(_obj, "hasAutofocus"), _obj), _applyDecoratedDescriptor(_obj, "highlightQuery", [_dec3], Object.getOwnPropertyDescriptor(_obj, "highlightQuery"), _obj), _applyDecoratedDescriptor(_obj, "searchContextEnabled", [_dec4], (_init = Object.getOwnPropertyDescriptor(_obj, "searchContextEnabled"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "searchContextDescription", [_dec5], Object.getOwnPropertyDescriptor(_obj, "searchContextDescription"), _obj), _applyDecoratedDescriptor(_obj, "searchActive", [_dec6], Object.getOwnPropertyDescriptor(_obj, "searchActive"), _obj), _applyDecoratedDescriptor(_obj, "noSortQ", [_dec7], Object.getOwnPropertyDescriptor(_obj, "noSortQ"), _obj), _applyDecoratedDescriptor(_obj, "showSuggestion", [_dec8], Object.getOwnPropertyDescriptor(_obj, "showSuggestion"), _obj), _applyDecoratedDescriptor(_obj, "triggerSearch", [_dec9], Object.getOwnPropertyDescriptor(_obj, "triggerSearch"), _obj), _applyDecoratedDescriptor(_obj, "modelChanged", [_dec10], Object.getOwnPropertyDescriptor(_obj, "modelChanged"), _obj), _applyDecoratedDescriptor(_obj, "showLikeCount", [_dec11], Object.getOwnPropertyDescriptor(_obj, "showLikeCount"), _obj), _applyDecoratedDescriptor(_obj, "qChanged", [_dec12], Object.getOwnPropertyDescriptor(_obj, "qChanged"), _obj), _applyDecoratedDescriptor(_obj, "isPrivateMessage", [_dec13], Object.getOwnPropertyDescriptor(_obj, "isPrivateMessage"), _obj), _applyDecoratedDescriptor(_obj, "_showFooter", [_dec14], Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _obj), _applyDecoratedDescriptor(_obj, "resultCountLabel", [_dec15], Object.getOwnPropertyDescriptor(_obj, "resultCountLabel"), _obj), _applyDecoratedDescriptor(_obj, "resultCountChanged", [_dec16], Object.getOwnPropertyDescriptor(_obj, "resultCountChanged"), _obj), _applyDecoratedDescriptor(_obj, "canBulkSelect", [_dec17], Object.getOwnPropertyDescriptor(_obj, "canBulkSelect"), _obj), _applyDecoratedDescriptor(_obj, "canCreateTopic", [_dec18], Object.getOwnPropertyDescriptor(_obj, "canCreateTopic"), _obj), _applyDecoratedDescriptor(_obj, "isLastPage", [_dec19], Object.getOwnPropertyDescriptor(_obj, "isLastPage"), _obj)), _obj)));
});
define("discourse/controllers/grant-badge", ["exports", "discourse-common/utils/decorators", "@ember/controller", "discourse/lib/ajax-error", "discourse/mixins/modal-functionality", "discourse/mixins/grant-badge-controller", "discourse/models/badge", "discourse/models/user-badge", "rsvp"], function (exports, _decorators, _controller, _ajaxError, _modalFunctionality, _grantBadgeController, _badge, _userBadge, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, _grantBadgeController.default, (_dec = (0, _decorators.default)("topicController.selectedPosts"), _dec2 = (0, _decorators.default)("post"), _dec3 = (0, _decorators.default)("saving", "selectedBadgeGrantable"), (_obj = {
    topicController: (0, _controller.inject)("topic"),
    loading: true,
    saving: false,
    selectedBadgeId: null,

    init: function init() {
      this._super.apply(this, arguments);

      this.allBadges = [];
      this.userBadges = [];
    },
    post: function post() {
      return this.get("topicController.selectedPosts")[0];
    },
    badgeReason: function badgeReason(post) {
      var url = post.get("url");
      var protocolAndHost = window.location.protocol + "//" + window.location.host;

      return url.indexOf("/") === 0 ? protocolAndHost + url : url;
    },
    buttonDisabled: function buttonDisabled(saving, selectedBadgeGrantable) {
      return saving || !selectedBadgeGrantable;
    },
    onShow: function onShow() {
      var _this = this;

      this.set("loading", true);

      (0, _rsvp.all)([_badge.default.findAll(), _userBadge.default.findByUsername(this.get("post.username"))]).then(function (_ref) {
        var _ref2 = _slicedToArray(_ref, 2),
            allBadges = _ref2[0],
            userBadges = _ref2[1];

        _this.setProperties({
          allBadges: allBadges,
          userBadges: userBadges,
          loading: false
        });
      });
    },


    actions: {
      grantBadge: function grantBadge() {
        var _this2 = this;

        this.set("saving", true);

        this.grantBadge(this.selectedBadgeId, this.get("post.username"), this.badgeReason).then(function (newBadge) {
          _this2.set("selectedBadgeId", null);
          _this2.flash(I18n.t("badges.successfully_granted", {
            username: _this2.get("post.username"),
            badge: newBadge.get("badge.name")
          }), "success");
        }, function (error) {
          _this2.flash((0, _ajaxError.extractError)(error), "error");
        }).finally(function () {
          return _this2.set("saving", false);
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "post", [_dec], Object.getOwnPropertyDescriptor(_obj, "post"), _obj), _applyDecoratedDescriptor(_obj, "badgeReason", [_dec2], Object.getOwnPropertyDescriptor(_obj, "badgeReason"), _obj), _applyDecoratedDescriptor(_obj, "buttonDisabled", [_dec3], Object.getOwnPropertyDescriptor(_obj, "buttonDisabled"), _obj)), _obj)));
});
define("discourse/controllers/group-activity-posts", ["exports", "@ember/controller", "discourse-common/utils/decorators", "discourse/lib/computed"], function (exports, _controller, _decorators, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("canLoadMore"), (_obj = {
    group: (0, _controller.inject)(),
    groupActivity: (0, _controller.inject)(),
    application: (0, _controller.inject)(),
    canLoadMore: true,
    loading: false,
    emptyText: (0, _computed.fmt)("type", "groups.empty.%@"),

    actions: {
      loadMore: function loadMore() {
        var _this = this;

        if (!this.canLoadMore) {
          return;
        }
        if (this.loading) {
          return;
        }
        this.set("loading", true);
        var posts = this.model;
        if (posts && posts.length) {
          var beforePostId = posts[posts.length - 1].get("id");
          var group = this.get("group.model");

          var categoryId = this.get("groupActivity.category_id");
          var opts = { beforePostId: beforePostId, type: this.type, categoryId: categoryId };

          group.findPosts(opts).then(function (newPosts) {
            posts.addObjects(newPosts);
            if (newPosts.length === 0) {
              _this.set("canLoadMore", false);
            }
          }).finally(function () {
            _this.set("loading", false);
          });
        }
      }
    },

    _showFooter: function _showFooter() {
      this.set("application.showFooter", !this.canLoadMore);
    }
  }, (_applyDecoratedDescriptor(_obj, "_showFooter", [_dec], Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _obj)), _obj)));
});
define("discourse/controllers/group-activity-topics", ["exports", "@ember/controller"], function (exports, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    actions: {
      loadMore: function loadMore() {
        this.model.loadMore();
      }
    }
  });
});
define("discourse/controllers/group-activity", ["exports", "@ember/service", "@ember/controller"], function (exports, _service, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    router: (0, _service.inject)(),
    queryParams: ["category_id"]
  });
});
define("discourse/controllers/group-add-members", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/controller", "discourse/lib/ajax-error", "discourse/mixins/modal-functionality"], function (exports, _decorators, _utils, _controller, _ajaxError, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("model.usernames", "loading"), (_obj = {
    loading: false,
    setAsOwner: false,

    disableAddButton: function disableAddButton(usernames, loading) {
      return loading || !usernames || !(usernames.length > 0);
    },


    actions: {
      addMembers: function addMembers() {
        var _this = this;

        this.set("loading", true);

        var model = this.model;
        var usernames = model.get("usernames");
        if ((0, _utils.isEmpty)(usernames)) {
          return;
        }
        var promise = void 0;

        if (this.setAsOwner) {
          promise = model.addOwners(usernames, true);
        } else {
          promise = model.addMembers(usernames, true);
        }

        promise.then(function () {
          _this.transitionToRoute("group.members", _this.get("model.name"), {
            queryParams: { filter: usernames }
          });

          model.set("usernames", null);
          _this.send("closeModal");
        }).catch(function (error) {
          _this.flash((0, _ajaxError.extractError)(error), "error");
        }).finally(function () {
          return _this.set("loading", false);
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "disableAddButton", [_dec], Object.getOwnPropertyDescriptor(_obj, "disableAddButton"), _obj)), _obj)));
});
define("discourse/controllers/group-bulk-add", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/controller", "discourse/lib/ajax-error", "discourse/mixins/modal-functionality", "discourse/lib/ajax"], function (exports, _decorators, _utils, _controller, _ajaxError, _modalFunctionality, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("input", "loading", "result"), (_obj = {
    loading: false,

    disableAddButton: function disableAddButton(input, loading, result) {
      return loading || (0, _utils.isEmpty)(input) || input.length <= 0 || result;
    },


    actions: {
      cancel: function cancel() {
        this.set("result", null);
      },
      add: function add() {
        var _this = this;

        this.setProperties({
          loading: true,
          result: null
        });

        var users = this.input.split("\n").uniq().reject(function (x) {
          return x.length === 0;
        });

        (0, _ajax.ajax)("/admin/groups/bulk", {
          data: { users: users, group_id: this.get("model.id") },
          method: "PUT"
        }).then(function (result) {
          _this.set("result", result);

          if (result.users_not_added) {
            _this.set("result.invalidUsers", result.users_not_added.join(", "));
          }
        }).catch(function (error) {
          _this.flash((0, _ajaxError.extractError)(error), "error");
        }).finally(function () {
          _this.set("loading", false);
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "disableAddButton", [_dec], Object.getOwnPropertyDescriptor(_obj, "disableAddButton"), _obj)), _obj)));
});
define("discourse/controllers/group-index", ["exports", "@ember/controller", "@ember/object/computed", "discourse-common/utils/decorators", "discourse/lib/ajax-error", "discourse/lib/debounce"], function (exports, _controller, _computed, _decorators, _ajaxError, _debounce) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("filterInput"), _dec2 = (0, _decorators.observes)("order", "desc", "filter"), _dec3 = (0, _decorators.default)("order", "desc", "filter"), _dec4 = (0, _decorators.default)("model.members.[]"), _dec5 = (0, _decorators.default)("model"), (_obj = {
    application: (0, _controller.inject)(),

    queryParams: ["order", "desc", "filter"],

    order: "",
    desc: null,
    filter: null,
    filterInput: null,

    loading: false,
    isOwner: (0, _computed.alias)("model.is_group_owner"),
    showActions: false,

    _setFilter: (0, _debounce.default)(function () {
      this.set("filter", this.filterInput);
    }, 500),

    _filtersChanged: function _filtersChanged() {
      this.findMembers(true);
    },
    findMembers: function findMembers(refresh) {
      var _this = this;

      if (this.loading) {
        return;
      }

      var model = this.model;
      if (!model) {
        return;
      }

      if (!refresh && model.members.length >= model.user_count) {
        this.set("application.showFooter", true);
        return;
      }

      this.set("loading", true);
      model.findMembers(this.memberParams, refresh).finally(function () {
        _this.set("application.showFooter", model.members.length >= model.user_count);
        _this.set("loading", false);
      });
    },
    memberParams: function memberParams(order, desc, filter) {
      return { order: order, desc: desc, filter: filter };
    },
    hasMembers: function hasMembers(members) {
      return members && members.length > 0;
    },
    canManageGroup: function canManageGroup(model) {
      return this.currentUser && this.currentUser.canManageGroup(model);
    },
    filterPlaceholder: function filterPlaceholder() {
      if (this.currentUser && this.currentUser.admin) {
        return "groups.members.filter_placeholder_admin";
      } else {
        return "groups.members.filter_placeholder";
      }
    },


    actions: {
      loadMore: function loadMore() {
        this.findMembers();
      },
      toggleActions: function toggleActions() {
        this.toggleProperty("showActions");
      },
      actOnGroup: function actOnGroup(member, actionId) {
        switch (actionId) {
          case "removeMember":
            this.send("removeMember", member);
            break;
          case "makeOwner":
            this.send("makeOwner", member.username);
            break;
          case "removeOwner":
            this.send("removeOwner", member);
            break;
        }
      },
      removeMember: function removeMember(user) {
        this.model.removeMember(user, this.memberParams);
      },
      makeOwner: function makeOwner(username) {
        this.model.addOwners(username);
      },
      removeOwner: function removeOwner(user) {
        this.model.removeOwner(user);
      },
      addMembers: function addMembers() {
        var _this2 = this;

        var usernames = this.usernames;
        if (usernames && usernames.length > 0) {
          this.model.addMembers(usernames).then(function () {
            return _this2.set("usernames", []);
          }).catch(_ajaxError.popupAjaxError);
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_setFilter", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "_setFilter"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "_filtersChanged", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_filtersChanged"), _obj), _applyDecoratedDescriptor(_obj, "memberParams", [_dec3], Object.getOwnPropertyDescriptor(_obj, "memberParams"), _obj), _applyDecoratedDescriptor(_obj, "hasMembers", [_dec4], Object.getOwnPropertyDescriptor(_obj, "hasMembers"), _obj), _applyDecoratedDescriptor(_obj, "canManageGroup", [_dec5], Object.getOwnPropertyDescriptor(_obj, "canManageGroup"), _obj), _applyDecoratedDescriptor(_obj, "filterPlaceholder", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "filterPlaceholder"), _obj)), _obj)));
});
define("discourse/controllers/group-manage-logs", ["exports", "@ember/controller", "@ember/object", "discourse-common/utils/decorators"], function (exports, _controller, _object, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("filters.action", "filters.acting_user", "filters.target_user", "filters.subject"), _dec2 = (0, _decorators.observes)("filters.action", "filters.acting_user", "filters.target_user", "filters.subject"), _dec3 = (0, _decorators.observes)("model.all_loaded"), (_obj = {
    group: (0, _controller.inject)(),
    loading: false,
    offset: 0,
    application: (0, _controller.inject)(),

    init: function init() {
      this._super.apply(this, arguments);
      this.set("filters", _object.default.create());
    },
    filterParams: function filterParams(action, acting_user, target_user, subject) {
      return { action: action, acting_user: acting_user, target_user: target_user, subject: subject };
    },
    _refreshModel: function _refreshModel() {
      var _this = this;

      this.get("group.model").findLogs(0, this.filterParams).then(function (results) {
        _this.set("offset", 0);

        _this.model.setProperties({
          logs: results.logs,
          all_loaded: results.all_loaded
        });
      });
    },
    _showFooter: function _showFooter() {
      this.set("application.showFooter", this.get("model.all_loaded"));
    },
    reset: function reset() {
      this.setProperties({
        offset: 0,
        filters: _object.default.create()
      });
    },


    actions: {
      loadMore: function loadMore() {
        var _this2 = this;

        if (this.get("model.all_loaded")) return;

        this.set("loading", true);

        this.get("group.model").findLogs(this.offset + 1, this.filterParams).then(function (results) {
          results.logs.forEach(function (result) {
            return _this2.get("model.logs").addObject(result);
          });
          _this2.incrementProperty("offset");
          _this2.set("model.all_loaded", results.all_loaded);
        }).finally(function () {
          _this2.set("loading", false);
        });
      },
      clearFilter: function clearFilter(key) {
        this.set("filters." + key, "");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "filterParams", [_dec], Object.getOwnPropertyDescriptor(_obj, "filterParams"), _obj), _applyDecoratedDescriptor(_obj, "_refreshModel", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_refreshModel"), _obj), _applyDecoratedDescriptor(_obj, "_showFooter", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _obj)), _obj)));
});
define("discourse/controllers/group-manage-profile", ["exports", "@ember/controller"], function (exports, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    saving: null
  });
});
define("discourse/controllers/group-manage", ["exports", "@ember/service", "@ember/controller", "discourse-common/utils/decorators"], function (exports, _service, _controller, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("model.automatic"), (_obj = {
    router: (0, _service.inject)(),

    tabs: function tabs(automatic) {
      var defaultTabs = [{ route: "group.manage.profile", title: "groups.manage.profile.title" }, {
        route: "group.manage.interaction",
        title: "groups.manage.interaction.title"
      }, { route: "group.manage.logs", title: "groups.manage.logs.title" }];

      if (!automatic) {
        defaultTabs.splice(1, 0, {
          route: "group.manage.membership",
          title: "groups.manage.membership.title"
        });
      }

      return defaultTabs;
    }
  }, (_applyDecoratedDescriptor(_obj, "tabs", [_dec], Object.getOwnPropertyDescriptor(_obj, "tabs"), _obj)), _obj)));
});
define("discourse/controllers/group-messages", ["exports", "@ember/service", "@ember/controller"], function (exports, _service, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    router: (0, _service.inject)()
  });
});
define("discourse/controllers/group-requests", ["exports", "@ember/controller", "discourse-common/utils/decorators", "discourse/lib/ajax", "discourse/lib/ajax-error", "discourse/lib/debounce"], function (exports, _controller, _decorators, _ajax, _ajaxError, _debounce) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("filterInput"), _dec2 = (0, _decorators.observes)("order", "desc", "filter"), _dec3 = (0, _decorators.default)("order", "desc", "filter"), _dec4 = (0, _decorators.default)("model.requesters.[]"), (_obj = {
    application: (0, _controller.inject)(),

    queryParams: ["order", "desc", "filter"],

    order: "",
    desc: null,
    filter: null,
    filterInput: null,

    loading: false,

    _setFilter: (0, _debounce.default)(function () {
      this.set("filter", this.filterInput);
    }, 500),

    _filtersChanged: function _filtersChanged() {
      this.findRequesters(true);
    },
    findRequesters: function findRequesters(refresh) {
      var _this = this;

      if (this.loading) {
        return;
      }

      var model = this.model;
      if (!model) {
        return;
      }

      if (!refresh && model.members.length >= model.user_count) {
        this.set("application.showFooter", true);
        return;
      }

      this.set("loading", true);
      model.findRequesters(this.memberParams, refresh).finally(function () {
        _this.set("application.showFooter", model.requesters.length >= model.user_count);
        _this.set("loading", false);
      });
    },
    memberParams: function memberParams(order, desc, filter) {
      return { order: order, desc: desc, filter: filter };
    },
    hasRequesters: function hasRequesters(requesters) {
      return requesters && requesters.length > 0;
    },
    filterPlaceholder: function filterPlaceholder() {
      if (this.currentUser && this.currentUser.admin) {
        return "groups.members.filter_placeholder_admin";
      } else {
        return "groups.members.filter_placeholder";
      }
    },
    handleRequest: function handleRequest(data) {
      (0, _ajax.ajax)("/groups/" + this.get("model.id") + "/handle_membership_request.json", {
        data: data,
        type: "PUT"
      }).catch(_ajaxError.popupAjaxError);
    },


    actions: {
      loadMore: function loadMore() {
        this.findRequesters();
      },
      acceptRequest: function acceptRequest(user) {
        this.handleRequest({ user_id: user.get("id"), accept: true });
        user.setProperties({
          request_accepted: true,
          request_denied: false
        });
      },
      undoAcceptRequest: function undoAcceptRequest(user) {
        (0, _ajax.ajax)("/groups/" + this.get("model.id") + "/members.json", {
          type: "DELETE",
          data: { user_id: user.get("id") }
        }).then(function () {
          user.set("request_undone", true);
        });
      },
      denyRequest: function denyRequest(user) {
        this.handleRequest({ user_id: user.get("id") });
        user.setProperties({
          request_accepted: false,
          request_denied: true
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_setFilter", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "_setFilter"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "_filtersChanged", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_filtersChanged"), _obj), _applyDecoratedDescriptor(_obj, "memberParams", [_dec3], Object.getOwnPropertyDescriptor(_obj, "memberParams"), _obj), _applyDecoratedDescriptor(_obj, "hasRequesters", [_dec4], Object.getOwnPropertyDescriptor(_obj, "hasRequesters"), _obj), _applyDecoratedDescriptor(_obj, "filterPlaceholder", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "filterPlaceholder"), _obj)), _obj)));
});
define("discourse/controllers/group", ["exports", "@ember/object", "@ember/controller", "discourse-common/utils/decorators", "@ember/service", "@ember/object/computed"], function (exports, _object, _controller, _decorators, _service, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _obj;

  var Tab = _object.default.extend({
    init: function init() {
      this._super.apply(this, arguments);
      var name = this.name;
      this.set("route", this.route || "group." + name);
      this.set("message", I18n.t("groups." + (this.i18nKey || name)));
    }
  });

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("showMessages", "model.user_count", "model.request_count", "canManageGroup", "model.allow_membership_requests"), _dec2 = (0, _decorators.default)("model.is_group_user"), _dec3 = (0, _decorators.default)("model.is_group_owner", "model.automatic"), _dec4 = (0, _decorators.default)("model.displayName", "model.full_name"), _dec5 = (0, _decorators.default)("model.name", "model.flair_url", "model.flair_bg_color", "model.flair_color"), _dec6 = (0, _decorators.default)("model.messageable"), _dec7 = (0, _decorators.default)("model", "model.automatic"), (_obj = {
    application: (0, _controller.inject)(),
    counts: null,
    showing: "members",
    destroying: null,
    router: (0, _service.inject)(),
    currentPath: (0, _computed.readOnly)("router._router.currentPath"),

    tabs: function tabs(showMessages, userCount, requestCount, canManageGroup, allowMembershipRequests) {
      var membersTab = Tab.create({
        name: "members",
        route: "group.index",
        icon: "users",
        i18nKey: "members.title"
      });

      membersTab.set("count", userCount);

      var defaultTabs = [membersTab, Tab.create({ name: "activity" })];

      if (canManageGroup && allowMembershipRequests) {
        defaultTabs.push(Tab.create({
          name: "requests",
          i18nKey: "requests.title",
          icon: "user-plus",
          count: requestCount
        }));
      }

      if (showMessages) {
        defaultTabs.push(Tab.create({
          name: "messages",
          i18nKey: "messages"
        }));
      }

      if (canManageGroup) {
        defaultTabs.push(Tab.create({
          name: "manage",
          i18nKey: "manage.title",
          icon: "wrench"
        }));
      }

      return defaultTabs;
    },
    showMessages: function showMessages(isGroupUser) {
      if (!this.siteSettings.enable_personal_messages) {
        return false;
      }

      return isGroupUser || this.currentUser && this.currentUser.admin;
    },
    canEditGroup: function canEditGroup(isGroupOwner, automatic) {
      return !automatic && isGroupOwner;
    },
    groupName: function groupName(displayName, fullName) {
      return (fullName || displayName).capitalize();
    },
    avatarFlairAttributes: function avatarFlairAttributes(groupName, flairURL, flairBgColor, flairColor) {
      return {
        primary_group_flair_url: flairURL,
        primary_group_flair_bg_color: flairBgColor,
        primary_group_flair_color: flairColor,
        primary_group_name: groupName
      };
    },
    displayGroupMessageButton: function displayGroupMessageButton(messageable) {
      return this.currentUser && messageable;
    },
    canManageGroup: function canManageGroup(model, automatic) {
      return this.currentUser && (this.currentUser.canManageGroup(model) || this.currentUser.admin && automatic);
    },


    actions: {
      messageGroup: function messageGroup() {
        this.send("createNewMessageViaParams", this.get("model.name"));
      },
      destroy: function destroy() {
        var _this = this;

        var group = this.model;
        this.set("destroying", true);

        bootbox.confirm(I18n.t("admin.groups.delete_confirm"), I18n.t("no_value"), I18n.t("yes_value"), function (confirmed) {
          if (confirmed) {
            group.destroy().then(function () {
              _this.transitionToRoute("groups.index");
            }).catch(function (error) {
              // eslint-disable-next-line no-console
              console.error(error);
              bootbox.alert(I18n.t("admin.groups.delete_failed"));
            }).finally(function () {
              return _this.set("destroying", false);
            });
          } else {
            _this.set("destroying", false);
          }
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "tabs", [_dec], Object.getOwnPropertyDescriptor(_obj, "tabs"), _obj), _applyDecoratedDescriptor(_obj, "showMessages", [_dec2], Object.getOwnPropertyDescriptor(_obj, "showMessages"), _obj), _applyDecoratedDescriptor(_obj, "canEditGroup", [_dec3], Object.getOwnPropertyDescriptor(_obj, "canEditGroup"), _obj), _applyDecoratedDescriptor(_obj, "groupName", [_dec4], Object.getOwnPropertyDescriptor(_obj, "groupName"), _obj), _applyDecoratedDescriptor(_obj, "avatarFlairAttributes", [_dec5], Object.getOwnPropertyDescriptor(_obj, "avatarFlairAttributes"), _obj), _applyDecoratedDescriptor(_obj, "displayGroupMessageButton", [_dec6], Object.getOwnPropertyDescriptor(_obj, "displayGroupMessageButton"), _obj), _applyDecoratedDescriptor(_obj, "canManageGroup", [_dec7], Object.getOwnPropertyDescriptor(_obj, "canManageGroup"), _obj)), _obj)));
});
define("discourse/controllers/groups-index", ["exports", "@ember/controller", "discourse/lib/debounce", "discourse-common/utils/decorators"], function (exports, _controller, _debounce, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("model.extras.type_filters"), _dec2 = (0, _decorators.observes)("filterInput"), _dec3 = (0, _decorators.observes)("model.canLoadMore"), (_obj = {
    application: (0, _controller.inject)(),
    queryParams: ["order", "asc", "filter", "type"],
    order: null,
    asc: null,
    filter: "",
    type: null,

    types: function types(typeFilters) {
      var types = [];

      if (typeFilters) {
        typeFilters.forEach(function (type) {
          types.push({ id: type, name: I18n.t("groups.index." + type + "_groups") });
        });
      }

      return types;
    },

    _setFilter: (0, _debounce.default)(function () {
      this.set("filter", this.filterInput);
    }, 500),

    _showFooter: function _showFooter() {
      this.set("application.showFooter", !this.get("model.canLoadMore"));
    },


    actions: {
      loadMore: function loadMore() {
        this.model.loadMore();
      },
      new: function _new() {
        this.transitionToRoute("groups.new");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "types", [_dec], Object.getOwnPropertyDescriptor(_obj, "types"), _obj), _applyDecoratedDescriptor(_obj, "_setFilter", [_dec2], (_init = Object.getOwnPropertyDescriptor(_obj, "_setFilter"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "_showFooter", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _obj)), _obj)));
});
define("discourse/controllers/groups-new", ["exports", "@ember/controller", "discourse/lib/ajax-error"], function (exports, _controller, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    saving: null,

    actions: {
      save: function save() {
        var _this = this;

        this.set("saving", true);
        var group = this.model;

        group.create().then(function () {
          _this.transitionToRoute("group.members", group.name);
        }).catch(_ajaxError.popupAjaxError).finally(function () {
          return _this.set("saving", false);
        });
      }
    }
  });
});
define("discourse/controllers/history", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/helpers/category-link", "discourse/lib/computed", "discourse/lib/text", "discourse-common/lib/icon-library", "discourse/models/post", "discourse/models/category", "@ember/object"], function (exports, _decorators, _computed, _controller, _modalFunctionality, _categoryLink, _computed2, _text, _iconLibrary, _post, _category, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _desc, _value, _obj;

  function customTagArray(fieldName) {
    return (0, _object.computed)(fieldName, function () {
      var val = this.get(fieldName);
      if (!val) {
        return val;
      }
      if (!Array.isArray(val)) {
        val = [val];
      }
      return val;
    });
  }

  // This controller handles displaying of history
  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.default)("previousVersion", "model.current_version", "model.version_count"), _dec3 = (0, _decorators.default)("model.created_at"), _dec4 = (0, _decorators.default)("model.current_version"), _dec5 = (0, _decorators.default)("model.current_revision", "model.previous_revision"), _dec6 = (0, _decorators.default)("model.previous_hidden"), _dec7 = (0, _decorators.default)("model.previous_hidden"), _dec8 = (0, _decorators.default)("model.last_revision", "model.current_revision", "model.can_edit", "topicController"), _dec9 = (0, _decorators.default)("model.wiki"), _dec10 = (0, _decorators.default)(), _dec11 = (0, _decorators.default)("model.previous_hidden", "model.current_hidden", "displayingInline"), _dec12 = (0, _decorators.default)("displayingInline"), _dec13 = (0, _decorators.default)("displayingSideBySide"), _dec14 = (0, _decorators.default)("displayingSideBySideMarkdown"), _dec15 = (0, _decorators.default)("model.category_id_changes"), _dec16 = (0, _decorators.default)("model.category_id_changes"), _dec17 = (0, _decorators.default)("model.wiki_changes"), _dec18 = (0, _decorators.default)("model.post_type_changes"), _dec19 = (0, _decorators.default)("viewMode", "model.title_changes"), _dec20 = (0, _decorators.observes)("viewMode", "model.body_changes"), (_obj = {
    loading: true,
    viewMode: "side_by_side",

    _changeViewModeOnMobile: function _changeViewModeOnMobile() {
      if (this.site && this.site.mobileView) {
        this.set("viewMode", "inline");
      }
    },


    previousFeaturedLink: (0, _computed.alias)("model.featured_link_changes.previous"),
    currentFeaturedLink: (0, _computed.alias)("model.featured_link_changes.current"),

    previousTagChanges: customTagArray("model.tags_changes.previous"),
    currentTagChanges: customTagArray("model.tags_changes.current"),

    revisionsText: function revisionsText(previous, current, total) {
      return I18n.t("post.revisions.controls.comparing_previous_to_current_out_of_total", {
        previous: previous,
        icon: (0, _iconLibrary.iconHTML)("arrows-alt-h"),
        current: current,
        total: total
      });
    },
    refresh: function refresh(postId, postVersion) {
      var _this = this;

      this.set("loading", true);

      _post.default.loadRevision(postId, postVersion).then(function (result) {
        _this.setProperties({ loading: false, model: result });
      });
    },
    hide: function hide(postId, postVersion) {
      var _this2 = this;

      _post.default.hideRevision(postId, postVersion).then(function () {
        return _this2.refresh(postId, postVersion);
      });
    },
    show: function show(postId, postVersion) {
      var _this3 = this;

      _post.default.showRevision(postId, postVersion).then(function () {
        return _this3.refresh(postId, postVersion);
      });
    },
    revert: function revert(post, postVersion) {
      var _this4 = this;

      post.revertToRevision(postVersion).then(function (result) {
        _this4.refresh(post.get("id"), postVersion);
        if (result.topic) {
          post.set("topic.slug", result.topic.slug);
          post.set("topic.title", result.topic.title);
          post.set("topic.fancy_title", result.topic.fancy_title);
        }
        if (result.category_id) {
          post.set("topic.category", _category.default.findById(result.category_id));
        }
        _this4.send("closeModal");
      }).catch(function (e) {
        if (e.jqXHR.responseJSON && e.jqXHR.responseJSON.errors && e.jqXHR.responseJSON.errors[0]) {
          bootbox.alert(e.jqXHR.responseJSON.errors[0]);
        }
      });
    },
    createdAtDate: function createdAtDate(createdAt) {
      return moment(createdAt).format("LLLL");
    },
    previousVersion: function previousVersion(current) {
      return current - 1;
    },
    displayGoToPrevious: function displayGoToPrevious(current, prev) {
      return prev && current > prev;
    },


    displayRevisions: (0, _computed.gt)("model.version_count", 2),
    displayGoToFirst: (0, _computed2.propertyGreaterThan)("model.current_revision", "model.first_revision"),
    displayGoToNext: (0, _computed2.propertyLessThan)("model.current_revision", "model.next_revision"),
    displayGoToLast: (0, _computed2.propertyLessThan)("model.current_revision", "model.next_revision"),

    hideGoToFirst: (0, _computed.not)("displayGoToFirst"),
    hideGoToPrevious: (0, _computed.not)("displayGoToPrevious"),
    hideGoToNext: (0, _computed.not)("displayGoToNext"),
    hideGoToLast: (0, _computed.not)("displayGoToLast"),

    loadFirstDisabled: (0, _computed.or)("loading", "hideGoToFirst"),
    loadPreviousDisabled: (0, _computed.or)("loading", "hideGoToPrevious"),
    loadNextDisabled: (0, _computed.or)("loading", "hideGoToNext"),
    loadLastDisabled: (0, _computed.or)("loading", "hideGoToLast"),

    displayShow: function displayShow(prevHidden) {
      return prevHidden && this.currentUser && this.currentUser.get("staff");
    },
    displayHide: function displayHide(prevHidden) {
      return !prevHidden && this.currentUser && this.currentUser.get("staff");
    },
    displayEdit: function displayEdit(lastRevision, currentRevision, canEdit, topicController) {
      return !!(canEdit && topicController && lastRevision === currentRevision);
    },
    editButtonLabel: function editButtonLabel(wiki) {
      return "post.revisions.controls." + (wiki ? "edit_wiki" : "edit_post");
    },
    displayRevert: function displayRevert() {
      return this.currentUser && this.currentUser.get("staff");
    },


    isEitherRevisionHidden: (0, _computed.or)("model.previous_hidden", "model.current_hidden"),

    hiddenClasses: function hiddenClasses(prevHidden, currentHidden, displayingInline) {
      if (displayingInline) {
        return this.isEitherRevisionHidden ? "hidden-revision-either" : null;
      } else {
        var result = [];
        if (prevHidden) {
          result.push("hidden-revision-previous");
        }
        if (currentHidden) {
          result.push("hidden-revision-current");
        }
        return result.join(" ");
      }
    },


    displayingInline: (0, _computed.equal)("viewMode", "inline"),
    displayingSideBySide: (0, _computed.equal)("viewMode", "side_by_side"),
    displayingSideBySideMarkdown: (0, _computed.equal)("viewMode", "side_by_side_markdown"),

    inlineClass: function inlineClass(displayingInline) {
      return displayingInline ? "btn-danger" : "btn-flat";
    },
    sideBySideClass: function sideBySideClass(displayingSideBySide) {
      return displayingSideBySide ? "btn-danger" : "btn-flat";
    },
    sideBySideMarkdownClass: function sideBySideMarkdownClass(displayingSideBySideMarkdown) {
      return displayingSideBySideMarkdown ? "btn-danger" : "btn-flat";
    },
    previousCategory: function previousCategory(changes) {
      if (changes) {
        var category = _category.default.findById(changes["previous"]);
        return (0, _categoryLink.categoryBadgeHTML)(category, { allowUncategorized: true });
      }
    },
    currentCategory: function currentCategory(changes) {
      if (changes) {
        var category = _category.default.findById(changes["current"]);
        return (0, _categoryLink.categoryBadgeHTML)(category, { allowUncategorized: true });
      }
    },
    wikiDisabled: function wikiDisabled(changes) {
      return changes && !changes["current"];
    },
    postTypeDisabled: function postTypeDisabled(changes) {
      return changes && changes["current"] !== this.site.get("post_types.moderator_action");
    },
    titleDiff: function titleDiff(viewMode) {
      if (viewMode === "side_by_side_markdown") {
        viewMode = "side_by_side";
      }
      return this.get("model.title_changes." + viewMode);
    },
    bodyDiffChanged: function bodyDiffChanged() {
      var _this5 = this;

      var viewMode = this.viewMode;
      var html = this.get("model.body_changes." + viewMode);
      if (viewMode === "side_by_side_markdown") {
        this.set("bodyDiff", html);
      } else {
        var opts = {
          features: { editHistory: true },
          whiteListed: {
            editHistory: { custom: function custom(tag, attr) {
                return attr === "class";
              } }
          }
        };

        return (0, _text.sanitizeAsync)(html, opts).then(function (result) {
          return _this5.set("bodyDiff", result);
        });
      }
    },


    actions: {
      loadFirstVersion: function loadFirstVersion() {
        this.refresh(this.get("model.post_id"), this.get("model.first_revision"));
      },
      loadPreviousVersion: function loadPreviousVersion() {
        this.refresh(this.get("model.post_id"), this.get("model.previous_revision"));
      },
      loadNextVersion: function loadNextVersion() {
        this.refresh(this.get("model.post_id"), this.get("model.next_revision"));
      },
      loadLastVersion: function loadLastVersion() {
        this.refresh(this.get("model.post_id"), this.get("model.last_revision"));
      },
      hideVersion: function hideVersion() {
        this.hide(this.get("model.post_id"), this.get("model.current_revision"));
      },
      showVersion: function showVersion() {
        this.show(this.get("model.post_id"), this.get("model.current_revision"));
      },
      editPost: function editPost() {
        this.topicController.send("editPost", this.post);
        this.send("closeModal");
      },
      revertToVersion: function revertToVersion() {
        this.revert(this.post, this.get("model.current_revision"));
      },
      displayInline: function displayInline() {
        this.set("viewMode", "inline");
      },
      displaySideBySide: function displaySideBySide() {
        this.set("viewMode", "side_by_side");
      },
      displaySideBySideMarkdown: function displaySideBySideMarkdown() {
        this.set("viewMode", "side_by_side_markdown");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_changeViewModeOnMobile", [_dec], Object.getOwnPropertyDescriptor(_obj, "_changeViewModeOnMobile"), _obj), _applyDecoratedDescriptor(_obj, "revisionsText", [_dec2], Object.getOwnPropertyDescriptor(_obj, "revisionsText"), _obj), _applyDecoratedDescriptor(_obj, "createdAtDate", [_dec3], Object.getOwnPropertyDescriptor(_obj, "createdAtDate"), _obj), _applyDecoratedDescriptor(_obj, "previousVersion", [_dec4], Object.getOwnPropertyDescriptor(_obj, "previousVersion"), _obj), _applyDecoratedDescriptor(_obj, "displayGoToPrevious", [_dec5], Object.getOwnPropertyDescriptor(_obj, "displayGoToPrevious"), _obj), _applyDecoratedDescriptor(_obj, "displayShow", [_dec6], Object.getOwnPropertyDescriptor(_obj, "displayShow"), _obj), _applyDecoratedDescriptor(_obj, "displayHide", [_dec7], Object.getOwnPropertyDescriptor(_obj, "displayHide"), _obj), _applyDecoratedDescriptor(_obj, "displayEdit", [_dec8], Object.getOwnPropertyDescriptor(_obj, "displayEdit"), _obj), _applyDecoratedDescriptor(_obj, "editButtonLabel", [_dec9], Object.getOwnPropertyDescriptor(_obj, "editButtonLabel"), _obj), _applyDecoratedDescriptor(_obj, "displayRevert", [_dec10], Object.getOwnPropertyDescriptor(_obj, "displayRevert"), _obj), _applyDecoratedDescriptor(_obj, "hiddenClasses", [_dec11], Object.getOwnPropertyDescriptor(_obj, "hiddenClasses"), _obj), _applyDecoratedDescriptor(_obj, "inlineClass", [_dec12], Object.getOwnPropertyDescriptor(_obj, "inlineClass"), _obj), _applyDecoratedDescriptor(_obj, "sideBySideClass", [_dec13], Object.getOwnPropertyDescriptor(_obj, "sideBySideClass"), _obj), _applyDecoratedDescriptor(_obj, "sideBySideMarkdownClass", [_dec14], Object.getOwnPropertyDescriptor(_obj, "sideBySideMarkdownClass"), _obj), _applyDecoratedDescriptor(_obj, "previousCategory", [_dec15], Object.getOwnPropertyDescriptor(_obj, "previousCategory"), _obj), _applyDecoratedDescriptor(_obj, "currentCategory", [_dec16], Object.getOwnPropertyDescriptor(_obj, "currentCategory"), _obj), _applyDecoratedDescriptor(_obj, "wikiDisabled", [_dec17], Object.getOwnPropertyDescriptor(_obj, "wikiDisabled"), _obj), _applyDecoratedDescriptor(_obj, "postTypeDisabled", [_dec18], Object.getOwnPropertyDescriptor(_obj, "postTypeDisabled"), _obj), _applyDecoratedDescriptor(_obj, "titleDiff", [_dec19], Object.getOwnPropertyDescriptor(_obj, "titleDiff"), _obj), _applyDecoratedDescriptor(_obj, "bodyDiffChanged", [_dec20], Object.getOwnPropertyDescriptor(_obj, "bodyDiffChanged"), _obj)), _obj)));
});
define("discourse/controllers/ignore-duration-with-username", ["exports", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/ajax-error", "discourse/models/user"], function (exports, _controller, _modalFunctionality, _ajaxError, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    loading: false,
    ignoredUntil: null,
    ignoredUsername: null,
    actions: {
      ignore: function ignore() {
        var _this = this;

        if (!this.ignoredUntil || !this.ignoredUsername) {
          this.flash(I18n.t("user.user_notifications.ignore_duration_time_frame_required"), "alert-error");
          return;
        }
        this.set("loading", true);
        _user.default.findByUsername(this.ignoredUsername).then(function (user) {
          user.updateNotificationLevel("ignore", _this.ignoredUntil).then(function () {
            _this.onUserIgnored(_this.ignoredUsername);
            _this.send("closeModal");
          }).catch(_ajaxError.popupAjaxError).finally(function () {
            return _this.set("loading", false);
          });
        });
      }
    }
  });
});
define("discourse/controllers/ignore-duration", ["exports", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/ajax-error"], function (exports, _controller, _modalFunctionality, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    loading: false,
    ignoredUntil: null,
    actions: {
      ignore: function ignore() {
        var _this = this;

        if (!this.ignoredUntil) {
          this.flash(I18n.t("user.user_notifications.ignore_duration_time_frame_required"), "alert-error");
          return;
        }
        this.set("loading", true);
        this.model.updateNotificationLevel("ignore", this.ignoredUntil).then(function () {
          _this.set("model.ignored", true);
          _this.set("model.muted", false);
          if (_this.onSuccess) {
            _this.onSuccess();
          }
          _this.send("closeModal");
        }).catch(_ajaxError.popupAjaxError).finally(function () {
          return _this.set("loading", false);
        });
      }
    }
  });
});
define("discourse/controllers/insert-hyperlink", ["exports", "@ember/utils", "@ember/runloop", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/search"], function (exports, _utils, _runloop, _controller, _modalFunctionality, _search) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    _debounced: null,
    _activeSearch: null,

    onShow: function onShow() {
      var _this = this;

      this.setProperties({
        linkUrl: "",
        linkText: "",
        searchResults: [],
        searchLoading: false,
        selectedRow: -1
      });

      (0, _runloop.scheduleOnce)("afterRender", function () {
        var element = document.querySelector(".insert-link");

        element.addEventListener("keydown", function (e) {
          return _this.keyDown(e);
        });

        element.closest(".modal-inner-container").addEventListener("mousedown", function (e) {
          return _this.mouseDown(e);
        });

        document.querySelector("input.link-url").focus();
      });
    },
    keyDown: function keyDown(e) {
      switch (e.which) {
        case 40:
          this.highlightRow(e, "down");
          break;
        case 38:
          this.highlightRow(e, "up");
          break;
        case 13:
          // override Enter behaviour when a row is selected
          if (this.selectedRow > -1) {
            var selected = document.querySelectorAll(".internal-link-results .search-link")[this.selectedRow];
            this.selectLink(selected);
            e.preventDefault();
            e.stopPropagation();
          }
          break;
        case 27:
          // Esc should cancel dropdown first
          if (this.searchResults.length) {
            this.set("searchResults", []);
            e.preventDefault();
            e.stopPropagation();
          }
          break;
      }
    },
    mouseDown: function mouseDown(e) {
      if (!e.target.closest(".inputs")) {
        this.set("searchResults", []);
      }
    },
    highlightRow: function highlightRow(e, direction) {
      var index = direction === "down" ? this.selectedRow + 1 : this.selectedRow - 1;

      if (index > -1 && index < this.searchResults.length) {
        document.querySelectorAll(".internal-link-results .search-link")[index].focus();
        this.set("selectedRow", index);
      } else {
        this.set("selectedRow", -1);
        document.querySelector("input.link-url").focus();
      }

      e.preventDefault();
    },
    selectLink: function selectLink(el) {
      this.setProperties({
        linkUrl: el.href,
        searchResults: [],
        selectedRow: -1
      });

      if (!this.linkText && el.dataset.title) {
        this.set("linkText", el.dataset.title);
      }

      document.querySelector("input.link-text").focus();
    },
    triggerSearch: function triggerSearch() {
      var _this2 = this;

      if (this.linkUrl.length > 3 && this.linkUrl.indexOf("http") === -1) {
        this.set("searchLoading", true);
        this._activeSearch = (0, _search.searchForTerm)(this.linkUrl, {
          typeFilter: "topic"
        });
        this._activeSearch.then(function (results) {
          if (results && results.topics && results.topics.length > 0) {
            _this2.set("searchResults", results.topics);
          } else {
            _this2.set("searchResults", []);
          }
        }).finally(function () {
          _this2.set("searchLoading", false);
          _this2._activeSearch = null;
        });
      } else {
        this.abortSearch();
      }
    },
    abortSearch: function abortSearch() {
      if (this._activeSearch) {
        this._activeSearch.abort();
      }
      this.setProperties({
        searchResults: [],
        searchLoading: false
      });
    },
    onClose: function onClose() {
      var element = document.querySelector(".insert-link");
      element.removeEventListener("keydown", this.keyDown);
      element.closest(".modal-inner-container").removeEventListener("mousedown", this.mouseDown);

      (0, _runloop.cancel)(this._debounced);
    },


    actions: {
      ok: function ok() {
        var origLink = this.linkUrl;
        var linkUrl = origLink.indexOf("://") === -1 ? "http://" + origLink : origLink;
        var sel = this.toolbarEvent.selected;

        if ((0, _utils.isEmpty)(linkUrl)) {
          return;
        }

        var linkText = this.linkText || "";

        if (linkText.length) {
          this.toolbarEvent.addText("[" + linkText + "](" + linkUrl + ")");
        } else {
          if (sel.value) {
            this.toolbarEvent.addText("[" + sel.value + "](" + linkUrl + ")");
          } else {
            this.toolbarEvent.addText("[" + origLink + "](" + linkUrl + ")");
            this.toolbarEvent.selectText(sel.start + 1, origLink.length);
          }
        }
        this.send("closeModal");
      },
      cancel: function cancel() {
        this.send("closeModal");
      },
      linkClick: function linkClick(e) {
        if (!e.metaKey && !e.ctrlKey) {
          e.preventDefault();
          e.stopPropagation();
          this.selectLink(e.target.closest(".search-link"));
        }
      },
      search: function search() {
        this._debounced = (0, _runloop.debounce)(this, this.triggerSearch, 400);
      }
    }
  });
});
define("discourse/controllers/invites-show", ["exports", "@ember/utils", "@ember/object/computed", "@ember/controller", "discourse-common/utils/decorators", "discourse-common/lib/get-url", "discourse/lib/url", "discourse/lib/ajax", "discourse/mixins/password-validation", "discourse/mixins/username-validation", "discourse/mixins/name-validation", "discourse/mixins/user-fields-validation", "discourse/models/login-method"], function (exports, _utils, _computed, _controller, _decorators, _getUrl, _url, _ajax, _passwordValidation, _usernameValidation, _nameValidation, _userFieldsValidation, _loginMethod) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _controller.default.extend(_passwordValidation.default, _usernameValidation.default, _nameValidation.default, _userFieldsValidation.default, (_dec = (0, _decorators.default)("email"), _dec2 = (0, _decorators.default)("usernameValidation.failed", "passwordValidation.failed", "nameValidation.failed", "userFieldsValidation.failed"), (_obj = {
    invitedBy: (0, _computed.alias)("model.invited_by"),
    email: (0, _computed.alias)("model.email"),
    accountUsername: (0, _computed.alias)("model.username"),
    passwordRequired: (0, _computed.notEmpty)("accountPassword"),
    successMessage: null,
    errorMessage: null,
    userFields: null,
    inviteImageUrl: (0, _getUrl.default)("/images/envelope.svg"),

    welcomeTitle: function welcomeTitle() {
      return I18n.t("invites.welcome_to", {
        site_name: this.siteSettings.title
      });
    },
    yourEmailMessage: function yourEmailMessage(email) {
      return I18n.t("invites.your_email", { email: email });
    },
    externalAuthsEnabled: function externalAuthsEnabled() {
      return (0, _loginMethod.findAll)().length > 0;
    },
    submitDisabled: function submitDisabled(usernameFailed, passwordFailed, nameFailed, userFieldsFailed) {
      return usernameFailed || passwordFailed || nameFailed || userFieldsFailed;
    },
    fullnameRequired: function fullnameRequired() {
      return this.siteSettings.full_name_required || this.siteSettings.enable_names;
    },


    actions: {
      submit: function submit() {
        var _this = this;

        var userFields = this.userFields;
        var userCustomFields = {};
        if (!(0, _utils.isEmpty)(userFields)) {
          userFields.forEach(function (f) {
            userCustomFields[f.get("field.id")] = f.get("value");
          });
        }

        (0, _ajax.ajax)({
          url: "/invites/show/" + this.get("model.token") + ".json",
          type: "PUT",
          data: {
            username: this.accountUsername,
            name: this.accountName,
            password: this.accountPassword,
            user_custom_fields: userCustomFields,
            timezone: moment.tz.guess()
          }
        }).then(function (result) {
          if (result.success) {
            _this.set("successMessage", result.message || I18n.t("invites.success"));
            if (result.redirect_to) {
              _url.default.redirectTo(result.redirect_to);
            }
          } else {
            if (result.errors && result.errors.password && result.errors.password.length > 0) {
              _this.rejectedPasswords.pushObject(_this.accountPassword);
              _this.rejectedPasswordsMessages.set(_this.accountPassword, result.errors.password[0]);
            }
            if (result.message) {
              _this.set("errorMessage", result.message);
            }
          }
        }).catch(function (error) {
          throw new Error(error);
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "welcomeTitle", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "welcomeTitle"), _obj), _applyDecoratedDescriptor(_obj, "yourEmailMessage", [_dec], Object.getOwnPropertyDescriptor(_obj, "yourEmailMessage"), _obj), _applyDecoratedDescriptor(_obj, "externalAuthsEnabled", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "externalAuthsEnabled"), _obj), _applyDecoratedDescriptor(_obj, "submitDisabled", [_dec2], Object.getOwnPropertyDescriptor(_obj, "submitDisabled"), _obj), _applyDecoratedDescriptor(_obj, "fullnameRequired", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "fullnameRequired"), _obj)), _obj)));
});
define("discourse/controllers/jump-to-post", ["exports", "@ember/object/computed", "@ember/runloop", "@ember/controller", "discourse/mixins/modal-functionality"], function (exports, _computed, _runloop, _controller, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    model: null,
    postNumber: null,
    postDate: null,
    filteredPostsCount: (0, _computed.alias)("topic.postStream.filteredPostsCount"),

    onShow: function onShow() {
      (0, _runloop.next)(function () {
        return $("#post-jump").focus();
      });
    },


    actions: {
      jump: function jump() {
        if (this.postNumber) {
          this._jumpToIndex(this.filteredPostsCount, this.postNumber);
        } else if (this.postDate) {
          this._jumpToDate(this.postDate);
        }
      }
    },

    _jumpToIndex: function _jumpToIndex(postsCounts, postNumber) {
      var where = Math.min(postsCounts, Math.max(1, parseInt(postNumber, 10)));
      this.jumpToIndex(where);
      this._close();
    },
    _jumpToDate: function _jumpToDate(date) {
      this.jumpToDate(date);
      this._close();
    },
    _close: function _close() {
      this.setProperties({ postNumber: null, postDate: null });
      this.send("closeModal");
    }
  });
});
define("discourse/controllers/keyboard-shortcuts-help", ["exports", "@ember/controller", "discourse/mixins/modal-functionality"], function (exports, _controller, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var KEY = "keyboard_shortcuts_help";

  var SHIFT = I18n.t("shortcut_modifier_key.shift");
  var ALT = I18n.t("shortcut_modifier_key.alt");
  var CTRL = I18n.t("shortcut_modifier_key.ctrl");
  var ENTER = I18n.t("shortcut_modifier_key.enter");

  var COMMA = I18n.t(KEY + ".shortcut_key_delimiter_comma");
  var PLUS = I18n.t(KEY + ".shortcut_key_delimiter_plus");

  function buildHTML(keys1, keys2, keysDelimiter, shortcutsDelimiter) {
    var allKeys = [keys1, keys2].reject(function (keys) {
      return keys.length === 0;
    }).map(function (keys) {
      return keys.map(function (k) {
        return "<kbd>" + k + "</kbd>";
      }).join(keysDelimiter);
    });

    if (allKeys.length === 1) {
      return wrapInSpan(allKeys[0]);
    }

    var context = { shortcut1: allKeys[0], shortcut2: allKeys[1] };
    var result = "";
    if (shortcutsDelimiter === "or") {
      result = I18n.t(KEY + ".shortcut_delimiter_or", context);
    } else if (shortcutsDelimiter === "slash") {
      result = I18n.t(KEY + ".shortcut_delimiter_slash", context);
    } else if (shortcutsDelimiter === "space") {
      result = I18n.t(KEY + ".shortcut_delimiter_space", context);
    }

    return wrapInSpan(result);
  }

  function wrapInSpan(shortcut) {
    return "<span dir=\"ltr\">" + shortcut + "</span>";
  }

  function buildShortcut(key, _ref) {
    var _ref$keys = _ref.keys1,
        keys1 = _ref$keys === undefined ? [] : _ref$keys,
        _ref$keys2 = _ref.keys2,
        keys2 = _ref$keys2 === undefined ? [] : _ref$keys2,
        _ref$keysDelimiter = _ref.keysDelimiter,
        keysDelimiter = _ref$keysDelimiter === undefined ? COMMA : _ref$keysDelimiter,
        _ref$shortcutsDelimit = _ref.shortcutsDelimiter,
        shortcutsDelimiter = _ref$shortcutsDelimit === undefined ? "or" : _ref$shortcutsDelimit;

    var context = {
      shortcut: buildHTML(keys1, keys2, keysDelimiter, shortcutsDelimiter)
    };
    return I18n.t(KEY + "." + key, context);
  }

  exports.default = _controller.default.extend(_modalFunctionality.default, {
    onShow: function onShow() {
      this.set("modal.modalClass", "keyboard-shortcuts-modal");
    },

    shortcuts: {
      jump_to: {
        home: buildShortcut("jump_to.home", { keys1: ["g", "h"] }),
        latest: buildShortcut("jump_to.latest", { keys1: ["g", "l"] }),
        new: buildShortcut("jump_to.new", { keys1: ["g", "n"] }),
        unread: buildShortcut("jump_to.unread", { keys1: ["g", "u"] }),
        categories: buildShortcut("jump_to.categories", { keys1: ["g", "c"] }),
        top: buildShortcut("jump_to.top", { keys1: ["g", "t"] }),
        bookmarks: buildShortcut("jump_to.bookmarks", { keys1: ["g", "b"] }),
        profile: buildShortcut("jump_to.profile", { keys1: ["g", "p"] }),
        messages: buildShortcut("jump_to.messages", { keys1: ["g", "m"] }),
        drafts: buildShortcut("jump_to.drafts", { keys1: ["g", "d"] })
      },
      navigation: {
        back: buildShortcut("navigation.back", { keys1: ["u"] }),
        jump: buildShortcut("navigation.jump", { keys1: ["#"] }),
        up_down: buildShortcut("navigation.up_down", {
          keys1: ["k"],
          keys2: ["j"],
          shortcutsDelimiter: "slash"
        }),
        open: buildShortcut("navigation.open", { keys1: ["o"], keys2: [ENTER] }),
        next_prev: buildShortcut("navigation.next_prev", {
          keys1: [SHIFT, "j"],
          keys2: [SHIFT, "k"],
          keysDelimiter: PLUS,
          shortcutsDelimiter: "slash"
        }),
        go_to_unread_post: buildShortcut("navigation.go_to_unread_post", {
          keys1: [SHIFT, "l"],
          keysDelimiter: PLUS
        })
      },
      application: {
        hamburger_menu: buildShortcut("application.hamburger_menu", {
          keys1: ["="]
        }),
        user_profile_menu: buildShortcut("application.user_profile_menu", {
          keys1: ["p"]
        }),
        create: buildShortcut("application.create", { keys1: ["c"] }),
        show_incoming_updated_topics: buildShortcut("application.show_incoming_updated_topics", { keys1: ["."] }),
        search: buildShortcut("application.search", {
          keys1: ["/"],
          keys2: [CTRL, ALT, "f"],
          keysDelimiter: PLUS
        }),
        help: buildShortcut("application.help", { keys1: ["?"] }),
        dismiss_new_posts: buildShortcut("application.dismiss_new_posts", {
          keys1: ["x", "r"]
        }),
        dismiss_topics: buildShortcut("application.dismiss_topics", {
          keys1: ["x", "t"]
        }),
        log_out: buildShortcut("application.log_out", {
          keys1: [SHIFT, "z"],
          keys2: [SHIFT, "z"],
          keysDelimiter: PLUS,
          shortcutsDelimiter: "space"
        })
      },
      composing: {
        return: buildShortcut("composing.return", {
          keys1: [SHIFT, "c"],
          keysDelimiter: PLUS
        }),
        fullscreen: buildShortcut("composing.fullscreen", {
          keys1: [SHIFT, "F11"],
          keysDelimiter: PLUS
        })
      },
      actions: {
        bookmark_topic: buildShortcut("actions.bookmark_topic", { keys1: ["f"] }),
        reply_as_new_topic: buildShortcut("actions.reply_as_new_topic", {
          keys1: ["t"]
        }),
        reply_topic: buildShortcut("actions.reply_topic", {
          keys1: [SHIFT, "r"],
          keysDelimiter: PLUS
        }),
        reply_post: buildShortcut("actions.reply_post", { keys1: ["r"] }),
        quote_post: buildShortcut("actions.quote_post", { keys1: ["q"] }),
        pin_unpin_topic: buildShortcut("actions.pin_unpin_topic", {
          keys1: [SHIFT, "p"],
          keysDelimiter: PLUS
        }),
        share_topic: buildShortcut("actions.share_topic", {
          keys1: [SHIFT, "s"],
          keysDelimiter: PLUS
        }),
        share_post: buildShortcut("actions.share_post", { keys1: ["s"] }),
        like: buildShortcut("actions.like", { keys1: ["l"] }),
        flag: buildShortcut("actions.flag", { keys1: ["!"] }),
        bookmark: buildShortcut("actions.bookmark", { keys1: ["b"] }),
        edit: buildShortcut("actions.edit", { keys1: ["e"] }),
        delete: buildShortcut("actions.delete", { keys1: ["d"] }),
        mark_muted: buildShortcut("actions.mark_muted", { keys1: ["m", "m"] }),
        mark_regular: buildShortcut("actions.mark_regular", {
          keys1: ["m", "r"]
        }),
        mark_tracking: buildShortcut("actions.mark_tracking", {
          keys1: ["m", "t"]
        }),
        mark_watching: buildShortcut("actions.mark_watching", {
          keys1: ["m", "w"]
        }),
        print: buildShortcut("actions.print", {
          keys1: [CTRL, "p"],
          keysDelimiter: PLUS
        }),
        defer: buildShortcut("actions.defer", {
          keys1: [SHIFT, "u"],
          keysDelimiter: PLUS
        }),
        topic_admin_actions: buildShortcut("actions.topic_admin_actions", {
          keys1: [SHIFT, "a"],
          keysDelimiter: PLUS
        })
      }
    }
  });
});
define("discourse/controllers/login", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/object/computed", "@ember/object", "@ember/runloop", "@ember/controller", "discourse/lib/ajax", "discourse/mixins/modal-functionality", "discourse/lib/show-modal", "discourse/lib/computed", "discourse/models/login-method", "pretty-text/sanitizer", "discourse/lib/utilities", "discourse/lib/ajax-error", "discourse/models/user", "discourse/lib/webauthn"], function (exports, _decorators, _utils, _computed, _object, _runloop, _controller, _ajax, _modalFunctionality, _showModal, _computed2, _loginMethod, _sanitizer, _utilities, _ajaxError, _user, _webauthn) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _desc, _value, _obj;

  // This is happening outside of the app via popup
  var AuthErrors = ["requires_invite", "awaiting_approval", "awaiting_activation", "admin_not_allowed_from_ip_address", "not_allowed_from_ip_address"];

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("showSecondFactor", "showSecurityKey"), _dec2 = (0, _decorators.default)("showSecondFactor", "showSecurityKey"), _dec3 = (0, _decorators.default)("awaitingApproval", "hasAtLeastOneLoginButton"), _dec4 = (0, _decorators.default)("showSecondFactor", "showSecurityKey"), _dec5 = (0, _decorators.default)("canLoginLocalWithEmail"), _dec6 = (0, _decorators.default)("loggingIn"), _dec7 = (0, _decorators.default)("loggingIn", "application.canSignUp"), _dec8 = (0, _decorators.default)("canLoginLocalWithEmail", "processingEmailLink"), (_obj = {
    createAccount: (0, _controller.inject)(),
    forgotPassword: (0, _controller.inject)(),
    application: (0, _controller.inject)(),

    loggingIn: false,
    loggedIn: false,
    processingEmailLink: false,
    showLoginButtons: true,
    showSecondFactor: false,
    awaitingApproval: false,

    canLoginLocal: (0, _computed2.setting)("enable_local_logins"),
    canLoginLocalWithEmail: (0, _computed2.setting)("enable_local_logins_via_email"),
    loginRequired: (0, _computed.alias)("application.loginRequired"),
    secondFactorMethod: _user.SECOND_FACTOR_METHODS.TOTP,

    resetForm: function resetForm() {
      this.setProperties({
        loggingIn: false,
        loggedIn: false,
        secondFactorRequired: false,
        showSecondFactor: false,
        showSecurityKey: false,
        showLoginButtons: true,
        awaitingApproval: false
      });
    },
    credentialsClass: function credentialsClass(showSecondFactor, showSecurityKey) {
      return showSecondFactor || showSecurityKey ? "hidden" : "";
    },
    secondFactorClass: function secondFactorClass(showSecondFactor, showSecurityKey) {
      return showSecondFactor || showSecurityKey ? "" : "hidden";
    },
    modalBodyClasses: function modalBodyClasses(awaitingApproval, hasAtLeastOneLoginButton) {
      var classes = ["login-modal"];
      if (awaitingApproval) classes.push("awaiting-approval");
      if (hasAtLeastOneLoginButton) classes.push("has-alt-auth");
      return classes.join(" ");
    },
    disableLoginFields: function disableLoginFields(showSecondFactor, showSecurityKey) {
      return showSecondFactor || showSecurityKey;
    },
    hasAtLeastOneLoginButton: function hasAtLeastOneLoginButton(canLoginLocalWithEmail) {
      return (0, _loginMethod.findAll)().length > 0 || canLoginLocalWithEmail;
    },
    loginButtonLabel: function loginButtonLabel(loggingIn) {
      return loggingIn ? "login.logging_in" : "login.title";
    },


    loginDisabled: (0, _computed.or)("loggingIn", "loggedIn"),

    showSignupLink: function showSignupLink(loggingIn, canSignUp) {
      return canSignUp && !loggingIn;
    },


    showSpinner: (0, _computed.readOnly)("loggingIn"),

    showLoginWithEmailLink: function showLoginWithEmailLink(canLoginLocalWithEmail, processingEmailLink) {
      return canLoginLocalWithEmail && !processingEmailLink;
    },


    actions: {
      login: function login() {
        var _this = this;

        if (this.loginDisabled) {
          return;
        }

        if ((0, _utils.isEmpty)(this.loginName) || (0, _utils.isEmpty)(this.loginPassword)) {
          this.flash(I18n.t("login.blank_username_or_password"), "error");
          return;
        }

        this.set("loggingIn", true);

        (0, _ajax.ajax)("/session", {
          type: "POST",
          data: {
            login: this.loginName,
            password: this.loginPassword,
            second_factor_token: this.securityKeyCredential || this.secondFactorToken,
            second_factor_method: this.secondFactorMethod,
            timezone: moment.tz.guess()
          }
        }).then(function (result) {
          // Successful login
          if (result && result.error) {
            _this.set("loggingIn", false);

            if ((result.security_key_enabled || result.totp_enabled) && !_this.secondFactorRequired) {
              document.getElementById("modal-alert").style.display = "none";

              _this.setProperties({
                otherMethodAllowed: result.multiple_second_factor_methods,
                secondFactorRequired: true,
                showLoginButtons: false,
                backupEnabled: result.backup_enabled,
                showSecondFactor: result.totp_enabled,
                showSecurityKey: result.security_key_enabled,
                secondFactorMethod: result.security_key_enabled ? _user.SECOND_FACTOR_METHODS.SECURITY_KEY : _user.SECOND_FACTOR_METHODS.TOTP,
                securityKeyChallenge: result.challenge,
                securityKeyAllowedCredentialIds: result.allowed_credential_ids
              });

              // only need to focus the 2FA input for TOTP
              if (!_this.showSecurityKey) {
                (0, _runloop.scheduleOnce)("afterRender", function () {
                  return document.getElementById("second-factor").querySelector("input").focus();
                });
              }

              return;
            } else if (result.reason === "not_activated") {
              _this.send("showNotActivated", {
                username: _this.loginName,
                sentTo: (0, _sanitizer.escape)(result.sent_to_email),
                currentEmail: (0, _sanitizer.escape)(result.current_email)
              });
            } else if (result.reason === "suspended") {
              _this.send("closeModal");
              bootbox.alert(result.error);
            } else {
              _this.flash(result.error, "error");
            }
          } else {
            _this.set("loggedIn", true);
            // Trigger the browser's password manager using the hidden static login form:
            var hiddenLoginForm = document.getElementById("hidden-login-form");
            var applyHiddenFormInputValue = function applyHiddenFormInputValue(value, key) {
              if (!hiddenLoginForm) return;

              hiddenLoginForm.querySelector("input[name=" + key + "]").value = value;
            };

            var destinationUrl = $.cookie("destination_url");
            var ssoDestinationUrl = $.cookie("sso_destination_url");

            applyHiddenFormInputValue(_this.loginName, "username");
            applyHiddenFormInputValue(_this.loginPassword, "password");

            if (ssoDestinationUrl) {
              $.removeCookie("sso_destination_url");
              window.location.assign(ssoDestinationUrl);
              return;
            } else if (destinationUrl) {
              // redirect client to the original URL
              $.removeCookie("destination_url");

              applyHiddenFormInputValue(destinationUrl, "redirect");
            } else {
              applyHiddenFormInputValue(window.location.href, "redirect");
            }

            if (hiddenLoginForm) {
              if (navigator.userAgent.match(/(iPad|iPhone|iPod)/g) && navigator.userAgent.match(/Safari/g)) {
                // In case of Safari on iOS do not submit hidden login form
                window.location.href = hiddenLoginForm.querySelector("input[name=redirect]").value;
              } else {
                hiddenLoginForm.submit();
              }
            }
            return;
          }
        }, function (e) {
          // Failed to login
          if (e.jqXHR && e.jqXHR.status === 429) {
            _this.flash(I18n.t("login.rate_limit"), "error");
          } else if (!(0, _utilities.areCookiesEnabled)()) {
            _this.flash(I18n.t("login.cookies_error"), "error");
          } else {
            _this.flash(I18n.t("login.error"), "error");
          }
          _this.set("loggingIn", false);
        });

        return false;
      },
      externalLogin: function externalLogin(loginMethod) {
        var _this2 = this;

        if (this.loginDisabled) {
          return;
        }

        this.set("loggingIn", true);
        loginMethod.doLogin().catch(function () {
          return _this2.set("loggingIn", false);
        });
      },
      createAccount: function createAccount() {
        var createAccountController = this.createAccount;
        if (createAccountController) {
          createAccountController.resetForm();
          var loginName = this.loginName;
          if (loginName && loginName.indexOf("@") > 0) {
            createAccountController.set("accountEmail", loginName);
          } else {
            createAccountController.set("accountUsername", loginName);
          }
        }
        this.send("showCreateAccount");
      },
      forgotPassword: function forgotPassword() {
        var forgotPasswordController = this.forgotPassword;
        if (forgotPasswordController) {
          forgotPasswordController.set("accountEmailOrUsername", this.loginName);
        }
        this.send("showForgotPassword");
      },
      emailLogin: function emailLogin() {
        var _this3 = this;

        if (this.processingEmailLink) {
          return;
        }

        if ((0, _utils.isEmpty)(this.loginName)) {
          this.flash(I18n.t("login.blank_username"), "error");
          return;
        }

        this.set("processingEmailLink", true);

        (0, _ajax.ajax)("/u/email-login", {
          data: { login: this.loginName.trim() },
          type: "POST"
        }).then(function (data) {
          var loginName = (0, _utilities.escapeExpression)(_this3.loginName);
          var isEmail = loginName.match(/@/);
          var key = "email_login.complete_" + (isEmail ? "email" : "username");
          if (data.user_found === false) {
            _this3.flash(I18n.t(key + "_not_found", {
              email: loginName,
              username: loginName
            }), "error");
          } else {
            _this3.flash(I18n.t(key + "_found", { email: loginName, username: loginName }));
          }
        }).catch(function (e) {
          return _this3.flash((0, _ajaxError.extractError)(e), "error");
        }).finally(function () {
          return _this3.set("processingEmailLink", false);
        });
      },
      authenticateSecurityKey: function authenticateSecurityKey() {
        var _this4 = this;

        (0, _webauthn.getWebauthnCredential)(this.securityKeyChallenge, this.securityKeyAllowedCredentialIds, function (credentialData) {
          _this4.set("securityKeyCredential", credentialData);
          _this4.send("login");
        }, function (errorMessage) {
          _this4.flash(errorMessage, "error");
        });
      }
    },

    authenticationComplete: function authenticationComplete(options) {
      var _this5 = this;

      var loginError = function loginError(errorMsg, className, callback) {
        (0, _showModal.default)("login");

        (0, _runloop.next)(function () {
          if (callback) callback();
          _this5.flash(errorMsg, className || "success");
        });
      };

      if (options.awaiting_approval && !this.canLoginLocal && !this.canLoginLocalWithEmail) {
        this.set("awaitingApproval", true);
      }

      if (options.omniauth_disallow_totp) {
        return loginError(I18n.t("login.omniauth_disallow_totp"), "error", function () {
          _this5.setProperties({
            loginName: options.email,
            showLoginButtons: false
          });

          document.getElementById("login-account-password").focus();
        });
      }

      for (var i = 0; i < AuthErrors.length; i++) {
        var cond = AuthErrors[i];
        if (options[cond]) {
          return loginError(I18n.t("login." + cond));
        }
      }

      if (options.suspended) {
        return loginError(options.suspended_message, "error");
      }

      // Reload the page if we're authenticated
      if (options.authenticated) {
        var destinationUrl = $.cookie("destination_url") || options.destination_url;
        if (destinationUrl) {
          // redirect client to the original URL
          $.removeCookie("destination_url");
          window.location.href = destinationUrl;
        } else if (window.location.pathname === Discourse.getURL("/login")) {
          window.location = Discourse.getURL("/");
        } else {
          window.location.reload();
        }
        return;
      }

      var createAccountController = this.createAccount;
      createAccountController.setProperties({
        accountEmail: options.email,
        accountUsername: options.username,
        accountName: options.name,
        authOptions: _object.default.create(options)
      });

      (0, _showModal.default)("createAccount");
    }
  }, (_applyDecoratedDescriptor(_obj, "credentialsClass", [_dec], Object.getOwnPropertyDescriptor(_obj, "credentialsClass"), _obj), _applyDecoratedDescriptor(_obj, "secondFactorClass", [_dec2], Object.getOwnPropertyDescriptor(_obj, "secondFactorClass"), _obj), _applyDecoratedDescriptor(_obj, "modalBodyClasses", [_dec3], Object.getOwnPropertyDescriptor(_obj, "modalBodyClasses"), _obj), _applyDecoratedDescriptor(_obj, "disableLoginFields", [_dec4], Object.getOwnPropertyDescriptor(_obj, "disableLoginFields"), _obj), _applyDecoratedDescriptor(_obj, "hasAtLeastOneLoginButton", [_dec5], Object.getOwnPropertyDescriptor(_obj, "hasAtLeastOneLoginButton"), _obj), _applyDecoratedDescriptor(_obj, "loginButtonLabel", [_dec6], Object.getOwnPropertyDescriptor(_obj, "loginButtonLabel"), _obj), _applyDecoratedDescriptor(_obj, "showSignupLink", [_dec7], Object.getOwnPropertyDescriptor(_obj, "showSignupLink"), _obj), _applyDecoratedDescriptor(_obj, "showLoginWithEmailLink", [_dec8], Object.getOwnPropertyDescriptor(_obj, "showLoginWithEmailLink"), _obj)), _obj)));
});
define("discourse/controllers/modal", ["exports", "@ember/controller"], function (exports, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend();
});
define("discourse/controllers/move-to-topic", ["exports", "@ember/utils", "@ember/object/computed", "@ember/runloop", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/models/topic", "discourse/lib/url", "discourse-common/utils/decorators", "discourse/lib/ajax-error"], function (exports, _utils, _computed, _runloop, _controller, _modalFunctionality, _topic, _url, _decorators, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("saving", "selectedTopicId", "topicName"), _dec2 = (0, _decorators.default)("saving", "newTopic", "existingTopic", "newMessage", "existingMessage"), _dec3 = (0, _decorators.default)("selectedAllPosts", "selectedPosts", "selectedPosts.[]"), _dec4 = (0, _decorators.default)("canSplitTopic"), (_obj = {
    topicName: null,
    saving: false,
    categoryId: null,
    tags: null,
    canAddTags: (0, _computed.alias)("site.can_create_tag"),
    canTagMessages: (0, _computed.alias)("site.can_tag_pms"),
    selectedTopicId: null,
    newTopic: (0, _computed.equal)("selection", "new_topic"),
    existingTopic: (0, _computed.equal)("selection", "existing_topic"),
    newMessage: (0, _computed.equal)("selection", "new_message"),
    existingMessage: (0, _computed.equal)("selection", "existing_message"),
    participants: null,

    init: function init() {
      this._super.apply(this, arguments);

      this.saveAttrNames = ["newTopic", "existingTopic", "newMessage", "existingMessage"];

      this.moveTypes = ["newTopic", "existingTopic", "newMessage", "existingMessage"];
    },


    topicController: (0, _controller.inject)("topic"),
    selectedPostsCount: (0, _computed.alias)("topicController.selectedPostsCount"),
    selectedAllPosts: (0, _computed.alias)("topicController.selectedAllPosts"),
    selectedPosts: (0, _computed.alias)("topicController.selectedPosts"),

    buttonDisabled: function buttonDisabled(saving, selectedTopicId, topicName) {
      return saving || (0, _utils.isEmpty)(selectedTopicId) && (0, _utils.isEmpty)(topicName);
    },
    buttonTitle: function buttonTitle(saving, newTopic, existingTopic, newMessage, existingMessage) {
      if (newTopic) {
        return I18n.t("topic.split_topic.title");
      } else if (existingTopic) {
        return I18n.t("topic.merge_topic.title");
      } else if (newMessage) {
        return I18n.t("topic.move_to_new_message.title");
      } else if (existingMessage) {
        return I18n.t("topic.move_to_existing_message.title");
      } else {
        return I18n.t("saving");
      }
    },
    onShow: function onShow() {
      this.setProperties({
        "modal.modalClass": "choose-topic-modal",
        saving: false,
        selection: "new_topic",
        categoryId: null,
        topicName: "",
        tags: null,
        participants: null
      });

      var isPrivateMessage = this.get("model.isPrivateMessage");
      if (isPrivateMessage) {
        this.set("selection", this.canSplitToPM ? "new_message" : "existing_message");
      } else if (!this.canSplitTopic) {
        this.set("selection", "existing_topic");
        (0, _runloop.next)(function () {
          return $("#choose-topic-title").focus();
        });
      }
    },
    canSplitTopic: function canSplitTopic(selectedAllPosts, selectedPosts) {
      return !selectedAllPosts && selectedPosts.length > 0 && selectedPosts.sort(function (a, b) {
        return a.post_number - b.post_number;
      })[0].post_type === this.site.get("post_types.regular");
    },
    canSplitToPM: function canSplitToPM(canSplitTopic) {
      return canSplitTopic && this.currentUser && this.currentUser.admin;
    },


    actions: {
      performMove: function performMove() {
        var _this = this;

        this.moveTypes.forEach(function (type) {
          if (_this.get(type)) {
            _this.send("movePostsTo", type);
          }
        });
      },
      movePostsTo: function movePostsTo(type) {
        var _this2 = this;

        this.set("saving", true);
        var topicId = this.get("model.id");
        var mergeOptions = void 0,
            moveOptions = void 0;

        if (type === "existingTopic") {
          mergeOptions = { destination_topic_id: this.selectedTopicId };
          moveOptions = Object.assign({ post_ids: this.get("topicController.selectedPostIds") }, mergeOptions);
        } else if (type === "existingMessage") {
          mergeOptions = {
            destination_topic_id: this.selectedTopicId,
            participants: this.participants,
            archetype: "private_message"
          };
          moveOptions = Object.assign({ post_ids: this.get("topicController.selectedPostIds") }, mergeOptions);
        } else if (type === "newTopic") {
          mergeOptions = {};
          moveOptions = {
            title: this.topicName,
            post_ids: this.get("topicController.selectedPostIds"),
            category_id: this.categoryId,
            tags: this.tags
          };
        } else {
          mergeOptions = {};
          moveOptions = {
            title: this.topicName,
            post_ids: this.get("topicController.selectedPostIds"),
            tags: this.tags,
            archetype: "private_message"
          };
        }

        var promise = this.get("topicController.selectedAllPosts") ? (0, _topic.mergeTopic)(topicId, mergeOptions) : (0, _topic.movePosts)(topicId, moveOptions);

        promise.then(function (result) {
          _this2.send("closeModal");
          _this2.topicController.send("toggleMultiSelect");
          _url.default.routeTo(result.url);
        }).catch(function (xhr) {
          _this2.flash((0, _ajaxError.extractError)(xhr, I18n.t("topic.move_to.error")));
        }).finally(function () {
          _this2.set("saving", false);
        });

        return false;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "buttonDisabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "buttonDisabled"), _obj), _applyDecoratedDescriptor(_obj, "buttonTitle", [_dec2], Object.getOwnPropertyDescriptor(_obj, "buttonTitle"), _obj), _applyDecoratedDescriptor(_obj, "canSplitTopic", [_dec3], Object.getOwnPropertyDescriptor(_obj, "canSplitTopic"), _obj), _applyDecoratedDescriptor(_obj, "canSplitToPM", [_dec4], Object.getOwnPropertyDescriptor(_obj, "canSplitToPM"), _obj)), _obj)));
});
define("discourse/controllers/navigation/categories", ["exports", "discourse-common/utils/decorators", "@ember/controller", "discourse/controllers/navigation/default"], function (exports, _decorators, _controller, _default) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _default.default.extend((_dec = (0, _decorators.default)("discoveryCategories.model", "discoveryCategories.model.draft"), (_obj = {
    discoveryCategories: (0, _controller.inject)("discovery/categories"),

    draft: function draft() {
      return this.get("discoveryCategories.model.draft");
    }
  }, (_applyDecoratedDescriptor(_obj, "draft", [_dec], Object.getOwnPropertyDescriptor(_obj, "draft"), _obj)), _obj)));
});
define("discourse/controllers/navigation/category", ["exports", "@ember/object/computed", "discourse/controllers/navigation/default", "discourse/mixins/filter-mode"], function (exports, _computed, _default, _filterMode) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _default.default.extend(_filterMode.default, {
    showingParentCategory: (0, _computed.none)("category.parentCategory"),
    showingSubcategoryList: (0, _computed.and)("category.show_subcategory_list", "showingParentCategory")
  });
});
define("discourse/controllers/not-activated", ["exports", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/user-activation"], function (exports, _controller, _modalFunctionality, _userActivation) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    actions: {
      sendActivationEmail: function sendActivationEmail() {
        var _this = this;

        (0, _userActivation.resendActivationEmail)(this.username).then(function () {
          var modal = _this.showModal("activation-resent", { title: "log_in" });
          modal.set("currentEmail", _this.currentEmail);
        });
      },
      editActivationEmail: function editActivationEmail() {
        var modal = this.showModal("activation-edit", {
          title: "login.change_email"
        });

        var currentEmail = this.currentEmail;
        modal.set("currentEmail", currentEmail);
        modal.set("newEmail", currentEmail);
      }
    }
  });
});
define("discourse/controllers/password-reset", ["exports", "@ember/object/computed", "@ember/controller", "discourse-common/utils/decorators", "discourse/lib/url", "discourse/lib/ajax", "discourse/mixins/password-validation", "discourse/models/user", "discourse/lib/webauthn"], function (exports, _computed, _controller, _decorators, _url, _ajax, _passwordValidation, _user, _webauthn) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _controller.default.extend(_passwordValidation.default, (_dec = (0, _decorators.default)("model.security_key_required"), _dec2 = (0, _decorators.default)(), _dec3 = (0, _decorators.default)("redirectTo"), (_obj = {
    isDeveloper: (0, _computed.alias)("model.is_developer"),
    admin: (0, _computed.alias)("model.admin"),
    secondFactorRequired: (0, _computed.alias)("model.second_factor_required"),
    securityKeyRequired: (0, _computed.alias)("model.security_key_required"),
    backupEnabled: (0, _computed.alias)("model.backup_enabled"),
    securityKeyOrSecondFactorRequired: (0, _computed.or)("model.second_factor_required", "model.security_key_required"),
    otherMethodAllowed: (0, _computed.readOnly)("model.multiple_second_factor_methods"),
    secondFactorMethod: function secondFactorMethod(security_key_required) {
      return security_key_required ? _user.SECOND_FACTOR_METHODS.SECURITY_KEY : _user.SECOND_FACTOR_METHODS.TOTP;
    },

    passwordRequired: true,
    errorMessage: null,
    successMessage: null,
    requiresApproval: false,
    redirected: false,

    continueButtonText: function continueButtonText() {
      return I18n.t("password_reset.continue", {
        site_name: this.siteSettings.title
      });
    },
    redirectHref: function redirectHref(redirectTo) {
      return Discourse.getURL(redirectTo || "/");
    },


    lockImageUrl: Discourse.getURL("/images/lock.svg"),

    actions: {
      submit: function submit() {
        var _this = this;

        (0, _ajax.ajax)({
          url: (0, _url.userPath)("password-reset/" + this.get("model.token") + ".json"),
          type: "PUT",
          data: {
            password: this.accountPassword,
            second_factor_token: this.securityKeyCredential || this.secondFactorToken,
            second_factor_method: this.secondFactorMethod
          }
        }).then(function (result) {
          if (result.success) {
            _this.set("successMessage", result.message);
            _this.set("redirectTo", result.redirect_to);
            if (result.requires_approval) {
              _this.set("requiresApproval", true);
            } else {
              _this.set("redirected", true);
              _url.default.redirectTo(result.redirect_to || "/");
            }
          } else {
            if (result.errors && !result.errors.password) {
              _this.setProperties({
                secondFactorRequired: _this.secondFactorRequired,
                securityKeyRequired: _this.securityKeyRequired,
                password: null,
                errorMessage: result.message
              });
            } else if (_this.secondFactorRequired || _this.securityKeyRequired) {
              _this.setProperties({
                secondFactorRequired: false,
                securityKeyRequired: false,
                errorMessage: null
              });
            } else if (result.errors && result.errors.password && result.errors.password.length > 0) {
              _this.rejectedPasswords.pushObject(_this.accountPassword);
              _this.rejectedPasswordsMessages.set(_this.accountPassword, result.errors.password[0]);
            }

            if (result.message) {
              _this.set("errorMessage", result.message);
            }
          }
        }).catch(function (e) {
          if (e.jqXHR && e.jqXHR.status === 429) {
            _this.set("errorMessage", I18n.t("user.second_factor.rate_limit"));
          } else {
            throw new Error(e);
          }
        });
      },
      authenticateSecurityKey: function authenticateSecurityKey() {
        var _this2 = this;

        (0, _webauthn.getWebauthnCredential)(this.model.challenge, this.model.allowed_credential_ids, function (credentialData) {
          _this2.set("securityKeyCredential", credentialData);
          _this2.send("submit");
        }, function (errorMessage) {
          _this2.setProperties({
            securityKeyRequired: true,
            password: null,
            errorMessage: errorMessage
          });
        });
      },
      done: function done() {
        this.set("redirected", true);
        _url.default.redirectTo(this.redirectTo || "/");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "secondFactorMethod", [_dec], Object.getOwnPropertyDescriptor(_obj, "secondFactorMethod"), _obj), _applyDecoratedDescriptor(_obj, "continueButtonText", [_dec2], Object.getOwnPropertyDescriptor(_obj, "continueButtonText"), _obj), _applyDecoratedDescriptor(_obj, "redirectHref", [_dec3], Object.getOwnPropertyDescriptor(_obj, "redirectHref"), _obj)), _obj)));
});
define("discourse/controllers/preferences", ["exports", "@ember/service", "@ember/controller"], function (exports, _service, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    router: (0, _service.inject)()
  });
});
define("discourse/controllers/preferences/account", ["exports", "@ember/object/computed", "@ember/controller", "discourse-common/lib/icon-library", "discourse/mixins/can-check-emails", "discourse-common/utils/decorators", "discourse/mixins/preferences-tab-controller", "discourse/lib/computed", "discourse/lib/ajax-error", "discourse/lib/show-modal", "discourse/models/login-method", "discourse/lib/ajax", "discourse/lib/url", "discourse/lib/logout"], function (exports, _computed, _controller, _iconLibrary, _canCheckEmails, _decorators, _preferencesTabController, _computed2, _ajaxError, _showModal, _loginMethod, _ajax, _url, _logout) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _obj;

  // Number of tokens shown by default.
  var DEFAULT_AUTH_TOKENS_COUNT = 2;

  exports.default = _controller.default.extend(_canCheckEmails.default, _preferencesTabController.default, (_dec = (0, _decorators.default)(), _dec2 = (0, _decorators.default)("model.filteredGroups"), _dec3 = (0, _decorators.default)("model.is_anonymous"), _dec4 = (0, _decorators.default)("model.associated_accounts"), _dec5 = (0, _decorators.default)("model.associated_accounts.[]"), _dec6 = (0, _decorators.default)("model.second_factor_enabled", "canCheckEmails", "model.is_anonymous"), _dec7 = (0, _decorators.default)("showAllAuthTokens", "model.user_auth_tokens"), (_obj = {
    init: function init() {
      this._super.apply(this, arguments);

      this.saveAttrNames = ["name", "title", "primary_group_id"];
      this.set("revoking", {});
    },


    canEditName: (0, _computed2.setting)("enable_names"),
    canSaveUser: true,

    newNameInput: null,
    newTitleInput: null,
    newPrimaryGroupInput: null,

    passwordProgress: null,

    showAllAuthTokens: false,

    revoking: null,

    cannotDeleteAccount: (0, _computed.not)("currentUser.can_delete_account"),
    deleteDisabled: (0, _computed.or)("model.isSaving", "deleting", "cannotDeleteAccount"),

    reset: function reset() {
      this.set("passwordProgress", null);
    },
    nameInstructions: function nameInstructions() {
      return I18n.t(this.siteSettings.full_name_required ? "user.name.instructions_required" : "user.name.instructions");
    },


    canSelectTitle: (0, _computed.gt)("model.availableTitles.length", 0),

    canSelectPrimaryGroup: function canSelectPrimaryGroup(primaryGroupOptions) {
      return primaryGroupOptions.length > 0 && this.siteSettings.user_selected_primary_groups;
    },
    canChangePassword: function canChangePassword(isAnonymous) {
      if (isAnonymous) {
        return false;
      } else {
        return !this.siteSettings.enable_sso && this.siteSettings.enable_local_logins;
      }
    },
    associatedAccountsLoaded: function associatedAccountsLoaded(associatedAccounts) {
      return typeof associatedAccounts !== "undefined";
    },
    authProviders: function authProviders(accounts) {
      var allMethods = (0, _loginMethod.findAll)();

      var result = allMethods.map(function (method) {
        return {
          method: method,
          account: accounts.find(function (account) {
            return account.name === method.name;
          }) // Will be undefined if no account
        };
      });

      return result.filter(function (value) {
        return value.account || value.method.can_connect;
      });
    },


    disableConnectButtons: (0, _computed2.propertyNotEqual)("model.id", "currentUser.id"),

    canUpdateAssociatedAccounts: function canUpdateAssociatedAccounts(secondFactorEnabled, canCheckEmails, isAnonymous) {
      if (secondFactorEnabled || !canCheckEmails || isAnonymous) {
        return false;
      }
      return (0, _loginMethod.findAll)().length > 0;
    },
    authTokens: function authTokens(showAllAuthTokens, tokens) {
      tokens.sort(function (a, b) {
        if (a.is_active) {
          return -1;
        } else if (b.is_active) {
          return 1;
        } else {
          return b.seen_at.localeCompare(a.seen_at);
        }
      });

      return showAllAuthTokens ? tokens : tokens.slice(0, DEFAULT_AUTH_TOKENS_COUNT);
    },


    canShowAllAuthTokens: (0, _computed.gt)("model.user_auth_tokens.length", DEFAULT_AUTH_TOKENS_COUNT),

    actions: {
      save: function save() {
        var _this = this;

        this.set("saved", false);

        this.model.setProperties({
          name: this.newNameInput,
          title: this.newTitleInput,
          primary_group_id: this.newPrimaryGroupInput
        });

        return this.model.save(this.saveAttrNames).then(function () {
          return _this.set("saved", true);
        }).catch(_ajaxError.popupAjaxError);
      },
      changePassword: function changePassword() {
        var _this2 = this;

        if (!this.passwordProgress) {
          this.set("passwordProgress", I18n.t("user.change_password.in_progress"));
          return this.model.changePassword().then(function () {
            // password changed
            _this2.setProperties({
              changePasswordProgress: false,
              passwordProgress: I18n.t("user.change_password.success")
            });
          }).catch(function () {
            // password failed to change
            _this2.setProperties({
              changePasswordProgress: false,
              passwordProgress: I18n.t("user.change_password.error")
            });
          });
        }
      },
      delete: function _delete() {
        var _this3 = this;

        this.set("deleting", true);
        var message = I18n.t("user.delete_account_confirm"),
            model = this.model,
            buttons = [{
          label: I18n.t("cancel"),
          class: "d-modal-cancel",
          link: true,
          callback: function callback() {
            _this3.set("deleting", false);
          }
        }, {
          label: (0, _iconLibrary.iconHTML)("exclamation-triangle") + I18n.t("user.delete_account"),
          class: "btn btn-danger",
          callback: function callback() {
            var _this4 = this;

            model.delete().then(function () {
              bootbox.alert(I18n.t("user.deleted_yourself"), function () {
                return window.location = Discourse.getURL("/");
              });
            }, function () {
              bootbox.alert(I18n.t("user.delete_yourself_not_allowed"));
              _this4.set("deleting", false);
            });
          }
        }];
        bootbox.dialog(message, buttons, { classes: "delete-account" });
      },
      revokeAccount: function revokeAccount(account) {
        var _this5 = this;

        this.set("revoking." + account.name, true);

        this.model.revokeAssociatedAccount(account.name).then(function (result) {
          if (result.success) {
            _this5.model.associated_accounts.removeObject(account);
          } else {
            bootbox.alert(result.message);
          }
        }).catch(_ajaxError.popupAjaxError).finally(function () {
          return _this5.set("revoking." + account.name, false);
        });
      },
      toggleShowAllAuthTokens: function toggleShowAllAuthTokens() {
        this.toggleProperty("showAllAuthTokens");
      },
      revokeAuthToken: function revokeAuthToken(token) {
        (0, _ajax.ajax)((0, _url.userPath)(this.get("model.username_lower") + "/preferences/revoke-auth-token"), {
          type: "POST",
          data: token ? { token_id: token.id } : {}
        }).then(function () {
          if (!token) (0, _logout.default)(); // All sessions revoked
        }).catch(_ajaxError.popupAjaxError);
      },
      showToken: function showToken(token) {
        (0, _showModal.default)("auth-token", { model: token });
      },
      connectAccount: function connectAccount(method) {
        method.doLogin({ reconnect: true });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "nameInstructions", [_dec], Object.getOwnPropertyDescriptor(_obj, "nameInstructions"), _obj), _applyDecoratedDescriptor(_obj, "canSelectPrimaryGroup", [_dec2], Object.getOwnPropertyDescriptor(_obj, "canSelectPrimaryGroup"), _obj), _applyDecoratedDescriptor(_obj, "canChangePassword", [_dec3], Object.getOwnPropertyDescriptor(_obj, "canChangePassword"), _obj), _applyDecoratedDescriptor(_obj, "associatedAccountsLoaded", [_dec4], Object.getOwnPropertyDescriptor(_obj, "associatedAccountsLoaded"), _obj), _applyDecoratedDescriptor(_obj, "authProviders", [_dec5], Object.getOwnPropertyDescriptor(_obj, "authProviders"), _obj), _applyDecoratedDescriptor(_obj, "canUpdateAssociatedAccounts", [_dec6], Object.getOwnPropertyDescriptor(_obj, "canUpdateAssociatedAccounts"), _obj), _applyDecoratedDescriptor(_obj, "authTokens", [_dec7], Object.getOwnPropertyDescriptor(_obj, "authTokens"), _obj)), _obj)));
});
define("discourse/controllers/preferences/categories", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/controller", "discourse/mixins/preferences-tab-controller", "discourse/lib/ajax-error"], function (exports, _decorators, _computed, _controller, _preferencesTabController, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _controller.default.extend(_preferencesTabController.default, (_dec = (0, _decorators.default)("model.watchedCategories", "model.watchedFirstPostCategories", "model.trackedCategories", "model.mutedCategories"), _dec2 = (0, _decorators.default)("siteSettings.remove_muted_tags_from_latest"), (_obj = {
    init: function init() {
      this._super.apply(this, arguments);

      this.saveAttrNames = ["muted_category_ids", "watched_category_ids", "tracked_category_ids", "watched_first_post_category_ids"];
    },
    selectedCategories: function selectedCategories(watched, watchedFirst, tracked, muted) {
      return [].concat(watched, watchedFirst, tracked, muted).filter(function (t) {
        return t;
      });
    },
    canSee: function canSee() {
      return this.get("currentUser.id") === this.get("model.id");
    },
    hideMutedTags: function hideMutedTags() {
      return this.siteSettings.remove_muted_tags_from_latest !== "never";
    },


    canSave: (0, _computed.or)("canSee", "currentUser.admin"),

    actions: {
      save: function save() {
        var _this = this;

        this.set("saved", false);
        return this.model.save(this.saveAttrNames).then(function () {
          _this.set("saved", true);
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "selectedCategories", [_dec], Object.getOwnPropertyDescriptor(_obj, "selectedCategories"), _obj), _applyDecoratedDescriptor(_obj, "canSee", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "canSee"), _obj), _applyDecoratedDescriptor(_obj, "hideMutedTags", [_dec2], Object.getOwnPropertyDescriptor(_obj, "hideMutedTags"), _obj)), _obj)));
});
define("discourse/controllers/preferences/email", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/controller", "discourse/lib/computed", "@ember/object", "discourse/lib/utilities"], function (exports, _decorators, _computed, _controller, _computed2, _object, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("newEmail"), _dec2 = (0, _decorators.default)("saving"), _dec3 = (0, _decorators.default)("newEmail"), _dec4 = (0, _decorators.default)("invalidEmail"), (_obj = {
    taken: false,
    saving: false,
    error: false,
    success: false,
    newEmail: null,

    newEmailEmpty: (0, _computed.empty)("newEmail"),

    saveDisabled: (0, _computed.or)("saving", "newEmailEmpty", "taken", "unchanged", "invalidEmail"),

    unchanged: (0, _computed2.propertyEqual)("newEmailLower", "currentUser.email"),

    newEmailLower: function newEmailLower(newEmail) {
      return newEmail.toLowerCase().trim();
    },
    saveButtonText: function saveButtonText(saving) {
      if (saving) return I18n.t("saving");
      return I18n.t("user.change");
    },
    invalidEmail: function invalidEmail(newEmail) {
      return !(0, _utilities.emailValid)(newEmail);
    },
    emailValidation: function emailValidation(invalidEmail) {
      if (invalidEmail) {
        return _object.default.create({
          failed: true,
          reason: I18n.t("user.email.invalid")
        });
      }
    },
    reset: function reset() {
      this.setProperties({
        taken: false,
        saving: false,
        error: false,
        success: false,
        newEmail: null
      });
    },


    actions: {
      changeEmail: function changeEmail() {
        var _this = this;

        this.set("saving", true);

        return this.model.changeEmail(this.newEmail).then(function () {
          return _this.set("success", true);
        }, function (e) {
          _this.setProperties({ error: true, saving: false });
          if (e.jqXHR.responseJSON && e.jqXHR.responseJSON.errors && e.jqXHR.responseJSON.errors[0]) {
            _this.set("errorMessage", e.jqXHR.responseJSON.errors[0]);
          } else {
            _this.set("errorMessage", I18n.t("user.change_email.error"));
          }
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "newEmailLower", [_dec], Object.getOwnPropertyDescriptor(_obj, "newEmailLower"), _obj), _applyDecoratedDescriptor(_obj, "saveButtonText", [_dec2], Object.getOwnPropertyDescriptor(_obj, "saveButtonText"), _obj), _applyDecoratedDescriptor(_obj, "invalidEmail", [_dec3], Object.getOwnPropertyDescriptor(_obj, "invalidEmail"), _obj), _applyDecoratedDescriptor(_obj, "emailValidation", [_dec4], Object.getOwnPropertyDescriptor(_obj, "emailValidation"), _obj)), _obj)));
});
define("discourse/controllers/preferences/emails", ["exports", "@ember/object/computed", "@ember/controller", "discourse/mixins/preferences-tab-controller", "discourse-common/utils/decorators", "discourse/lib/ajax-error"], function (exports, _computed, _controller, _preferencesTabController, _decorators, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  var EMAIL_LEVELS = {
    ALWAYS: 0,
    ONLY_WHEN_AWAY: 1,
    NEVER: 2
  };

  exports.default = _controller.default.extend(_preferencesTabController.default, (_dec = (0, _decorators.default)(), _dec2 = (0, _decorators.default)(), _dec3 = (0, _decorators.default)(), (_obj = {
    emailMessagesLevelAway: (0, _computed.equal)("model.user_option.email_messages_level", EMAIL_LEVELS.ONLY_WHEN_AWAY),
    emailLevelAway: (0, _computed.equal)("model.user_option.email_level", EMAIL_LEVELS.ONLY_WHEN_AWAY),

    init: function init() {
      this._super.apply(this, arguments);

      this.saveAttrNames = ["email_level", "email_messages_level", "mailing_list_mode", "mailing_list_mode_frequency", "email_digests", "email_in_reply_to", "email_previous_replies", "digest_after_minutes", "include_tl0_in_digests"];

      this.previousRepliesOptions = [{ name: I18n.t("user.email_previous_replies.always"), value: 0 }, { name: I18n.t("user.email_previous_replies.unless_emailed"), value: 1 }, { name: I18n.t("user.email_previous_replies.never"), value: 2 }];

      this.emailLevelOptions = [{ name: I18n.t("user.email_level.always"), value: EMAIL_LEVELS.ALWAYS }, {
        name: I18n.t("user.email_level.only_when_away"),
        value: EMAIL_LEVELS.ONLY_WHEN_AWAY
      }, { name: I18n.t("user.email_level.never"), value: EMAIL_LEVELS.NEVER }];

      this.digestFrequencies = [{ name: I18n.t("user.email_digests.every_30_minutes"), value: 30 }, { name: I18n.t("user.email_digests.every_hour"), value: 60 }, { name: I18n.t("user.email_digests.daily"), value: 1440 }, { name: I18n.t("user.email_digests.weekly"), value: 10080 }, { name: I18n.t("user.email_digests.every_month"), value: 43200 }, { name: I18n.t("user.email_digests.every_six_months"), value: 259200 }];
    },
    frequencyEstimate: function frequencyEstimate() {
      var estimate = this.get("model.mailing_list_posts_per_day");
      if (!estimate || estimate < 2) {
        return I18n.t("user.mailing_list_mode.few_per_day");
      } else {
        return I18n.t("user.mailing_list_mode.many_per_day", {
          dailyEmailEstimate: estimate
        });
      }
    },
    mailingListModeOptions: function mailingListModeOptions() {
      return [{ name: this.frequencyEstimate, value: 1 }, { name: I18n.t("user.mailing_list_mode.individual_no_echo"), value: 2 }];
    },
    emailFrequencyInstructions: function emailFrequencyInstructions() {
      if (this.siteSettings.email_time_window_mins) {
        return I18n.t("user.email.frequency", {
          count: this.siteSettings.email_time_window_mins
        });
      } else {
        return I18n.t("user.email.frequency_immediately");
      }
    },


    actions: {
      save: function save() {
        var _this = this;

        this.set("saved", false);
        return this.model.save(this.saveAttrNames).then(function () {
          _this.set("saved", true);
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "frequencyEstimate", [_dec], Object.getOwnPropertyDescriptor(_obj, "frequencyEstimate"), _obj), _applyDecoratedDescriptor(_obj, "mailingListModeOptions", [_dec2], Object.getOwnPropertyDescriptor(_obj, "mailingListModeOptions"), _obj), _applyDecoratedDescriptor(_obj, "emailFrequencyInstructions", [_dec3], Object.getOwnPropertyDescriptor(_obj, "emailFrequencyInstructions"), _obj)), _obj)));
});
define("discourse/controllers/preferences/interface", ["exports", "@ember/controller", "discourse/mixins/preferences-tab-controller", "discourse/lib/utilities", "discourse-common/utils/decorators", "discourse/lib/theme-selector", "discourse/lib/ajax-error", "@ember/object"], function (exports, _controller, _preferencesTabController, _utilities, _decorators, _themeSelector, _ajaxError, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _desc, _value, _obj;

  var USER_HOMES = {
    1: "latest",
    2: "categories",
    3: "unread",
    4: "new",
    5: "top"
  };

  var TEXT_SIZES = ["smaller", "normal", "larger", "largest"];
  var TITLE_COUNT_MODES = ["notifications", "contextual"];

  exports.default = _controller.default.extend(_preferencesTabController.default, (_dec = (0, _decorators.default)("makeThemeDefault"), _dec2 = (0, _decorators.default)(), _dec3 = (0, _decorators.default)(), _dec4 = (0, _decorators.default)(), _dec5 = (0, _decorators.default)("userSelectableThemes"), _dec6 = (0, _decorators.observes)("themeId"), _dec7 = (0, _decorators.default)("model.user_option.theme_ids", "themeId"), _dec8 = (0, _decorators.default)("model.user_option.text_size", "textSize"), _dec9 = (0, _decorators.default)(), (_obj = {
    saveAttrNames: function saveAttrNames(makeDefault) {
      var attrs = ["locale", "external_links_in_new_tab", "dynamic_favicon", "enable_quoting", "enable_defer", "automatically_unpin_topics", "allow_private_messages", "homepage_id", "hide_profile_and_presence", "text_size", "title_count_mode"];

      if (makeDefault) {
        attrs.push("theme_ids");
      }

      return attrs;
    },


    preferencesController: (0, _controller.inject)("preferences"),

    isiPad: function isiPad() {
      // TODO: remove this preference checkbox when iOS adoption > 90%
      // (currently only applies to iOS 12 and below)
      return (0, _utilities.isiPad)() && !(0, _utilities.iOSWithVisualViewport)();
    },
    disableSafariHacks: function disableSafariHacks() {
      return (0, _utilities.safariHacksDisabled)();
    },
    availableLocales: function availableLocales() {
      return JSON.parse(this.siteSettings.available_locales);
    },
    textSizes: function textSizes() {
      return TEXT_SIZES.map(function (value) {
        return { name: I18n.t("user.text_size." + value), value: value };
      });
    },


    homepageId: (0, _object.computed)("model.user_option.homepage_id", "userSelectableHome.[]", function () {
      return this.model.user_option.homepage_id || this.userSelectableHome.firstObject.value;
    }),

    titleCountModes: function titleCountModes() {
      return TITLE_COUNT_MODES.map(function (value) {
        return { name: I18n.t("user.title_count_mode." + value), value: value };
      });
    },
    userSelectableThemes: function userSelectableThemes() {
      return (0, _themeSelector.listThemes)(this.site);
    },
    showThemeSelector: function showThemeSelector(themes) {
      return themes && themes.length > 1;
    },
    themeIdChanged: function themeIdChanged() {
      var id = this.themeId;
      (0, _themeSelector.previewTheme)([id]);
    },
    showThemeSetDefault: function showThemeSetDefault(userOptionThemes, selectedTheme) {
      return !userOptionThemes || userOptionThemes[0] !== selectedTheme;
    },
    showTextSetDefault: function showTextSetDefault(userOptionTextSize, selectedTextSize) {
      return userOptionTextSize !== selectedTextSize;
    },
    homeChanged: function homeChanged() {
      var siteHome = this.siteSettings.top_menu.split("|")[0].split(",")[0];
      var userHome = USER_HOMES[this.get("model.user_option.homepage_id")];

      (0, _utilities.setDefaultHomepage)(userHome || siteHome);
    },
    userSelectableHome: function userSelectableHome() {
      var homeValues = {};
      Object.keys(USER_HOMES).forEach(function (newValue) {
        var newKey = USER_HOMES[newValue];
        homeValues[newKey] = newValue;
      });

      var result = [];
      this.siteSettings.top_menu.split("|").forEach(function (m) {
        var id = homeValues[m];
        if (id) {
          result.push({ name: I18n.t("filters." + m + ".title"), value: Number(id) });
        }
      });
      return result;
    },


    actions: {
      save: function save() {
        var _this = this;

        this.set("saved", false);
        var makeThemeDefault = this.makeThemeDefault;
        if (makeThemeDefault) {
          this.set("model.user_option.theme_ids", [this.themeId]);
        }

        var makeTextSizeDefault = this.makeTextSizeDefault;
        if (makeTextSizeDefault) {
          this.set("model.user_option.text_size", this.textSize);
        }

        return this.model.save(this.saveAttrNames).then(function () {
          _this.set("saved", true);

          if (makeThemeDefault) {
            (0, _themeSelector.setLocalTheme)([]);
          } else {
            (0, _themeSelector.setLocalTheme)([_this.themeId], _this.get("model.user_option.theme_key_seq"));
          }
          if (makeTextSizeDefault) {
            _this.model.updateTextSizeCookie(null);
          } else {
            _this.model.updateTextSizeCookie(_this.textSize);
          }

          _this.homeChanged();

          if (_this.isiPad) {
            if ((0, _utilities.safariHacksDisabled)() !== _this.disableSafariHacks) {
              Discourse.set("assetVersion", "forceRefresh");
            }
            localStorage.setItem("safari-hacks-disabled", _this.disableSafariHacks.toString());
          }
        }).catch(_ajaxError.popupAjaxError);
      },
      selectTextSize: function selectTextSize(newSize) {
        var classList = document.documentElement.classList;

        TEXT_SIZES.forEach(function (name) {
          var className = "text-size-" + name;
          if (newSize === name) {
            classList.add(className);
          } else {
            classList.remove(className);
          }
        });

        // Force refresh when leaving this screen
        Discourse.set("assetVersion", "forceRefresh");

        this.set("textSize", newSize);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "saveAttrNames", [_dec], Object.getOwnPropertyDescriptor(_obj, "saveAttrNames"), _obj), _applyDecoratedDescriptor(_obj, "isiPad", [_dec2], Object.getOwnPropertyDescriptor(_obj, "isiPad"), _obj), _applyDecoratedDescriptor(_obj, "disableSafariHacks", [_dec3], Object.getOwnPropertyDescriptor(_obj, "disableSafariHacks"), _obj), _applyDecoratedDescriptor(_obj, "availableLocales", [_dec4], Object.getOwnPropertyDescriptor(_obj, "availableLocales"), _obj), _applyDecoratedDescriptor(_obj, "textSizes", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "textSizes"), _obj), _applyDecoratedDescriptor(_obj, "titleCountModes", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "titleCountModes"), _obj), _applyDecoratedDescriptor(_obj, "userSelectableThemes", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "userSelectableThemes"), _obj), _applyDecoratedDescriptor(_obj, "showThemeSelector", [_dec5], Object.getOwnPropertyDescriptor(_obj, "showThemeSelector"), _obj), _applyDecoratedDescriptor(_obj, "themeIdChanged", [_dec6], Object.getOwnPropertyDescriptor(_obj, "themeIdChanged"), _obj), _applyDecoratedDescriptor(_obj, "showThemeSetDefault", [_dec7], Object.getOwnPropertyDescriptor(_obj, "showThemeSetDefault"), _obj), _applyDecoratedDescriptor(_obj, "showTextSetDefault", [_dec8], Object.getOwnPropertyDescriptor(_obj, "showTextSetDefault"), _obj), _applyDecoratedDescriptor(_obj, "userSelectableHome", [_dec9], Object.getOwnPropertyDescriptor(_obj, "userSelectableHome"), _obj)), _obj)));
});
define("discourse/controllers/preferences/notifications", ["exports", "@ember/controller", "discourse/mixins/preferences-tab-controller", "discourse/lib/notification-levels", "discourse/lib/ajax-error"], function (exports, _controller, _preferencesTabController, _notificationLevels, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_preferencesTabController.default, {
    init: function init() {
      this._super.apply(this, arguments);

      this.saveAttrNames = ["muted_usernames", "ignored_usernames", "new_topic_duration_minutes", "auto_track_topics_after_msecs", "notification_level_when_replying", "like_notification_frequency", "allow_private_messages"];

      this.likeNotificationFrequencies = [{ name: I18n.t("user.like_notification_frequency.always"), value: 0 }, {
        name: I18n.t("user.like_notification_frequency.first_time_and_daily"),
        value: 1
      }, { name: I18n.t("user.like_notification_frequency.first_time"), value: 2 }, { name: I18n.t("user.like_notification_frequency.never"), value: 3 }];

      this.autoTrackDurations = [{ name: I18n.t("user.auto_track_options.never"), value: -1 }, { name: I18n.t("user.auto_track_options.immediately"), value: 0 }, {
        name: I18n.t("user.auto_track_options.after_30_seconds"),
        value: 30000
      }, { name: I18n.t("user.auto_track_options.after_1_minute"), value: 60000 }, {
        name: I18n.t("user.auto_track_options.after_2_minutes"),
        value: 120000
      }, {
        name: I18n.t("user.auto_track_options.after_3_minutes"),
        value: 180000
      }, {
        name: I18n.t("user.auto_track_options.after_4_minutes"),
        value: 240000
      }, {
        name: I18n.t("user.auto_track_options.after_5_minutes"),
        value: 300000
      }, {
        name: I18n.t("user.auto_track_options.after_10_minutes"),
        value: 600000
      }];

      this.notificationLevelsForReplying = [{
        name: I18n.t("topic.notifications.watching.title"),
        value: _notificationLevels.NotificationLevels.WATCHING
      }, {
        name: I18n.t("topic.notifications.tracking.title"),
        value: _notificationLevels.NotificationLevels.TRACKING
      }, {
        name: I18n.t("topic.notifications.regular.title"),
        value: _notificationLevels.NotificationLevels.REGULAR
      }];

      this.considerNewTopicOptions = [{ name: I18n.t("user.new_topic_duration.not_viewed"), value: -1 }, { name: I18n.t("user.new_topic_duration.after_1_day"), value: 60 * 24 }, { name: I18n.t("user.new_topic_duration.after_2_days"), value: 60 * 48 }, {
        name: I18n.t("user.new_topic_duration.after_1_week"),
        value: 7 * 60 * 24
      }, {
        name: I18n.t("user.new_topic_duration.after_2_weeks"),
        value: 2 * 7 * 60 * 24
      }, { name: I18n.t("user.new_topic_duration.last_here"), value: -2 }];
    },


    actions: {
      save: function save() {
        var _this = this;

        this.set("saved", false);
        return this.model.save(this.saveAttrNames).then(function () {
          _this.set("saved", true);
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  });
});
define("discourse/controllers/preferences/profile", ["exports", "@ember/utils", "@ember/object", "@ember/controller", "discourse-common/utils/decorators", "discourse/mixins/preferences-tab-controller", "discourse/lib/ajax-error", "discourse/lib/text", "discourse/lib/ajax", "discourse/lib/show-modal"], function (exports, _utils, _object, _controller, _decorators, _preferencesTabController, _ajaxError, _text, _ajax, _showModal) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _controller.default.extend(_preferencesTabController.default, (_dec = (0, _decorators.default)("model.user_fields.@each.value"), _dec2 = (0, _decorators.default)("model.can_change_bio"), (_obj = {
    init: function init() {
      this._super.apply(this, arguments);

      this.saveAttrNames = ["bio_raw", "website", "location", "custom_fields", "user_fields", "profile_background_upload_url", "card_background_upload_url", "date_of_birth", "timezone"];
    },
    userFields: function userFields() {
      var siteUserFields = this.site.get("user_fields");
      if (!(0, _utils.isEmpty)(siteUserFields)) {
        var userFields = this.get("model.user_fields");

        // Staff can edit fields that are not `editable`
        if (!this.get("currentUser.staff")) {
          siteUserFields = siteUserFields.filterBy("editable", true);
        }
        return siteUserFields.sortBy("position").map(function (field) {
          var value = userFields ? userFields[field.get("id").toString()] : null;
          return _object.default.create({ value: value, field: field });
        });
      }
    },
    canChangeBio: function canChangeBio(_canChangeBio) {
      return _canChangeBio;
    },


    actions: {
      showFeaturedTopicModal: function showFeaturedTopicModal() {
        (0, _showModal.default)("feature-topic-on-profile", {
          model: this.model,
          title: "user.feature_topic_on_profile.title"
        });
      },
      clearFeaturedTopicFromProfile: function clearFeaturedTopicFromProfile() {
        var _this = this;

        bootbox.confirm(I18n.t("user.feature_topic_on_profile.clear.warning"), function (result) {
          if (result) {
            (0, _ajax.ajax)("/u/" + _this.model.username + "/clear-featured-topic", {
              type: "PUT"
            }).then(function () {
              _this.model.set("featured_topic", null);
            }).catch(_ajaxError.popupAjaxError);
          }
        });
      },
      save: function save() {
        var _this2 = this;

        this.set("saved", false);

        var model = this.model,
            userFields = this.userFields;

        // Update the user fields
        if (!(0, _utils.isEmpty)(userFields)) {
          var modelFields = model.get("user_fields");
          if (!(0, _utils.isEmpty)(modelFields)) {
            userFields.forEach(function (uf) {
              modelFields[uf.get("field.id").toString()] = uf.get("value");
            });
          }
        }

        return model.save(this.saveAttrNames).then(function () {
          (0, _text.cookAsync)(model.get("bio_raw")).then(function () {
            model.set("bio_cooked");
            _this2.set("saved", true);
          }).catch(_ajaxError.popupAjaxError);
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "userFields", [_dec], Object.getOwnPropertyDescriptor(_obj, "userFields"), _obj), _applyDecoratedDescriptor(_obj, "canChangeBio", [_dec2], Object.getOwnPropertyDescriptor(_obj, "canChangeBio"), _obj)), _obj)));
});
define("discourse/controllers/preferences/second-factor", ["exports", "@ember/object/computed", "@ember/controller", "discourse-common/utils/decorators", "discourse/mixins/can-check-emails", "discourse/lib/url", "discourse/lib/ajax-error", "discourse/models/login-method", "discourse/models/user", "discourse/lib/show-modal"], function (exports, _computed, _controller, _decorators, _canCheckEmails, _url, _ajaxError, _loginMethod, _user, _showModal) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend(_canCheckEmails.default, (_dec = (0, _decorators.default)("currentUser"), (_obj = {
    loading: false,
    dirty: false,
    resetPasswordLoading: false,
    resetPasswordProgress: "",
    password: null,
    errorMessage: null,
    newUsername: null,
    backupEnabled: (0, _computed.alias)("model.second_factor_backup_enabled"),
    secondFactorMethod: _user.SECOND_FACTOR_METHODS.TOTP,
    totps: null,

    loaded: (0, _computed.and)("secondFactorImage", "secondFactorKey"),

    init: function init() {
      this._super.apply(this, arguments);
      this.set("totps", []);
    },
    displayOAuthWarning: function displayOAuthWarning() {
      return (0, _loginMethod.findAll)().length > 0;
    },
    showEnforcedNotice: function showEnforcedNotice(user) {
      return user && user.enforcedSecondFactor;
    },
    handleError: function handleError(error) {
      if (error.jqXHR) {
        error = error.jqXHR;
      }
      var parsedJSON = error.responseJSON;
      if (parsedJSON.error_type === "invalid_access") {
        var usernameLower = this.model.username.toLowerCase();
        _url.default.redirectTo((0, _url.userPath)(usernameLower + "/preferences/second-factor"));
      } else {
        (0, _ajaxError.popupAjaxError)(error);
      }
    },
    loadSecondFactors: function loadSecondFactors() {
      var _this = this;

      if (this.dirty === false) {
        return;
      }
      this.set("loading", true);

      this.model.loadSecondFactorCodes(this.password).then(function (response) {
        if (response.error) {
          _this.set("errorMessage", response.error);
          return;
        }

        _this.setProperties({
          errorMessage: null,
          loaded: true,
          totps: response.totps,
          security_keys: response.security_keys,
          password: null,
          dirty: false
        });
        _this.set("model.second_factor_enabled", response.totps && response.totps.length > 0 || response.security_keys && response.security_keys.length > 0);
      }).catch(function (e) {
        return _this.handleError(e);
      }).finally(function () {
        return _this.set("loading", false);
      });
    },
    markDirty: function markDirty() {
      this.set("dirty", true);
    },


    actions: {
      confirmPassword: function confirmPassword() {
        if (!this.password) return;
        this.markDirty();
        this.loadSecondFactors();
        this.set("password", null);
      },
      resetPassword: function resetPassword() {
        var _this2 = this;

        this.setProperties({
          resetPasswordLoading: true,
          resetPasswordProgress: ""
        });

        return this.model.changePassword().then(function () {
          _this2.set("resetPasswordProgress", I18n.t("user.change_password.success"));
        }).catch(_ajaxError.popupAjaxError).finally(function () {
          return _this2.set("resetPasswordLoading", false);
        });
      },
      disableAllSecondFactors: function disableAllSecondFactors() {
        var _this3 = this;

        if (this.loading) {
          return;
        }
        bootbox.confirm(I18n.t("user.second_factor.disable_confirm"), I18n.t("cancel"), I18n.t("user.second_factor.disable"), function (result) {
          if (result) {
            _this3.model.disableAllSecondFactors().then(function () {
              var usernameLower = _this3.model.username.toLowerCase();
              _url.default.redirectTo((0, _url.userPath)(usernameLower + "/preferences"));
            }).catch(function (e) {
              return _this3.handleError(e);
            }).finally(function () {
              return _this3.set("loading", false);
            });
          }
        });
      },
      createTotp: function createTotp() {
        var _this4 = this;

        var controller = (0, _showModal.default)("second-factor-add-totp", {
          model: this.model,
          title: "user.second_factor.totp.add"
        });
        controller.setProperties({
          onClose: function onClose() {
            return _this4.loadSecondFactors();
          },
          markDirty: function markDirty() {
            return _this4.markDirty();
          },
          onError: function onError(e) {
            return _this4.handleError(e);
          }
        });
      },
      createSecurityKey: function createSecurityKey() {
        var _this5 = this;

        var controller = (0, _showModal.default)("second-factor-add-security-key", {
          model: this.model,
          title: "user.second_factor.security_key.add"
        });
        controller.setProperties({
          onClose: function onClose() {
            return _this5.loadSecondFactors();
          },
          markDirty: function markDirty() {
            return _this5.markDirty();
          },
          onError: function onError(e) {
            return _this5.handleError(e);
          }
        });
      },
      editSecurityKey: function editSecurityKey(security_key) {
        var _this6 = this;

        var controller = (0, _showModal.default)("second-factor-edit-security-key", {
          model: security_key,
          title: "user.second_factor.security_key.edit"
        });
        controller.setProperties({
          user: this.model,
          onClose: function onClose() {
            return _this6.loadSecondFactors();
          },
          markDirty: function markDirty() {
            return _this6.markDirty();
          },
          onError: function onError(e) {
            return _this6.handleError(e);
          }
        });
      },
      editSecondFactor: function editSecondFactor(second_factor) {
        var _this7 = this;

        var controller = (0, _showModal.default)("second-factor-edit", {
          model: second_factor,
          title: "user.second_factor.edit_title"
        });
        controller.setProperties({
          user: this.model,
          onClose: function onClose() {
            return _this7.loadSecondFactors();
          },
          markDirty: function markDirty() {
            return _this7.markDirty();
          },
          onError: function onError(e) {
            return _this7.handleError(e);
          }
        });
      },
      editSecondFactorBackup: function editSecondFactorBackup() {
        var _this8 = this;

        var controller = (0, _showModal.default)("second-factor-backup-edit", {
          model: this.model,
          title: "user.second_factor_backup.title"
        });
        controller.setProperties({
          onClose: function onClose() {
            return _this8.loadSecondFactors();
          },
          markDirty: function markDirty() {
            return _this8.markDirty();
          },
          onError: function onError(e) {
            return _this8.handleError(e);
          }
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "displayOAuthWarning", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "displayOAuthWarning"), _obj), _applyDecoratedDescriptor(_obj, "showEnforcedNotice", [_dec], Object.getOwnPropertyDescriptor(_obj, "showEnforcedNotice"), _obj)), _obj)));
});
define("discourse/controllers/preferences/tags", ["exports", "discourse-common/utils/decorators", "@ember/controller", "discourse/mixins/preferences-tab-controller", "discourse/lib/ajax-error"], function (exports, _decorators, _controller, _preferencesTabController, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend(_preferencesTabController.default, (_dec = (0, _decorators.default)("model.watched_tags.[]", "model.watching_first_post_tags.[]", "model.tracked_tags.[]", "model.muted_tags.[]"), (_obj = {
    init: function init() {
      this._super.apply(this, arguments);

      this.saveAttrNames = ["muted_tags", "tracked_tags", "watched_tags", "watching_first_post_tags"];
    },
    selectedTags: function selectedTags(watched, watchedFirst, tracked, muted) {
      return [].concat(watched, watchedFirst, tracked, muted).filter(function (t) {
        return t;
      });
    },


    actions: {
      save: function save() {
        var _this = this;

        this.set("saved", false);
        return this.model.save(this.saveAttrNames).then(function () {
          _this.set("saved", true);
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "selectedTags", [_dec], Object.getOwnPropertyDescriptor(_obj, "selectedTags"), _obj)), _obj)));
});
define("discourse/controllers/preferences/username", ["exports", "@ember/utils", "@ember/object/computed", "@ember/controller", "discourse-common/utils/decorators", "discourse/lib/computed", "discourse/lib/url", "discourse/lib/ajax-error", "discourse/models/user"], function (exports, _utils, _computed, _controller, _decorators, _computed2, _url, _ajaxError, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("newUsername"), _dec2 = (0, _decorators.default)("saving"), (_obj = {
    taken: false,
    saving: false,
    errorMessage: null,
    newUsername: null,

    maxLength: (0, _computed2.setting)("max_username_length"),
    minLength: (0, _computed2.setting)("min_username_length"),
    newUsernameEmpty: (0, _computed.empty)("newUsername"),
    saveDisabled: (0, _computed.or)("saving", "newUsernameEmpty", "taken", "unchanged", "errorMessage"),
    unchanged: (0, _computed2.propertyEqual)("newUsername", "username"),

    checkTaken: function checkTaken() {
      var _this = this;

      var newUsername = this.newUsername;

      if (newUsername && newUsername.length < this.minLength) {
        this.set("errorMessage", I18n.t("user.name.too_short"));
      } else {
        this.set("taken", false);
        this.set("errorMessage", null);

        if ((0, _utils.isEmpty)(this.newUsername)) return;
        if (this.unchanged) return;

        _user.default.checkUsername(newUsername, undefined, this.get("model.id")).then(function (result) {
          if (result.errors) {
            _this.set("errorMessage", result.errors.join(" "));
          } else if (result.available === false) {
            _this.set("taken", true);
          }
        });
      }
    },
    saveButtonText: function saveButtonText(saving) {
      if (saving) return I18n.t("saving");
      return I18n.t("user.change");
    },


    actions: {
      changeUsername: function changeUsername() {
        var _this2 = this;

        if (this.saveDisabled) {
          return;
        }

        return bootbox.confirm(I18n.t("user.change_username.confirm"), I18n.t("no_value"), I18n.t("yes_value"), function (result) {
          if (result) {
            _this2.set("saving", true);
            _this2.model.changeUsername(_this2.newUsername).then(function () {
              _url.default.redirectTo((0, _url.userPath)(_this2.newUsername.toLowerCase() + "/preferences"));
            }).catch(_ajaxError.popupAjaxError).finally(function () {
              return _this2.set("saving", false);
            });
          }
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "checkTaken", [_dec], Object.getOwnPropertyDescriptor(_obj, "checkTaken"), _obj), _applyDecoratedDescriptor(_obj, "saveButtonText", [_dec2], Object.getOwnPropertyDescriptor(_obj, "saveButtonText"), _obj)), _obj)));
});
define("discourse/controllers/preferences/users", ["exports", "discourse-common/lib/helpers", "@ember/object/computed", "@ember/object", "@ember/controller", "discourse/mixins/preferences-tab-controller", "discourse/lib/ajax-error"], function (exports, _helpers, _computed, _object, _controller, _preferencesTabController, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  exports.default = _controller.default.extend(_preferencesTabController.default, (_obj = {
    ignoredUsernames: (0, _computed.alias)("model.ignored_usernames"),
    userIsMemberOrAbove: (0, _computed.gte)("model.trust_level", 2),
    ignoredEnabled: (0, _computed.or)("userIsMemberOrAbove", "model.staff"),

    mutedUsernames: (0, _object.computed)("model.muted_usernames", {
      get: function get() {
        var usernames = this.model.muted_usernames;

        if (typeof usernames === "string") {
          usernames = usernames.split(",").filter(Boolean);
        }

        return (0, _helpers.makeArray)(usernames).uniq();
      }
    }),

    init: function init() {
      this._super.apply(this, arguments);

      this.saveAttrNames = ["muted_usernames", "ignored_usernames"];
    },
    onChangeMutedUsernames: function onChangeMutedUsernames(usernames) {
      this.model.set("muted_usernames", usernames.uniq().join(","));
    },
    save: function save() {
      var _this = this;

      this.set("saved", false);

      return this.model.save(this.saveAttrNames).then(function () {
        return _this.set("saved", true);
      }).catch(_ajaxError.popupAjaxError);
    }
  }, (_applyDecoratedDescriptor(_obj, "onChangeMutedUsernames", [_object.action], Object.getOwnPropertyDescriptor(_obj, "onChangeMutedUsernames"), _obj), _applyDecoratedDescriptor(_obj, "save", [_object.action], Object.getOwnPropertyDescriptor(_obj, "save"), _obj)), _obj));
});
define("discourse/controllers/raw-email", ["exports", "@ember/object/computed", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/models/post", "admin/models/incoming-email"], function (exports, _computed, _controller, _modalFunctionality, _post, _incomingEmail) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    rawEmail: "",
    textPart: "",
    htmlPart: "",

    tab: "raw",

    showRawEmail: (0, _computed.equal)("tab", "raw"),
    showTextPart: (0, _computed.equal)("tab", "text_part"),
    showHtmlPart: (0, _computed.equal)("tab", "html_part"),

    onShow: function onShow() {
      this.send("displayRaw");
    },
    loadRawEmail: function loadRawEmail(postId) {
      var _this = this;

      return _post.default.loadRawEmail(postId).then(function (result) {
        return _this.setProperties({
          rawEmail: result.raw_email,
          textPart: result.text_part,
          htmlPart: result.html_part
        });
      });
    },
    loadIncomingRawEmail: function loadIncomingRawEmail(incomingEmailId) {
      var _this2 = this;

      return _incomingEmail.default.loadRawEmail(incomingEmailId).then(function (result) {
        return _this2.setProperties({
          rawEmail: result.raw_email,
          textPart: result.text_part,
          htmlPart: result.html_part
        });
      });
    },


    actions: {
      displayRaw: function displayRaw() {
        this.set("tab", "raw");
      },
      displayTextPart: function displayTextPart() {
        this.set("tab", "text_part");
      },
      displayHtmlPart: function displayHtmlPart() {
        this.set("tab", "html_part");
      }
    }
  });
});
define("discourse/controllers/rename-tag", ["exports", "discourse-common/utils/decorators", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/mixins/buffered-content", "discourse/lib/ajax-error"], function (exports, _decorators, _controller, _modalFunctionality, _bufferedContent, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, _bufferedContent.default, (_dec = (0, _decorators.default)("buffered.id", "id"), (_obj = {
    renameDisabled: function renameDisabled(inputTagName, currentTagName) {
      var filterRegexp = new RegExp(this.site.tags_filter_regexp, "g");
      var newTagName = inputTagName ? inputTagName.replace(filterRegexp, "").trim() : "";

      return newTagName.length === 0 || newTagName === currentTagName;
    },


    actions: {
      performRename: function performRename() {
        var _this = this;

        this.model.update({ id: this.get("buffered.id") }).then(function (result) {
          _this.send("closeModal");

          if (result.responseJson.tag) {
            _this.transitionToRoute("tags.show", result.responseJson.tag.id);
          } else {
            _this.flash((0, _ajaxError.extractError)(result.responseJson.errors[0]), "error");
          }
        }).catch(function (error) {
          return _this.flash((0, _ajaxError.extractError)(error), "error");
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "renameDisabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "renameDisabled"), _obj)), _obj)));
});
define("discourse/controllers/reorder-categories", ["exports", "@ember/object/computed", "@ember/object/evented", "@ember/object/proxy", "@ember/controller", "discourse/lib/ajax", "discourse/mixins/modal-functionality", "discourse/lib/ajax-error", "discourse-common/utils/decorators"], function (exports, _computed, _evented, _proxy, _controller, _ajax, _modalFunctionality, _ajaxError, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  var BufferedProxy = window.BufferedProxy; // import BufferedProxy from 'ember-buffered-proxy/proxy';
  exports.default = _controller.default.extend(_modalFunctionality.default, _evented.default, (_dec = (0, _decorators.default)("site.categories"), _dec2 = (0, _decorators.on)("init"), (_obj = {
    init: function init() {
      this._super.apply(this, arguments);

      this.categoriesSorting = ["position"];
    },
    categoriesBuffered: function categoriesBuffered(categories) {
      var bufProxy = _proxy.default.extend(BufferedProxy);
      return categories.map(function (c) {
        return bufProxy.create({ content: c });
      });
    },


    categoriesOrdered: (0, _computed.sort)("categoriesBuffered", "categoriesSorting"),

    reorder: function reorder() {
      var _this = this;

      var reorderChildren = function reorderChildren(categoryId, depth, index) {
        _this.categoriesOrdered.forEach(function (category) {
          if (categoryId === null && !category.get("parent_category_id") || category.get("parent_category_id") === categoryId) {
            category.setProperties({ depth: depth, position: index++ });
            index = reorderChildren(category.get("id"), depth + 1, index);
          }
        });

        return index;
      };

      reorderChildren(null, 0, 0);

      this.categoriesBuffered.forEach(function (bc) {
        if (bc.get("hasBufferedChanges")) {
          bc.applyBufferedChanges();
        }
      });

      this.notifyPropertyChange("categoriesBuffered");
    },
    move: function move(category, direction) {
      var otherCategory = void 0;

      if (direction === -1) {
        // First category above current one
        var categoriesOrderedDesc = this.categoriesOrdered.reverse();
        otherCategory = categoriesOrderedDesc.find(function (c) {
          return category.get("parent_category_id") === c.get("parent_category_id") && c.get("position") < category.get("position");
        });
      } else if (direction === 1) {
        // First category under current one
        otherCategory = this.categoriesOrdered.find(function (c) {
          return category.get("parent_category_id") === c.get("parent_category_id") && c.get("position") > category.get("position");
        });
      } else {
        // Find category occupying target position
        otherCategory = this.categoriesOrdered.find(function (c) {
          return c.get("position") === category.get("position") + direction;
        });
      }

      if (otherCategory) {
        // Try to swap positions of the two categories
        if (category.get("id") !== otherCategory.get("id")) {
          var currentPosition = category.get("position");
          category.set("position", otherCategory.get("position"));
          otherCategory.set("position", currentPosition);
        }
      } else if (direction < 0) {
        category.set("position", -1);
      } else if (direction > 0) {
        category.set("position", this.categoriesOrdered.length);
      }

      this.reorder();
    },


    actions: {
      change: function change(category, event) {
        var newPosition = parseInt(event.target.value, 10);
        newPosition = Math.min(Math.max(newPosition, 0), this.categoriesOrdered.length - 1);

        this.move(category, newPosition - category.get("position"));
      },
      moveUp: function moveUp(category) {
        this.move(category, -1);
      },
      moveDown: function moveDown(category) {
        this.move(category, 1);
      },
      save: function save() {
        var _this2 = this;

        this.reorder();

        var data = {};
        this.categoriesBuffered.forEach(function (cat) {
          data[cat.get("id")] = cat.get("position");
        });

        (0, _ajax.ajax)("/categories/reorder", {
          type: "POST",
          data: { mapping: JSON.stringify(data) }
        }).then(function () {
          return _this2.send("closeModal");
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "categoriesBuffered", [_dec], Object.getOwnPropertyDescriptor(_obj, "categoriesBuffered"), _obj), _applyDecoratedDescriptor(_obj, "reorder", [_dec2], Object.getOwnPropertyDescriptor(_obj, "reorder"), _obj)), _obj)));
});
define("discourse/controllers/request-group-membership-form", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/object/computed", "@ember/controller", "discourse/lib/ajax-error", "discourse/lib/url", "discourse/mixins/modal-functionality"], function (exports, _decorators, _utils, _computed, _controller, _ajaxError, _url, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("model.name"), _dec2 = (0, _decorators.default)("loading", "reason"), (_obj = {
    loading: false,
    reason: (0, _computed.alias)("model.membership_request_template"),

    title: function title(groupName) {
      return I18n.t("groups.membership_request.title", { group_name: groupName });
    },
    disableSubmit: function disableSubmit(loading, reason) {
      return loading || (0, _utils.isEmpty)(reason);
    },


    actions: {
      requestMember: function requestMember() {
        var _this = this;

        if (this.currentUser) {
          this.set("loading", true);

          this.model.requestMembership(this.reason).then(function (result) {
            _url.default.routeTo(result.relative_url);
          }).catch(_ajaxError.popupAjaxError).finally(function () {
            _this.set("loading", false);
          });
        } else {
          this._showLoginModal();
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "title", [_dec], Object.getOwnPropertyDescriptor(_obj, "title"), _obj), _applyDecoratedDescriptor(_obj, "disableSubmit", [_dec2], Object.getOwnPropertyDescriptor(_obj, "disableSubmit"), _obj)), _obj)));
});
define("discourse/controllers/review-index", ["exports", "discourse-common/utils/decorators", "@ember/controller"], function (exports, _decorators, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("reviewableTypes"), _dec2 = (0, _decorators.default)("filtersExpanded"), (_obj = {
    queryParams: ["priority", "type", "status", "category_id", "topic_id", "username", "from_date", "to_date", "sort_order", "additional_filters"],
    type: null,
    status: "pending",
    priority: "low",
    category_id: null,
    reviewables: null,
    topic_id: null,
    filtersExpanded: false,
    username: "",
    from_date: null,
    to_date: null,
    sort_order: "priority",
    additional_filters: null,

    init: function init() {
      this._super.apply(this, arguments);
      this.set("priority", this.siteSettings.reviewable_default_visibility);
      this.set("filtersExpanded", !this.site.mobileView);
    },
    allTypes: function allTypes() {
      return (this.reviewableTypes || []).map(function (type) {
        return {
          id: type,
          name: I18n.t("review.types." + type.underscore() + ".title")
        };
      });
    },
    priorities: function priorities() {
      return ["low", "medium", "high"].map(function (priority) {
        return {
          id: priority,
          name: I18n.t("review.filters.priority." + priority)
        };
      });
    },
    sortOrders: function sortOrders() {
      return ["priority", "priority_asc", "created_at", "created_at_asc"].map(function (order) {
        return {
          id: order,
          name: I18n.t("review.filters.orders." + order)
        };
      });
    },
    statuses: function statuses() {
      return ["pending", "approved", "rejected", "deleted", "ignored", "reviewed", "all"].map(function (id) {
        return { id: id, name: I18n.t("review.statuses." + id + ".title") };
      });
    },
    toggleFiltersIcon: function toggleFiltersIcon(filtersExpanded) {
      return filtersExpanded ? "chevron-up" : "chevron-down";
    },
    setRange: function setRange(range) {
      if (range.from) {
        this.set("from", new Date(range.from).toISOString().split("T")[0]);
      }
      if (range.to) {
        this.set("to", new Date(range.to).toISOString().split("T")[0]);
      }
    },


    actions: {
      remove: function remove(ids) {
        if (!ids) {
          return;
        }

        var newList = this.reviewables.reject(function (reviewable) {
          return ids.indexOf(reviewable.id) !== -1;
        });
        this.set("reviewables", newList);
      },
      resetTopic: function resetTopic() {
        this.set("topic_id", null);
        this.send("refreshRoute");
      },
      refresh: function refresh() {
        this.setProperties({
          type: this.filterType,
          priority: this.filterPriority,
          status: this.filterStatus,
          category_id: this.filterCategoryId,
          username: this.filterUsername,
          from_date: this.filterFromDate,
          to_date: this.filterToDate,
          sort_order: this.filterSortOrder,
          additional_filters: JSON.stringify(this.additionalFilters)
        });

        this.send("refreshRoute");
      },
      loadMore: function loadMore() {
        return this.reviewables.loadMore();
      },
      toggleFilters: function toggleFilters() {
        this.toggleProperty("filtersExpanded");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "allTypes", [_dec], Object.getOwnPropertyDescriptor(_obj, "allTypes"), _obj), _applyDecoratedDescriptor(_obj, "priorities", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "priorities"), _obj), _applyDecoratedDescriptor(_obj, "sortOrders", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "sortOrders"), _obj), _applyDecoratedDescriptor(_obj, "statuses", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "statuses"), _obj), _applyDecoratedDescriptor(_obj, "toggleFiltersIcon", [_dec2], Object.getOwnPropertyDescriptor(_obj, "toggleFiltersIcon"), _obj)), _obj)));
});
define("discourse/controllers/review-settings", ["exports", "@ember/controller", "discourse/lib/ajax", "discourse/lib/ajax-error"], function (exports, _controller, _ajax, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    saving: false,
    saved: false,

    actions: {
      save: function save() {
        var _this = this;

        var priorities = {};
        this.get("settings.reviewable_score_types").forEach(function (st) {
          priorities[st.id] = parseFloat(st.reviewable_priority);
        });

        this.set("saving", true);
        (0, _ajax.ajax)("/review/settings", {
          method: "PUT",
          data: { reviewable_priorities: priorities }
        }).then(function () {
          _this.set("saved", true);
        }).catch(_ajaxError.popupAjaxError).finally(function () {
          return _this.set("saving", false);
        });
      }
    }
  });
});
define("discourse/controllers/second-factor-add-security-key", ["exports", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/lib/webauthn"], function (exports, _controller, _modalFunctionality, _webauthn) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    loading: false,
    errorMessage: null,

    onShow: function onShow() {
      var _this = this;

      // clear properties every time because the controller is a singleton
      this.setProperties({
        errorMessage: null,
        loading: true,
        securityKeyName: I18n.t("user.second_factor.security_key.default_name"),
        webauthnUnsupported: !(0, _webauthn.isWebauthnSupported)()
      });

      this.model.requestSecurityKeyChallenge().then(function (response) {
        if (response.error) {
          _this.set("errorMessage", response.error);
          return;
        }

        _this.setProperties({
          errorMessage: (0, _webauthn.isWebauthnSupported)() ? null : I18n.t("login.security_key_support_missing_error"),
          loading: false,
          challenge: response.challenge,
          relayingParty: {
            id: response.rp_id,
            name: response.rp_name
          },
          supported_algoriths: response.supported_algoriths,
          user_secure_id: response.user_secure_id,
          existing_active_credential_ids: response.existing_active_credential_ids
        });
      }).catch(function (error) {
        _this.send("closeModal");
        _this.onError(error);
      }).finally(function () {
        return _this.set("loading", false);
      });
    },


    actions: {
      registerSecurityKey: function registerSecurityKey() {
        var _this2 = this;

        var publicKeyCredentialCreationOptions = {
          challenge: Uint8Array.from(this.challenge, function (c) {
            return c.charCodeAt(0);
          }),
          rp: {
            name: this.relayingParty.name,
            id: this.relayingParty.id
          },
          user: {
            id: Uint8Array.from(this.user_secure_id, function (c) {
              return c.charCodeAt(0);
            }),
            displayName: this.model.username_lower,
            name: this.model.username_lower
          },
          pubKeyCredParams: this.supported_algoriths.map(function (alg) {
            return { type: "public-key", alg: alg };
          }),
          excludeCredentials: this.existing_active_credential_ids.map(function (credentialId) {
            return {
              type: "public-key",
              id: (0, _webauthn.stringToBuffer)(atob(credentialId))
            };
          }),
          timeout: 20000,
          attestation: "none",
          authenticatorSelection: {
            // see https://chromium.googlesource.com/chromium/src/+/master/content/browser/webauth/uv_preferred.md for why
            // default value of preferred is not necesarrily what we want, it limits webauthn to only devices that support
            // user verification, which usually requires entering a PIN
            userVerification: "discouraged"
          }
        };

        navigator.credentials.create({
          publicKey: publicKeyCredentialCreationOptions
        }).then(function (credential) {
          var serverData = {
            id: credential.id,
            rawId: (0, _webauthn.bufferToBase64)(credential.rawId),
            type: credential.type,
            attestation: (0, _webauthn.bufferToBase64)(credential.response.attestationObject),
            clientData: (0, _webauthn.bufferToBase64)(credential.response.clientDataJSON),
            name: _this2.securityKeyName
          };

          _this2.model.registerSecurityKey(serverData).then(function (response) {
            if (response.error) {
              _this2.set("errorMessage", response.error);
              return;
            }
            _this2.markDirty();
            _this2.set("errorMessage", null);
            _this2.send("closeModal");
          }).catch(function (error) {
            return _this2.onError(error);
          }).finally(function () {
            return _this2.set("loading", false);
          });
        }, function (err) {
          if (err.name === "InvalidStateError") {
            return _this2.set("errorMessage", I18n.t("user.second_factor.security_key.already_added_error"));
          }
          if (err.name === "NotAllowedError") {
            return _this2.set("errorMessage", I18n.t("user.second_factor.security_key.not_allowed_error"));
          }
          _this2.set("errorMessage", err.message);
        });
      }
    }
  });
});
define("discourse/controllers/second-factor-add-totp", ["exports", "@ember/controller", "discourse/mixins/modal-functionality"], function (exports, _controller, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    loading: false,
    secondFactorImage: null,
    secondFactorKey: null,
    showSecondFactorKey: false,
    errorMessage: null,

    onShow: function onShow() {
      var _this = this;

      this.setProperties({
        errorMessage: null,
        secondFactorKey: null,
        secondFactorName: null,
        secondFactorToken: null,
        showSecondFactorKey: false,
        secondFactorImage: null,
        loading: true
      });
      this.model.createSecondFactorTotp().then(function (response) {
        if (response.error) {
          _this.set("errorMessage", response.error);
          return;
        }

        _this.setProperties({
          errorMessage: null,
          secondFactorKey: response.key,
          secondFactorImage: response.qr
        });
      }).catch(function (error) {
        _this.send("closeModal");
        _this.onError(error);
      }).finally(function () {
        return _this.set("loading", false);
      });
    },


    actions: {
      showSecondFactorKey: function showSecondFactorKey() {
        this.set("showSecondFactorKey", true);
      },
      enableSecondFactor: function enableSecondFactor() {
        var _this2 = this;

        if (!this.secondFactorToken) return;
        this.set("loading", true);

        this.model.enableSecondFactorTotp(this.secondFactorToken, this.secondFactorName).then(function (response) {
          if (response.error) {
            _this2.set("errorMessage", response.error);
            return;
          }
          _this2.markDirty();
          _this2.set("errorMessage", null);
          _this2.send("closeModal");
        }).catch(function (error) {
          return _this2.onError(error);
        }).finally(function () {
          return _this2.set("loading", false);
        });
      }
    }
  });
});
define("discourse/controllers/second-factor-backup-edit", ["exports", "@ember/object/computed", "@ember/runloop", "@ember/controller", "discourse-common/utils/decorators", "discourse/models/user", "discourse/mixins/modal-functionality"], function (exports, _computed, _runloop, _controller, _decorators, _user, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)("backupEnabled"), (_obj = {
    loading: false,
    errorMessage: null,
    successMessage: null,
    backupEnabled: (0, _computed.alias)("model.second_factor_backup_enabled"),
    remainingCodes: (0, _computed.alias)("model.second_factor_remaining_backup_codes"),
    backupCodes: null,
    secondFactorMethod: _user.SECOND_FACTOR_METHODS.TOTP,

    generateBackupCodeBtnLabel: function generateBackupCodeBtnLabel(backupEnabled) {
      return backupEnabled ? "user.second_factor_backup.regenerate" : "user.second_factor_backup.enable";
    },
    onShow: function onShow() {
      this.setProperties({
        loading: false,
        errorMessage: null,
        successMessage: null,
        backupCodes: null
      });
    },


    actions: {
      copyBackupCode: function copyBackupCode(successful) {
        if (successful) {
          this.set("successMessage", I18n.t("user.second_factor_backup.copied_to_clipboard"));
        } else {
          this.set("errorMessage", I18n.t("user.second_factor_backup.copy_to_clipboard_error"));
        }

        this._hideCopyMessage();
      },
      disableSecondFactorBackup: function disableSecondFactorBackup() {
        var _this = this;

        this.set("backupCodes", []);
        this.set("loading", true);

        this.model.updateSecondFactor(0, "", true, _user.SECOND_FACTOR_METHODS.BACKUP_CODE).then(function (response) {
          if (response.error) {
            _this.set("errorMessage", response.error);
            return;
          }

          _this.set("errorMessage", null);
          _this.model.set("second_factor_backup_enabled", false);
          _this.markDirty();
          _this.send("closeModal");
        }).catch(function (error) {
          _this.send("closeModal");
          _this.onError(error);
        }).finally(function () {
          return _this.set("loading", false);
        });
      },
      generateSecondFactorCodes: function generateSecondFactorCodes() {
        var _this2 = this;

        this.set("loading", true);
        this.model.generateSecondFactorCodes().then(function (response) {
          if (response.error) {
            _this2.set("errorMessage", response.error);
            return;
          }

          _this2.markDirty();
          _this2.setProperties({
            errorMessage: null,
            backupCodes: response.backup_codes,
            backupEnabled: true,
            remainingCodes: response.backup_codes.length
          });
        }).catch(function (error) {
          _this2.send("closeModal");
          _this2.onError(error);
        }).finally(function () {
          _this2.setProperties({
            loading: false
          });
        });
      }
    },

    _hideCopyMessage: function _hideCopyMessage() {
      var _this3 = this;

      (0, _runloop.later)(function () {
        return _this3.setProperties({ successMessage: null, errorMessage: null });
      }, 2000);
    }
  }, (_applyDecoratedDescriptor(_obj, "generateBackupCodeBtnLabel", [_dec], Object.getOwnPropertyDescriptor(_obj, "generateBackupCodeBtnLabel"), _obj)), _obj)));
});
define("discourse/controllers/second-factor-edit-security-key", ["exports", "@ember/controller", "discourse/mixins/modal-functionality"], function (exports, _controller, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    actions: {
      disableSecurityKey: function disableSecurityKey() {
        var _this = this;

        this.user.updateSecurityKey(this.model.id, this.model.name, true).then(function (response) {
          if (response.error) {
            return;
          }
          _this.markDirty();
        }).catch(function (error) {
          _this.send("closeModal");
          _this.onError(error);
        }).finally(function () {
          _this.set("loading", false);
          _this.send("closeModal");
        });
      },
      editSecurityKey: function editSecurityKey() {
        var _this2 = this;

        this.user.updateSecurityKey(this.model.id, this.model.name, false).then(function (response) {
          if (response.error) {
            return;
          }
          _this2.markDirty();
        }).catch(function (error) {
          _this2.onError(error);
        }).finally(function () {
          _this2.set("loading", false);
          _this2.send("closeModal");
        });
      }
    }
  });
});
define("discourse/controllers/second-factor-edit", ["exports", "@ember/controller", "discourse/mixins/modal-functionality"], function (exports, _controller, _modalFunctionality) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    actions: {
      disableSecondFactor: function disableSecondFactor() {
        var _this = this;

        this.user.updateSecondFactor(this.model.id, this.model.name, true, this.model.method).then(function (response) {
          if (response.error) {
            return;
          }
          _this.markDirty();
        }).catch(function (error) {
          _this.send("closeModal");
          _this.onError(error);
        }).finally(function () {
          _this.set("loading", false);
          _this.send("closeModal");
        });
      },
      editSecondFactor: function editSecondFactor() {
        var _this2 = this;

        this.user.updateSecondFactor(this.model.id, this.model.name, false, this.model.method).then(function (response) {
          if (response.error) {
            return;
          }
          _this2.markDirty();
        }).catch(function (error) {
          _this2.send("closeModal");
          _this2.onError(error);
        }).finally(function () {
          _this2.set("loading", false);
          _this2.send("closeModal");
        });
      }
    }
  });
});
define("discourse/controllers/static", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/controller", "discourse/lib/ajax", "discourse/lib/url"], function (exports, _decorators, _computed, _controller, _ajax, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("model.path"), _dec2 = (0, _decorators.default)("model.path"), (_obj = {
    application: (0, _controller.inject)(),

    showLoginButton: (0, _computed.equal)("model.path", "login"),

    bodyClass: function bodyClass(path) {
      return "static-" + path;
    },

    showSignupButton: function showSignupButton() {
      return this.get("model.path") === "login" && this.get("application.canSignUp");
    },


    actions: {
      markFaqRead: function markFaqRead() {
        var currentUser = this.currentUser;
        if (currentUser) {
          (0, _ajax.ajax)((0, _url.userPath)("read-faq"), { method: "POST" }).then(function () {
            currentUser.set("read_faq", true);
          });
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "bodyClass", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "bodyClass"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "showSignupButton", [_dec2], Object.getOwnPropertyDescriptor(_obj, "showSignupButton"), _obj)), _obj)));
});
define("discourse/controllers/tag-groups-edit", ["exports", "@ember/controller"], function (exports, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    tagGroups: (0, _controller.inject)(),

    actions: {
      onDestroy: function onDestroy() {
        var tagGroups = this.tagGroups.model;
        tagGroups.removeObject(this.model);

        this.transitionToRoute("tagGroups.index");
      }
    }
  });
});
define("discourse/controllers/tag-groups-new", ["exports", "@ember/controller"], function (exports, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    tagGroups: (0, _controller.inject)(),

    actions: {
      onSave: function onSave() {
        var tagGroups = this.tagGroups.model;
        tagGroups.pushObject(this.model);

        this.transitionToRoute("tagGroups.edit", this.model);
      }
    }
  });
});
define("discourse/controllers/tag-groups", ["exports", "@ember/controller"], function (exports, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    actions: {
      newTagGroup: function newTagGroup() {
        this.transitionToRoute("tagGroups.new");
      }
    }
  });
});
define("discourse/controllers/tags-index", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/controller", "discourse/lib/show-modal", "discourse/lib/ajax", "discourse/lib/ajax-error"], function (exports, _decorators, _computed, _controller, _showModal, _ajax, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("groupedByCategory", "groupedByTagGroup"), (_obj = {
    sortedByCount: true,
    sortedByName: false,

    canAdminTags: (0, _computed.alias)("currentUser.staff"),
    groupedByCategory: (0, _computed.notEmpty)("model.extras.categories"),
    groupedByTagGroup: (0, _computed.notEmpty)("model.extras.tag_groups"),

    init: function init() {
      this._super.apply(this, arguments);

      this.sortProperties = ["totalCount:desc", "id"];
    },
    otherTagsTitleKey: function otherTagsTitleKey(groupedByCategory, groupedByTagGroup) {
      if (!groupedByCategory && !groupedByTagGroup) {
        return "tagging.all_tags";
      } else {
        return "tagging.other_tags";
      }
    },
    actionsMapping: function actionsMapping() {
      var _this = this;

      return {
        manageGroups: function manageGroups() {
          return _this.send("showTagGroups");
        },
        uploadTags: function uploadTags() {
          return _this.send("showUploader");
        },
        deleteUnusedTags: function deleteUnusedTags() {
          return _this.send("deleteUnused");
        }
      };
    },


    actions: {
      sortByCount: function sortByCount() {
        this.setProperties({
          sortProperties: ["totalCount:desc", "id"],
          sortedByCount: true,
          sortedByName: false
        });
      },
      sortById: function sortById() {
        this.setProperties({
          sortProperties: ["id"],
          sortedByCount: false,
          sortedByName: true
        });
      },
      showUploader: function showUploader() {
        (0, _showModal.default)("tag-upload");
      },
      deleteUnused: function deleteUnused() {
        var _this2 = this;

        (0, _ajax.ajax)("/tags/unused", { type: "GET" }).then(function (result) {
          var displayN = 20;
          var tags = result["tags"];
          var joinedTags = tags.slice(0, displayN).join(", ");
          var more = Math.max(0, tags.length - displayN);

          var tagsString = more === 0 ? joinedTags : I18n.t("tagging.delete_unused_confirmation_more_tags", {
            count: more,
            tags: joinedTags
          });

          var string = I18n.t("tagging.delete_unused_confirmation", {
            count: tags.length,
            tags: tagsString
          });

          bootbox.confirm(string, I18n.t("tagging.cancel_delete_unused"), I18n.t("tagging.delete_unused"), function (proceed) {
            if (proceed) {
              (0, _ajax.ajax)("/tags/unused", { type: "DELETE" }).then(function () {
                return _this2.send("refresh");
              }).catch(_ajaxError.popupAjaxError);
            }
          });
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "otherTagsTitleKey", [_dec], Object.getOwnPropertyDescriptor(_obj, "otherTagsTitleKey"), _obj), _applyDecoratedDescriptor(_obj, "actionsMapping", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "actionsMapping"), _obj)), _obj)));
});
define("discourse/controllers/tags-show", ["exports", "@ember/object/computed", "@ember/controller", "discourse-common/utils/decorators", "discourse/mixins/bulk-topic-selection", "discourse/models/nav-item", "discourse/mixins/filter-mode", "discourse/controllers/discovery-sortable"], function (exports, _computed, _controller, _decorators, _bulkTopicSelection, _navItem, _filterMode, _discoverySortable) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _obj;

  exports.default = _controller.default.extend(_bulkTopicSelection.default, _filterMode.default, (_dec = (0, _decorators.default)("list", "list.draft"), _dec2 = (0, _decorators.default)("canCreateTopic", "category", "canCreateTopicOnCategory", "tag", "canCreateTopicOnTag"), _dec3 = (0, _decorators.default)("category", "tag.id", "filterType", "noSubcategories"), _dec4 = (0, _decorators.default)("category"), _dec5 = (0, _decorators.default)("additionalTags", "category", "tag.id"), _dec6 = (0, _decorators.observes)("list.canLoadMore"), _dec7 = (0, _decorators.default)("navMode", "list.topics.length", "loading"), (_obj = {
    application: (0, _controller.inject)(),

    tag: null,
    additionalTags: null,
    list: null,
    canAdminTag: (0, _computed.alias)("currentUser.staff"),
    navMode: "latest",
    loading: false,
    canCreateTopic: false,
    order: "default",
    ascending: false,
    status: null,
    state: null,
    search: null,
    max_posts: null,
    q: null,
    showInfo: false,

    categories: (0, _computed.alias)("site.categoriesList"),

    createTopicLabel: function createTopicLabel(list, listDraft) {
      return listDraft ? "topic.open_draft" : "topic.create";
    },
    createTopicDisabled: function createTopicDisabled(canCreateTopic, category, canCreateTopicOnCategory, tag, canCreateTopicOnTag) {
      return !canCreateTopic || category && !canCreateTopicOnCategory || tag && !canCreateTopicOnTag;
    },


    queryParams: Object.keys(_discoverySortable.queryParams),

    navItems: function navItems(category, tagId, filterType, noSubcategories) {
      return _navItem.default.buildList(category, {
        tagId: tagId,
        filterType: filterType,
        noSubcategories: noSubcategories
      });
    },
    showTagFilter: function showTagFilter() {
      return Discourse.SiteSettings.show_filter_by_tag;
    },
    showToggleInfo: function showToggleInfo(additionalTags, category, tagId) {
      return !additionalTags && !category && tagId !== "none";
    },
    loadMoreTopics: function loadMoreTopics() {
      return this.list.loadMore();
    },
    _showFooter: function _showFooter() {
      this.set("application.showFooter", !this.get("list.canLoadMore"));
    },
    footerMessage: function footerMessage(navMode, listTopicsLength, loading) {
      if (loading || listTopicsLength !== 0) {
        return;
      }

      if (listTopicsLength === 0) {
        return I18n.t("tagging.topics.none." + navMode, {
          tag: this.get("tag.id")
        });
      } else {
        return I18n.t("tagging.topics.bottom." + navMode, {
          tag: this.get("tag.id")
        });
      }
    },


    actions: {
      changeSort: function changeSort(order) {
        if (order === this.order) {
          this.toggleProperty("ascending");
        } else {
          this.setProperties({ order: order, ascending: false });
        }

        this.transitionToRoute({
          queryParams: { order: order, ascending: this.ascending }
        });
      },
      toggleInfo: function toggleInfo() {
        this.toggleProperty("showInfo");
      },
      refresh: function refresh() {
        var _this = this;

        // TODO: this probably doesn't work anymore
        return this.store.findFiltered("topicList", { filter: "tags/" + this.get("tag.id") }).then(function (list) {
          _this.set("list", list);
          _this.resetSelected();
        });
      },
      deleteTag: function deleteTag(tagInfo) {
        var _this2 = this;

        var numTopics = this.get("list.topic_list.tags.firstObject.topic_count") || 0;

        var confirmText = numTopics === 0 ? I18n.t("tagging.delete_confirm_no_topics") : I18n.t("tagging.delete_confirm", { count: numTopics });

        if (tagInfo.synonyms.length > 0) {
          confirmText += " " + I18n.t("tagging.delete_confirm_synonyms", {
            count: tagInfo.synonyms.length
          });
        }

        bootbox.confirm(confirmText, function (result) {
          if (!result) return;

          _this2.tag.destroyRecord().then(function () {
            return _this2.transitionToRoute("tags.index");
          }).catch(function () {
            return bootbox.alert(I18n.t("generic_error"));
          });
        });
      },
      changeTagNotificationLevel: function changeTagNotificationLevel(notificationLevel) {
        this.tagNotification.update({ notification_level: notificationLevel });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "createTopicLabel", [_dec], Object.getOwnPropertyDescriptor(_obj, "createTopicLabel"), _obj), _applyDecoratedDescriptor(_obj, "createTopicDisabled", [_dec2], Object.getOwnPropertyDescriptor(_obj, "createTopicDisabled"), _obj), _applyDecoratedDescriptor(_obj, "navItems", [_dec3], Object.getOwnPropertyDescriptor(_obj, "navItems"), _obj), _applyDecoratedDescriptor(_obj, "showTagFilter", [_dec4], Object.getOwnPropertyDescriptor(_obj, "showTagFilter"), _obj), _applyDecoratedDescriptor(_obj, "showToggleInfo", [_dec5], Object.getOwnPropertyDescriptor(_obj, "showToggleInfo"), _obj), _applyDecoratedDescriptor(_obj, "_showFooter", [_dec6], Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _obj), _applyDecoratedDescriptor(_obj, "footerMessage", [_dec7], Object.getOwnPropertyDescriptor(_obj, "footerMessage"), _obj)), _obj)));
});
define("discourse/controllers/topic-bulk-actions", ["exports", "@ember/object/computed", "@ember/controller", "discourse/mixins/modal-functionality", "discourse/models/topic", "discourse/models/category"], function (exports, _computed, _controller, _modalFunctionality, _topic, _category) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addBulkButton = undefined;


  var _buttons = [];

  var alwaysTrue = function alwaysTrue() {
    return true;
  };

  function identity() {}

  function addBulkButton(action, key, opts) {
    opts = opts || {};

    var btn = {
      action: action,
      label: "topics.bulk." + key,
      icon: opts.icon,
      buttonVisible: opts.buttonVisible || alwaysTrue,
      class: opts.class
    };

    _buttons.push(btn);
  }

  // Default buttons
  addBulkButton("showChangeCategory", "change_category", {
    icon: "pencil-alt",
    class: "btn-default"
  });
  addBulkButton("closeTopics", "close_topics", {
    icon: "lock",
    class: "btn-default"
  });
  addBulkButton("archiveTopics", "archive_topics", {
    icon: "folder",
    class: "btn-default"
  });
  addBulkButton("showNotificationLevel", "notification_level", {
    icon: "d-regular",
    class: "btn-default"
  });
  addBulkButton("resetRead", "reset_read", {
    icon: "backward",
    class: "btn-default"
  });
  addBulkButton("unlistTopics", "unlist_topics", {
    icon: "far-eye-slash",
    class: "btn-default",
    buttonVisible: function buttonVisible(topics) {
      return topics.some(function (t) {
        return t.visible;
      });
    }
  });
  addBulkButton("relistTopics", "relist_topics", {
    icon: "far-eye",
    class: "btn-default",
    buttonVisible: function buttonVisible(topics) {
      return topics.some(function (t) {
        return !t.visible;
      });
    }
  });
  if (Discourse.SiteSettings.tagging_enabled) {
    addBulkButton("showTagTopics", "change_tags", {
      icon: "tag",
      class: "btn-default"
    });
    addBulkButton("showAppendTagTopics", "append_tags", {
      icon: "tag",
      class: "btn-default"
    });
  }
  addBulkButton("deleteTopics", "delete", {
    icon: "trash-alt",
    class: "btn-danger"
  });

  // Modal for performing bulk actions on topics
  exports.default = _controller.default.extend(_modalFunctionality.default, {
    tags: null,

    emptyTags: (0, _computed.empty)("tags"),
    categoryId: (0, _computed.alias)("model.category.id"),

    onShow: function onShow() {
      var topics = this.get("model.topics");
      // const relistButtonIndex = _buttons.findIndex(b => b.action === 'relistTopics');

      this.set("buttons", _buttons.filter(function (b) {
        return b.buttonVisible(topics);
      }));
      this.set("modal.modalClass", "topic-bulk-actions-modal small");
      this.send("changeBulkTemplate", "modal/bulk-actions-buttons");
    },
    perform: function perform(operation) {
      var _this = this;

      this.set("loading", true);

      var topics = this.get("model.topics");
      return _topic.default.bulkOperation(topics, operation).then(function (result) {
        _this.set("loading", false);
        if (result && result.topic_ids) {
          return result.topic_ids.map(function (t) {
            return topics.findBy("id", t);
          });
        }
        return result;
      }).catch(function () {
        bootbox.alert(I18n.t("generic_error"));
        _this.set("loading", false);
      });
    },
    forEachPerformed: function forEachPerformed(operation, cb) {
      var _this2 = this;

      this.perform(operation).then(function (topics) {
        if (topics) {
          topics.forEach(cb);
          (_this2.refreshClosure || identity)();
          _this2.send("closeModal");
        }
      });
    },
    performAndRefresh: function performAndRefresh(operation) {
      var _this3 = this;

      return this.perform(operation).then(function () {
        (_this3.refreshClosure || identity)();
        _this3.send("closeModal");
      });
    },


    actions: {
      showTagTopics: function showTagTopics() {
        this.set("tags", "");
        this.set("action", "changeTags");
        this.set("label", "change_tags");
        this.set("title", "choose_new_tags");
        this.send("changeBulkTemplate", "bulk-tag");
      },
      changeTags: function changeTags() {
        this.performAndRefresh({ type: "change_tags", tags: this.tags });
      },
      showAppendTagTopics: function showAppendTagTopics() {
        this.set("tags", "");
        this.set("action", "appendTags");
        this.set("label", "append_tags");
        this.set("title", "choose_append_tags");
        this.send("changeBulkTemplate", "bulk-tag");
      },
      appendTags: function appendTags() {
        this.performAndRefresh({ type: "append_tags", tags: this.tags });
      },
      showChangeCategory: function showChangeCategory() {
        this.send("changeBulkTemplate", "modal/bulk-change-category");
      },
      showNotificationLevel: function showNotificationLevel() {
        this.send("changeBulkTemplate", "modal/bulk-notification-level");
      },
      deleteTopics: function deleteTopics() {
        this.performAndRefresh({ type: "delete" });
      },
      closeTopics: function closeTopics() {
        this.forEachPerformed({ type: "close" }, function (t) {
          return t.set("closed", true);
        });
      },
      archiveTopics: function archiveTopics() {
        this.forEachPerformed({ type: "archive" }, function (t) {
          return t.set("archived", true);
        });
      },
      unlistTopics: function unlistTopics() {
        this.forEachPerformed({ type: "unlist" }, function (t) {
          return t.set("visible", false);
        });
      },
      relistTopics: function relistTopics() {
        this.forEachPerformed({ type: "relist" }, function (t) {
          return t.set("visible", true);
        });
      },
      changeCategory: function changeCategory() {
        var _this4 = this;

        var categoryId = parseInt(this.newCategoryId, 10) || 0;
        var category = _category.default.findById(categoryId);

        this.perform({ type: "change_category", category_id: categoryId }).then(function (topics) {
          topics.forEach(function (t) {
            return t.set("category", category);
          });
          (_this4.refreshClosure || identity)();
          _this4.send("closeModal");
        });
      },
      resetRead: function resetRead() {
        this.performAndRefresh({ type: "reset_read" });
      }
    }
  });
  exports.addBulkButton = addBulkButton;
});
define("discourse/controllers/topic", ["exports", "@ember/utils", "@ember/object/computed", "@ember/object", "@ember/runloop", "@ember/controller", "discourse/mixins/buffered-content", "discourse/models/composer", "discourse/lib/url", "discourse/models/post", "discourse/lib/quote", "discourse/lib/quote-state", "discourse/models/topic", "discourse/lib/debounce", "discourse/lib/is-element-in-viewport", "discourse/lib/ajax", "discourse-common/utils/decorators", "discourse/lib/render-topic-featured-link", "discourse/lib/ajax-error", "discourse/helpers/loading-spinner", "discourse/lib/show-modal", "discourse/models/topic-timer", "rsvp"], function (exports, _utils, _computed, _object, _runloop, _controller, _bufferedContent, _composer, _url, _post, _quote, _quoteState, _topic, _debounce, _isElementInViewport, _ajax, _decorators, _renderTopicFeaturedLink, _ajaxError, _loadingSpinner, _showModal, _topicTimer, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.resetCustomPostMessageCallbacks = resetCustomPostMessageCallbacks;
  exports.registerCustomPostMessageCallback = registerCustomPostMessageCallback;

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _desc, _value, _obj;

  var customPostMessageCallbacks = {};

  function resetCustomPostMessageCallbacks() {
    customPostMessageCallbacks = {};
  }

  function registerCustomPostMessageCallback(type, callback) {
    if (customPostMessageCallbacks[type]) {
      throw new Error("Error " + type + " is an already registered post message!");
    }

    customPostMessageCallbacks[type] = callback;
  }

  exports.default = _controller.default.extend((0, _bufferedContent.bufferedProperty)("model"), (_dec = (0, _decorators.observes)("model.title", "category"), _dec2 = (0, _decorators.default)("model.details.can_create_post"), _dec3 = (0, _decorators.default)("model.postStream.loaded", "model.category_id"), _dec4 = (0, _decorators.default)("site.mobileView", "model.posts_count"), _dec5 = (0, _decorators.default)("model.postStream.posts", "model.postStream.postsWithPlaceholders"), _dec6 = (0, _decorators.default)("model.postStream.loadingFilter"), _dec7 = (0, _decorators.default)("model"), _dec8 = (0, _decorators.default)("model.isPrivateMessage", "model.category.id"), _dec9 = (0, _decorators.default)("model"), _dec10 = (0, _decorators.default)("model.isPrivateMessage"), _dec11 = (0, _decorators.default)("selectedPostIds", "model.postStream.posts", "selectedPostIds.[]", "model.postStream.posts.[]"), _dec12 = (0, _decorators.default)("selectedPostsCount", "selectedPosts", "selectedPosts.[]"), _dec13 = (0, _decorators.default)("selectedPostsCount", "model.postStream.isMegaTopic", "model.postStream.stream.length", "model.posts_count"), _dec14 = (0, _decorators.default)("selectedAllPosts", "model.postStream.isMegaTopic"), _dec15 = (0, _decorators.default)("currentUser.staff", "selectedPostsCount", "selectedAllPosts", "selectedPosts", "selectedPosts.[]"), _dec16 = (0, _decorators.default)("model.details.can_move_posts", "selectedPostsCount"), _dec17 = (0, _decorators.default)("currentUser.admin", "selectedPostsCount", "selectedPostsUsername"), _dec18 = (0, _decorators.default)("selectedPostsCount", "selectedPostsUsername", "selectedPosts", "selectedPosts.[]"), _dec19 = (0, _decorators.observes)("multiSelect"), _dec20 = (0, _decorators.observes)("model.postStream.loaded", "model.postStream.loadedAllPosts"), (_obj = {
    composer: (0, _controller.inject)(),
    application: (0, _controller.inject)(),
    multiSelect: false,
    selectedPostIds: null,
    editingTopic: false,
    queryParams: ["filter", "username_filters"],
    loadedAllPosts: (0, _computed.or)("model.postStream.loadedAllPosts", "model.postStream.loadingLastPost"),
    enteredAt: null,
    enteredIndex: null,
    retrying: false,
    userTriggeredProgress: null,
    _progressIndex: null,
    hasScrolled: null,
    username_filters: null,
    filter: null,
    quoteState: null,

    canRemoveTopicFeaturedLink: (0, _computed.and)("canEditTopicFeaturedLink", "buffered.featured_link"),

    updateQueryParams: function updateQueryParams() {
      this.setProperties(this.get("model.postStream.streamFilters"));
    },
    _titleChanged: function _titleChanged() {
      var title = this.get("model.title");
      if (!(0, _utils.isEmpty)(title)) {
        // force update lazily loaded titles
        this.send("refreshTitle");
      }
    },
    embedQuoteButton: function embedQuoteButton(canCreatePost) {
      return canCreatePost && this.currentUser && this.currentUser.get("enable_quoting");
    },
    showSharedDraftControls: function showSharedDraftControls(loaded, categoryId) {
      var draftCat = this.site.shared_drafts_category_id;
      return loaded && draftCat && categoryId && draftCat === categoryId;
    },
    showSelectedPostsAtBottom: function showSelectedPostsAtBottom(mobileView, postsCount) {
      return mobileView && postsCount > 3;
    },
    postsToRender: function postsToRender(posts, postsWithPlaceholders) {
      return this.capabilities.isAndroid ? posts : postsWithPlaceholders;
    },
    androidLoading: function androidLoading(loading) {
      return this.capabilities.isAndroid && loading;
    },
    pmPath: function pmPath(topic) {
      return this.currentUser && this.currentUser.pmPath(topic);
    },
    init: function init() {
      this._super.apply(this, arguments);

      this.appEvents.on("post:show-revision", this, "_showRevision");

      this.setProperties({
        selectedPostIds: [],
        quoteState: new _quoteState.default()
      });
    },
    willDestroy: function willDestroy() {
      this._super.apply(this, arguments);

      this.appEvents.off("post:show-revision", this, "_showRevision");
    },
    _showRevision: function _showRevision(postNumber, revision) {
      var _this = this;

      var post = this.model.get("postStream").postForPostNumber(postNumber);
      if (!post) {
        return;
      }

      (0, _runloop.scheduleOnce)("afterRender", function () {
        _this.send("showHistory", post, revision);
      });
    },


    showCategoryChooser: (0, _computed.not)("model.isPrivateMessage"),

    gotoInbox: function gotoInbox(name) {
      var url = (0, _url.userPath)(this.get("currentUser.username_lower") + "/messages");
      if (name) {
        url = url + "/group/" + name;
      }
      _url.default.routeTo(url);
    },
    selectedQuery: function selectedQuery() {
      var _this2 = this;

      return function (post) {
        return _this2.postSelected(post);
      };
    },
    canEditTopicFeaturedLink: function canEditTopicFeaturedLink(isPrivateMessage, categoryId) {
      if (!this.siteSettings.topic_featured_link_enabled || isPrivateMessage) {
        return false;
      }

      var categoryIds = this.site.get("topic_featured_link_allowed_category_ids");
      return categoryIds === undefined || !categoryIds.length || categoryIds.includes(categoryId);
    },
    featuredLinkDomain: function featuredLinkDomain(topic) {
      return (0, _renderTopicFeaturedLink.extractLinkMeta)(topic).domain;
    },
    canEditTags: function canEditTags(isPrivateMessage) {
      return this.site.get("can_tag_topics") && (!isPrivateMessage || this.site.get("can_tag_pms"));
    },
    _forceRefreshPostStream: function _forceRefreshPostStream() {
      this.appEvents.trigger("post-stream:refresh", { force: true });
    },
    _updateSelectedPostIds: function _updateSelectedPostIds(postIds) {
      var smallActionsPostIds = this._smallActionPostIds();
      this.selectedPostIds.pushObjects(postIds.filter(function (postId) {
        return !smallActionsPostIds.has(postId);
      }));
      this.set("selectedPostIds", [].concat(_toConsumableArray(new Set(this.selectedPostIds))));
      this._forceRefreshPostStream();
    },
    _smallActionPostIds: function _smallActionPostIds() {
      var smallActionsPostIds = new Set();
      var posts = this.get("model.postStream.posts");
      if (posts) {
        var small_action = this.site.get("post_types.small_action");
        var whisper = this.site.get("post_types.whisper");
        posts.forEach(function (post) {
          if (post.post_type === small_action || !post.cooked && post.post_type === whisper) {
            smallActionsPostIds.add(post.id);
          }
        });
      }
      return smallActionsPostIds;
    },
    _loadPostIds: function _loadPostIds(post) {
      var _this3 = this;

      if (this.loadingPostIds) return;

      var postStream = this.get("model.postStream");
      var url = "/t/" + this.get("model.id") + "/post_ids.json";

      this.set("loadingPostIds", true);

      return (0, _ajax.ajax)(url, {
        data: _.merge({ post_number: post.get("post_number") }, postStream.get("streamFilters"))
      }).then(function (result) {
        result.post_ids.pushObject(post.get("id"));
        _this3._updateSelectedPostIds(result.post_ids);
      }).finally(function () {
        _this3.set("loadingPostIds", false);
      });
    },


    actions: {
      topicCategoryChanged: function topicCategoryChanged(categoryId) {
        this.set("buffered.category_id", categoryId);
      },
      topicTagsChanged: function topicTagsChanged(value) {
        this.set("buffered.tags", value);
      },
      deletePending: function deletePending(pending) {
        var _this4 = this;

        return (0, _ajax.ajax)("/review/" + pending.id, { type: "DELETE" }).then(function () {
          _this4.get("model.pending_posts").removeObject(pending);
        }).catch(_ajaxError.popupAjaxError);
      },
      showPostFlags: function showPostFlags(post) {
        return this.send("showFlags", post);
      },
      openFeatureTopic: function openFeatureTopic() {
        this.send("showFeatureTopic");
      },
      selectText: function selectText(postId, buffer, opts) {
        var _this5 = this;

        var loadedPost = this.get("model.postStream").findLoadedPost(postId);
        var promise = loadedPost ? _rsvp.Promise.resolve(loadedPost) : this.get("model.postStream").loadPost(postId);

        return promise.then(function (post) {
          var composer = _this5.composer;
          var viewOpen = composer.get("model.viewOpen");
          var quotedText = _quote.default.build(post, buffer, opts);

          // If we can't create a post, delegate to reply as new topic
          if (!viewOpen && !_this5.get("model.details.can_create_post")) {
            _this5.send("replyAsNewTopic", post, quotedText);
            return;
          }

          var composerOpts = {
            action: _composer.default.REPLY,
            draftSequence: post.get("topic.draft_sequence"),
            draftKey: post.get("topic.draft_key")
          };

          if (post.get("post_number") === 1) {
            composerOpts.topic = post.get("topic");
          } else {
            composerOpts.post = post;
          }

          // If the composer is associated with a different post, we don't change it.
          var composerPost = composer.get("model.post");
          if (composerPost && composerPost.get("id") !== _this5.get("post.id")) {
            composerOpts.post = composerPost;
          }

          composerOpts.quote = quotedText;
          if (composer.get("model.viewOpen")) {
            _this5.appEvents.trigger("composer:insert-block", quotedText);
          } else if (composer.get("model.viewDraft")) {
            var model = composer.get("model");
            model.set("reply", model.get("reply") + quotedText);
            composer.send("openIfDraft");
          } else {
            composer.open(composerOpts);
          }
        });
      },
      fillGapBefore: function fillGapBefore(args) {
        return this.get("model.postStream").fillGapBefore(args.post, args.gap);
      },
      fillGapAfter: function fillGapAfter(args) {
        return this.get("model.postStream").fillGapAfter(args.post, args.gap);
      },
      currentPostChanged: function currentPostChanged(event) {
        var post = event.post;

        if (!post) {
          return;
        }

        var postNumber = post.get("post_number");
        var topic = this.model;
        topic.set("currentPost", postNumber);
        if (postNumber > (topic.get("last_read_post_number") || 0)) {
          topic.set("last_read_post_id", post.get("id"));
          topic.set("last_read_post_number", postNumber);
        }

        this.send("postChangedRoute", postNumber);
        this._progressIndex = topic.get("postStream").progressIndexOfPost(post);

        this.appEvents.trigger("topic:current-post-changed", { post: post });
      },
      currentPostScrolled: function currentPostScrolled(event) {
        var total = this.get("model.postStream.filteredPostsCount");
        var percent = parseFloat(this._progressIndex + event.percent - 1) / total;
        this.appEvents.trigger("topic:current-post-scrolled", {
          postIndex: this._progressIndex,
          percent: Math.max(Math.min(percent, 1.0), 0.0)
        });
      },


      // Called when the topmost visible post on the page changes.
      topVisibleChanged: function topVisibleChanged(event) {
        var post = event.post,
            refresh = event.refresh;

        if (!post) {
          return;
        }

        var postStream = this.get("model.postStream");
        var firstLoadedPost = postStream.get("posts.firstObject");

        if (post.get && post.get("post_number") === 1) {
          return;
        }

        if (firstLoadedPost && firstLoadedPost === post) {
          postStream.prependMore().then(function () {
            return refresh();
          });
        }
      },


      // Called the the bottommost visible post on the page changes.
      bottomVisibleChanged: function bottomVisibleChanged(event) {
        var post = event.post,
            refresh = event.refresh;


        var postStream = this.get("model.postStream");
        var lastLoadedPost = postStream.get("posts.lastObject");

        if (lastLoadedPost && lastLoadedPost === post && postStream.get("canAppendMore")) {
          postStream.appendMore().then(function () {
            return refresh();
          });
          // show loading stuff
          refresh();
        }
      },
      toggleSummary: function toggleSummary() {
        var _this6 = this;

        return this.get("model.postStream").toggleSummary().then(function () {
          _this6.updateQueryParams();
        });
      },
      removeAllowedUser: function removeAllowedUser(user) {
        var _this7 = this;

        return this.get("model.details").removeAllowedUser(user).then(function () {
          if (_this7.currentUser.id === user.id) {
            _this7.transitionToRoute("userPrivateMessages", user);
          }
        });
      },
      removeAllowedGroup: function removeAllowedGroup(group) {
        return this.get("model.details").removeAllowedGroup(group);
      },
      deleteTopic: function deleteTopic() {
        this.deleteTopic();
      },


      // Archive a PM (as opposed to archiving a topic)
      toggleArchiveMessage: function toggleArchiveMessage() {
        var _this8 = this;

        var topic = this.model;

        if (topic.get("archiving")) {
          return;
        }

        var backToInbox = function backToInbox() {
          return _this8.gotoInbox(topic.get("inboxGroupName"));
        };

        if (topic.get("message_archived")) {
          topic.moveToInbox().then(backToInbox);
        } else {
          topic.archiveMessage().then(backToInbox);
        }
      },
      deferTopic: function deferTopic() {
        var _this9 = this;

        var screenTrack = Discourse.__container__.lookup("screen-track:main");
        var currentUser = this.currentUser;
        var topic = this.model;

        screenTrack.reset();
        screenTrack.stop();
        var goToPath = topic.get("isPrivateMessage") ? currentUser.pmPath(topic) : "/";
        (0, _ajax.ajax)("/t/" + topic.get("id") + "/timings.json?last=1", { type: "DELETE" }).then(function () {
          var highestSeenByTopic = _this9.session.get("highestSeenByTopic");
          highestSeenByTopic[topic.get("id")] = null;
          _url.default.routeTo(goToPath);
        }).catch(_ajaxError.popupAjaxError);
      },
      editFirstPost: function editFirstPost() {
        var _this10 = this;

        var postStream = this.get("model.postStream");
        var firstPost = postStream.get("posts.firstObject");

        if (firstPost.get("post_number") !== 1) {
          var postId = postStream.findPostIdForPostNumber(1);
          // try loading from identity map first
          firstPost = postStream.findLoadedPost(postId);
          if (firstPost === undefined) {
            return this.get("model.postStream").loadPost(postId).then(function (post) {
              _this10.send("editPost", post);
            });
          }
        }
        this.send("editPost", firstPost);
      },


      // Post related methods
      replyToPost: function replyToPost(post) {
        var composerController = this.composer;
        var topic = post ? post.get("topic") : this.model;
        var quoteState = this.quoteState;
        var postStream = this.get("model.postStream");

        this.appEvents.trigger("page:compose-reply", topic);

        if (!postStream || !topic || !topic.get("details.can_create_post")) {
          return;
        }

        var quotedPost = postStream.findLoadedPost(quoteState.postId);
        var quotedText = _quote.default.build(quotedPost, quoteState.buffer);

        quoteState.clear();

        if (composerController.get("model.topic.id") === topic.get("id") && composerController.get("model.action") === _composer.default.REPLY) {
          composerController.set("model.post", post);
          composerController.set("model.composeState", _composer.default.OPEN);
          this.appEvents.trigger("composer:insert-block", quotedText.trim());
        } else {
          var opts = {
            action: _composer.default.REPLY,
            draftKey: topic.get("draft_key"),
            draftSequence: topic.get("draft_sequence")
          };

          if (quotedText) {
            opts.quote = quotedText;
          }

          if (post && post.get("post_number") !== 1) {
            opts.post = post;
          } else {
            opts.topic = topic;
          }

          composerController.open(opts);
        }
        return false;
      },
      recoverPost: function recoverPost(post) {
        post.get("post_number") === 1 ? this.recoverTopic() : post.recover();
      },
      deletePost: function deletePost(post) {
        var _this11 = this;

        if (post.get("post_number") === 1) {
          return this.deleteTopic();
        } else if (!post.can_delete) {
          return false;
        }

        var user = this.currentUser;
        var refresh = function refresh() {
          return _this11.appEvents.trigger("post-stream:refresh");
        };
        var hasReplies = post.get("reply_count") > 0;
        var loadedPosts = this.get("model.postStream.posts");

        if (user.get("staff") && hasReplies) {
          (0, _ajax.ajax)("/posts/" + post.id + "/reply-ids.json").then(function (replies) {
            if (replies.length === 0) {
              return post.destroy(user).then(refresh).catch(function (error) {
                (0, _ajaxError.popupAjaxError)(error);
                post.undoDeleteState();
              });
            }

            var buttons = [];

            buttons.push({
              label: I18n.t("cancel"),
              class: "btn-danger right"
            });

            buttons.push({
              label: I18n.t("post.controls.delete_replies.just_the_post"),
              callback: function callback() {
                post.destroy(user).then(refresh).catch(function (error) {
                  (0, _ajaxError.popupAjaxError)(error);
                  post.undoDeleteState();
                });
              }
            });

            if (replies.some(function (r) {
              return r.level > 1;
            })) {
              buttons.push({
                label: I18n.t("post.controls.delete_replies.all_replies", {
                  count: replies.length
                }),
                callback: function callback() {
                  loadedPosts.forEach(function (p) {
                    return (p === post || replies.some(function (r) {
                      return r.id === p.id;
                    })) && p.setDeletedState(user);
                  });
                  _post.default.deleteMany([post.id].concat(_toConsumableArray(replies.map(function (r) {
                    return r.id;
                  })))).then(refresh).catch(_ajaxError.popupAjaxError);
                }
              });
            }

            var directReplyIds = replies.filter(function (r) {
              return r.level === 1;
            }).map(function (r) {
              return r.id;
            });

            buttons.push({
              label: I18n.t("post.controls.delete_replies.direct_replies", {
                count: directReplyIds.length
              }),
              class: "btn-primary",
              callback: function callback() {
                loadedPosts.forEach(function (p) {
                  return (p === post || directReplyIds.includes(p.id)) && p.setDeletedState(user);
                });
                _post.default.deleteMany([post.id].concat(_toConsumableArray(directReplyIds))).then(refresh).catch(_ajaxError.popupAjaxError);
              }
            });

            bootbox.dialog(I18n.t("post.controls.delete_replies.confirm"), buttons);
          });
        } else {
          return post.destroy(user).then(refresh).catch(function (error) {
            (0, _ajaxError.popupAjaxError)(error);
            post.undoDeleteState();
          });
        }
      },
      editPost: function editPost(post) {
        if (!this.currentUser) {
          return bootbox.alert(I18n.t("post.controls.edit_anonymous"));
        } else if (!post.can_edit) {
          return false;
        }

        var composer = this.composer;
        var topic = this.model;
        var composerModel = composer.get("model");
        var editingFirst = composerModel && (post.get("firstPost") || composerModel.get("editingFirstPost"));

        var editingSharedDraft = false;
        var draftsCategoryId = this.get("site.shared_drafts_category_id");
        if (draftsCategoryId && draftsCategoryId === topic.get("category.id")) {
          editingSharedDraft = post.get("firstPost");
        }

        var opts = {
          post: post,
          action: editingSharedDraft ? _composer.default.EDIT_SHARED_DRAFT : _composer.default.EDIT,
          draftKey: post.get("topic.draft_key"),
          draftSequence: post.get("topic.draft_sequence")
        };

        if (editingSharedDraft) {
          opts.destinationCategoryId = topic.get("destination_category_id");
        }

        // Cancel and reopen the composer for the first post
        if (editingFirst) {
          composer.cancelComposer().then(function () {
            return composer.open(opts);
          });
        } else {
          composer.open(opts);
        }
      },
      toggleBookmark: function toggleBookmark(post) {
        var _this12 = this;

        if (!this.currentUser) {
          return bootbox.alert(I18n.t("bookmarks.not_bookmarked"));
        } else if (post) {
          return post.toggleBookmark().catch(_ajaxError.popupAjaxError);
        } else {
          return this.model.toggleBookmark().then(function (changedIds) {
            if (!changedIds) {
              return;
            }
            changedIds.forEach(function (id) {
              return _this12.appEvents.trigger("post-stream:refresh", { id: id });
            });
          });
        }
      },
      toggleBookmarkWithReminder: function toggleBookmarkWithReminder(post) {
        if (!this.currentUser) {
          return bootbox.alert(I18n.t("bookmarks.not_bookmarked"));
        } else if (post) {
          return post.toggleBookmarkWithReminder();
        } else {
          return this.model.toggleBookmarkWithReminder();
        }
      },
      jumpToIndex: function jumpToIndex(index) {
        this._jumpToIndex(index);
      },
      jumpToDate: function jumpToDate(date) {
        this._jumpToDate(date);
      },
      jumpToPostPrompt: function jumpToPostPrompt() {
        var _this13 = this;

        var topic = this.model;
        var controller = (0, _showModal.default)("jump-to-post", {
          modalClass: "jump-to-post-modal"
        });
        controller.setProperties({
          topic: topic,
          postNumber: null,
          jumpToIndex: function jumpToIndex(index) {
            return _this13.send("jumpToIndex", index);
          },
          jumpToDate: function jumpToDate(date) {
            return _this13.send("jumpToDate", date);
          }
        });
      },
      jumpToPost: function jumpToPost(postNumber) {
        this._jumpToPostNumber(postNumber);
      },
      jumpTop: function jumpTop() {
        _url.default.routeTo(this.get("model.firstPostUrl"), {
          skipIfOnScreen: false
        });
      },
      jumpBottom: function jumpBottom() {
        _url.default.routeTo(this.get("model.lastPostUrl"), {
          skipIfOnScreen: false
        });
      },
      jumpEnd: function jumpEnd() {
        this.appEvents.trigger("topic:jump-to-post", this.get("model.highest_post_number"));
        _url.default.routeTo(this.get("model.lastPostUrl"), {
          jumpEnd: true
        });
      },
      jumpUnread: function jumpUnread() {
        this._jumpToPostId(this.get("model.last_read_post_id"));
      },
      jumpToPostId: function jumpToPostId(postId) {
        this._jumpToPostId(postId);
      },
      toggleMultiSelect: function toggleMultiSelect() {
        this.toggleProperty("multiSelect");
        this._forceRefreshPostStream();
      },
      selectAll: function selectAll() {
        var smallActionsPostIds = this._smallActionPostIds();
        this.set("selectedPostIds", [].concat(_toConsumableArray(this.get("model.postStream.stream").filter(function (postId) {
          return !smallActionsPostIds.has(postId);
        }))));
        this._forceRefreshPostStream();
      },
      deselectAll: function deselectAll() {
        this.set("selectedPostIds", []);
        this._forceRefreshPostStream();
      },
      togglePostSelection: function togglePostSelection(post) {
        var selected = this.selectedPostIds;
        selected.includes(post.id) ? selected.removeObject(post.id) : selected.addObject(post.id);
      },
      selectReplies: function selectReplies(post) {
        var _this14 = this;

        (0, _ajax.ajax)("/posts/" + post.id + "/reply-ids.json").then(function (replies) {
          var replyIds = replies.map(function (r) {
            return r.id;
          });
          _this14.selectedPostIds.pushObjects([post.id].concat(_toConsumableArray(replyIds)));
          _this14._forceRefreshPostStream();
        });
      },
      selectBelow: function selectBelow(post) {
        if (this.get("model.postStream.isMegaTopic")) {
          this._loadPostIds(post);
        } else {
          var stream = [].concat(_toConsumableArray(this.get("model.postStream.stream")));
          var below = stream.slice(stream.indexOf(post.id));
          this._updateSelectedPostIds(below);
        }
      },
      deleteSelected: function deleteSelected() {
        var _this15 = this;

        var user = this.currentUser;

        bootbox.confirm(I18n.t("post.delete.confirm", {
          count: this.selectedPostsCount
        }), function (result) {
          if (result) {
            // If all posts are selected, it's the same thing as deleting the topic
            if (_this15.selectedAllPosts) return _this15.deleteTopic();

            _post.default.deleteMany(_this15.selectedPostIds);
            _this15.get("model.postStream.posts").forEach(function (p) {
              return _this15.postSelected(p) && p.setDeletedState(user);
            });
            _this15.send("toggleMultiSelect");
          }
        });
      },
      mergePosts: function mergePosts() {
        var _this16 = this;

        bootbox.confirm(I18n.t("post.merge.confirm", { count: this.selectedPostsCount }), function (result) {
          if (result) {
            _post.default.mergePosts(_this16.selectedPostIds);
            _this16.send("toggleMultiSelect");
          }
        });
      },
      changePostOwner: function changePostOwner(post) {
        this.set("selectedPostIds", [post.id]);
        this.send("changeOwner");
      },
      lockPost: function lockPost(post) {
        return post.updatePostField("locked", true);
      },
      unlockPost: function unlockPost(post) {
        return post.updatePostField("locked", false);
      },
      grantBadge: function grantBadge(post) {
        this.set("selectedPostIds", [post.id]);
        this.send("showGrantBadgeModal");
      },
      addNotice: function addNotice(post) {
        return new _rsvp.Promise(function (resolve, reject) {
          var controller = (0, _showModal.default)("add-post-notice");
          controller.setProperties({ post: post, resolve: resolve, reject: reject });
        });
      },
      removeNotice: function removeNotice(post) {
        return post.updatePostField("notice", null).then(function () {
          return post.setProperties({
            notice_type: null,
            notice_args: null
          });
        });
      },
      toggleParticipant: function toggleParticipant(user) {
        var _this17 = this;

        this.get("model.postStream").toggleParticipant(user.get("username")).then(function () {
          return _this17.updateQueryParams;
        });
      },
      editTopic: function editTopic() {
        if (this.get("model.details.can_edit")) {
          this.set("editingTopic", true);
        }
        return false;
      },
      cancelEditingTopic: function cancelEditingTopic() {
        this.set("editingTopic", false);
        this.rollbackBuffer();
      },
      finishedEditingTopic: function finishedEditingTopic() {
        var _this18 = this;

        if (!this.editingTopic) {
          return;
        }

        // save the modifications
        var props = this.get("buffered.buffer");

        _topic.default.update(this.model, props).then(function () {
          // We roll back on success here because `update` saves the properties to the topic
          _this18.rollbackBuffer();
          _this18.set("editingTopic", false);
        }).catch(_ajaxError.popupAjaxError);
      },
      expandHidden: function expandHidden(post) {
        return post.expandHidden();
      },
      toggleVisibility: function toggleVisibility() {
        this.model.toggleStatus("visible");
      },
      toggleClosed: function toggleClosed() {
        var topic = this.model;

        this.model.toggleStatus("closed").then(function (result) {
          topic.set("topic_status_update", result.topic_status_update);
        });
      },
      recoverTopic: function recoverTopic() {
        this.model.recover();
      },
      makeBanner: function makeBanner() {
        this.model.makeBanner();
      },
      removeBanner: function removeBanner() {
        this.model.removeBanner();
      },
      togglePinned: function togglePinned() {
        var value = this.get("model.pinned_at") ? false : true,
            topic = this.model,
            until = this.get("model.pinnedInCategoryUntil");

        // optimistic update
        topic.setProperties({
          pinned_at: value ? moment() : null,
          pinned_globally: false,
          pinned_until: value ? until : null
        });

        return topic.saveStatus("pinned", value, until);
      },
      pinGlobally: function pinGlobally() {
        var topic = this.model,
            until = this.get("model.pinnedGloballyUntil");

        // optimistic update
        topic.setProperties({
          pinned_at: moment(),
          pinned_globally: true,
          pinned_until: until
        });

        return topic.saveStatus("pinned_globally", true, until);
      },
      toggleArchived: function toggleArchived() {
        this.model.toggleStatus("archived");
      },
      clearPin: function clearPin() {
        this.model.clearPin();
      },
      togglePinnedForUser: function togglePinnedForUser() {
        if (this.get("model.pinned_at")) {
          var topic = this.model;
          if (topic.get("pinned")) {
            topic.clearPin();
          } else {
            topic.rePin();
          }
        }
      },
      replyAsNewTopic: function replyAsNewTopic(post, quotedText) {
        var _this19 = this;

        var composerController = this.composer;

        var quoteState = this.quoteState;

        quotedText = quotedText || _quote.default.build(post, quoteState.buffer);
        quoteState.clear();

        var options;
        if (this.get("model.isPrivateMessage")) {
          var users = this.get("model.details.allowed_users");
          var groups = this.get("model.details.allowed_groups");

          var usernames = [];
          users.forEach(function (user) {
            return usernames.push(user.username);
          });
          groups.forEach(function (group) {
            return usernames.push(group.name);
          });
          usernames = usernames.join();

          options = {
            action: _composer.default.PRIVATE_MESSAGE,
            archetypeId: "private_message",
            draftKey: post.topic.draft_key,
            usernames: usernames
          };
        } else {
          options = {
            action: _composer.default.CREATE_TOPIC,
            draftKey: post.topic.draft_key,
            categoryId: this.get("model.category.id")
          };
        }

        composerController.open(options).then(function () {
          return (0, _utils.isEmpty)(quotedText) ? "" : quotedText;
        }).then(function (q) {
          var postUrl = location.protocol + "//" + location.host + post.get("url");
          var postLink = "[" + Handlebars.escapeExpression(_this19.get("model.title")) + "](" + postUrl + ")";
          composerController.get("model").prependText(I18n.t("post.continue_discussion", { postLink: postLink }) + "\n\n" + q, { new_line: true });
        });
      },
      retryLoading: function retryLoading() {
        var _this20 = this;

        this.set("retrying", true);
        var rollback = function rollback() {
          return _this20.set("retrying", false);
        };
        this.get("model.postStream").refresh().then(rollback, rollback);
      },
      toggleWiki: function toggleWiki(post) {
        return post.updatePostField("wiki", !post.get("wiki"));
      },
      togglePostType: function togglePostType(post) {
        var regular = this.site.get("post_types.regular");
        var moderator = this.site.get("post_types.moderator_action");
        return post.updatePostField("post_type", post.get("post_type") === moderator ? regular : moderator);
      },
      rebakePost: function rebakePost(post) {
        return post.rebake();
      },
      unhidePost: function unhidePost(post) {
        return post.unhide();
      },
      convertToPublicTopic: function convertToPublicTopic() {
        (0, _showModal.default)("convert-to-public-topic", {
          model: this.model,
          modalClass: "convert-to-public-topic"
        });
      },
      convertToPrivateMessage: function convertToPrivateMessage() {
        this.model.convertTopic("private").then(function () {
          return window.location.reload();
        }).catch(_ajaxError.popupAjaxError);
      },
      removeFeaturedLink: function removeFeaturedLink() {
        this.set("buffered.featured_link", null);
      },
      resetBumpDate: function resetBumpDate() {
        this.model.resetBumpDate();
      },
      removeTopicTimer: function removeTopicTimer(statusType, topicTimer) {
        var _this21 = this;

        _topicTimer.default.updateStatus(this.get("model.id"), null, null, statusType, null).then(function () {
          return _this21.set("model." + topicTimer, _object.default.create({}));
        }).catch(function (error) {
          return (0, _ajaxError.popupAjaxError)(error);
        });
      }
    },

    _jumpToIndex: function _jumpToIndex(index) {
      var postStream = this.get("model.postStream");

      if (postStream.get("isMegaTopic")) {
        this._jumpToPostNumber(index);
      } else {
        var stream = postStream.get("stream");
        var streamIndex = Math.max(1, Math.min(stream.length, index));
        this._jumpToPostId(stream[streamIndex - 1]);
      }
    },
    _jumpToDate: function _jumpToDate(date) {
      var _this22 = this;

      var postStream = this.get("model.postStream");

      postStream.loadNearestPostToDate(date).then(function (post) {
        _url.default.routeTo(_this22.model.urlForPostNumber(post.get("post_number")));
      }).catch(function () {
        _this22._jumpToIndex(postStream.get("topic.highest_post_number"));
      });
    },
    _jumpToPostNumber: function _jumpToPostNumber(postNumber) {
      var _this23 = this;

      var postStream = this.get("model.postStream");
      var post = postStream.get("posts").findBy("post_number", postNumber);

      if (post) {
        _url.default.routeTo(this.model.urlForPostNumber(post.get("post_number")));
      } else {
        postStream.loadPostByPostNumber(postNumber).then(function (p) {
          _url.default.routeTo(_this23.model.urlForPostNumber(p.get("post_number")));
        });
      }
    },
    _jumpToPostId: function _jumpToPostId(postId) {
      if (!postId) {
        // eslint-disable-next-line no-console
        console.warn("jump-post code broken - requested an index outside the stream array");
        return;
      }

      this.appEvents.trigger("topic:jump-to-post", postId);

      var topic = this.model;
      var postStream = topic.get("postStream");
      var post = postStream.findLoadedPost(postId);

      if (post) {
        _url.default.routeTo(topic.urlForPostNumber(post.get("post_number")));
      } else {
        // need to load it
        postStream.findPostsByIds([postId]).then(function (arr) {
          _url.default.routeTo(topic.urlForPostNumber(arr[0].get("post_number")));
        });
      }
    },
    togglePinnedState: function togglePinnedState() {
      this.send("togglePinnedForUser");
    },
    print: function print() {
      if (this.siteSettings.max_prints_per_hour_per_user > 0) {
        window.open(this.get("model.printUrl"), "", "menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=600,height=315");
      }
    },


    hasError: (0, _computed.or)("model.errorHtml", "model.errorMessage"),
    noErrorYet: (0, _computed.not)("hasError"),

    categories: (0, _computed.alias)("site.categoriesList"),

    selectedPostsCount: (0, _computed.alias)("selectedPostIds.length"),

    selectedPosts: function selectedPosts(selectedPostIds, loadedPosts) {
      return selectedPostIds.map(function (id) {
        return loadedPosts.find(function (p) {
          return p.id === id;
        });
      }).filter(function (post) {
        return post !== undefined;
      });
    },
    selectedPostsUsername: function selectedPostsUsername(selectedPostsCount, selectedPosts) {
      if (selectedPosts.length < 1 || selectedPostsCount > selectedPosts.length) {
        return undefined;
      }
      var username = selectedPosts[0].username;
      return selectedPosts.every(function (p) {
        return p.username === username;
      }) ? username : undefined;
    },
    selectedAllPosts: function selectedAllPosts(selectedPostsCount, isMegaTopic, postsCount, topicPostsCount) {
      if (isMegaTopic) {
        return selectedPostsCount >= topicPostsCount;
      } else {
        return selectedPostsCount >= postsCount;
      }
    },
    canSelectAll: function canSelectAll(selectedAllPosts, isMegaTopic) {
      return isMegaTopic ? false : !selectedAllPosts;
    },


    canDeselectAll: (0, _computed.alias)("selectedAllPosts"),

    canDeleteSelected: function canDeleteSelected(isStaff, selectedPostsCount, selectedAllPosts, selectedPosts) {
      return selectedPostsCount > 0 && (selectedAllPosts && isStaff || selectedPosts.every(function (p) {
        return p.can_delete;
      }));
    },
    canMergeTopic: function canMergeTopic(canMovePosts, selectedPostsCount) {
      return canMovePosts && selectedPostsCount > 0;
    },
    canChangeOwner: function canChangeOwner(isAdmin, selectedPostsCount, selectedPostsUsername) {
      return isAdmin && selectedPostsCount > 0 && selectedPostsUsername !== undefined;
    },
    canMergePosts: function canMergePosts(selectedPostsCount, selectedPostsUsername, selectedPosts) {
      return selectedPostsCount > 1 && selectedPostsUsername !== undefined && selectedPosts.every(function (p) {
        return p.can_delete;
      });
    },
    _multiSelectChanged: function _multiSelectChanged() {
      this.set("selectedPostIds", []);
    },
    postSelected: function postSelected(post) {
      return this.selectedAllPost || this.selectedPostIds.includes(post.id);
    },
    loadingHTML: function loadingHTML() {
      return _loadingSpinner.spinnerHTML;
    },
    recoverTopic: function recoverTopic() {
      this.model.recover();
    },
    deleteTopic: function deleteTopic() {
      this.model.destroy(this.currentUser);
    },
    subscribe: function subscribe() {
      var _this24 = this;

      this.unsubscribe();

      var refresh = function refresh(args) {
        return _this24.appEvents.trigger("post-stream:refresh", args);
      };

      this.messageBus.subscribe("/topic/" + this.get("model.id"), function (data) {
        var topic = _this24.model;

        if ((0, _utils.isPresent)(data.notification_level_change)) {
          topic.set("details.notification_level", data.notification_level_change);
          topic.set("details.notifications_reason_id", data.notifications_reason_id);
          return;
        }

        var postStream = _this24.get("model.postStream");

        if (data.reload_topic) {
          topic.reload().then(function () {
            _this24.send("postChangedRoute", topic.get("post_number") || 1);
            _this24.appEvents.trigger("header:update-topic", topic);
            if (data.refresh_stream) postStream.refresh();
          });

          return;
        }

        switch (data.type) {
          case "acted":
            postStream.triggerChangedPost(data.id, data.updated_at, {
              preserveCooked: true
            }).then(function () {
              return refresh({ id: data.id, refreshLikes: true });
            });
            break;
          case "read":
            {
              postStream.triggerReadPost(data.id, data.readers_count).then(function () {
                return refresh({ id: data.id, refreshLikes: true });
              });
              break;
            }
          case "revised":
          case "rebaked":
            {
              postStream.triggerChangedPost(data.id, data.updated_at).then(function () {
                return refresh({ id: data.id });
              });
              break;
            }
          case "deleted":
            {
              postStream.triggerDeletedPost(data.id).then(function () {
                return refresh({ id: data.id });
              });
              break;
            }
          case "recovered":
            {
              postStream.triggerRecoveredPost(data.id).then(function () {
                return refresh({ id: data.id });
              });
              break;
            }
          case "created":
            {
              postStream.triggerNewPostInStream(data.id).then(function () {
                return refresh();
              });
              if (_this24.get("currentUser.id") !== data.user_id) {
                Discourse.incrementBackgroundContextCount();
              }
              break;
            }
          case "move_to_inbox":
            {
              topic.set("message_archived", false);
              break;
            }
          case "archived":
            {
              topic.set("message_archived", true);
              break;
            }
          default:
            {
              var callback = customPostMessageCallbacks[data.type];
              if (callback) {
                callback(_this24, data);
              } else {
                // eslint-disable-next-line no-console
                console.warn("unknown topic bus message type", data);
              }
            }
        }

        // scroll to bottom is very specific to new posts from discobot
        // hence the -2 check (dicobot id). We can shift all this code
        // to discobot plugin longer term
        if (topic.get("isPrivateMessage") && _this24.currentUser && _this24.currentUser.get("id") !== data.user_id && data.user_id === -2 && data.type === "created") {
          var postNumber = data.post_number;
          var notInPostStream = topic.get("highest_post_number") <= postNumber;
          var postNumberDifference = postNumber - topic.get("currentPost");

          if (notInPostStream && postNumberDifference > 0 && postNumberDifference < 7) {
            _this24._scrollToPost(data.post_number);
          }
        }
      }, this.get("model.message_bus_last_id"));
    },


    _scrollToPost: (0, _debounce.default)(function (postNumber) {
      var $post = $(".topic-post article#post_" + postNumber);

      if ($post.length === 0 || (0, _isElementInViewport.default)($post)) return;

      $("html, body").animate({ scrollTop: $post.offset().top }, 1000);
    }, 500),

    unsubscribe: function unsubscribe() {
      // never unsubscribe when navigating from topic to topic
      if (!this.get("model.id")) return;
      this.messageBus.unsubscribe("/topic/*");
    },
    reply: function reply() {
      this.replyToPost();
    },
    readPosts: function readPosts(topicId, postNumbers) {
      var _this25 = this;

      var topic = this.model;
      var postStream = topic.get("postStream");

      if (topic.get("id") === topicId) {
        postStream.get("posts").forEach(function (post) {
          if (!post.read && postNumbers.includes(post.post_number)) {
            post.set("read", true);
            _this25.appEvents.trigger("post-stream:refresh", { id: post.get("id") });
          }
        });

        if (this.siteSettings.automatically_unpin_topics && this.currentUser && this.currentUser.automatically_unpin_topics) {
          // automatically unpin topics when the user reaches the bottom
          var max = _.max(postNumbers);
          if (topic.get("pinned") && max >= topic.get("highest_post_number")) {
            (0, _runloop.next)(function () {
              return topic.clearPin();
            });
          }
        }
      }
    },
    _showFooter: function _showFooter() {
      var showFooter = this.get("model.postStream.loaded") && this.get("model.postStream.loadedAllPosts");
      this.set("application.showFooter", showFooter);
    }
  }, (_applyDecoratedDescriptor(_obj, "_titleChanged", [_dec], Object.getOwnPropertyDescriptor(_obj, "_titleChanged"), _obj), _applyDecoratedDescriptor(_obj, "embedQuoteButton", [_dec2], Object.getOwnPropertyDescriptor(_obj, "embedQuoteButton"), _obj), _applyDecoratedDescriptor(_obj, "showSharedDraftControls", [_dec3], Object.getOwnPropertyDescriptor(_obj, "showSharedDraftControls"), _obj), _applyDecoratedDescriptor(_obj, "showSelectedPostsAtBottom", [_dec4], Object.getOwnPropertyDescriptor(_obj, "showSelectedPostsAtBottom"), _obj), _applyDecoratedDescriptor(_obj, "postsToRender", [_dec5], Object.getOwnPropertyDescriptor(_obj, "postsToRender"), _obj), _applyDecoratedDescriptor(_obj, "androidLoading", [_dec6], Object.getOwnPropertyDescriptor(_obj, "androidLoading"), _obj), _applyDecoratedDescriptor(_obj, "pmPath", [_dec7], Object.getOwnPropertyDescriptor(_obj, "pmPath"), _obj), _applyDecoratedDescriptor(_obj, "selectedQuery", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "selectedQuery"), _obj), _applyDecoratedDescriptor(_obj, "canEditTopicFeaturedLink", [_dec8], Object.getOwnPropertyDescriptor(_obj, "canEditTopicFeaturedLink"), _obj), _applyDecoratedDescriptor(_obj, "featuredLinkDomain", [_dec9], Object.getOwnPropertyDescriptor(_obj, "featuredLinkDomain"), _obj), _applyDecoratedDescriptor(_obj, "canEditTags", [_dec10], Object.getOwnPropertyDescriptor(_obj, "canEditTags"), _obj), _applyDecoratedDescriptor(_obj, "selectedPosts", [_dec11], Object.getOwnPropertyDescriptor(_obj, "selectedPosts"), _obj), _applyDecoratedDescriptor(_obj, "selectedPostsUsername", [_dec12], Object.getOwnPropertyDescriptor(_obj, "selectedPostsUsername"), _obj), _applyDecoratedDescriptor(_obj, "selectedAllPosts", [_dec13], Object.getOwnPropertyDescriptor(_obj, "selectedAllPosts"), _obj), _applyDecoratedDescriptor(_obj, "canSelectAll", [_dec14], Object.getOwnPropertyDescriptor(_obj, "canSelectAll"), _obj), _applyDecoratedDescriptor(_obj, "canDeleteSelected", [_dec15], Object.getOwnPropertyDescriptor(_obj, "canDeleteSelected"), _obj), _applyDecoratedDescriptor(_obj, "canMergeTopic", [_dec16], Object.getOwnPropertyDescriptor(_obj, "canMergeTopic"), _obj), _applyDecoratedDescriptor(_obj, "canChangeOwner", [_dec17], Object.getOwnPropertyDescriptor(_obj, "canChangeOwner"), _obj), _applyDecoratedDescriptor(_obj, "canMergePosts", [_dec18], Object.getOwnPropertyDescriptor(_obj, "canMergePosts"), _obj), _applyDecoratedDescriptor(_obj, "_multiSelectChanged", [_dec19], Object.getOwnPropertyDescriptor(_obj, "_multiSelectChanged"), _obj), _applyDecoratedDescriptor(_obj, "loadingHTML", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "loadingHTML"), _obj), _applyDecoratedDescriptor(_obj, "_showFooter", [_dec20], Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _obj)), _obj)));
});
define("discourse/controllers/upload-selector", ["exports", "@ember/object/computed", "@ember/controller", "discourse/mixins/modal-functionality", "discourse-common/utils/decorators", "discourse/lib/uploads"], function (exports, _computed, _controller, _modalFunctionality, _decorators, _uploads) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  function uploadTranslate(key, user) {
    if ((0, _uploads.allowsAttachments)(user.staff)) {
      key += "_with_attachments";
    }
    return "upload_selector." + key;
  }

  exports.default = _controller.default.extend(_modalFunctionality.default, (_dec = (0, _decorators.default)(), _dec2 = (0, _decorators.default)(), _dec3 = (0, _decorators.default)("selection"), (_obj = {
    imageUrl: null,
    local: (0, _computed.equal)("selection", "local"),
    remote: (0, _computed.equal)("selection", "remote"),
    selection: "local",

    uploadIcon: function uploadIcon() {
      return (0, _uploads.uploadIcon)(this.currentUser.staff);
    },
    title: function title() {
      return uploadTranslate("title", this.currentUser);
    },
    tip: function tip(selection) {
      var authorized_extensions = (0, _uploads.authorizesAllExtensions)(this.currentUser.staff) ? "" : "(" + (0, _uploads.authorizedExtensions)(this.currentUser.staff) + ")";
      return I18n.t(uploadTranslate(selection + "_tip", this.currentUser), {
        authorized_extensions: authorized_extensions
      });
    },


    actions: {
      upload: function upload() {
        if (this.local) {
          $(".wmd-controls").fileupload("add", {
            fileInput: $("#filename-input")
          });
        } else {
          var imageUrl = this.imageUrl || "";
          var toolbarEvent = this.toolbarEvent;

          if (imageUrl.match(/\.(jpg|jpeg|png|gif)$/)) {
            toolbarEvent.addText("![](" + imageUrl + ")");
          } else {
            toolbarEvent.addText(imageUrl);
          }
        }
        this.send("closeModal");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "uploadIcon", [_dec], Object.getOwnPropertyDescriptor(_obj, "uploadIcon"), _obj), _applyDecoratedDescriptor(_obj, "title", [_dec2], Object.getOwnPropertyDescriptor(_obj, "title"), _obj), _applyDecoratedDescriptor(_obj, "tip", [_dec3], Object.getOwnPropertyDescriptor(_obj, "tip"), _obj)), _obj)));
});
define("discourse/controllers/user-activity", ["exports", "@ember/object/computed", "@ember/service", "@ember/controller", "discourse/lib/export-csv", "discourse-common/utils/decorators"], function (exports, _computed, _service, _controller, _exportCsv, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("userActionType", "model.stream.itemsLoaded"), (_obj = {
    application: (0, _controller.inject)(),
    router: (0, _service.inject)(),
    user: (0, _controller.inject)(),
    userActionType: null,

    canDownloadPosts: (0, _computed.alias)("user.viewingSelf"),

    _showFooter: function _showFooter() {
      var _this = this;

      var showFooter;
      if (this.userActionType) {
        var stat = (this.get("model.stats") || []).find(function (s) {
          return s.action_type === _this.userActionType;
        });
        showFooter = stat && stat.count <= this.get("model.stream.itemsLoaded");
      } else {
        showFooter = this.get("model.statsCountNonPM") <= this.get("model.stream.itemsLoaded");
      }
      this.set("application.showFooter", showFooter);
    },

    actions: {
      exportUserArchive: function exportUserArchive() {
        bootbox.confirm(I18n.t("user.download_archive.confirm"), I18n.t("no_value"), I18n.t("yes_value"), function (confirmed) {
          return confirmed ? (0, _exportCsv.exportUserArchive)() : null;
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_showFooter", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/controllers/user-badges", ["exports", "@ember/object/computed", "@ember/controller"], function (exports, _computed, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    user: (0, _controller.inject)(),
    username: (0, _computed.alias)("user.model.username_lower"),
    sortedBadges: (0, _computed.sort)("model", "badgeSortOrder"),

    init: function init() {
      this._super.apply(this, arguments);

      this.badgeSortOrder = ["badge.badge_type.sort_order", "badge.name"];
    }
  });
});
define("discourse/controllers/user-card", ["exports", "@ember/service", "@ember/controller", "discourse/lib/url"], function (exports, _service, _controller, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    topic: (0, _controller.inject)(),
    router: (0, _service.inject)(),

    actions: {
      togglePosts: function togglePosts(user) {
        var topicController = this.topic;
        topicController.send("toggleParticipant", user);
      },
      showUser: function showUser(user) {
        _url.default.routeTo((0, _url.userPath)(user.username_lower));
      },
      showGroup: function showGroup(group) {
        _url.default.routeTo((0, _url.groupPath)(group.name));
      }
    }
  });
});
define("discourse/controllers/user-invited-show", ["exports", "@ember/object/computed", "@ember/controller", "discourse/models/invite", "discourse/lib/debounce", "discourse/lib/ajax-error", "discourse-common/utils/decorators"], function (exports, _computed, _controller, _invite, _debounce, _ajaxError, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("searchTerm"), _dec2 = (0, _decorators.default)("filter"), _dec3 = (0, _decorators.default)("invitesCount.total", "invitesCount.pending"), _dec4 = (0, _decorators.default)("invitesCount.total", "invitesCount.redeemed"), (_obj = {
    user: null,
    model: null,
    filter: null,
    totalInvites: null,
    invitesCount: null,
    canLoadMore: true,
    invitesLoading: false,
    reinvitedAll: false,
    rescindedAll: false,
    searchTerm: null,

    init: function init() {
      this._super.apply(this, arguments);

      this.set("searchTerm", "");
    },

    _searchTermChanged: (0, _debounce.default)(function () {
      var _this = this;

      _invite.default.findInvitedBy(this.user, this.filter, this.searchTerm).then(function (invites) {
        return _this.set("model", invites);
      });
    }, 250),

    inviteRedeemed: (0, _computed.equal)("filter", "redeemed"),

    showBulkActionButtons: function showBulkActionButtons(filter) {
      return filter === "pending" && this.model.invites.length > 4 && this.currentUser.get("staff");
    },


    canInviteToForum: (0, _computed.reads)("currentUser.can_invite_to_forum"),

    canBulkInvite: (0, _computed.reads)("currentUser.admin"),

    showSearch: (0, _computed.gte)("totalInvites", 10),

    pendingLabel: function pendingLabel(invitesCountTotal, invitesCountPending) {
      if (invitesCountTotal > 50) {
        return I18n.t("user.invited.pending_tab_with_count", {
          count: invitesCountPending
        });
      } else {
        return I18n.t("user.invited.pending_tab");
      }
    },
    redeemedLabel: function redeemedLabel(invitesCountTotal, invitesCountRedeemed) {
      if (invitesCountTotal > 50) {
        return I18n.t("user.invited.redeemed_tab_with_count", {
          count: invitesCountRedeemed
        });
      } else {
        return I18n.t("user.invited.redeemed_tab");
      }
    },


    actions: {
      rescind: function rescind(invite) {
        invite.rescind();
        return false;
      },
      rescindAll: function rescindAll() {
        var _this2 = this;

        bootbox.confirm(I18n.t("user.invited.rescind_all_confirm"), function (confirm) {
          if (confirm) {
            _invite.default.rescindAll().then(function () {
              _this2.set("rescindedAll", true);
            }).catch(_ajaxError.popupAjaxError);
          }
        });
      },
      reinvite: function reinvite(invite) {
        invite.reinvite();
        return false;
      },
      reinviteAll: function reinviteAll() {
        var _this3 = this;

        bootbox.confirm(I18n.t("user.invited.reinvite_all_confirm"), function (confirm) {
          if (confirm) {
            _invite.default.reinviteAll().then(function () {
              return _this3.set("reinvitedAll", true);
            }).catch(_ajaxError.popupAjaxError);
          }
        });
      },
      loadMore: function loadMore() {
        var _this4 = this;

        var model = this.model;

        if (this.canLoadMore && !this.invitesLoading) {
          this.set("invitesLoading", true);
          _invite.default.findInvitedBy(this.user, this.filter, this.searchTerm, model.invites.length).then(function (invite_model) {
            _this4.set("invitesLoading", false);
            model.invites.pushObjects(invite_model.invites);
            if (invite_model.invites.length === 0 || invite_model.invites.length < Discourse.SiteSettings.invites_per_page) {
              _this4.set("canLoadMore", false);
            }
          });
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_searchTermChanged", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "_searchTermChanged"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "showBulkActionButtons", [_dec2], Object.getOwnPropertyDescriptor(_obj, "showBulkActionButtons"), _obj), _applyDecoratedDescriptor(_obj, "pendingLabel", [_dec3], Object.getOwnPropertyDescriptor(_obj, "pendingLabel"), _obj), _applyDecoratedDescriptor(_obj, "redeemedLabel", [_dec4], Object.getOwnPropertyDescriptor(_obj, "redeemedLabel"), _obj)), _obj)));
});
define("discourse/controllers/user-notifications", ["exports", "@ember/controller", "discourse/lib/ajax", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/service"], function (exports, _controller, _ajax, _decorators, _computed, _service) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("model.canLoadMore"), _dec2 = (0, _decorators.default)("model.content.length"), _dec3 = (0, _decorators.default)("model.content.@each.read"), (_obj = {
    application: (0, _controller.inject)(),
    router: (0, _service.inject)(),
    currentPath: (0, _computed.readOnly)("router._router.currentPath"),

    _showFooter: function _showFooter() {
      this.set("application.showFooter", !this.get("model.canLoadMore"));
    },
    hasNotifications: function hasNotifications(length) {
      return length > 0;
    },
    allNotificationsRead: function allNotificationsRead() {
      return !this.get("model.content").some(function (notification) {
        return !notification.get("read");
      });
    },


    actions: {
      resetNew: function resetNew() {
        var _this = this;

        (0, _ajax.ajax)("/notifications/mark-read", { method: "PUT" }).then(function () {
          _this.model.forEach(function (n) {
            return n.set("read", true);
          });
        });
      },
      loadMore: function loadMore() {
        this.model.loadMore();
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_showFooter", [_dec], Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _obj), _applyDecoratedDescriptor(_obj, "hasNotifications", [_dec2], Object.getOwnPropertyDescriptor(_obj, "hasNotifications"), _obj), _applyDecoratedDescriptor(_obj, "allNotificationsRead", [_dec3], Object.getOwnPropertyDescriptor(_obj, "allNotificationsRead"), _obj)), _obj)));
});
define("discourse/controllers/user-posts", ["exports", "@ember/controller", "discourse-common/utils/decorators"], function (exports, _controller, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("model.canLoadMore"), (_obj = {
    application: (0, _controller.inject)(),

    _showFooter: function _showFooter() {
      this.set("application.showFooter", !this.get("model.canLoadMore"));
    }
  }, (_applyDecoratedDescriptor(_obj, "_showFooter", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/controllers/user-private-messages-tags", ["exports", "@ember/controller"], function (exports, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _controller.default.extend({
    sortProperties: ["count:desc", "id"],
    tagsForUser: null,
    sortedByCount: true,
    sortedByName: false,

    actions: {
      sortByCount: function sortByCount() {
        this.setProperties({
          sortProperties: ["count:desc", "id"],
          sortedByCount: true,
          sortedByName: false
        });
      },
      sortById: function sortById() {
        this.setProperties({
          sortProperties: ["id"],
          sortedByCount: false,
          sortedByName: true
        });
      }
    }
  });
});
define("discourse/controllers/user-private-messages", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/service", "@ember/controller", "discourse/models/topic"], function (exports, _decorators, _computed, _service, _controller, _topic) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("selected.[]", "bulkSelectEnabled"), _dec2 = (0, _decorators.default)("hasSelection", "pmView", "archive"), _dec3 = (0, _decorators.default)("hasSelection", "pmView", "archive"), (_obj = {
    router: (0, _service.inject)(),
    userTopicsList: (0, _controller.inject)("user-topics-list"),
    user: (0, _controller.inject)(),

    pmView: false,
    viewingSelf: (0, _computed.alias)("user.viewingSelf"),
    isGroup: (0, _computed.equal)("pmView", "groups"),
    currentPath: (0, _computed.alias)("router._router.currentPath"),
    selected: (0, _computed.alias)("userTopicsList.selected"),
    bulkSelectEnabled: (0, _computed.alias)("userTopicsList.bulkSelectEnabled"),
    showToggleBulkSelect: true,
    pmTaggingEnabled: (0, _computed.alias)("site.can_tag_pms"),
    tagId: null,

    showNewPM: (0, _computed.and)("user.viewingSelf", "currentUser.can_send_private_messages"),

    hasSelection: function hasSelection(selected, bulkSelectEnabled) {
      return bulkSelectEnabled && selected && selected.length > 0;
    },
    canMoveToInbox: function canMoveToInbox(hasSelection, pmView, archive) {
      return hasSelection && (pmView === "archive" || archive);
    },
    canArchive: function canArchive(hasSelection, pmView, archive) {
      return hasSelection && pmView !== "archive" && !archive;
    },
    bulkOperation: function bulkOperation(operation) {
      var _this = this;

      var selected = this.selected;
      var params = { type: operation };
      if (this.isGroup) {
        params.group = this.groupFilter;
      }

      _topic.default.bulkOperation(selected, params).then(function () {
        var model = _this.get("userTopicsList.model");
        var topics = model.get("topics");
        topics.removeObjects(selected);
        selected.clear();
        model.loadMore();
      }, function () {
        bootbox.alert(I18n.t("user.messages.failed_to_move"));
      });
    },


    actions: {
      changeGroupNotificationLevel: function changeGroupNotificationLevel(notificationLevel) {
        this.group.setNotification(notificationLevel, this.get("user.id"));
      },
      archive: function archive() {
        this.bulkOperation("archive_messages");
      },
      toInbox: function toInbox() {
        this.bulkOperation("move_messages_to_inbox");
      },
      toggleBulkSelect: function toggleBulkSelect() {
        this.toggleProperty("bulkSelectEnabled");
      },
      selectAll: function selectAll() {
        $("input.bulk-select:not(checked)").click();
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "hasSelection", [_dec], Object.getOwnPropertyDescriptor(_obj, "hasSelection"), _obj), _applyDecoratedDescriptor(_obj, "canMoveToInbox", [_dec2], Object.getOwnPropertyDescriptor(_obj, "canMoveToInbox"), _obj), _applyDecoratedDescriptor(_obj, "canArchive", [_dec3], Object.getOwnPropertyDescriptor(_obj, "canArchive"), _obj)), _obj)));
});
define("discourse/controllers/user-summary", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/controller", "discourse/lib/formatter"], function (exports, _decorators, _computed, _controller, _formatter) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  // should be kept in sync with 'UserSummary::MAX_BADGES'
  var MAX_BADGES = 6;

  exports.default = _controller.default.extend((_dec = (0, _decorators.default)("model.badges.length"), _dec2 = (0, _decorators.default)("model.time_read"), _dec3 = (0, _decorators.default)("model.time_read", "model.recent_time_read"), _dec4 = (0, _decorators.default)("model.recent_time_read"), (_obj = {
    userController: (0, _controller.inject)("user"),
    user: (0, _computed.alias)("userController.model"),

    moreBadges: function moreBadges(badgesLength) {
      return badgesLength >= MAX_BADGES;
    },
    timeRead: function timeRead(timeReadSeconds) {
      return (0, _formatter.durationTiny)(timeReadSeconds);
    },
    showRecentTimeRead: function showRecentTimeRead(timeRead, recentTimeRead) {
      return timeRead !== recentTimeRead && recentTimeRead !== 0;
    },
    recentTimeRead: function recentTimeRead(recentTimeReadSeconds) {
      return recentTimeReadSeconds > 0 ? (0, _formatter.durationTiny)(recentTimeReadSeconds) : null;
    }
  }, (_applyDecoratedDescriptor(_obj, "moreBadges", [_dec], Object.getOwnPropertyDescriptor(_obj, "moreBadges"), _obj), _applyDecoratedDescriptor(_obj, "timeRead", [_dec2], Object.getOwnPropertyDescriptor(_obj, "timeRead"), _obj), _applyDecoratedDescriptor(_obj, "showRecentTimeRead", [_dec3], Object.getOwnPropertyDescriptor(_obj, "showRecentTimeRead"), _obj), _applyDecoratedDescriptor(_obj, "recentTimeRead", [_dec4], Object.getOwnPropertyDescriptor(_obj, "recentTimeRead"), _obj)), _obj)));
});
define("discourse/controllers/user-topics-list", ["exports", "discourse-common/utils/decorators", "@ember/controller"], function (exports, _decorators, _controller) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj, _init;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("model.canLoadMore"), _dec2 = (0, _decorators.default)("incomingCount"), (_obj = {
    application: (0, _controller.inject)(),

    hideCategory: false,
    showPosters: false,
    incomingCount: 0,
    channel: null,
    tagsForUser: null,

    init: function init() {
      this._super.apply(this, arguments);

      this.newIncoming = [];
    },


    saveScrollPosition: function saveScrollPosition() {
      this.session.set("topicListScrollPosition", $(window).scrollTop());
    },

    _showFooter: function _showFooter() {
      this.set("application.showFooter", !this.get("model.canLoadMore"));
    },

    hasIncoming: function hasIncoming(incomingCount) {
      return incomingCount > 0;
    },
    subscribe: function subscribe(channel) {
      var _this = this;

      this.set("channel", channel);

      this.messageBus.subscribe(channel, function (data) {
        if (_this.newIncoming.indexOf(data.topic_id) === -1) {
          _this.newIncoming.push(data.topic_id);
          _this.incrementProperty("incomingCount");
        }
      });
    },
    unsubscribe: function unsubscribe() {
      var channel = this.channel;
      if (channel) this.messageBus.unsubscribe(channel);
      this._resetTracking();
      this.set("channel", null);
    },
    _resetTracking: function _resetTracking() {
      this.setProperties({
        newIncoming: [],
        incomingCount: 0
      });
    },


    actions: {
      loadMore: function loadMore() {
        this.model.loadMore();
      },

      showInserted: function showInserted() {
        this.model.loadBefore(this.newIncoming);
        this._resetTracking();
        return false;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_showFooter", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "hasIncoming", [_dec2], Object.getOwnPropertyDescriptor(_obj, "hasIncoming"), _obj)), _obj)));
});
define("discourse/controllers/user", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/object/computed", "@ember/object", "@ember/service", "@ember/controller", "discourse/mixins/can-check-emails", "discourse/models/user", "discourse/lib/optional-service", "discourse/lib/settings"], function (exports, _decorators, _utils, _computed, _object, _service, _controller, _canCheckEmails, _user, _optionalService, _settings) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _desc, _value, _obj;

  exports.default = _controller.default.extend(_canCheckEmails.default, (_dec = (0, _decorators.default)("model.username"), _dec2 = (0, _decorators.default)("viewingSelf", "model.profile_hidden"), _dec3 = (0, _decorators.default)("model.profileBackgroundUrl"), _dec4 = (0, _decorators.default)("model.profile_hidden", "indexStream", "viewingSelf", "forceExpand"), _dec5 = (0, _decorators.default)("model.suspended", "currentUser.staff"), _dec6 = (0, _decorators.default)("model.trust_level"), _dec7 = (0, _decorators.default)("viewingSelf", "currentUser.admin"), _dec8 = (0, _decorators.default)("viewingSelf"), _dec9 = (0, _decorators.default)("viewingSelf", "currentUser.admin"), _dec10 = (0, _decorators.default)("viewingSelf", "currentUser.staff"), _dec11 = (0, _decorators.default)("model.name"), _dec12 = (0, _decorators.default)("model.badge_count"), _dec13 = (0, _decorators.default)(), _dec14 = (0, _decorators.default)("model.user_fields.@each.value"), (_obj = {
    indexStream: false,
    router: (0, _service.inject)(),
    userNotifications: (0, _controller.inject)("user-notifications"),
    currentPath: (0, _computed.alias)("router._router.currentPath"),
    adminTools: (0, _optionalService.default)(),

    viewingSelf: function viewingSelf(username) {
      var currentUser = this.currentUser;
      return currentUser && username === currentUser.get("username");
    },
    canExpandProfile: function canExpandProfile(viewingSelf, profileHidden) {
      return !profileHidden && viewingSelf;
    },
    hasProfileBackgroundUrl: function hasProfileBackgroundUrl(background) {
      return !(0, _utils.isEmpty)(background.toString());
    },
    collapsedInfo: function collapsedInfo(profileHidden, indexStream, viewingSelf, forceExpand) {
      if (profileHidden) {
        return true;
      }
      return (!indexStream || viewingSelf) && !forceExpand;
    },

    canMuteOrIgnoreUser: (0, _computed.or)("model.can_ignore_user", "model.can_mute_user"),
    hasGivenFlags: (0, _computed.gt)("model.number_of_flags_given", 0),
    hasFlaggedPosts: (0, _computed.gt)("model.number_of_flagged_posts", 0),
    hasDeletedPosts: (0, _computed.gt)("model.number_of_deleted_posts", 0),
    hasBeenSuspended: (0, _computed.gt)("model.number_of_suspensions", 0),
    hasReceivedWarnings: (0, _computed.gt)("model.warnings_received_count", 0),

    showStaffCounters: (0, _computed.or)("hasGivenFlags", "hasFlaggedPosts", "hasDeletedPosts", "hasBeenSuspended", "hasReceivedWarnings"),

    showFeaturedTopic: (0, _computed.and)("model.featured_topic", "siteSettings.allow_featured_topic_on_user_profiles"),

    isNotSuspendedOrIsStaff: function isNotSuspendedOrIsStaff(suspended, isStaff) {
      return !suspended || isStaff;
    },


    linkWebsite: (0, _computed.not)("model.isBasic"),

    removeNoFollow: function removeNoFollow(trustLevel) {
      return trustLevel > 2 && !this.siteSettings.tl3_links_no_follow;
    },
    showBookmarks: function showBookmarks(viewingSelf, isAdmin) {
      return viewingSelf || isAdmin;
    },
    showDrafts: function showDrafts(viewingSelf) {
      return viewingSelf;
    },
    showPrivateMessages: function showPrivateMessages(viewingSelf, isAdmin) {
      return this.siteSettings.enable_personal_messages && (viewingSelf || isAdmin);
    },
    showNotificationsTab: function showNotificationsTab(viewingSelf, staff) {
      return viewingSelf || staff;
    },
    nameFirst: function nameFirst(name) {
      return (0, _settings.prioritizeNameInUx)(name, this.siteSettings);
    },
    showBadges: function showBadges(badgeCount) {
      return Discourse.SiteSettings.enable_badges && badgeCount > 0;
    },
    canInviteToForum: function canInviteToForum() {
      return _user.default.currentProp("can_invite_to_forum");
    },


    canDeleteUser: (0, _computed.and)("model.can_be_deleted", "model.can_delete_all_posts"),

    publicUserFields: function publicUserFields() {
      var siteUserFields = this.site.get("user_fields");
      if (!(0, _utils.isEmpty)(siteUserFields)) {
        var userFields = this.get("model.user_fields");
        return siteUserFields.filterBy("show_on_profile", true).sortBy("position").map(function (field) {
          (0, _object.set)(field, "dasherized_name", field.get("name").dasherize());
          var value = userFields ? userFields[field.get("id").toString()] : null;
          return (0, _utils.isEmpty)(value) ? null : _object.default.create({ value: value, field: field });
        }).compact();
      }
    },


    userNotificationLevel: (0, _object.computed)("currentUser.ignored_ids", "model.ignored", "model.muted", function () {
      if (this.get("model.ignored")) {
        return "changeToIgnored";
      } else if (this.get("model.muted")) {
        return "changeToMuted";
      } else {
        return "changeToNormal";
      }
    }),

    actions: {
      collapseProfile: function collapseProfile() {
        this.set("forceExpand", false);
      },
      expandProfile: function expandProfile() {
        this.set("forceExpand", true);
      },
      showSuspensions: function showSuspensions() {
        this.adminTools.showActionLogs(this, {
          target_user: this.get("model.username"),
          action_name: "suspend_user"
        });
      },
      adminDelete: function adminDelete() {
        this.adminTools.deleteUser(this.get("model.id"));
      },
      updateNotificationLevel: function updateNotificationLevel(level) {
        var user = this.model;
        return user.updateNotificationLevel(level);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "viewingSelf", [_dec], Object.getOwnPropertyDescriptor(_obj, "viewingSelf"), _obj), _applyDecoratedDescriptor(_obj, "canExpandProfile", [_dec2], Object.getOwnPropertyDescriptor(_obj, "canExpandProfile"), _obj), _applyDecoratedDescriptor(_obj, "hasProfileBackgroundUrl", [_dec3], Object.getOwnPropertyDescriptor(_obj, "hasProfileBackgroundUrl"), _obj), _applyDecoratedDescriptor(_obj, "collapsedInfo", [_dec4], Object.getOwnPropertyDescriptor(_obj, "collapsedInfo"), _obj), _applyDecoratedDescriptor(_obj, "isNotSuspendedOrIsStaff", [_dec5], Object.getOwnPropertyDescriptor(_obj, "isNotSuspendedOrIsStaff"), _obj), _applyDecoratedDescriptor(_obj, "removeNoFollow", [_dec6], Object.getOwnPropertyDescriptor(_obj, "removeNoFollow"), _obj), _applyDecoratedDescriptor(_obj, "showBookmarks", [_dec7], Object.getOwnPropertyDescriptor(_obj, "showBookmarks"), _obj), _applyDecoratedDescriptor(_obj, "showDrafts", [_dec8], Object.getOwnPropertyDescriptor(_obj, "showDrafts"), _obj), _applyDecoratedDescriptor(_obj, "showPrivateMessages", [_dec9], Object.getOwnPropertyDescriptor(_obj, "showPrivateMessages"), _obj), _applyDecoratedDescriptor(_obj, "showNotificationsTab", [_dec10], Object.getOwnPropertyDescriptor(_obj, "showNotificationsTab"), _obj), _applyDecoratedDescriptor(_obj, "nameFirst", [_dec11], Object.getOwnPropertyDescriptor(_obj, "nameFirst"), _obj), _applyDecoratedDescriptor(_obj, "showBadges", [_dec12], Object.getOwnPropertyDescriptor(_obj, "showBadges"), _obj), _applyDecoratedDescriptor(_obj, "canInviteToForum", [_dec13], Object.getOwnPropertyDescriptor(_obj, "canInviteToForum"), _obj), _applyDecoratedDescriptor(_obj, "publicUserFields", [_dec14], Object.getOwnPropertyDescriptor(_obj, "publicUserFields"), _obj)), _obj)));
});
define("discourse/controllers/users", ["exports", "@ember/object/computed", "@ember/controller", "discourse/lib/debounce", "discourse-common/utils/decorators"], function (exports, _computed, _controller, _debounce, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj, _init, _init2;

  exports.default = _controller.default.extend((_dec = (0, _decorators.observes)("nameInput"), _dec2 = (0, _decorators.observes)("model.canLoadMore"), (_obj = {
    application: (0, _controller.inject)(),
    queryParams: ["period", "order", "asc", "name", "group", "exclude_usernames"],
    period: "weekly",
    order: "likes_received",
    asc: null,
    name: "",
    group: null,
    exclude_usernames: null,

    showTimeRead: (0, _computed.equal)("period", "all"),

    _setName: (0, _debounce.default)(function () {
      this.set("name", this.nameInput);
    }, 500),

    _showFooter: function _showFooter() {
      this.set("application.showFooter", !this.get("model.canLoadMore"));
    },

    actions: {
      loadMore: function loadMore() {
        this.model.loadMore();
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_setName", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "_setName"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "_showFooter", [_dec2], (_init2 = Object.getOwnPropertyDescriptor(_obj, "_showFooter"), _init2 = _init2 ? _init2.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init2;
    }
  }), _obj)), _obj)));
});
define("discourse/models/archetype", ["exports", "@ember/object/computed", "discourse/lib/computed", "discourse/models/rest"], function (exports, _computed, _computed2, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _rest.default.extend({
    hasOptions: (0, _computed.gt)("options.length", 0),
    isDefault: (0, _computed2.propertyEqual)("id", "site.default_archetype"),
    notDefault: (0, _computed.not)("isDefault")
  });
});
define("discourse/models/bookmark", ["exports", "@ember/object/computed", "@ember/object", "discourse/lib/ajax", "rsvp", "discourse/models/rest"], function (exports, _computed, _object, _ajax, _rsvp, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  var Bookmark = _rest.default.extend((_obj = {
    newBookmark: (0, _computed.none)("id"),

    get url() {
      return Discourse.getURL("/bookmarks/" + this.id);
    },

    destroy: function destroy() {
      if (this.newBookmark) return _rsvp.Promise.resolve();

      return (0, _ajax.ajax)(this.url, {
        type: "DELETE"
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "url", [_object.computed], Object.getOwnPropertyDescriptor(_obj, "url"), _obj)), _obj));

  exports.default = Bookmark;
});
define("discourse/models/category-list", ["exports", "preload-store", "discourse/lib/ajax", "discourse/models/topic", "discourse/models/category", "discourse/models/site"], function (exports, _preloadStore, _ajax, _topic, _category, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var CategoryList = Ember.ArrayProxy.extend({
    init: function init() {
      this.set("content", []);
      this._super.apply(this, arguments);
    }
  });

  CategoryList.reopenClass({
    categoriesFrom: function categoriesFrom(store, result) {
      var categories = CategoryList.create();
      var list = _category.default.list();

      var statPeriod = "all";
      var minCategories = result.category_list.categories.length * 0.66;

      ["week", "month"].some(function (period) {
        var filteredCategories = result.category_list.categories.filter(function (c) {
          return c["topics_" + period] > 0;
        });
        if (filteredCategories.length >= minCategories) {
          statPeriod = period;
          return true;
        }
      });

      result.category_list.categories.forEach(function (c) {
        if (c.parent_category_id) {
          c.parentCategory = list.findBy("id", c.parent_category_id);
        }

        if (c.subcategory_ids) {
          c.subcategories = c.subcategory_ids.map(function (scid) {
            return list.findBy("id", parseInt(scid, 10));
          });
        }

        if (c.topics) {
          c.topics = c.topics.map(function (t) {
            var topic = _topic.default.create(t);
            topic.set("category", c);
            return topic;
          });
        }

        switch (statPeriod) {
          case "week":
          case "month":
            var stat = c["topics_" + statPeriod];
            var unit = I18n.t(statPeriod);
            if (stat > 0) {
              c.stat = "<span class=\"value\">" + stat + "</span> / <span class=\"unit\">" + unit + "</span>";

              c.statTitle = I18n.t("categories.topic_stat_sentence_" + statPeriod, {
                count: stat
              });

              c["pick" + statPeriod[0].toUpperCase() + statPeriod.slice(1)] = true;
              break;
            }
          default:
            c.stat = "<span class=\"value\">" + c.topics_all_time + "</span>";
            c.statTitle = I18n.t("categories.topic_sentence", {
              count: c.topics_all_time
            });
            c.pickAll = true;
            break;
        }

        var record = _site.default.current().updateCategory(c);
        record.setupGroupsAndPermissions();
        categories.pushObject(record);
      });
      return categories;
    },
    listForParent: function listForParent(store, category) {
      var _this = this;

      return (0, _ajax.ajax)("/categories.json?parent_category_id=" + category.get("id")).then(function (result) {
        return CategoryList.create({
          categories: _this.categoriesFrom(store, result),
          parentCategory: category
        });
      });
    },
    list: function list(store) {
      var _this2 = this;

      var getCategories = function getCategories() {
        return (0, _ajax.ajax)("/categories.json");
      };
      return _preloadStore.default.getAndRemove("categories_list", getCategories).then(function (result) {
        return CategoryList.create({
          categories: _this2.categoriesFrom(store, result),
          can_create_category: result.category_list.can_create_category,
          can_create_topic: result.category_list.can_create_topic,
          draft_key: result.category_list.draft_key,
          draft: result.category_list.draft,
          draft_sequence: result.category_list.draft_sequence
        });
      });
    }
  });

  exports.default = CategoryList;
});
define("discourse/models/group-history", ["exports", "discourse-common/utils/decorators", "discourse/models/rest"], function (exports, _decorators, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _rest.default.extend((_dec = (0, _decorators.default)("action"), (_obj = {
    actionTitle: function actionTitle(action) {
      return I18n.t("group_histories.actions." + action);
    }
  }, (_applyDecoratedDescriptor(_obj, "actionTitle", [_dec], Object.getOwnPropertyDescriptor(_obj, "actionTitle"), _obj)), _obj)));
});
define("discourse/models/group", ["exports", "@ember/object", "@ember/object/computed", "@ember/utils", "discourse-common/utils/decorators", "discourse/lib/ajax", "discourse/models/category", "discourse/models/group-history", "discourse/models/rest", "discourse/models/topic", "discourse/models/user", "rsvp"], function (exports, _object, _computed, _utils, _decorators, _ajax, _category, _groupHistory, _rest, _topic, _user, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _obj;

  var Group = _rest.default.extend((_dec = (0, _decorators.default)("automatic_membership_email_domains"), _dec2 = (0, _decorators.default)("automatic"), _dec3 = (0, _decorators.default)("display_name", "name"), _dec4 = (0, _decorators.default)("flair_bg_color"), _dec5 = (0, _decorators.default)("flair_color"), _dec6 = (0, _decorators.default)("visibility_level"), _dec7 = (0, _decorators.observes)("isPrivate", "canEveryoneMention"), (_obj = {
    user_count: 0,
    limit: null,
    offset: null,

    request_count: 0,
    requestersLimit: null,
    requestersOffset: null,

    init: function init() {
      this._super.apply(this, arguments);
      this.setProperties({ members: [], requesters: [] });
    },
    emailDomains: function emailDomains(value) {
      return (0, _utils.isEmpty)(value) ? "" : value;
    },
    type: function type(automatic) {
      return automatic ? "automatic" : "custom";
    },
    findMembers: function findMembers(params, refresh) {
      var _this = this;

      if ((0, _utils.isEmpty)(this.name) || !this.can_see_members) {
        return _rsvp.Promise.reject();
      }

      if (refresh) {
        this.setProperties({ limit: null, offset: null });
      }

      params = Object.assign({ offset: (this.offset || 0) + (this.limit || 0) }, params);

      return Group.loadMembers(this.name, params).then(function (result) {
        var ownerIds = new Set();
        result.owners.forEach(function (owner) {
          return ownerIds.add(owner.id);
        });

        var members = refresh ? [] : _this.members;
        members.pushObjects(result.members.map(function (member) {
          member.owner = ownerIds.has(member.id);
          return _user.default.create(member);
        }));

        _this.setProperties({
          members: members,
          user_count: result.meta.total,
          limit: result.meta.limit,
          offset: result.meta.offset
        });
      });
    },
    findRequesters: function findRequesters(params, refresh) {
      var _this2 = this;

      if ((0, _utils.isEmpty)(this.name) || !this.can_see_members) {
        return _rsvp.Promise.reject();
      }

      if (refresh) {
        this.setProperties({ requestersOffset: null, requestersLimit: null });
      }

      params = Object.assign({
        offset: (this.requestersOffset || 0) + (this.requestersLimit || 0),
        requesters: true
      }, params);

      return Group.loadMembers(this.name, params).then(function (result) {
        var requesters = refresh ? [] : _this2.requesters;
        requesters.pushObjects(result.members.map(function (m) {
          return _user.default.create(m);
        }));

        _this2.setProperties({
          requesters: requesters,
          request_count: result.meta.total,
          requestersLimit: result.meta.limit,
          requestersOffset: result.meta.offset
        });
      });
    },
    removeOwner: function removeOwner(member) {
      var _this3 = this;

      return (0, _ajax.ajax)("/admin/groups/" + this.id + "/owners.json", {
        type: "DELETE",
        data: { user_id: member.id }
      }).then(function () {
        return _this3.findMembers();
      });
    },
    removeMember: function removeMember(member, params) {
      var _this4 = this;

      return (0, _ajax.ajax)("/groups/" + this.id + "/members.json", {
        type: "DELETE",
        data: { user_id: member.id }
      }).then(function () {
        return _this4.findMembers(params);
      });
    },
    addMembers: function addMembers(usernames, filter) {
      var _this5 = this;

      return (0, _ajax.ajax)("/groups/" + this.id + "/members.json", {
        type: "PUT",
        data: { usernames: usernames }
      }).then(function (response) {
        if (filter) {
          _this5._filterMembers(response);
        } else {
          _this5.findMembers();
        }
      });
    },
    addOwners: function addOwners(usernames, filter) {
      var _this6 = this;

      return (0, _ajax.ajax)("/admin/groups/" + this.id + "/owners.json", {
        type: "PUT",
        data: { group: { usernames: usernames } }
      }).then(function (response) {
        if (filter) {
          _this6._filterMembers(response);
        } else {
          _this6.findMembers();
        }
      });
    },
    _filterMembers: function _filterMembers(response) {
      return this.findMembers({ filter: response.usernames.join(",") });
    },
    displayName: function displayName(groupDisplayName, name) {
      return groupDisplayName || name;
    },
    flairBackgroundHexColor: function flairBackgroundHexColor(flairBgColor) {
      return flairBgColor ? flairBgColor.replace(new RegExp("[^0-9a-fA-F]", "g"), "") : null;
    },
    flairHexColor: function flairHexColor(flairColor) {
      return flairColor ? flairColor.replace(new RegExp("[^0-9a-fA-F]", "g"), "") : null;
    },


    canEveryoneMention: (0, _computed.equal)("mentionable_level", 99),

    isPrivate: function isPrivate(visibilityLevel) {
      return visibilityLevel > 1;
    },
    _updateAllowMembershipRequests: function _updateAllowMembershipRequests() {
      if (this.isPrivate || !this.canEveryoneMention) {
        this.set("allow_membership_requests", false);
      }
    },
    asJSON: function asJSON() {
      var attrs = {
        name: this.name,
        mentionable_level: this.mentionable_level,
        messageable_level: this.messageable_level,
        visibility_level: this.visibility_level,
        members_visibility_level: this.members_visibility_level,
        automatic_membership_email_domains: this.emailDomains,
        automatic_membership_retroactive: !!this.automatic_membership_retroactive,
        title: this.title,
        primary_group: !!this.primary_group,
        grant_trust_level: this.grant_trust_level,
        incoming_email: this.incoming_email,
        flair_url: this.flair_url,
        flair_bg_color: this.flairBackgroundHexColor,
        flair_color: this.flairHexColor,
        bio_raw: this.bio_raw,
        public_admission: this.public_admission,
        public_exit: this.public_exit,
        allow_membership_requests: this.allow_membership_requests,
        full_name: this.full_name,
        default_notification_level: this.default_notification_level,
        membership_request_template: this.membership_request_template,
        publish_read_state: this.publish_read_state
      };

      if (!this.id) {
        attrs["usernames"] = this.usernames;
        attrs["owner_usernames"] = this.ownerUsernames;
      }

      return attrs;
    },
    create: function create() {
      var _this7 = this;

      return (0, _ajax.ajax)("/admin/groups", {
        type: "POST",
        data: { group: this.asJSON() }
      }).then(function (resp) {
        _this7.setProperties({
          id: resp.basic_group.id,
          usernames: null,
          ownerUsernames: null
        });

        _this7.findMembers();
      });
    },
    save: function save() {
      return (0, _ajax.ajax)("/groups/" + this.id, {
        type: "PUT",
        data: { group: this.asJSON() }
      });
    },
    destroy: function destroy() {
      if (!this.id) {
        return;
      }
      return (0, _ajax.ajax)("/admin/groups/" + this.id, { type: "DELETE" });
    },
    findLogs: function findLogs(offset, filters) {
      return (0, _ajax.ajax)("/groups/" + this.name + "/logs.json", {
        data: { offset: offset, filters: filters }
      }).then(function (results) {
        return _object.default.create({
          logs: results["logs"].map(function (log) {
            return _groupHistory.default.create(log);
          }),
          all_loaded: results["all_loaded"]
        });
      });
    },
    findPosts: function findPosts(opts) {
      opts = opts || {};
      var type = opts.type || "posts";
      var data = {};

      if (opts.beforePostId) {
        data.before_post_id = opts.beforePostId;
      }

      if (opts.categoryId) {
        data.category_id = parseInt(opts.categoryId, 10);
      }

      return (0, _ajax.ajax)("/groups/" + this.name + "/" + type + ".json", { data: data }).then(function (posts) {
        return posts.map(function (p) {
          p.user = _user.default.create(p.user);
          p.topic = _topic.default.create(p.topic);
          p.category = _category.default.findById(p.category_id);
          return _object.default.create(p);
        });
      });
    },
    setNotification: function setNotification(notification_level, userId) {
      this.set("group_user.notification_level", notification_level);
      return (0, _ajax.ajax)("/groups/" + this.name + "/notifications", {
        data: { notification_level: notification_level, user_id: userId },
        type: "POST"
      });
    },
    requestMembership: function requestMembership(reason) {
      return (0, _ajax.ajax)("/groups/" + this.name + "/request_membership", {
        type: "POST",
        data: { reason: reason }
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "emailDomains", [_dec], Object.getOwnPropertyDescriptor(_obj, "emailDomains"), _obj), _applyDecoratedDescriptor(_obj, "type", [_dec2], Object.getOwnPropertyDescriptor(_obj, "type"), _obj), _applyDecoratedDescriptor(_obj, "displayName", [_dec3], Object.getOwnPropertyDescriptor(_obj, "displayName"), _obj), _applyDecoratedDescriptor(_obj, "flairBackgroundHexColor", [_dec4], Object.getOwnPropertyDescriptor(_obj, "flairBackgroundHexColor"), _obj), _applyDecoratedDescriptor(_obj, "flairHexColor", [_dec5], Object.getOwnPropertyDescriptor(_obj, "flairHexColor"), _obj), _applyDecoratedDescriptor(_obj, "isPrivate", [_dec6], Object.getOwnPropertyDescriptor(_obj, "isPrivate"), _obj), _applyDecoratedDescriptor(_obj, "_updateAllowMembershipRequests", [_dec7], Object.getOwnPropertyDescriptor(_obj, "_updateAllowMembershipRequests"), _obj)), _obj)));

  Group.reopenClass({
    findAll: function findAll(opts) {
      return (0, _ajax.ajax)("/groups/search.json", { data: opts }).then(function (groups) {
        return groups.map(function (g) {
          return Group.create(g);
        });
      });
    },
    loadMembers: function loadMembers(name, opts) {
      return (0, _ajax.ajax)("/groups/" + name + "/members.json", { data: opts });
    },
    mentionable: function mentionable(name) {
      return (0, _ajax.ajax)("/groups/" + name + "/mentionable");
    },
    messageable: function messageable(name) {
      return (0, _ajax.ajax)("/groups/" + name + "/messageable");
    },
    checkName: function checkName(name) {
      return (0, _ajax.ajax)("/groups/check-name", { data: { group_name: name } });
    }
  });

  exports.default = Group;
});
define("discourse/models/live-post-counts", ["exports", "discourse/lib/ajax", "@ember/object"], function (exports, _ajax, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var LivePostCounts = _object.default.extend({});

  LivePostCounts.reopenClass({
    find: function find() {
      return (0, _ajax.ajax)("/about/live_post_counts.json").then(function (result) {
        return LivePostCounts.create(result);
      });
    }
  });

  exports.default = LivePostCounts;
});
define("discourse/models/login-method", ["exports", "discourse-common/utils/decorators", "@ember/object", "discourse/lib/ajax", "rsvp", "discourse/models/session", "discourse/models/site"], function (exports, _decorators, _object, _ajax, _rsvp, _session, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.findAll = findAll;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  var LoginMethod = _object.default.extend((_obj = {
    title: function title() {
      return this.title_override || I18n.t("login." + this.name + ".title");
    },
    prettyName: function prettyName() {
      return this.pretty_name_override || I18n.t("login." + this.name + ".name");
    },
    message: function message() {
      return this.message_override || I18n.t("login." + this.name + ".message");
    },
    doLogin: function doLogin() {
      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          _ref$reconnect = _ref.reconnect,
          reconnect = _ref$reconnect === undefined ? false : _ref$reconnect,
          _ref$params = _ref.params,
          params = _ref$params === undefined ? {} : _ref$params;

      if (this.customLogin) {
        this.customLogin();
        return _rsvp.Promise.resolve();
      }

      if (this.custom_url) {
        window.location = this.custom_url;
        return _rsvp.Promise.resolve();
      }

      var authUrl = Discourse.getURL("/auth/" + this.name);

      if (reconnect) {
        params["reconnect"] = true;
      }

      var paramKeys = Object.keys(params);
      if (paramKeys.length > 0) {
        authUrl += "?";
        authUrl += paramKeys.map(function (k) {
          return encodeURIComponent(k) + "=" + encodeURIComponent(params[k]);
        }).join("&");
      }

      return LoginMethod.buildPostForm(authUrl).then(function (form) {
        return form.submit();
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "title", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "title"), _obj), _applyDecoratedDescriptor(_obj, "prettyName", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "prettyName"), _obj), _applyDecoratedDescriptor(_obj, "message", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "message"), _obj)), _obj));

  LoginMethod.reopenClass({
    buildPostForm: function buildPostForm(url) {
      // Login always happens in an anonymous context, with no CSRF token
      // So we need to fetch it before sending a POST request
      return (0, _ajax.updateCsrfToken)().then(function () {
        var form = document.createElement("form");
        form.setAttribute("style", "display:none;");
        form.setAttribute("method", "post");
        form.setAttribute("action", url);

        var input = document.createElement("input");
        input.setAttribute("name", "authenticity_token");
        input.setAttribute("value", _session.default.currentProp("csrfToken"));
        form.appendChild(input);

        document.body.appendChild(form);

        return form;
      });
    }
  });

  var methods = void 0;

  function findAll() {
    if (methods) return methods;

    methods = [];

    _site.default.currentProp("auth_providers").forEach(function (provider) {
      return methods.pushObject(LoginMethod.create(provider));
    });

    // exclude FA icon for Google, uses custom SVG
    methods.forEach(function (m) {
      return m.set("isGoogle", m.name === "google_oauth2");
    });

    return methods;
  }

  exports.default = LoginMethod;
});
define("discourse/models/nav-item", ["exports", "discourse-common/utils/decorators", "discourse/lib/text", "discourse/models/category", "@ember/object", "@ember/object/computed", "discourse-common/lib/deprecated", "discourse/models/site", "discourse/models/user"], function (exports, _decorators, _text, _category, _object, _computed, _deprecated, _site, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.extraNavItemProperties = extraNavItemProperties;
  exports.customNavItemHref = customNavItemHref;
  exports.addNavItem = addNavItem;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj;

  var NavItem = _object.default.extend((_dec = (0, _decorators.default)("name"), _dec2 = (0, _decorators.default)("name", "count"), _dec3 = (0, _decorators.default)("filterType", "category", "noSubcategories", "tagId"), _dec4 = (0, _decorators.default)("name", "category", "noSubcategories"), _dec5 = (0, _decorators.default)("name", "category", "topicTrackingState.messageCount"), (_obj = {
    title: function title(name) {
      var extra = {};

      return I18n.t("filters." + name.replace("/", ".") + ".help", extra);
    },
    displayName: function displayName(name, count) {
      count = count || 0;

      if (name === "latest" && (!_site.default.currentProp("mobileView") || this.tagId !== undefined)) {
        count = 0;
      }

      var extra = { count: count };
      var titleKey = count === 0 ? ".title" : ".title_with_count";

      return (0, _text.emojiUnescape)(I18n.t("filters." + (name.replace("/", ".") + titleKey), extra));
    },
    href: function href(filterType, category, noSubcategories, tagId) {
      var customHref = null;

      NavItem.customNavItemHrefs.forEach(function (cb) {
        customHref = cb.call(this, this);
        if (customHref) {
          return false;
        }
      }, this);

      if (customHref) {
        return customHref;
      }

      var context = { category: category, noSubcategories: noSubcategories, tagId: tagId };
      return NavItem.pathFor(filterType, context);
    },


    filterType: (0, _computed.reads)("name"),

    filterMode: function filterMode(name, category, noSubcategories) {
      var mode = "";
      if (category) {
        mode += "c/";
        mode += _category.default.slugFor(category);
        if (noSubcategories) {
          mode += "/none";
        }
        mode += "/l/";
      }
      return mode + name.replace(" ", "-");
    },
    count: function count(name, category) {
      var state = this.topicTrackingState;
      if (state) {
        return state.lookupCount(name, category);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "title", [_dec], Object.getOwnPropertyDescriptor(_obj, "title"), _obj), _applyDecoratedDescriptor(_obj, "displayName", [_dec2], Object.getOwnPropertyDescriptor(_obj, "displayName"), _obj), _applyDecoratedDescriptor(_obj, "href", [_dec3], Object.getOwnPropertyDescriptor(_obj, "href"), _obj), _applyDecoratedDescriptor(_obj, "filterMode", [_dec4], Object.getOwnPropertyDescriptor(_obj, "filterMode"), _obj), _applyDecoratedDescriptor(_obj, "count", [_dec5], Object.getOwnPropertyDescriptor(_obj, "count"), _obj)), _obj)));

  var ExtraNavItem = NavItem.extend({
    href: (0, _decorators.default)("href", {
      get: function get() {
        if (this._href) {
          return this._href;
        }

        return this.href;
      },
      set: function set(key, value) {
        return this._href = value;
      }
    }),

    count: 0,

    customFilter: null
  });

  NavItem.reopenClass({
    extraArgsCallbacks: [],
    customNavItemHrefs: [],
    extraNavItemDescriptors: [],

    pathFor: function pathFor(filterType, context) {
      var path = Discourse.getURL("");
      var includesCategoryContext = false;
      var includesTagContext = false;

      if (filterType === "categories") {
        path += "/categories";
        return path;
      }

      if (context.tagId && _site.default.currentProp("filters").includes(filterType)) {
        includesTagContext = true;
        path += "/tags";
      }

      if (context.category) {
        includesCategoryContext = true;
        path += "/c/" + _category.default.slugFor(context.category) + "/" + context.category.id;

        if (context.noSubcategories) {
          path += "/none";
        }
      }

      if (includesTagContext) {
        path += "/" + context.tagId;
      }

      if (includesTagContext || includesCategoryContext) {
        path += "/l";
      }

      path += "/" + filterType;

      // In the case of top, the nav item doesn't include a period because the
      // period has its own selector just below

      return path;
    },
    fromText: function fromText(filterType, opts) {
      var _this = this;

      var anonymous = !_user.default.current();

      opts = opts || {};

      if (anonymous) {
        var topMenuItems = _site.default.currentProp("anonymous_top_menu_items");
        if (!topMenuItems || !topMenuItems.includes(filterType)) {
          return null;
        }
      }

      if (!_category.default.list() && filterType === "categories") return null;
      if (!_site.default.currentProp("top_menu_items").includes(filterType)) return null;

      var args = { name: filterType, hasIcon: filterType === "unread" };
      if (opts.category) {
        args.category = opts.category;
      }
      if (opts.tagId) {
        args.tagId = opts.tagId;
      }
      if (opts.persistedQueryParams) {
        args.persistedQueryParams = opts.persistedQueryParams;
      }
      if (opts.noSubcategories) {
        args.noSubcategories = true;
      }
      NavItem.extraArgsCallbacks.forEach(function (cb) {
        return _.merge(args, cb.call(_this, filterType, opts));
      });

      var store = Discourse.__container__.lookup("service:store");
      return store.createRecord("nav-item", args);
    },
    buildList: function buildList(category, args) {
      args = args || {};

      if (category) {
        args.category = category;
      }

      var items = Discourse.SiteSettings.top_menu.split("|");

      var filterType = (args.filterMode || "").split("/").pop();

      if (!items.some(function (i) {
        return filterType === i;
      })) {
        items.push(filterType);
      }

      items = items.map(function (i) {
        return NavItem.fromText(i, args);
      }).filter(function (i) {
        return i !== null && !(category && i.get("name").indexOf("categor") === 0);
      });

      var context = {
        category: args.category,
        tagId: args.tagId,
        noSubcategories: args.noSubcategories
      };

      var extraItems = NavItem.extraNavItemDescriptors.map(function (descriptor) {
        return ExtraNavItem.create(_.merge({}, context, descriptor));
      }).filter(function (item) {
        if (!item.customFilter) return true;
        return item.customFilter(category, args);
      });

      var forceActive = false;

      extraItems.forEach(function (item) {
        if (item.init) {
          item.init(item, category, args);
        }

        var before = item.before;
        if (before) {
          var i = 0;
          for (i = 0; i < items.length; i++) {
            if (items[i].name === before) {
              break;
            }
          }
          items.splice(i, 0, item);
        } else {
          items.push(item);
        }

        if (item.customHref) {
          item.set("href", item.customHref(category, args));
        }

        if (item.forceActive && item.forceActive(category, args)) {
          item.active = true;
          forceActive = true;
        } else {
          item.active = undefined;
        }
      });

      if (forceActive) {
        items.forEach(function (i) {
          if (i.active === undefined) {
            i.active = false;
          }
        });
      }
      return items;
    }
  });

  exports.default = NavItem;
  function extraNavItemProperties(cb) {
    NavItem.extraArgsCallbacks.push(cb);
  }

  function customNavItemHref(cb) {
    NavItem.customNavItemHrefs.push(cb);
  }

  function addNavItem(item) {
    NavItem.extraNavItemDescriptors.push(item);
  }

  Object.defineProperty(Discourse, "NavItem", {
    get: function get() {
      (0, _deprecated.default)("Import the NavItem class instead of using Discourse.NavItem", {
        since: "2.4.0",
        dropFrom: "2.5.0"
      });
      return NavItem;
    }
  });
});
define("discourse/models/reviewable-history", ["exports", "@ember/object/computed", "discourse/models/rest"], function (exports, _computed, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.EDITED = exports.TRANSITIONED_TO = exports.CREATED = undefined;
  var CREATED = exports.CREATED = 0;
  var TRANSITIONED_TO = exports.TRANSITIONED_TO = 1;
  var EDITED = exports.EDITED = 2;

  exports.default = _rest.default.extend({
    created: (0, _computed.equal)("reviewable_history_type", CREATED)
  });
});
define("discourse/models/reviewable", ["exports", "discourse-common/utils/decorators", "discourse/lib/ajax", "discourse/models/rest", "discourse/models/category", "rsvp"], function (exports, _decorators, _ajax, _rest, _category, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.DELETED = exports.IGNORED = exports.REJECTED = exports.APPROVED = exports.PENDING = undefined;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  var PENDING = exports.PENDING = 0;
  var APPROVED = exports.APPROVED = 1;
  var REJECTED = exports.REJECTED = 2;
  var IGNORED = exports.IGNORED = 3;
  var DELETED = exports.DELETED = 4;

  exports.default = _rest.default.extend((_dec = (0, _decorators.default)("type", "topic"), (_obj = {
    humanType: function humanType(type, topic) {
      // Display "Queued Topic" if the post will create a topic
      if (type === "ReviewableQueuedPost" && !topic) {
        type = "ReviewableQueuedTopic";
      }

      return I18n.t("review.types." + type.underscore() + ".title", {
        defaultValue: ""
      });
    },
    update: function update(updates) {
      var _this = this;

      // If no changes, do nothing
      if (Object.keys(updates).length === 0) {
        return _rsvp.Promise.resolve();
      }

      var adapter = this.store.adapterFor("reviewable");
      return (0, _ajax.ajax)("/review/" + this.id + "?version=" + this.version, adapter.getPayload("PUT", { reviewable: updates })).then(function (updated) {
        updated.payload = Object.assign({}, _this.payload || {}, updated.payload || {});

        if (updated.category_id) {
          updated.category = _category.default.findById(updated.category_id);
          delete updated.category_id;
        }

        _this.setProperties(updated);
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "humanType", [_dec], Object.getOwnPropertyDescriptor(_obj, "humanType"), _obj)), _obj)));
});
define("discourse/models/site", ["exports", "discourse-common/utils/decorators", "@ember/object", "@ember/utils", "@ember/object/computed", "discourse/models/archetype", "discourse/models/post-action-type", "discourse/mixins/singleton", "discourse/models/rest", "discourse/models/trust-level", "preload-store", "discourse-common/lib/deprecated"], function (exports, _decorators, _object, _utils, _computed, _archetype, _postActionType, _singleton, _rest, _trustLevel, _preloadStore, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  var Site = _rest.default.extend((_dec = (0, _decorators.default)("notification_types"), _dec2 = (0, _decorators.default)("post_action_types.[]"), _dec3 = (0, _decorators.default)("categoriesByCount", "categories.[]"), _dec4 = (0, _decorators.default)("categories.[]"), (_obj = {
    isReadOnly: (0, _computed.alias)("is_readonly"),

    init: function init() {
      this._super.apply(this, arguments);

      this.topicCountDesc = ["topic_count:desc"];
    },
    notificationLookup: function notificationLookup(notificationTypes) {
      var result = [];
      Object.keys(notificationTypes).forEach(function (k) {
        return result[notificationTypes[k]] = k;
      });
      return result;
    },
    flagTypes: function flagTypes() {
      var postActionTypes = this.post_action_types;
      if (!postActionTypes) return [];
      return postActionTypes.filterBy("is_flag", true);
    },


    categoriesByCount: (0, _computed.sort)("categories", "topicCountDesc"),

    collectUserFields: function collectUserFields(fields) {
      fields = fields || {};

      var siteFields = this.user_fields;

      if (!(0, _utils.isEmpty)(siteFields)) {
        return siteFields.map(function (f) {
          var value = fields ? fields[f.id.toString()] : null;
          value = value || "&mdash;".htmlSafe();
          return { name: f.name, value: value };
        });
      }
      return [];
    },
    sortedCategories: function sortedCategories(cats) {
      var result = [],
          remaining = {};

      cats.forEach(function (c) {
        var parentCategoryId = parseInt(c.get("parent_category_id"), 10);
        if (!parentCategoryId) {
          result.pushObject(c);
        } else {
          remaining[parentCategoryId] = remaining[parentCategoryId] || [];
          remaining[parentCategoryId].pushObject(c);
        }
      });

      Object.keys(remaining).forEach(function (parentCategoryId) {
        var category = result.findBy("id", parseInt(parentCategoryId, 10)),
            index = result.indexOf(category);

        if (index !== -1) {
          result.replace(index + 1, 0, remaining[parentCategoryId]);
        }
      });

      return result;
    },
    baseUri: function baseUri() {
      return Discourse.baseUri;
    },
    categoriesList: function categoriesList() {
      return this.siteSettings.fixed_category_positions ? this.categories : this.sortedCategories;
    },
    postActionTypeById: function postActionTypeById(id) {
      return this.get("postActionByIdLookup.action" + id);
    },
    topicFlagTypeById: function topicFlagTypeById(id) {
      return this.get("topicFlagByIdLookup.action" + id);
    },
    removeCategory: function removeCategory(id) {
      var categories = this.categories;
      var existingCategory = categories.findBy("id", id);
      if (existingCategory) {
        categories.removeObject(existingCategory);
        delete this.categoriesById.categoryId;
      }
    },
    updateCategory: function updateCategory(newCategory) {
      var categories = this.categories;
      var categoryId = (0, _object.get)(newCategory, "id");
      var existingCategory = categories.findBy("id", categoryId);

      // Don't update null permissions
      if (newCategory.permission === null) {
        delete newCategory.permission;
      }

      if (existingCategory) {
        existingCategory.setProperties(newCategory);
        return existingCategory;
      } else {
        // TODO insert in right order?
        newCategory = this.store.createRecord("category", newCategory);
        categories.pushObject(newCategory);
        this.categoriesById[categoryId] = newCategory;
        return newCategory;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "notificationLookup", [_dec], Object.getOwnPropertyDescriptor(_obj, "notificationLookup"), _obj), _applyDecoratedDescriptor(_obj, "flagTypes", [_dec2], Object.getOwnPropertyDescriptor(_obj, "flagTypes"), _obj), _applyDecoratedDescriptor(_obj, "sortedCategories", [_dec3], Object.getOwnPropertyDescriptor(_obj, "sortedCategories"), _obj), _applyDecoratedDescriptor(_obj, "baseUri", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "baseUri"), _obj), _applyDecoratedDescriptor(_obj, "categoriesList", [_dec4], Object.getOwnPropertyDescriptor(_obj, "categoriesList"), _obj)), _obj)));

  Site.reopenClass(_singleton.default, {
    createCurrent: function createCurrent() {
      var store = Discourse.__container__.lookup("service:store");
      return store.createRecord("site", _preloadStore.default.get("site"));
    },
    create: function create() {
      var result = this._super.apply(this, arguments);
      var store = result.store;

      if (result.categories) {
        var subcatMap = {};

        result.categoriesById = {};
        result.categories = result.categories.map(function (c) {
          if (c.parent_category_id) {
            subcatMap[c.parent_category_id] = subcatMap[c.parent_category_id] || [];
            subcatMap[c.parent_category_id].push(c.id);
          }
          return result.categoriesById[c.id] = store.createRecord("category", c);
        });

        // Associate the categories with their parents
        result.categories.forEach(function (c) {
          var subcategoryIds = subcatMap[c.get("id")];
          if (subcategoryIds) {
            c.set("subcategories", subcategoryIds.map(function (id) {
              return result.categoriesById[id];
            }));
          }
          if (c.get("parent_category_id")) {
            c.set("parentCategory", result.categoriesById[c.get("parent_category_id")]);
          }
        });
      }

      if (result.trust_levels) {
        result.trustLevels = result.trust_levels.map(function (tl) {
          return _trustLevel.default.create(tl);
        });
        delete result.trust_levels;
      }

      if (result.post_action_types) {
        result.postActionByIdLookup = _object.default.create();
        result.post_action_types = result.post_action_types.map(function (p) {
          var actionType = _postActionType.default.create(p);
          result.postActionByIdLookup.set("action" + p.id, actionType);
          return actionType;
        });
      }

      if (result.topic_flag_types) {
        result.topicFlagByIdLookup = _object.default.create();
        result.topic_flag_types = result.topic_flag_types.map(function (p) {
          var actionType = _postActionType.default.create(p);
          result.topicFlagByIdLookup.set("action" + p.id, actionType);
          return actionType;
        });
      }

      if (result.archetypes) {
        result.archetypes = result.archetypes.map(function (a) {
          a.site = result;
          return _archetype.default.create(a);
        });
      }

      if (result.user_fields) {
        result.user_fields = result.user_fields.map(function (uf) {
          return _object.default.create(uf);
        });
      }

      return result;
    }
  });

  var warned = false;
  Object.defineProperty(Discourse, "Site", {
    get: function get() {
      if (!warned) {
        (0, _deprecated.default)("Import the Site class instead of using Discourse.Site", {
          since: "2.4.0",
          dropFrom: "2.6.0"
        });
        warned = true;
      }
      return Site;
    }
  });

  exports.default = Site;
});
define("discourse/models/static-page", ["exports", "@ember/object", "discourse/lib/ajax", "rsvp"], function (exports, _object, _ajax, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var StaticPage = _object.default.extend();

  StaticPage.reopenClass({
    find: function find(path) {
      return new _rsvp.Promise(function (resolve) {
        // Models shouldn't really be doing Ajax request, but this is a huge speed boost if we
        // preload content.
        var $preloaded = $('noscript[data-path="/' + path + '"]');
        if ($preloaded.length) {
          var text = $preloaded.text();
          text = text.match(/<!-- preload-content: -->((?:.|[\n\r])*)<!-- :preload-content -->/)[1];
          resolve(StaticPage.create({ path: path, html: text }));
        } else {
          (0, _ajax.ajax)("/" + path + ".html", { dataType: "html" }).then(function (result) {
            return resolve(StaticPage.create({ path: path, html: result }));
          });
        }
      });
    }
  });

  exports.default = StaticPage;
});
define("discourse/models/tag-group", ["exports", "discourse-common/utils/decorators", "discourse/models/rest", "discourse/models/permission-type"], function (exports, _decorators, _rest, _permissionType) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _rest.default.extend((_dec = (0, _decorators.default)("permissions"), (_obj = {
    permissionName: function permissionName(permissions) {
      if (!permissions) return "public";

      if (permissions["everyone"] === _permissionType.default.FULL) {
        return "public";
      } else if (permissions["everyone"] === _permissionType.default.READONLY) {
        return "visible";
      } else {
        return "private";
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "permissionName", [_dec], Object.getOwnPropertyDescriptor(_obj, "permissionName"), _obj)), _obj)));
});
define("discourse/models/tag", ["exports", "discourse-common/utils/decorators", "discourse/models/rest"], function (exports, _decorators, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _rest.default.extend((_dec = (0, _decorators.default)("count", "pm_count"), _dec2 = (0, _decorators.default)("count", "pm_count"), _dec3 = (0, _decorators.default)("id"), (_obj = {
    totalCount: function totalCount(count, pmCount) {
      return count + pmCount;
    },
    pmOnly: function pmOnly(count, pmCount) {
      return count === 0 && pmCount > 0;
    },
    searchContext: function searchContext(id) {
      return { type: "tag", id: id, tag: this, name: id };
    }
  }, (_applyDecoratedDescriptor(_obj, "totalCount", [_dec], Object.getOwnPropertyDescriptor(_obj, "totalCount"), _obj), _applyDecoratedDescriptor(_obj, "pmOnly", [_dec2], Object.getOwnPropertyDescriptor(_obj, "pmOnly"), _obj), _applyDecoratedDescriptor(_obj, "searchContext", [_dec3], Object.getOwnPropertyDescriptor(_obj, "searchContext"), _obj)), _obj)));
});
define("discourse/models/topic-list", ["exports", "@ember/object/computed", "@ember/object", "discourse/lib/ajax", "discourse/models/rest", "discourse-common/lib/get-owner", "rsvp", "discourse/models/category", "discourse/models/session", "@ember/utils", "discourse/models/user"], function (exports, _computed, _object, _ajax, _rest, _getOwner, _rsvp, _category, _session, _utils, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function extractByKey(collection, klass) {
    var retval = {};
    if ((0, _utils.isEmpty)(collection)) {
      return retval;
    }

    collection.forEach(function (item) {
      retval[item.id] = klass.create(item);
    });
    return retval;
  }

  // Whether to show the category badge in topic lists
  function displayCategoryInList(site, category) {
    if (category) {
      if (category.has_children) {
        return true;
      }

      var draftCategoryId = site.shared_drafts_category_id;
      if (draftCategoryId && category.id === draftCategoryId) {
        return true;
      }

      return false;
    }

    return true;
  }

  var TopicList = _rest.default.extend({
    canLoadMore: (0, _computed.notEmpty)("more_topics_url"),

    forEachNew: function forEachNew(topics, callback) {
      var topicIds = [];

      this.topics.forEach(function (topic) {
        return topicIds[topic.id] = true;
      });

      topics.forEach(function (topic) {
        if (!topicIds[topic.id]) {
          callback(topic);
        }
      });
    },
    refreshSort: function refreshSort(order, ascending) {
      var params = this.params || {};

      if (params.q) {
        // search is unique, nothing else allowed with it
        params = { q: params.q };
      } else {
        params.order = order || params.order;
        params.ascending = ascending;
      }

      this.set("params", params);
    },
    loadMore: function loadMore() {
      var _this = this;

      if (this.loadingMore) {
        return _rsvp.Promise.resolve();
      }

      var moreUrl = this.more_topics_url;
      if (moreUrl) {
        var _moreUrl$split = moreUrl.split("?"),
            _moreUrl$split2 = _slicedToArray(_moreUrl$split, 2),
            url = _moreUrl$split2[0],
            params = _moreUrl$split2[1];

        // ensure we postfix with .json so username paths work
        // correctly
        if (!url.match(/\.json$/)) {
          url += ".json";
        }

        moreUrl = url;
        if (params) {
          moreUrl += "?" + params;
        }

        this.set("loadingMore", true);

        return (0, _ajax.ajax)({ url: moreUrl }).then(function (result) {
          var topicsAdded = 0;

          if (result) {
            // the new topics loaded from the server
            var newTopics = TopicList.topicsFrom(_this.store, result);

            _this.forEachNew(newTopics, function (t) {
              t.set("highlight", topicsAdded++ === 0);
              _this.topics.pushObject(t);
            });

            _this.setProperties({
              loadingMore: false,
              more_topics_url: result.topic_list.more_topics_url
            });

            _session.default.currentProp("topicList", _this);
            return _this.more_topics_url;
          }
        });
      } else {
        // Return a promise indicating no more results
        return _rsvp.Promise.resolve();
      }
    },
    loadBefore: function loadBefore(topic_ids, storeInSession) {
      var _this2 = this;

      // refresh dupes
      this.topics.removeObjects(this.topics.filter(function (topic) {
        return topic_ids.indexOf(topic.id) >= 0;
      }));

      var url = "" + Discourse.getURL("/") + this.filter + ".json?topic_ids=" + topic_ids.join(",");

      return (0, _ajax.ajax)({ url: url, data: this.params }).then(function (result) {
        var i = 0;
        _this2.forEachNew(TopicList.topicsFrom(_this2.store, result), function (t) {
          // highlight the first of the new topics so we can get a visual feedback
          t.set("highlight", true);
          _this2.topics.insertAt(i, t);
          i++;
        });

        if (storeInSession) _session.default.currentProp("topicList", _this2);
      });
    }
  });

  TopicList.reopenClass({
    topicsFrom: function topicsFrom(store, result, opts) {
      if (!result) return;

      opts = opts || {};
      var listKey = opts.listKey || "topics";

      // Stitch together our side loaded data

      var categories = _category.default.list(),
          users = extractByKey(result.users, _user.default),
          groups = extractByKey(result.primary_groups, _object.default);

      return result.topic_list[listKey].map(function (t) {
        t.category = categories.findBy("id", t.category_id);
        t.posters.forEach(function (p) {
          p.user = users[p.user_id];
          p.extraClasses = p.extras;
          if (p.primary_group_id) {
            p.primary_group = groups[p.primary_group_id];
            if (p.primary_group) {
              p.extraClasses = (p.extraClasses || "") + " group-" + p.primary_group.name;
            }
          }
        });

        if (t.participants) {
          t.participants.forEach(function (p) {
            return p.user = users[p.user_id];
          });
        }

        return store.createRecord("topic", t);
      });
    },
    munge: function munge(json, store) {
      json.inserted = json.inserted || [];
      json.can_create_topic = json.topic_list.can_create_topic;
      json.more_topics_url = json.topic_list.more_topics_url;
      json.draft_key = json.topic_list.draft_key;
      json.draft_sequence = json.topic_list.draft_sequence;
      json.draft = json.topic_list.draft;
      json.for_period = json.topic_list.for_period;
      json.loaded = true;
      json.per_page = json.topic_list.per_page;
      json.topics = this.topicsFrom(store, json);

      if (json.topic_list.shared_drafts) {
        json.sharedDrafts = this.topicsFrom(store, json, {
          listKey: "shared_drafts"
        });
      }

      return json;
    },
    find: function find(filter, params) {
      var store = (0, _getOwner.getOwner)(this).lookup("service:store");
      return store.findFiltered("topicList", { filter: filter, params: params });
    },
    hideUniformCategory: function hideUniformCategory(list, category) {
      list.set("hideCategory", !displayCategoryInList(list.site, category));
    }
  });

  exports.default = TopicList;
});
define("discourse/models/topic-timer", ["exports", "discourse/lib/ajax", "discourse/models/rest"], function (exports, _ajax, _rest) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var TopicTimer = _rest.default.extend({});

  TopicTimer.reopenClass({
    updateStatus: function updateStatus(topicId, time, basedOnLastPost, statusType, categoryId) {
      var data = {
        time: time,
        status_type: statusType
      };

      if (basedOnLastPost) data.based_on_last_post = basedOnLastPost;
      if (categoryId) data.category_id = categoryId;

      return (0, _ajax.ajax)({
        url: "/t/" + topicId + "/timer",
        type: "POST",
        data: data
      });
    }
  });

  exports.default = TopicTimer;
});
define("discourse/models/topic-tracking-state", ["exports", "@ember/object", "@ember/utils", "discourse/lib/notification-levels", "discourse-common/utils/decorators", "preload-store", "discourse/models/category", "discourse/models/user"], function (exports, _object, _utils, _notificationLevels, _decorators, _preloadStore, _category, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.startTracking = startTracking;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  function isNew(topic) {
    return topic.last_read_post_number === null && (topic.notification_level !== 0 && !topic.notification_level || topic.notification_level >= _notificationLevels.NotificationLevels.TRACKING) && isUnseen(topic);
  }

  function isUnread(topic) {
    return topic.last_read_post_number !== null && topic.last_read_post_number < topic.highest_post_number && topic.notification_level >= _notificationLevels.NotificationLevels.TRACKING;
  }

  function isUnseen(topic) {
    return !topic.is_seen;
  }

  function hasMutedTags(topicTagIds, mutedTagIds) {
    if (!mutedTagIds || !topicTagIds) {
      return false;
    }
    return Discourse.SiteSettings.remove_muted_tags_from_latest === "always" && topicTagIds.any(function (tagId) {
      return mutedTagIds.includes(tagId);
    }) || Discourse.SiteSettings.remove_muted_tags_from_latest === "only_muted" && topicTagIds.every(function (tagId) {
      return mutedTagIds.includes(tagId);
    });
  }

  var TopicTrackingState = _object.default.extend((_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.default)("incomingCount"), (_obj = {
    messageCount: 0,

    _setup: function _setup() {
      this.unreadSequence = [];
      this.newSequence = [];
      this.states = {};
    },
    establishChannels: function establishChannels() {
      var tracker = this;

      var process = function process(data) {
        if (data.message_type === "delete") {
          tracker.removeTopic(data.topic_id);
          tracker.incrementMessageCount();
        }

        if (["new_topic", "latest"].includes(data.message_type)) {
          var muted_category_ids = _user.default.currentProp("muted_category_ids");
          if (muted_category_ids && muted_category_ids.includes(data.payload.category_id)) {
            return;
          }
        }

        if (["new_topic", "latest"].includes(data.message_type)) {
          var mutedTagIds = _user.default.currentProp("muted_tag_ids");
          if (hasMutedTags(data.payload.topic_tag_ids, mutedTagIds)) {
            return;
          }
        }

        if (data.message_type === "latest") {
          tracker.notify(data);
        }

        if (data.message_type === "dismiss_new") {
          Object.keys(tracker.states).forEach(function (k) {
            var topic = tracker.states[k];
            if (!data.payload.category_id || topic.category_id === parseInt(data.payload.category_id, 0)) {
              tracker.states[k] = Object.assign({}, topic, {
                is_seen: true
              });
            }
          });
          tracker.notifyPropertyChange("states");
          tracker.incrementMessageCount();
        }

        if (["new_topic", "unread", "read"].includes(data.message_type)) {
          tracker.notify(data);
          var old = tracker.states["t" + data.topic_id];
          if (!_.isEqual(old, data.payload)) {
            tracker.states["t" + data.topic_id] = data.payload;
            tracker.notifyPropertyChange("states");
            tracker.incrementMessageCount();
          }
        }
      };

      this.messageBus.subscribe("/new", process);
      this.messageBus.subscribe("/latest", process);
      if (this.currentUser) {
        this.messageBus.subscribe("/unread/" + this.currentUser.get("id"), process);
      }

      this.messageBus.subscribe("/delete", function (msg) {
        var old = tracker.states["t" + msg.topic_id];
        if (old) {
          old.deleted = true;
        }
        tracker.incrementMessageCount();
      });

      this.messageBus.subscribe("/recover", function (msg) {
        var old = tracker.states["t" + msg.topic_id];
        if (old) {
          delete old.deleted;
        }
        tracker.incrementMessageCount();
      });
    },
    updateSeen: function updateSeen(topicId, highestSeen) {
      if (!topicId || !highestSeen) {
        return;
      }
      var state = this.states["t" + topicId];
      if (state && (!state.last_read_post_number || state.last_read_post_number < highestSeen)) {
        state.last_read_post_number = highestSeen;
        this.incrementMessageCount();
      }
    },
    notify: function notify(data) {
      if (!this.newIncoming) {
        return;
      }
      if (data.payload && data.payload.archetype === "private_message") {
        return;
      }

      var filter = this.filter;
      var filterCategory = this.filterCategory;
      var categoryId = data.payload && data.payload.category_id;

      if (filterCategory && filterCategory.get("id") !== categoryId) {
        var category = categoryId && _category.default.findById(categoryId);
        if (!category || category.get("parentCategory.id") !== filterCategory.get("id")) {
          return;
        }
      }

      if (["all", "latest", "new"].includes(filter) && data.message_type === "new_topic") {
        this.addIncoming(data.topic_id);
      }

      if (["all", "unread"].includes(filter) && data.message_type === "unread") {
        var old = this.states["t" + data.topic_id];
        if (!old || old.highest_post_number === old.last_read_post_number) {
          this.addIncoming(data.topic_id);
        }
      }

      if (filter === "latest" && data.message_type === "latest") {
        this.addIncoming(data.topic_id);
      }

      this.set("incomingCount", this.newIncoming.length);
    },
    addIncoming: function addIncoming(topicId) {
      if (this.newIncoming.indexOf(topicId) === -1) {
        this.newIncoming.push(topicId);
      }
    },
    resetTracking: function resetTracking() {
      this.newIncoming = [];
      this.set("incomingCount", 0);
    },
    trackIncoming: function trackIncoming(filter) {
      this.newIncoming = [];
      var split = filter.split("/");

      if (split.length >= 4) {
        filter = split[split.length - 1];
        // c/cat/subcat/6/l/latest
        var category = _category.default.findSingleBySlug(split.splice(1, split.length - 4).join("/"));
        this.set("filterCategory", category);
      } else {
        this.set("filterCategory", null);
      }

      this.set("filter", filter);
      this.set("incomingCount", 0);
    },
    hasIncoming: function hasIncoming(incomingCount) {
      return incomingCount && incomingCount > 0;
    },
    removeTopic: function removeTopic(topic_id) {
      delete this.states["t" + topic_id];
    },
    updateTopics: function updateTopics(topics) {
      if ((0, _utils.isEmpty)(topics)) {
        return;
      }

      var states = this.states;
      topics.forEach(function (t) {
        var state = states["t" + t.get("id")];

        if (state) {
          var lastRead = t.get("last_read_post_number");
          var isSeen = t.get("is_seen");
          if (lastRead !== state.last_read_post_number || isSeen !== state.is_seen) {
            var postsCount = t.get("posts_count");
            var newPosts = postsCount - state.highest_post_number,
                unread = postsCount - state.last_read_post_number;

            if (newPosts < 0) {
              newPosts = 0;
            }
            if (!state.last_read_post_number) {
              unread = 0;
            }
            if (unread < 0) {
              unread = 0;
            }

            t.setProperties({
              highest_post_number: state.highest_post_number,
              last_read_post_number: state.last_read_post_number,
              new_posts: newPosts,
              unread: unread,
              is_seen: state.is_seen,
              unseen: !state.last_read_post_number && isUnseen(state)
            });
          }
        }
      });
    },
    sync: function sync(list, filter) {
      var tracker = this,
          states = tracker.states;

      if (!list || !list.topics) {
        return;
      }

      // compensate for delayed "new" topics
      // client side we know they are not new, server side we think they are
      for (var i = list.topics.length - 1; i >= 0; i--) {
        var state = states["t" + list.topics[i].id];
        if (state && state.last_read_post_number > 0) {
          if (filter === "new") {
            list.topics.splice(i, 1);
          } else {
            list.topics[i].set("unseen", false);
            list.topics[i].set("dont_sync", true);
          }
        }
      }

      list.topics.forEach(function (topic) {
        var row = tracker.states["t" + topic.id] || {};
        row.topic_id = topic.id;
        row.notification_level = topic.notification_level;

        if (topic.unseen) {
          row.last_read_post_number = null;
        } else if (topic.unread || topic.new_posts) {
          row.last_read_post_number = topic.highest_post_number - ((topic.unread || 0) + (topic.new_posts || 0));
        } else {
          if (!topic.dont_sync) {
            delete tracker.states["t" + topic.id];
          }
          return;
        }

        row.highest_post_number = topic.highest_post_number;
        if (topic.category) {
          row.category_id = topic.category.id;
        }

        tracker.states["t" + topic.id] = row;
      });

      // Correct missing states, safeguard in case message bus is corrupt
      if ((filter === "new" || filter === "unread") && !list.more_topics_url) {
        var ids = {};
        list.topics.forEach(function (r) {
          return ids["t" + r.id] = true;
        });

        Object.keys(tracker.states).forEach(function (k) {
          // we are good if we are on the list
          if (ids[k]) {
            return;
          }

          var v = tracker.states[k];

          if (filter === "unread" && isUnread(v)) {
            // pretend read
            v.last_read_post_number = v.highest_post_number;
          }

          if (filter === "new" && isNew(v)) {
            // pretend not new
            v.last_read_post_number = 1;
          }
        });
      }

      this.incrementMessageCount();
    },
    incrementMessageCount: function incrementMessageCount() {
      this.incrementProperty("messageCount");
    },
    getSubCategoryIds: function getSubCategoryIds(categoryId) {
      var result = [categoryId];
      var categories = _category.default.list();

      for (var i = 0; i < result.length; ++i) {
        for (var j = 0; j < categories.length; ++j) {
          if (result[i] === categories[j].parent_category_id) {
            result[result.length] = categories[j].id;
          }
        }
      }

      return new Set(result);
    },
    countNew: function countNew(categoryId) {
      var subcategoryIds = this.getSubCategoryIds(categoryId);
      return _.chain(this.states).filter(isNew).filter(function (topic) {
        return topic.archetype !== "private_message" && !topic.deleted && (!categoryId || subcategoryIds.has(topic.category_id));
      }).value().length;
    },
    countUnread: function countUnread(categoryId) {
      var subcategoryIds = this.getSubCategoryIds(categoryId);
      return _.chain(this.states).filter(isUnread).filter(function (topic) {
        return topic.archetype !== "private_message" && !topic.deleted && (!categoryId || subcategoryIds.has(topic.category_id));
      }).value().length;
    },
    countCategory: function countCategory(category_id) {
      var sum = 0;
      Object.values(this.states).forEach(function (topic) {
        if (topic.category_id === category_id && !topic.deleted) {
          sum += topic.last_read_post_number === null || topic.last_read_post_number < topic.highest_post_number ? 1 : 0;
        }
      });
      return sum;
    },
    lookupCount: function lookupCount(name, category) {
      if (name === "latest") {
        return this.lookupCount("new", category) + this.lookupCount("unread", category);
      }

      var categoryId = category ? (0, _object.get)(category, "id") : null;
      var categoryName = category ? (0, _object.get)(category, "name") : null;

      if (name === "new") {
        return this.countNew(categoryId);
      } else if (name === "unread") {
        return this.countUnread(categoryId);
      } else {
        categoryName = name.split("/")[1];
        if (categoryName) {
          return this.countCategory(categoryId);
        }
      }
    },
    loadStates: function loadStates(data) {
      var states = this.states;

      // I am taking some shortcuts here to avoid 500 gets for a large list
      if (data) {
        data.forEach(function (topic) {
          states["t" + topic.topic_id] = topic;
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_setup", [_dec], Object.getOwnPropertyDescriptor(_obj, "_setup"), _obj), _applyDecoratedDescriptor(_obj, "hasIncoming", [_dec2], Object.getOwnPropertyDescriptor(_obj, "hasIncoming"), _obj)), _obj)));

  function startTracking(tracking) {
    var data = _preloadStore.default.get("topicTrackingStates");
    tracking.loadStates(data);
    tracking.initialStatesLength = data && data.length;
    tracking.establishChannels();
    _preloadStore.default.remove("topicTrackingStates");
  }

  exports.default = TopicTrackingState;
});
define("discourse/models/user-action-stat", ["exports", "discourse-common/utils/decorators", "discourse/models/rest", "discourse/models/user-action", "discourse/lib/computed"], function (exports, _decorators, _rest, _userAction, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _rest.default.extend((_dec = (0, _decorators.default)("action_type"), _dec2 = (0, _decorators.default)("action_type"), (_obj = {
    isPM: function isPM(actionType) {
      return actionType === _userAction.default.TYPES.messages_sent || actionType === _userAction.default.TYPES.messages_received;
    },


    description: (0, _computed.i18n)("action_type", "user_action_groups.%@"),

    isResponse: function isResponse(actionType) {
      return actionType === _userAction.default.TYPES.replies || actionType === _userAction.default.TYPES.quotes;
    }
  }, (_applyDecoratedDescriptor(_obj, "isPM", [_dec], Object.getOwnPropertyDescriptor(_obj, "isPM"), _obj), _applyDecoratedDescriptor(_obj, "isResponse", [_dec2], Object.getOwnPropertyDescriptor(_obj, "isResponse"), _obj)), _obj)));
});
define("discourse/models/user-draft", ["exports", "discourse-common/utils/decorators", "discourse/models/rest", "discourse/lib/utilities", "discourse/lib/url", "discourse/models/user", "discourse/models/composer"], function (exports, _decorators, _rest, _utilities, _url, _user, _composer) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = _rest.default.extend((_dec = (0, _decorators.default)("draft_username"), _dec2 = (0, _decorators.default)("username_lower"), _dec3 = (0, _decorators.default)("topic_id"), _dec4 = (0, _decorators.default)("draft_key"), (_obj = {
    editableDraft: function editableDraft(draftUsername) {
      return draftUsername === _user.default.currentProp("username");
    },
    userUrl: function userUrl(usernameLower) {
      return (0, _url.userPath)(usernameLower);
    },
    postUrl: function postUrl(topicId) {
      if (!topicId) return;

      return (0, _utilities.postUrl)(this.slug, this.topic_id, this.post_number);
    },
    draftType: function draftType(draftKey) {
      switch (draftKey) {
        case _composer.NEW_TOPIC_KEY:
          return I18n.t("drafts.new_topic");
        case _composer.NEW_PRIVATE_MESSAGE_KEY:
          return I18n.t("drafts.new_private_message");
        default:
          return false;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "editableDraft", [_dec], Object.getOwnPropertyDescriptor(_obj, "editableDraft"), _obj), _applyDecoratedDescriptor(_obj, "userUrl", [_dec2], Object.getOwnPropertyDescriptor(_obj, "userUrl"), _obj), _applyDecoratedDescriptor(_obj, "postUrl", [_dec3], Object.getOwnPropertyDescriptor(_obj, "postUrl"), _obj), _applyDecoratedDescriptor(_obj, "draftType", [_dec4], Object.getOwnPropertyDescriptor(_obj, "draftType"), _obj)), _obj)));
});
define("discourse/models/user-drafts-stream", ["exports", "discourse-common/utils/decorators", "discourse/lib/ajax", "discourse/lib/computed", "discourse/models/rest", "discourse/models/user-draft", "discourse/lib/text", "rsvp", "discourse/models/composer"], function (exports, _decorators, _ajax, _computed, _rest, _userDraft, _text, _rsvp, _composer) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _rest.default.extend((_dec = (0, _decorators.default)("content.length", "loaded"), (_obj = {
    loaded: false,

    init: function init() {
      this._super.apply(this, arguments);
      this.setProperties({
        itemsLoaded: 0,
        content: [],
        lastLoadedUrl: null
      });
    },


    baseUrl: (0, _computed.url)("itemsLoaded", "user.username_lower", "/drafts.json?offset=%@&username=%@"),

    load: function load(site) {
      this.setProperties({
        itemsLoaded: 0,
        content: [],
        lastLoadedUrl: null,
        site: site
      });
      return this.findItems();
    },
    noContent: function noContent(contentLength, loaded) {
      return loaded && contentLength === 0;
    },
    remove: function remove(draft) {
      var content = this.content.filter(function (item) {
        return item.draft_key !== draft.draft_key;
      });
      this.setProperties({ content: content, itemsLoaded: content.length });
    },
    findItems: function findItems() {
      var _this = this;

      var findUrl = this.baseUrl;

      var lastLoadedUrl = this.lastLoadedUrl;
      if (lastLoadedUrl === findUrl) {
        return _rsvp.Promise.resolve();
      }

      if (this.loading) {
        return _rsvp.Promise.resolve();
      }

      this.set("loading", true);

      return (0, _ajax.ajax)(findUrl, { cache: "false" }).then(function (result) {
        if (result && result.no_results_help) {
          _this.set("noContentHelp", result.no_results_help);
        }
        if (result && result.drafts) {
          var copy = Ember.A();
          result.drafts.forEach(function (draft) {
            var draftData = JSON.parse(draft.data);
            draft.post_number = draftData.postId || null;
            if (draft.draft_key === _composer.NEW_PRIVATE_MESSAGE_KEY || draft.draft_key === _composer.NEW_TOPIC_KEY) {
              draft.title = draftData.title;
            }
            draft.title = (0, _text.emojiUnescape)(Handlebars.Utils.escapeExpression(draft.title));
            if (draft.category_id) {
              draft.category = _this.site.categories.findBy("id", draft.category_id) || null;
            }

            copy.pushObject(_userDraft.default.create(draft));
          });
          _this.content.pushObjects(copy);
          _this.setProperties({
            loaded: true,
            itemsLoaded: _this.itemsLoaded + result.drafts.length
          });
        }
      }).finally(function () {
        _this.set("loading", false);
        _this.set("lastLoadedUrl", findUrl);
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "noContent", [_dec], Object.getOwnPropertyDescriptor(_obj, "noContent"), _obj)), _obj)));
});
define("discourse/models/user-posts-stream", ["exports", "discourse-common/utils/decorators", "discourse/lib/ajax", "discourse/lib/computed", "discourse/models/user-action", "rsvp", "@ember/object"], function (exports, _decorators, _ajax, _computed, _userAction, _rsvp, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _object.default.extend((_dec = (0, _decorators.on)("init"), (_obj = {
    loaded: false,

    _initialize: function _initialize() {
      this.setProperties({
        itemsLoaded: 0,
        canLoadMore: true,
        content: []
      });
    },


    url: (0, _computed.url)("user.username_lower", "filter", "itemsLoaded", "/posts/%@/%@?offset=%@"),

    filterBy: function filterBy(opts) {
      if (this.loaded && this.filter === opts.filter) {
        return _rsvp.Promise.resolve();
      }

      this.setProperties(Object.assign({
        itemsLoaded: 0,
        content: [],
        lastLoadedUrl: null
      }, opts));

      return this.findItems();
    },
    findItems: function findItems() {
      var _this = this;

      if (this.loading || !this.canLoadMore) {
        return _rsvp.Promise.reject();
      }

      this.set("loading", true);

      return (0, _ajax.ajax)(this.url, { cache: false }).then(function (result) {
        if (result) {
          var posts = result.map(function (post) {
            return _userAction.default.create(post);
          });
          _this.content.pushObjects(posts);
          _this.setProperties({
            loaded: true,
            itemsLoaded: _this.itemsLoaded + posts.length,
            canLoadMore: posts.length > 0
          });
        }
      }).finally(function () {
        return _this.set("loading", false);
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "_initialize", [_dec], Object.getOwnPropertyDescriptor(_obj, "_initialize"), _obj)), _obj)));
});
define("discourse/models/user-stream", ["exports", "discourse/lib/ajax", "discourse/lib/computed", "discourse/models/rest", "discourse/models/user-action", "discourse/lib/text", "rsvp", "discourse-common/utils/decorators"], function (exports, _ajax, _computed, _rest, _userAction, _text, _rsvp, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _rest.default.extend((_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.default)("filter"), _dec3 = (0, _decorators.default)("loaded", "content.[]"), (_obj = {
    loaded: false,

    _initialize: function _initialize() {
      this.setProperties({ itemsLoaded: 0, content: [] });
    },
    filterParam: function filterParam(filter) {
      if (filter === _userAction.default.TYPES.replies) {
        return [_userAction.default.TYPES.replies, _userAction.default.TYPES.quotes].join(",");
      }

      if (!filter) {
        return [_userAction.default.TYPES.topics, _userAction.default.TYPES.posts].join(",");
      }

      return filter;
    },


    baseUrl: (0, _computed.url)("itemsLoaded", "user.username_lower", "/user_actions.json?offset=%@&username=%@"),

    filterBy: function filterBy(opts) {
      this.setProperties(Object.assign({
        itemsLoaded: 0,
        content: [],
        lastLoadedUrl: null
      }, opts));

      return this.findItems();
    },
    noContent: function noContent(loaded, content) {
      return loaded && content.length === 0;
    },
    remove: function remove(userAction) {
      // 1) remove the user action from the child groups
      this.content.forEach(function (ua) {
        ["likes", "stars", "edits", "bookmarks"].forEach(function (group) {
          var items = ua.get("childGroups." + group + ".items");
          if (items) {
            items.removeObject(userAction);
          }
        });
      });

      // 2) remove the parents that have no children
      var content = this.content.filter(function (ua) {
        return ["likes", "stars", "edits", "bookmarks"].some(function (group) {
          return ua.get("childGroups." + group + ".items.length") > 0;
        });
      });

      this.setProperties({ content: content, itemsLoaded: content.length });
    },
    findItems: function findItems() {
      var _this = this;

      var findUrl = this.baseUrl;
      if (this.filterParam) {
        findUrl += "&filter=" + this.filterParam;
      }
      if (this.noContentHelpKey) {
        findUrl += "&no_results_help_key=" + this.noContentHelpKey;
      }

      if (this.actingUsername) {
        findUrl += "&acting_username=" + this.actingUsername;
      }

      // Don't load the same stream twice. We're probably at the end.
      var lastLoadedUrl = this.lastLoadedUrl;
      if (lastLoadedUrl === findUrl) {
        return _rsvp.Promise.resolve();
      }

      if (this.loading) {
        return _rsvp.Promise.resolve();
      }

      this.set("loading", true);
      return (0, _ajax.ajax)(findUrl, { cache: "false" }).then(function (result) {
        if (result && result.no_results_help) {
          _this.set("noContentHelp", result.no_results_help);
        }
        if (result && result.user_actions) {
          var copy = Ember.A();
          result.user_actions.forEach(function (action) {
            action.title = (0, _text.emojiUnescape)(Handlebars.Utils.escapeExpression(action.title));
            copy.pushObject(_userAction.default.create(action));
          });

          _this.content.pushObjects(_userAction.default.collapseStream(copy));
          _this.setProperties({
            itemsLoaded: _this.itemsLoaded + result.user_actions.length
          });
        }
      }).finally(function () {
        return _this.setProperties({
          loaded: true,
          loading: false,
          lastLoadedUrl: findUrl
        });
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "_initialize", [_dec], Object.getOwnPropertyDescriptor(_obj, "_initialize"), _obj), _applyDecoratedDescriptor(_obj, "filterParam", [_dec2], Object.getOwnPropertyDescriptor(_obj, "filterParam"), _obj), _applyDecoratedDescriptor(_obj, "noContent", [_dec3], Object.getOwnPropertyDescriptor(_obj, "noContent"), _obj)), _obj)));
});
define("discourse/models/user", ["exports", "@ember/utils", "@ember/object/computed", "@ember/object", "discourse/lib/ajax", "discourse/lib/computed", "discourse/models/rest", "discourse/models/user-stream", "discourse/models/user-posts-stream", "discourse/mixins/singleton", "discourse/lib/formatter", "discourse-common/utils/decorators", "discourse/models/badge", "discourse/models/user-badge", "discourse/models/user-action-stat", "discourse/models/user-action", "discourse/models/user-drafts-stream", "discourse/models/group", "discourse/lib/text", "preload-store", "discourse/lib/utilities", "discourse/lib/url", "discourse/models/category", "rsvp", "discourse-common/lib/deprecated", "discourse/models/site"], function (exports, _utils, _computed, _object, _ajax, _computed2, _rest, _userStream, _userPostsStream, _singleton, _formatter, _decorators, _badge, _userBadge, _userActionStat, _userAction, _userDraftsStream, _group, _text, _preloadStore, _utilities, _url, _category, _rsvp, _deprecated, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.SECOND_FACTOR_METHODS = undefined;

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _desc, _value, _obj, _init, _init2, _init3, _init4;

  var SECOND_FACTOR_METHODS = exports.SECOND_FACTOR_METHODS = {
    TOTP: 1,
    BACKUP_CODE: 2,
    SECURITY_KEY: 3
  };

  var isForever = function isForever(dt) {
    return moment().diff(dt, "years") < -500;
  };

  var User = _rest.default.extend((_dec = (0, _decorators.default)("can_be_deleted", "post_count"), _dec2 = (0, _decorators.default)(), _dec3 = (0, _decorators.default)(), _dec4 = (0, _decorators.default)(), _dec5 = (0, _decorators.default)("username_lower"), _dec6 = (0, _decorators.default)("username", "name"), _dec7 = (0, _decorators.default)("profile_background_upload_url"), _dec8 = (0, _decorators.default)(), _dec9 = (0, _decorators.default)(), _dec10 = (0, _decorators.default)(), _dec11 = (0, _decorators.default)(), _dec12 = (0, _decorators.default)(), _dec13 = (0, _decorators.default)("username"), _dec14 = (0, _decorators.default)("trust_level"), _dec15 = (0, _decorators.default)("previous_visit_at"), _dec16 = (0, _decorators.default)("suspended_till"), _dec17 = (0, _decorators.default)("suspended_till"), _dec18 = (0, _decorators.default)("silenced_till"), _dec19 = (0, _decorators.default)("suspended_till"), _dec20 = (0, _decorators.default)("silenced_till"), _dec21 = (0, _decorators.default)("groups.[]"), _dec22 = (0, _decorators.default)("filteredGroups", "numGroupsToDisplay"), _dec23 = (0, _decorators.default)("filteredGroups", "numGroupsToDisplay"), _dec24 = (0, _decorators.default)("statsExcludingPms.@each.count"), _dec25 = (0, _decorators.default)("stats.@each.isPM"), _dec26 = (0, _decorators.observes)("muted_category_ids"), _dec27 = (0, _decorators.observes)("tracked_category_ids"), _dec28 = (0, _decorators.observes)("watched_category_ids"), _dec29 = (0, _decorators.observes)("watched_first_post_category_ids"), _dec30 = (0, _decorators.default)("can_delete_account"), _dec31 = (0, _decorators.default)("groups.@each.title", "badges.[]"), _dec32 = (0, _decorators.default)("user_option.text_size_seq", "user_option.text_size"), _dec33 = (0, _decorators.default)("second_factor_enabled", "staff"), (_obj = {
    hasPMs: (0, _computed.gt)("private_messages_stats.all", 0),
    hasStartedPMs: (0, _computed.gt)("private_messages_stats.mine", 0),
    hasUnreadPMs: (0, _computed.gt)("private_messages_stats.unread", 0),

    redirected_to_top: {
      reason: null
    },

    canBeDeleted: function canBeDeleted(_canBeDeleted, postCount) {
      return _canBeDeleted && postCount <= 5;
    },
    stream: function stream() {
      return _userStream.default.create({ user: this });
    },
    postsStream: function postsStream() {
      return _userPostsStream.default.create({ user: this });
    },
    userDraftsStream: function userDraftsStream() {
      return _userDraftsStream.default.create({ user: this });
    },


    staff: (0, _object.computed)("admin", "moderator", {
      get: function get() {
        return this.admin || this.moderator;
      },
      set: function set() {
        return this.admin || this.moderator;
      }
    }),

    destroySession: function destroySession() {
      return (0, _ajax.ajax)("/session/" + this.username, { type: "DELETE" });
    },
    searchContext: function searchContext(username) {
      return {
        type: "user",
        id: username,
        user: this
      };
    },
    displayName: function displayName(username, name) {
      if (Discourse.SiteSettings.enable_names && !(0, _utils.isEmpty)(name)) {
        return name;
      }
      return username;
    },
    profileBackgroundUrl: function profileBackgroundUrl(bgUrl) {
      if ((0, _utils.isEmpty)(bgUrl) || !Discourse.SiteSettings.allow_profile_backgrounds) {
        return "".htmlSafe();
      }
      return ("background-image: url(" + Discourse.getURLWithCDN(bgUrl) + ")").htmlSafe();
    },
    path: function path() {
      // no need to observe, requires a hard refresh to update
      return (0, _url.userPath)(this.username_lower);
    },
    userApiKeys: function userApiKeys() {
      var _this = this;

      var keys = this.user_api_keys;
      if (keys) {
        return keys.map(function (raw) {
          var obj = _object.default.create(raw);

          obj.revoke = function () {
            _this.revokeApiKey(obj);
          };

          obj.undoRevoke = function () {
            _this.undoRevokeApiKey(obj);
          };

          return obj;
        });
      }
    },
    revokeApiKey: function revokeApiKey(key) {
      return (0, _ajax.ajax)("/user-api-key/revoke", {
        type: "POST",
        data: { id: key.get("id") }
      }).then(function () {
        key.set("revoked", true);
      });
    },
    undoRevokeApiKey: function undoRevokeApiKey(key) {
      return (0, _ajax.ajax)("/user-api-key/undo-revoke", {
        type: "POST",
        data: { id: key.get("id") }
      }).then(function () {
        key.set("revoked", false);
      });
    },
    pmPath: function pmPath(topic) {
      var userId = this.id;
      var username = this.username_lower;

      var details = topic && topic.get("details");
      var allowedUsers = details && details.get("allowed_users");
      var groups = details && details.get("allowed_groups");

      // directly targetted so go to inbox
      if (!groups || allowedUsers && allowedUsers.findBy("id", userId)) {
        return (0, _url.userPath)(username + "/messages");
      } else {
        if (groups && groups[0]) {
          return (0, _url.userPath)(username + "/messages/group/" + groups[0].name);
        }
      }
    },


    adminPath: (0, _computed2.url)("id", "username_lower", "/admin/users/%@1/%@2"),

    mutedTopicsPath: function mutedTopicsPath() {
      return (0, _utilities.defaultHomepage)() === "latest" ? Discourse.getURL("/?state=muted") : Discourse.getURL("/latest?state=muted");
    },
    watchingTopicsPath: function watchingTopicsPath() {
      return (0, _utilities.defaultHomepage)() === "latest" ? Discourse.getURL("/?state=watching") : Discourse.getURL("/latest?state=watching");
    },
    trackingTopicsPath: function trackingTopicsPath() {
      return (0, _utilities.defaultHomepage)() === "latest" ? Discourse.getURL("/?state=tracking") : Discourse.getURL("/latest?state=tracking");
    },
    username_lower: function username_lower(username) {
      return username.toLowerCase();
    },
    trustLevel: function trustLevel(_trustLevel) {
      return _site.default.currentProp("trustLevels").findBy("id", parseInt(_trustLevel, 10));
    },


    isBasic: (0, _computed.equal)("trust_level", 0),
    isLeader: (0, _computed.equal)("trust_level", 3),
    isElder: (0, _computed.equal)("trust_level", 4),
    canManageTopic: (0, _computed.or)("staff", "isElder"),

    previousVisitAt: function previousVisitAt(previous_visit_at) {
      return new Date(previous_visit_at);
    },
    suspended: function suspended(suspendedTill) {
      return suspendedTill && moment(suspendedTill).isAfter();
    },

    suspendedForever: isForever,

    silencedForever: isForever,

    suspendedTillDate: _formatter.longDate,

    silencedTillDate: _formatter.longDate,

    changeUsername: function changeUsername(new_username) {
      return (0, _ajax.ajax)((0, _url.userPath)(this.username_lower + "/preferences/username"), {
        type: "PUT",
        data: { new_username: new_username }
      });
    },
    changeEmail: function changeEmail(email) {
      return (0, _ajax.ajax)((0, _url.userPath)(this.username_lower + "/preferences/email"), {
        type: "PUT",
        data: { email: email }
      });
    },
    copy: function copy() {
      return User.create(this.getProperties(Object.keys(this)));
    },
    save: function save(fields) {
      var _this2 = this;

      var userFields = ["bio_raw", "website", "location", "name", "title", "locale", "custom_fields", "user_fields", "muted_usernames", "ignored_usernames", "profile_background_upload_url", "card_background_upload_url", "muted_tags", "tracked_tags", "watched_tags", "watching_first_post_tags", "date_of_birth", "primary_group_id"];

      var data = this.getProperties(fields ? _.intersection(userFields, fields) : userFields);

      var userOptionFields = ["mailing_list_mode", "mailing_list_mode_frequency", "external_links_in_new_tab", "email_digests", "email_in_reply_to", "email_messages_level", "email_level", "email_previous_replies", "dynamic_favicon", "enable_quoting", "enable_defer", "automatically_unpin_topics", "digest_after_minutes", "new_topic_duration_minutes", "auto_track_topics_after_msecs", "notification_level_when_replying", "like_notification_frequency", "include_tl0_in_digests", "theme_ids", "allow_private_messages", "homepage_id", "hide_profile_and_presence", "text_size", "title_count_mode", "timezone"];

      if (fields) {
        userOptionFields = _.intersection(userOptionFields, fields);
      }

      userOptionFields.forEach(function (s) {
        data[s] = _this2.get("user_option." + s);
      });

      var updatedState = {};

      ["muted", "watched", "tracked", "watched_first_post"].forEach(function (s) {
        if (fields === undefined || fields.includes(s + "_category_ids")) {
          var prop = s === "watched_first_post" ? "watchedFirstPostCategories" : s + "Categories";
          var cats = _this2.get(prop);
          if (cats) {
            var cat_ids = cats.map(function (c) {
              return c.get("id");
            });
            updatedState[s + "_category_ids"] = cat_ids;

            // HACK: denote lack of categories
            if (cats.length === 0) {
              cat_ids = [-1];
            }
            data[s + "_category_ids"] = cat_ids;
          }
        }
      });

      ["muted_tags", "tracked_tags", "watched_tags", "watching_first_post_tags"].forEach(function (prop) {
        if (fields === undefined || fields.includes(prop)) {
          data[prop] = _this2.get(prop) ? _this2.get(prop).join(",") : "";
        }
      });

      // TODO: We can remove this when migrated fully to rest model.
      this.set("isSaving", true);
      return (0, _ajax.ajax)((0, _url.userPath)(this.username_lower + ".json"), {
        data: data,
        type: "PUT"
      }).then(function (result) {
        _this2.set("bio_excerpt", result.user.bio_excerpt);
        var userProps = (0, _object.getProperties)(_this2.user_option, "enable_quoting", "enable_defer", "external_links_in_new_tab", "dynamic_favicon");
        User.current().setProperties(userProps);
        _this2.setProperties(updatedState);
      }).finally(function () {
        _this2.set("isSaving", false);
      });
    },
    changePassword: function changePassword() {
      return (0, _ajax.ajax)("/session/forgot_password", {
        dataType: "json",
        data: { login: this.username },
        type: "POST"
      });
    },
    loadSecondFactorCodes: function loadSecondFactorCodes(password) {
      return (0, _ajax.ajax)("/u/second_factors.json", {
        data: { password: password },
        type: "POST"
      });
    },
    requestSecurityKeyChallenge: function requestSecurityKeyChallenge() {
      return (0, _ajax.ajax)("/u/create_second_factor_security_key.json", {
        type: "POST"
      });
    },
    registerSecurityKey: function registerSecurityKey(credential) {
      return (0, _ajax.ajax)("/u/register_second_factor_security_key.json", {
        data: credential,
        type: "POST"
      });
    },
    createSecondFactorTotp: function createSecondFactorTotp() {
      return (0, _ajax.ajax)("/u/create_second_factor_totp.json", {
        type: "POST"
      });
    },
    enableSecondFactorTotp: function enableSecondFactorTotp(authToken, name) {
      return (0, _ajax.ajax)("/u/enable_second_factor_totp.json", {
        data: {
          second_factor_token: authToken,
          name: name
        },
        type: "POST"
      });
    },
    disableAllSecondFactors: function disableAllSecondFactors() {
      return (0, _ajax.ajax)("/u/disable_second_factor.json", {
        type: "PUT"
      });
    },
    updateSecondFactor: function updateSecondFactor(id, name, disable, targetMethod) {
      return (0, _ajax.ajax)("/u/second_factor.json", {
        data: {
          second_factor_target: targetMethod,
          name: name,
          disable: disable,
          id: id
        },
        type: "PUT"
      });
    },
    updateSecurityKey: function updateSecurityKey(id, name, disable) {
      return (0, _ajax.ajax)("/u/security_key.json", {
        data: {
          name: name,
          disable: disable,
          id: id
        },
        type: "PUT"
      });
    },
    toggleSecondFactor: function toggleSecondFactor(authToken, authMethod, targetMethod, enable) {
      return (0, _ajax.ajax)("/u/second_factor.json", {
        data: {
          second_factor_token: authToken,
          second_factor_method: authMethod,
          second_factor_target: targetMethod,
          enable: enable
        },
        type: "PUT"
      });
    },
    generateSecondFactorCodes: function generateSecondFactorCodes() {
      return (0, _ajax.ajax)("/u/second_factors_backup.json", {
        type: "PUT"
      });
    },
    revokeAssociatedAccount: function revokeAssociatedAccount(providerName) {
      return (0, _ajax.ajax)((0, _url.userPath)(this.username + "/preferences/revoke-account"), {
        data: { provider_name: providerName },
        type: "POST"
      });
    },
    loadUserAction: function loadUserAction(id) {
      var _this3 = this;

      var stream = this.stream;
      return (0, _ajax.ajax)("/user_actions/" + id + ".json", { cache: "false" }).then(function (result) {
        if (result && result.user_action) {
          var ua = result.user_action;

          if ((_this3.get("stream.filter") || ua.action_type) !== ua.action_type) return;
          if (!_this3.get("stream.filter") && !_this3.inAllStream(ua)) return;

          ua.title = (0, _text.emojiUnescape)(Handlebars.Utils.escapeExpression(ua.title));
          var action = _userAction.default.collapseStream([_userAction.default.create(ua)]);
          stream.set("itemsLoaded", stream.get("itemsLoaded") + 1);
          stream.get("content").insertAt(0, action[0]);
        }
      });
    },
    inAllStream: function inAllStream(ua) {
      return ua.action_type === _userAction.default.TYPES.posts || ua.action_type === _userAction.default.TYPES.topics;
    },


    numGroupsToDisplay: 2,

    filteredGroups: function filteredGroups() {
      var groups = this.groups || [];

      return groups.filter(function (group) {
        return !group.automatic || group.name === "moderators";
      });
    },
    displayGroups: function displayGroups(filteredGroups, numGroupsToDisplay) {
      var groups = filteredGroups.slice(0, numGroupsToDisplay);
      return groups.length === 0 ? null : groups;
    },
    showMoreGroupsLink: function showMoreGroupsLink(filteredGroups, numGroupsToDisplay) {
      return filteredGroups.length > numGroupsToDisplay;
    },
    statsCountNonPM: function statsCountNonPM() {
      var _this4 = this;

      if ((0, _utils.isEmpty)(this.statsExcludingPms)) return 0;
      var count = 0;
      this.statsExcludingPms.forEach(function (val) {
        if (_this4.inAllStream(val)) {
          count += val.count;
        }
      });
      return count;
    },
    statsExcludingPms: function statsExcludingPms() {
      if ((0, _utils.isEmpty)(this.stats)) return [];
      return this.stats.rejectBy("isPM");
    },
    findDetails: function findDetails(options) {
      var user = this;

      return _preloadStore.default.getAndRemove("user_" + user.get("username"), function () {
        var useCardRoute = options && options.forCard;

        if (options) delete options.forCard;

        var path = useCardRoute ? user.get("username") + "/card.json" : user.get("username") + ".json";

        return (0, _ajax.ajax)((0, _url.userPath)(path), { data: options });
      }).then(function (json) {
        if (!(0, _utils.isEmpty)(json.user.stats)) {
          json.user.stats = User.groupStats(json.user.stats.map(function (s) {
            if (s.count) s.count = parseInt(s.count, 10);
            return _userActionStat.default.create(s);
          }));
        }

        if (!(0, _utils.isEmpty)(json.user.groups)) {
          var groups = [];

          for (var i = 0; i < json.user.groups.length; i++) {
            var group = _group.default.create(json.user.groups[i]);
            group.group_user = json.user.group_users[i];
            groups.push(group);
          }

          json.user.groups = groups;
        }

        if (json.user.invited_by) {
          json.user.invited_by = User.create(json.user.invited_by);
        }

        if (!(0, _utils.isEmpty)(json.user.featured_user_badge_ids)) {
          var userBadgesMap = {};
          _userBadge.default.createFromJson(json).forEach(function (userBadge) {
            userBadgesMap[userBadge.get("id")] = userBadge;
          });
          json.user.featured_user_badges = json.user.featured_user_badge_ids.map(function (id) {
            return userBadgesMap[id];
          });
        }

        if (json.user.card_badge) {
          json.user.card_badge = _badge.default.create(json.user.card_badge);
        }

        user.setProperties(json.user);
        return user;
      });
    },
    findStaffInfo: function findStaffInfo() {
      var _this5 = this;

      if (!User.currentProp("staff")) {
        return _rsvp.Promise.resolve(null);
      }
      return (0, _ajax.ajax)((0, _url.userPath)(this.username_lower + "/staff-info.json")).then(function (info) {
        _this5.setProperties(info);
      });
    },
    pickAvatar: function pickAvatar(upload_id, type) {
      return (0, _ajax.ajax)((0, _url.userPath)(this.username_lower + "/preferences/avatar/pick"), {
        type: "PUT",
        data: { upload_id: upload_id, type: type }
      });
    },
    selectAvatar: function selectAvatar(avatarUrl) {
      return (0, _ajax.ajax)((0, _url.userPath)(this.username_lower + "/preferences/avatar/select"), {
        type: "PUT",
        data: { url: avatarUrl }
      });
    },
    isAllowedToUploadAFile: function isAllowedToUploadAFile(type) {
      return this.staff || this.trust_level > 0 || Discourse.SiteSettings["newuser_max_" + type + "s"] > 0;
    },
    createInvite: function createInvite(email, group_names, custom_message) {
      return (0, _ajax.ajax)("/invites", {
        type: "POST",
        data: { email: email, group_names: group_names, custom_message: custom_message }
      });
    },
    generateInviteLink: function generateInviteLink(email, group_names, topic_id) {
      return (0, _ajax.ajax)("/invites/link", {
        type: "POST",
        data: { email: email, group_names: group_names, topic_id: topic_id }
      });
    },
    updateMutedCategories: function updateMutedCategories() {
      this.set("mutedCategories", _category.default.findByIds(this.muted_category_ids));
    },
    updateTrackedCategories: function updateTrackedCategories() {
      this.set("trackedCategories", _category.default.findByIds(this.tracked_category_ids));
    },
    updateWatchedCategories: function updateWatchedCategories() {
      this.set("watchedCategories", _category.default.findByIds(this.watched_category_ids));
    },
    updateWatchedFirstPostCategories: function updateWatchedFirstPostCategories() {
      this.set("watchedFirstPostCategories", _category.default.findByIds(this.watched_first_post_category_ids));
    },
    canDeleteAccount: function canDeleteAccount(_canDeleteAccount) {
      return !Discourse.SiteSettings.enable_sso && _canDeleteAccount;
    },


    delete: function _delete() {
      if (this.can_delete_account) {
        return (0, _ajax.ajax)((0, _url.userPath)(this.username + ".json"), {
          type: "DELETE",
          data: { context: window.location.pathname }
        });
      } else {
        return _rsvp.Promise.reject(I18n.t("user.delete_yourself_not_allowed"));
      }
    },

    updateNotificationLevel: function updateNotificationLevel(level, expiringAt) {
      var _this6 = this;

      return (0, _ajax.ajax)((0, _url.userPath)(this.username) + "/notification_level.json", {
        type: "PUT",
        data: { notification_level: level, expiring_at: expiringAt }
      }).then(function () {
        var currentUser = User.current();
        if (currentUser) {
          if (level === "normal" || level === "mute") {
            currentUser.ignored_users.removeObject(_this6.username);
          } else if (level === "ignore") {
            currentUser.ignored_users.addObject(_this6.username);
          }
        }
      });
    },
    dismissBanner: function dismissBanner(bannerKey) {
      this.set("dismissed_banner_key", bannerKey);
      (0, _ajax.ajax)((0, _url.userPath)(this.username + ".json"), {
        type: "PUT",
        data: { dismissed_banner_key: bannerKey }
      });
    },
    checkEmail: function checkEmail() {
      var _this7 = this;

      return (0, _ajax.ajax)((0, _url.userPath)(this.username_lower + "/emails.json"), {
        data: { context: window.location.pathname }
      }).then(function (result) {
        if (result) {
          _this7.setProperties({
            email: result.email,
            secondary_emails: result.secondary_emails,
            associated_accounts: result.associated_accounts
          });
        }
      });
    },
    summary: function summary() {
      // let { store } = this; would fail in tests
      var store = Discourse.__container__.lookup("service:store");

      return (0, _ajax.ajax)((0, _url.userPath)(this.username_lower + "/summary.json")).then(function (json) {
        var summary = json.user_summary;
        var topicMap = {};
        var badgeMap = {};

        json.topics.forEach(function (t) {
          return topicMap[t.id] = store.createRecord("topic", t);
        });
        _badge.default.createFromJson(json).forEach(function (b) {
          return badgeMap[b.id] = b;
        });

        summary.topics = summary.topic_ids.map(function (id) {
          return topicMap[id];
        });

        summary.replies.forEach(function (r) {
          r.topic = topicMap[r.topic_id];
          r.url = r.topic.urlForPostNumber(r.post_number);
          r.createdAt = new Date(r.created_at);
        });

        summary.links.forEach(function (l) {
          l.topic = topicMap[l.topic_id];
          l.post_url = l.topic.urlForPostNumber(l.post_number);
        });

        if (summary.badges) {
          summary.badges = summary.badges.map(function (ub) {
            var badge = badgeMap[ub.badge_id];
            badge.count = ub.count;
            return badge;
          });
        }

        if (summary.top_categories) {
          summary.top_categories.forEach(function (c) {
            if (c.parent_category_id) {
              c.parentCategory = _category.default.findById(c.parent_category_id);
            }
          });
        }

        return summary;
      });
    },
    canManageGroup: function canManageGroup(group) {
      return group.get("automatic") ? false : this.admin || group.get("is_group_owner");
    },
    availableTitles: function availableTitles() {
      var titles = [];

      (this.groups || []).forEach(function (group) {
        if (group.get("title")) {
          titles.push(group.get("title"));
        }
      });

      (this.badges || []).forEach(function (badge) {
        if (badge.get("allow_title")) {
          titles.push(badge.get("name"));
        }
      });

      return _.uniq(titles).sort().map(function (title) {
        return {
          name: Ember.Handlebars.Utils.escapeExpression(title),
          id: title
        };
      });
    },
    currentTextSize: function currentTextSize(serverSeq, serverSize) {
      if ($.cookie("text_size")) {
        var _$$cookie$split = $.cookie("text_size").split("|"),
            _$$cookie$split2 = _slicedToArray(_$$cookie$split, 2),
            cookieSize = _$$cookie$split2[0],
            cookieSeq = _$$cookie$split2[1];

        if (cookieSeq >= serverSeq) {
          return cookieSize;
        }
      }
      return serverSize;
    },
    updateTextSizeCookie: function updateTextSizeCookie(newSize) {
      if (newSize) {
        var seq = this.get("user_option.text_size_seq");
        $.cookie("text_size", newSize + "|" + seq, {
          path: "/",
          expires: 9999
        });
      } else {
        $.removeCookie("text_size", { path: "/", expires: 1 });
      }
    },
    enforcedSecondFactor: function enforcedSecondFactor(secondFactorEnabled, staff) {
      var enforce = Discourse.SiteSettings.enforce_second_factor;
      return !secondFactorEnabled && (enforce === "all" || enforce === "staff" && staff);
    }
  }, (_applyDecoratedDescriptor(_obj, "canBeDeleted", [_dec], Object.getOwnPropertyDescriptor(_obj, "canBeDeleted"), _obj), _applyDecoratedDescriptor(_obj, "stream", [_dec2], Object.getOwnPropertyDescriptor(_obj, "stream"), _obj), _applyDecoratedDescriptor(_obj, "postsStream", [_dec3], Object.getOwnPropertyDescriptor(_obj, "postsStream"), _obj), _applyDecoratedDescriptor(_obj, "userDraftsStream", [_dec4], Object.getOwnPropertyDescriptor(_obj, "userDraftsStream"), _obj), _applyDecoratedDescriptor(_obj, "searchContext", [_dec5], Object.getOwnPropertyDescriptor(_obj, "searchContext"), _obj), _applyDecoratedDescriptor(_obj, "displayName", [_dec6], Object.getOwnPropertyDescriptor(_obj, "displayName"), _obj), _applyDecoratedDescriptor(_obj, "profileBackgroundUrl", [_dec7], Object.getOwnPropertyDescriptor(_obj, "profileBackgroundUrl"), _obj), _applyDecoratedDescriptor(_obj, "path", [_dec8], Object.getOwnPropertyDescriptor(_obj, "path"), _obj), _applyDecoratedDescriptor(_obj, "userApiKeys", [_dec9], Object.getOwnPropertyDescriptor(_obj, "userApiKeys"), _obj), _applyDecoratedDescriptor(_obj, "mutedTopicsPath", [_dec10], Object.getOwnPropertyDescriptor(_obj, "mutedTopicsPath"), _obj), _applyDecoratedDescriptor(_obj, "watchingTopicsPath", [_dec11], Object.getOwnPropertyDescriptor(_obj, "watchingTopicsPath"), _obj), _applyDecoratedDescriptor(_obj, "trackingTopicsPath", [_dec12], Object.getOwnPropertyDescriptor(_obj, "trackingTopicsPath"), _obj), _applyDecoratedDescriptor(_obj, "username_lower", [_dec13], Object.getOwnPropertyDescriptor(_obj, "username_lower"), _obj), _applyDecoratedDescriptor(_obj, "trustLevel", [_dec14], Object.getOwnPropertyDescriptor(_obj, "trustLevel"), _obj), _applyDecoratedDescriptor(_obj, "previousVisitAt", [_dec15], Object.getOwnPropertyDescriptor(_obj, "previousVisitAt"), _obj), _applyDecoratedDescriptor(_obj, "suspended", [_dec16], Object.getOwnPropertyDescriptor(_obj, "suspended"), _obj), _applyDecoratedDescriptor(_obj, "suspendedForever", [_dec17], (_init = Object.getOwnPropertyDescriptor(_obj, "suspendedForever"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "silencedForever", [_dec18], (_init2 = Object.getOwnPropertyDescriptor(_obj, "silencedForever"), _init2 = _init2 ? _init2.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init2;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "suspendedTillDate", [_dec19], (_init3 = Object.getOwnPropertyDescriptor(_obj, "suspendedTillDate"), _init3 = _init3 ? _init3.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init3;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "silencedTillDate", [_dec20], (_init4 = Object.getOwnPropertyDescriptor(_obj, "silencedTillDate"), _init4 = _init4 ? _init4.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init4;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "filteredGroups", [_dec21], Object.getOwnPropertyDescriptor(_obj, "filteredGroups"), _obj), _applyDecoratedDescriptor(_obj, "displayGroups", [_dec22], Object.getOwnPropertyDescriptor(_obj, "displayGroups"), _obj), _applyDecoratedDescriptor(_obj, "showMoreGroupsLink", [_dec23], Object.getOwnPropertyDescriptor(_obj, "showMoreGroupsLink"), _obj), _applyDecoratedDescriptor(_obj, "statsCountNonPM", [_dec24], Object.getOwnPropertyDescriptor(_obj, "statsCountNonPM"), _obj), _applyDecoratedDescriptor(_obj, "statsExcludingPms", [_dec25], Object.getOwnPropertyDescriptor(_obj, "statsExcludingPms"), _obj), _applyDecoratedDescriptor(_obj, "updateMutedCategories", [_dec26], Object.getOwnPropertyDescriptor(_obj, "updateMutedCategories"), _obj), _applyDecoratedDescriptor(_obj, "updateTrackedCategories", [_dec27], Object.getOwnPropertyDescriptor(_obj, "updateTrackedCategories"), _obj), _applyDecoratedDescriptor(_obj, "updateWatchedCategories", [_dec28], Object.getOwnPropertyDescriptor(_obj, "updateWatchedCategories"), _obj), _applyDecoratedDescriptor(_obj, "updateWatchedFirstPostCategories", [_dec29], Object.getOwnPropertyDescriptor(_obj, "updateWatchedFirstPostCategories"), _obj), _applyDecoratedDescriptor(_obj, "canDeleteAccount", [_dec30], Object.getOwnPropertyDescriptor(_obj, "canDeleteAccount"), _obj), _applyDecoratedDescriptor(_obj, "availableTitles", [_dec31], Object.getOwnPropertyDescriptor(_obj, "availableTitles"), _obj), _applyDecoratedDescriptor(_obj, "currentTextSize", [_dec32], Object.getOwnPropertyDescriptor(_obj, "currentTextSize"), _obj), _applyDecoratedDescriptor(_obj, "enforcedSecondFactor", [_dec33], Object.getOwnPropertyDescriptor(_obj, "enforcedSecondFactor"), _obj)), _obj)));

  User.reopenClass(_singleton.default, {
    findByUsername: function findByUsername(username, options) {
      var user = User.create({ username: username });
      return user.findDetails(options);
    },
    createCurrent: function createCurrent() {
      var userJson = _preloadStore.default.get("currentUser");

      if (userJson && userJson.primary_group_id) {
        var primaryGroup = userJson.groups.find(function (group) {
          return group.id === userJson.primary_group_id;
        });
        if (primaryGroup) {
          userJson.primary_group_name = primaryGroup.name;
        }
      }

      if (userJson) {
        var store = Discourse.__container__.lookup("service:store");
        return store.createRecord("user", userJson);
      }
      return null;
    },
    resetCurrent: function resetCurrent(user) {
      this._super(user);
      Discourse.currentUser = user;
    },
    checkUsername: function checkUsername(username, email, for_user_id) {
      return (0, _ajax.ajax)((0, _url.userPath)("check_username"), {
        data: { username: username, email: email, for_user_id: for_user_id }
      });
    },
    groupStats: function groupStats(stats) {
      var responses = _userActionStat.default.create({
        count: 0,
        action_type: _userAction.default.TYPES.replies
      });

      stats.filterBy("isResponse").forEach(function (stat) {
        responses.set("count", responses.get("count") + stat.get("count"));
      });

      var result = Ember.A();
      result.pushObjects(stats.rejectBy("isResponse"));

      var insertAt = 0;
      result.forEach(function (item, index) {
        if (item.action_type === _userAction.default.TYPES.topics || item.action_type === _userAction.default.TYPES.posts) {
          insertAt = index + 1;
        }
      });
      if (responses.count > 0) {
        result.insertAt(insertAt, responses);
      }
      return result;
    },
    createAccount: function createAccount(attrs) {
      return (0, _ajax.ajax)((0, _url.userPath)(), {
        data: {
          name: attrs.accountName,
          email: attrs.accountEmail,
          password: attrs.accountPassword,
          username: attrs.accountUsername,
          password_confirmation: attrs.accountPasswordConfirm,
          challenge: attrs.accountChallenge,
          user_fields: attrs.userFields,
          timezone: moment.tz.guess()
        },
        type: "POST"
      });
    }
  });

  var warned = false;
  Object.defineProperty(Discourse, "User", {
    get: function get() {
      if (!warned) {
        (0, _deprecated.default)("Import the User class instead of using User", {
          since: "2.4.0",
          dropFrom: "2.6.0"
        });
        warned = true;
      }
      return User;
    }
  });

  exports.default = User;
});
define("discourse/components/about-page-users", ["exports", "@ember/component", "discourse/lib/url", "discourse/lib/utilities", "discourse/components/user-info", "discourse/helpers/user-avatar", "@ember/object"], function (exports, _component, _url, _utilities, _userInfo, _userAvatar, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    usersTemplates: (0, _object.computed)("users.[]", function () {
      return (this.users || []).map(function (user) {
        var name = "";
        if (user.name && (0, _userInfo.normalize)(user.username) !== (0, _userInfo.normalize)(user.name)) {
          name = user.name;
        }

        return {
          username: user.username,
          name: name,
          userPath: (0, _url.userPath)(user.username),
          avatar: (0, _userAvatar.renderAvatar)(user, { imageSize: "large" }),
          title: user.title || "",
          formatedUsername: (0, _utilities.formatUsername)(user.username)
        };
      });
    })
  });
});
define("discourse/components/activation-controls", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: "activation-controls"
  });
});
define("discourse/components/add-category-tag-classes", ["exports", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators"], function (exports, _runloop, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.observes)("category.fullSlug", "tags"), (_obj = {
    _slug: null,

    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      this.refreshClass();
    },
    _updateClass: function _updateClass() {
      if (this.isDestroying || this.isDestroyed) {
        return;
      }
      var slug = this.get("category.fullSlug");
      var tags = this.tags;

      this._removeClass();

      var classes = [];
      if (slug) classes.push("category-" + slug);
      if (tags) tags.forEach(function (t) {
        return classes.push("tag-" + t);
      });
      if (classes.length > 0) $("body").addClass(classes.join(" "));
    },
    refreshClass: function refreshClass() {
      (0, _runloop.scheduleOnce)("afterRender", this, this._updateClass);
    },
    _removeClass: function _removeClass() {
      $("body").removeClass(function (_, css) {
        return (css.match(/\b(?:category|tag)-\S+/g) || []).join(" ");
      });
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      this._removeClass();
    }
  }, (_applyDecoratedDescriptor(_obj, "refreshClass", [_dec], Object.getOwnPropertyDescriptor(_obj, "refreshClass"), _obj)), _obj)));
});
define("discourse/components/auth-token-dropdown", ["exports", "select-kit/components/dropdown-select-box", "@ember/object"], function (exports, _dropdownSelectBox, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _dropdownSelectBox.default.extend({
    classNames: ["auth-token-dropdown"],

    selectKitOptions: {
      icon: "wrench",
      showFullTitle: false
    },

    content: (0, _object.computed)(function () {
      return [{
        id: "notYou",
        icon: "user-times",
        name: I18n.t("user.auth_tokens.not_you"),
        description: ""
      }, {
        id: "logOut",
        icon: "sign-out-alt",
        name: I18n.t("user.log_out"),
        description: ""
      }];
    }),

    actions: {
      onChange: function onChange(id) {
        switch (id) {
          case "notYou":
            this.showToken(this.token);
            break;
          case "logOut":
            this.revokeAuthToken(this.token);
            break;
        }
      }
    }
  });
});
define("discourse/components/avatar-flair", ["exports", "discourse-common/utils/decorators", "discourse/components/mount-widget"], function (exports, _decorators, _mountWidget) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _mountWidget.default.extend((_dec = (0, _decorators.observes)("flairURL", "flairBgColor", "flairColor"), (_obj = {
    widget: "avatar-flair",

    _rerender: function _rerender() {
      this.queueRerender();
    },
    buildArgs: function buildArgs() {
      return {
        primary_group_flair_url: this.flairURL,
        primary_group_flair_bg_color: this.flairBgColor,
        primary_group_flair_color: this.flairColor,
        primary_group_name: this.groupName
      };
    }
  }, (_applyDecoratedDescriptor(_obj, "_rerender", [_dec], Object.getOwnPropertyDescriptor(_obj, "_rerender"), _obj)), _obj)));
});
define("discourse/components/avatar-uploader", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/mixins/upload"], function (exports, _decorators, _component, _upload) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend(_upload.default, (_dec = (0, _decorators.default)("user_id"), (_obj = {
    type: "avatar",
    tagName: "span",
    imageIsNotASquare: false,

    validateUploadedFilesOptions: function validateUploadedFilesOptions() {
      return { imagesOnly: true };
    },
    uploadDone: function uploadDone(upload) {
      this.setProperties({
        imageIsNotASquare: upload.width !== upload.height,
        uploadedAvatarTemplate: upload.url,
        uploadedAvatarId: upload.id
      });

      this.done();
    },
    data: function data(user_id) {
      return { user_id: user_id };
    }
  }, (_applyDecoratedDescriptor(_obj, "data", [_dec], Object.getOwnPropertyDescriptor(_obj, "data"), _obj)), _obj)));
});
define("discourse/components/backup-codes", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj, _init;

  // https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding
  function b64EncodeUnicode(str) {
    return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function toSolidBytes(match, p1) {
      return String.fromCharCode("0x" + p1);
    }));
  }

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("formattedBackupCodes"), _dec2 = (0, _decorators.default)("backupCodes"), (_obj = {
    classNames: ["backup-codes"],
    backupCodes: null,

    click: function click(event) {
      if (event.target.id === "backupCodes") {
        this._selectAllBackupCodes();
      }
    },
    didRender: function didRender() {
      this._super.apply(this, arguments);

      var backupCodes = this.element.querySelector("#backupCodes");
      if (backupCodes) {
        backupCodes.style.height = backupCodes.scrollHeight;
      }
    },

    base64BackupCode: b64EncodeUnicode,

    formattedBackupCodes: function formattedBackupCodes(backupCodes) {
      if (!backupCodes) return null;

      return backupCodes.join("\n").trim();
    },


    actions: {
      copyToClipboard: function copyToClipboard() {
        this._selectAllBackupCodes();
        this.copyBackupCode(document.execCommand("copy"));
      }
    },

    _selectAllBackupCodes: function _selectAllBackupCodes() {
      var textArea = this.element.querySelector("#backupCodes");
      textArea.focus();
      textArea.setSelectionRange(0, this.formattedBackupCodes.length);
    }
  }, (_applyDecoratedDescriptor(_obj, "base64BackupCode", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "base64BackupCode"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "formattedBackupCodes", [_dec2], Object.getOwnPropertyDescriptor(_obj, "formattedBackupCodes"), _obj)), _obj)));
});
define("discourse/components/backup-uploader", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/lib/ajax", "discourse/lib/ajax-error", "discourse/mixins/upload", "@ember/object/evented"], function (exports, _decorators, _component, _ajax, _ajaxError, _upload, _evented) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend(_upload.default, (_dec = (0, _decorators.default)("uploading", "uploadProgress"), (_obj = {
    tagName: "span",

    uploadButtonText: function uploadButtonText(uploading, progress) {
      return uploading ? I18n.t("admin.backups.upload.uploading_progress", { progress: progress }) : I18n.t("admin.backups.upload.label");
    },
    validateUploadedFilesOptions: function validateUploadedFilesOptions() {
      return { skipValidation: true };
    },
    uploadDone: function uploadDone() {
      this.done();
    },
    calculateUploadUrl: function calculateUploadUrl() {
      return "";
    },
    uploadOptions: function uploadOptions() {
      return {
        type: "PUT",
        dataType: "xml",
        autoUpload: false,
        multipart: false
      };
    },


    _init: (0, _evented.on)("didInsertElement", function () {
      var $upload = $(this.element);

      $upload.on("fileuploadadd", function (e, data) {
        (0, _ajax.ajax)("/admin/backups/upload_url", {
          data: { filename: data.files[0].name }
        }).then(function (result) {
          data.url = result.url;
          data.submit();
        }).catch(_ajaxError.popupAjaxError);
      });
    })
  }, (_applyDecoratedDescriptor(_obj, "uploadButtonText", [_dec], Object.getOwnPropertyDescriptor(_obj, "uploadButtonText"), _obj)), _obj)));
});
define("discourse/components/badge-button", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component"], function (exports, _decorators, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("badge.description"), (_obj = {
    tagName: "span",
    classNameBindings: [":user-badge", "badge.badgeTypeClassName", "badge.enabled::disabled"],

    title: function title(badgeDescription) {
      return $("<div>" + badgeDescription + "</div>").text();
    },


    attributeBindings: ["data-badge-name", "title"],
    "data-badge-name": (0, _computed.alias)("badge.name")
  }, (_applyDecoratedDescriptor(_obj, "title", [_dec], Object.getOwnPropertyDescriptor(_obj, "title"), _obj)), _obj)));
});
define("discourse/components/badge-card", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/lib/text"], function (exports, _decorators, _component, _text) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("badge.url", "filterUser", "username"), _dec2 = (0, _decorators.default)("count", "badge.grant_count"), _dec3 = (0, _decorators.default)("size"), (_obj = {
    size: "medium",
    classNameBindings: [":badge-card", "size", "badge.slug"],

    url: function url(badgeUrl, filterUser, username) {
      return filterUser ? badgeUrl + "?username=" + username : badgeUrl;
    },
    displayCount: function displayCount(count, grantCount) {
      if (count == null) {
        return grantCount;
      }
      if (count > 1) {
        return count;
      }
    },
    summary: function summary(size) {
      if (size === "large") {
        var longDescription = this.get("badge.long_description");
        if (!_.isEmpty(longDescription)) {
          return (0, _text.emojiUnescape)((0, _text.sanitize)(longDescription));
        }
      }
      return (0, _text.sanitize)(this.get("badge.description"));
    }
  }, (_applyDecoratedDescriptor(_obj, "url", [_dec], Object.getOwnPropertyDescriptor(_obj, "url"), _obj), _applyDecoratedDescriptor(_obj, "displayCount", [_dec2], Object.getOwnPropertyDescriptor(_obj, "displayCount"), _obj), _applyDecoratedDescriptor(_obj, "summary", [_dec3], Object.getOwnPropertyDescriptor(_obj, "summary"), _obj)), _obj)));
});
define("discourse/components/badge-selector", ["exports", "@ember/component", "discourse-common/utils/decorators", "discourse/lib/raw-templates"], function (exports, _component, _decorators, _rawTemplates) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  var _Ember = Ember,
      makeArray = _Ember.makeArray;
  exports.default = _component.default.extend((_dec = (0, _decorators.default)("placeholderKey"), _dec2 = (0, _decorators.observes)("badgeNames"), _dec3 = (0, _decorators.on)("didInsertElement"), (_obj = {
    placeholder: function placeholder(placeholderKey) {
      return placeholderKey ? I18n.t(placeholderKey) : "";
    },
    _update: function _update() {
      if (this.canReceiveUpdates === "true") {
        this._initializeAutocomplete({ updateData: true });
      }
    },
    _initializeAutocomplete: function _initializeAutocomplete(opts) {
      var selectedBadges = void 0;

      $(this.element.querySelector("input")).autocomplete({
        allowAny: false,
        items: makeArray(this.badgeNames),
        single: this.single,
        updateData: opts && opts.updateData ? opts.updateData : false,
        template: (0, _rawTemplates.findRawTemplate)("badge-selector-autocomplete"),

        onChangeItems: function onChangeItems(items) {
          selectedBadges = items;
          this.set("badgeNames", items.join(","));
        },
        transformComplete: function transformComplete(g) {
          return g.name;
        },
        dataSource: function dataSource(term) {
          return this.badgeFinder(term).then(function (badges) {
            if (!selectedBadges) return badges;

            return badges.filter(function (badge) {
              return !selectedBadges.any(function (s) {
                return s === badge.name;
              });
            });
          });
        }
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "placeholder", [_dec], Object.getOwnPropertyDescriptor(_obj, "placeholder"), _obj), _applyDecoratedDescriptor(_obj, "_update", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_update"), _obj), _applyDecoratedDescriptor(_obj, "_initializeAutocomplete", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_initializeAutocomplete"), _obj)), _obj)));
});
define("discourse/components/badge-title", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/lib/ajax"], function (exports, _decorators, _component, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("selectableUserBadges", "selectedUserBadgeId"), (_obj = {
    classNames: ["badge-title"],

    saved: false,
    saving: false,

    selectedUserBadge: function selectedUserBadge(selectableUserBadges, selectedUserBadgeId) {
      return selectableUserBadges.findBy("id", parseInt(selectedUserBadgeId, 10));
    },


    actions: {
      save: function save() {
        var _this = this;

        this.setProperties({ saved: false, saving: true });

        var badge_id = this.selectedUserBadgeId || 0;

        (0, _ajax.ajax)(this.currentUser.path + "/preferences/badge_title", {
          type: "PUT",
          data: { user_badge_id: badge_id }
        }).then(function () {
          _this.setProperties({
            saved: true,
            saving: false
          });
          _this.currentUser.set("title", _this.get("selectedUserBadge.badge.name"));
        }, function () {
          bootbox.alert(I18n.t("generic_error"));
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "selectedUserBadge", [_dec], Object.getOwnPropertyDescriptor(_obj, "selectedUserBadge"), _obj)), _obj)));
});
define("discourse/components/basic-topic-list", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component"], function (exports, _decorators, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj, _init;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("topicList.loaded"), _dec2 = (0, _decorators.observes)("topicList.[]"), _dec3 = (0, _decorators.default)("topics"), (_obj = {
    loadingMore: (0, _computed.alias)("topicList.loadingMore"),
    loading: (0, _computed.not)("loaded"),

    loaded: function loaded() {
      var topicList = this.topicList;
      if (topicList) {
        return topicList.get("loaded");
      } else {
        return true;
      }
    },

    _topicListChanged: function _topicListChanged() {
      this._initFromTopicList(this.topicList);
    },

    _initFromTopicList: function _initFromTopicList(topicList) {
      if (topicList !== null) {
        this.set("topics", topicList.get("topics"));
        this.rerender();
      }
    },
    init: function init() {
      this._super.apply(this, arguments);
      var topicList = this.topicList;
      if (topicList) {
        this._initFromTopicList(topicList);
      }
    },
    didInsertElement: function didInsertElement() {
      var _this = this;

      this._super.apply(this, arguments);

      this.topics.forEach(function (topic) {
        var includeUnreadIndicator = typeof topic.unread_by_group_member !== "undefined";

        if (includeUnreadIndicator) {
          var unreadIndicatorChannel = "/private-messages/unread-indicator/" + topic.id;
          _this.messageBus.subscribe(unreadIndicatorChannel, function (data) {
            var nodeClassList = document.querySelector(".indicator-topic-" + data.topic_id).classList;

            if (data.show_indicator) {
              nodeClassList.remove("read");
            } else {
              nodeClassList.add("read");
            }
          });
        }
      });
    },
    willDestroyElement: function willDestroyElement() {
      var _this2 = this;

      this._super.apply(this, arguments);

      this.topics.forEach(function (topic) {
        var includeUnreadIndicator = typeof topic.unread_by_group_member !== "undefined";

        if (includeUnreadIndicator) {
          var unreadIndicatorChannel = "/private-messages/unread-indicator/" + topic.id;
          _this2.messageBus.unsubscribe(unreadIndicatorChannel);
        }
      });
    },
    showUnreadIndicator: function showUnreadIndicator(topics) {
      return topics.some(function (topic) {
        return typeof topic.unread_by_group_member !== "undefined";
      });
    },
    click: function click(e) {
      // Mobile basic-topic-list doesn't use the `topic-list-item` view so
      // the event for the topic entrance is never wired up.
      if (!this.site.mobileView) {
        return;
      }

      var target = $(e.target);
      if (target.closest(".posts-map").length) {
        var topicId = target.closest("tr").attr("data-topic-id");
        if (topicId) {
          if (target.prop("tagName") !== "A") {
            var targetLinks = target.find("a");
            if (targetLinks.length) {
              target = targetLinks;
            } else {
              targetLinks = target.closest("a");
              if (targetLinks.length) {
                target = targetLinks;
              } else {
                return false;
              }
            }
          }

          var topic = this.topics.findBy("id", parseInt(topicId, 10));
          this.appEvents.trigger("topic-entrance:show", {
            topic: topic,
            position: target.offset()
          });
        }
        return false;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "loaded", [_dec], Object.getOwnPropertyDescriptor(_obj, "loaded"), _obj), _applyDecoratedDescriptor(_obj, "_topicListChanged", [_dec2], (_init = Object.getOwnPropertyDescriptor(_obj, "_topicListChanged"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "showUnreadIndicator", [_dec3], Object.getOwnPropertyDescriptor(_obj, "showUnreadIndicator"), _obj)), _obj)));
});
define("discourse/components/bread-crumbs", ["exports", "@ember/object/computed", "@ember/component", "discourse-common/utils/decorators", "discourse-common/lib/deprecated"], function (exports, _computed, _component, _decorators, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("categories"), _dec2 = (0, _decorators.default)("category.ancestors", "filteredCategories", "noSubcategories"), _dec3 = (0, _decorators.default)("category"), _dec4 = (0, _decorators.default)("parentCategories"), _dec5 = (0, _decorators.default)("category"), _dec6 = (0, _decorators.default)("category", "parentCategory"), _dec7 = (0, _decorators.default)("category", "parentCategory"), _dec8 = (0, _decorators.default)("firstCategory", "hideSubcategories"), (_obj = {
    classNameBindings: ["hidden:hidden", ":category-breadcrumb"],
    tagName: "ol",

    filteredCategories: function filteredCategories(categories) {
      var _this = this;

      return categories.filter(function (category) {
        return _this.siteSettings.allow_uncategorized_topics || category.id !== _this.site.uncategorized_category_id;
      });
    },
    categoryBreadcrumbs: function categoryBreadcrumbs(categoryAncestors, filteredCategories, noSubcategories) {
      categoryAncestors = categoryAncestors || [];
      var parentCategories = [undefined].concat(_toConsumableArray(categoryAncestors));
      var categories = [].concat(_toConsumableArray(categoryAncestors), [undefined]);
      var zipped = parentCategories.map(function (x, i) {
        return [x, categories[i]];
      });

      return zipped.map(function (record) {
        var _record = _slicedToArray(record, 2),
            parentCategory = _record[0],
            category = _record[1];

        var options = filteredCategories.filter(function (c) {
          return c.get("parentCategory.id") === (parentCategory && parentCategory.id);
        });

        return {
          category: category,
          parentCategory: parentCategory,
          options: options,
          isSubcategory: !!parentCategory,
          noSubcategories: !category && noSubcategories,
          hasOptions: options.length !== 0
        };
      });
    },
    parentCategory: function parentCategory(category) {
      (0, _deprecated.default)("The parentCategory property of the bread-crumbs component is deprecated");
      return category && category.parentCategory;
    },


    parentCategories: (0, _computed.filter)("categories", function (c) {
      (0, _deprecated.default)("The parentCategories property of the bread-crumbs component is deprecated");
      if (c.id === this.site.get("uncategorized_category_id") && !this.siteSettings.allow_uncategorized_topics) {
        // Don't show "uncategorized" if allow_uncategorized_topics setting is false.
        return false;
      }

      return !c.get("parentCategory");
    }),

    parentCategoriesSorted: function parentCategoriesSorted(parentCategories) {
      (0, _deprecated.default)("The parentCategoriesSorted property of the bread-crumbs component is deprecated");
      if (this.siteSettings.fixed_category_positions) {
        return parentCategories;
      }

      return parentCategories.sortBy("totalTopicCount").reverse();
    },
    hidden: function hidden(category) {
      return this.site.mobileView && !category;
    },
    firstCategory: function firstCategory(category, parentCategory) {
      (0, _deprecated.default)("The firstCategory property of the bread-crumbs component is deprecated");
      return parentCategory || category;
    },
    secondCategory: function secondCategory(category, parentCategory) {
      (0, _deprecated.default)("The secondCategory property of the bread-crumbs component is deprecated");
      return parentCategory && category;
    },
    childCategories: function childCategories(firstCategory, hideSubcategories) {
      (0, _deprecated.default)("The childCategories property of the bread-crumbs component is deprecated");
      if (hideSubcategories) {
        return [];
      }

      if (!firstCategory) {
        return [];
      }

      return this.categories.filter(function (c) {
        return c.get("parentCategory") === firstCategory;
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "filteredCategories", [_dec], Object.getOwnPropertyDescriptor(_obj, "filteredCategories"), _obj), _applyDecoratedDescriptor(_obj, "categoryBreadcrumbs", [_dec2], Object.getOwnPropertyDescriptor(_obj, "categoryBreadcrumbs"), _obj), _applyDecoratedDescriptor(_obj, "parentCategory", [_dec3], Object.getOwnPropertyDescriptor(_obj, "parentCategory"), _obj), _applyDecoratedDescriptor(_obj, "parentCategoriesSorted", [_dec4], Object.getOwnPropertyDescriptor(_obj, "parentCategoriesSorted"), _obj), _applyDecoratedDescriptor(_obj, "hidden", [_dec5], Object.getOwnPropertyDescriptor(_obj, "hidden"), _obj), _applyDecoratedDescriptor(_obj, "firstCategory", [_dec6], Object.getOwnPropertyDescriptor(_obj, "firstCategory"), _obj), _applyDecoratedDescriptor(_obj, "secondCategory", [_dec7], Object.getOwnPropertyDescriptor(_obj, "secondCategory"), _obj), _applyDecoratedDescriptor(_obj, "childCategories", [_dec8], Object.getOwnPropertyDescriptor(_obj, "childCategories"), _obj)), _obj)));
});
define("discourse/components/bulk-select-button", ["exports", "@ember/component", "discourse/lib/show-modal"], function (exports, _component, _showModal) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["bulk-select-container"],

    actions: {
      showBulkActions: function showBulkActions() {
        var controller = (0, _showModal.default)("topic-bulk-actions", {
          model: {
            topics: this.selected,
            category: this.category
          },
          title: "topics.bulk.actions"
        });

        var action = this.action;
        if (action) {
          controller.set("refreshClosure", function () {
            return action();
          });
        }
      }
    }
  });
});
define("discourse/components/categories-and-latest-topics", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["categories-and-latest"]
  });
});
define("discourse/components/categories-and-top-topics", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["categories-and-top"]
  });
});
define("discourse/components/categories-boxes-topic", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("topic.pinned", "topic.closed", "topic.archived"), (_obj = {
    tagName: "li",

    topicStatusIcon: function topicStatusIcon(pinned, closed, archived) {
      if (pinned) {
        return "thumbtack";
      }
      if (closed || archived) {
        return "lock";
      }
      return "far-file-alt";
    }
  }, (_applyDecoratedDescriptor(_obj, "topicStatusIcon", [_dec], Object.getOwnPropertyDescriptor(_obj, "topicStatusIcon"), _obj)), _obj)));
});
define("discourse/components/categories-boxes-with-topics", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/component"], function (exports, _decorators, _utils, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("categories.[].uploaded_logo.url"), (_obj = {
    tagName: "section",
    classNameBindings: [":category-boxes-with-topics", "anyLogos:with-logos:no-logos"],

    anyLogos: function anyLogos() {
      return this.categories.any(function (c) {
        return !(0, _utils.isEmpty)(c.get("uploaded_logo.url"));
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "anyLogos", [_dec], Object.getOwnPropertyDescriptor(_obj, "anyLogos"), _obj)), _obj)));
});
define("discourse/components/categories-boxes", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/component"], function (exports, _decorators, _utils, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("categories.[].uploaded_logo.url"), _dec2 = (0, _decorators.default)("categories.[].subcategories"), (_obj = {
    tagName: "section",
    classNameBindings: [":category-boxes", "anyLogos:with-logos:no-logos", "hasSubcategories:with-subcategories"],

    anyLogos: function anyLogos() {
      return this.categories.any(function (c) {
        return !(0, _utils.isEmpty)(c.get("uploaded_logo.url"));
      });
    },
    hasSubcategories: function hasSubcategories() {
      return this.categories.any(function (c) {
        return !(0, _utils.isEmpty)(c.get("subcategories"));
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "anyLogos", [_dec], Object.getOwnPropertyDescriptor(_obj, "anyLogos"), _obj), _applyDecoratedDescriptor(_obj, "hasSubcategories", [_dec2], Object.getOwnPropertyDescriptor(_obj, "hasSubcategories"), _obj)), _obj)));
});
define("discourse/components/categories-only", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: ""
  });
});
define("discourse/components/categories-topic-list", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend();
});
define("discourse/components/category-title-before", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: ""
  });
});
define("discourse/components/category-title-link", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "h3"
  });
});
define("discourse/components/category-unread", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "span"
  });
});
define("discourse/components/cdn-img", ["exports", "discourse-common/utils/decorators", "@ember/component", "@ember/template"], function (exports, _decorators, _component, _template) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("src"), _dec2 = (0, _decorators.default)("width", "height"), (_obj = {
    tagName: "",

    cdnSrc: function cdnSrc(src) {
      return Discourse.getURLWithCDN(src);
    },
    style: function style(width, height) {
      if (width && height) {
        return (0, _template.htmlSafe)("--aspect-ratio: " + width / height + ";");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "cdnSrc", [_dec], Object.getOwnPropertyDescriptor(_obj, "cdnSrc"), _obj), _applyDecoratedDescriptor(_obj, "style", [_dec2], Object.getOwnPropertyDescriptor(_obj, "style"), _obj)), _obj)));
});
define("discourse/components/choose-message", ["exports", "@ember/object", "@ember/utils", "@ember/runloop", "@ember/component", "discourse/lib/debounce", "discourse/lib/search", "discourse-common/utils/decorators"], function (exports, _object, _utils, _runloop, _component, _debounce, _search, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.observes)("messageTitle"), _dec2 = (0, _decorators.observes)("messages"), (_obj = {
    loading: null,
    noResults: null,
    messages: null,

    messageTitleChanged: function messageTitleChanged() {
      this.setProperties({
        loading: true,
        noResults: true,
        selectedTopicId: null
      });
      this.search(this.messageTitle);
    },
    messagesChanged: function messagesChanged() {
      var messages = this.messages;
      if (messages) {
        this.set("noResults", messages.length === 0);
      }
      this.set("loading", false);
    },


    search: (0, _debounce.default)(function (title) {
      var _this = this;

      var currentTopicId = this.currentTopicId;

      if ((0, _utils.isEmpty)(title)) {
        this.setProperties({ messages: null, loading: false });
        return;
      }

      (0, _search.searchForTerm)(title, {
        typeFilter: "private_messages",
        searchForId: true,
        restrictToArchetype: "private_message"
      }).then(function (results) {
        if (results && results.posts && results.posts.length > 0) {
          _this.set("messages", results.posts.mapBy("topic").filter(function (t) {
            return t.get("id") !== currentTopicId;
          }));
        } else {
          _this.setProperties({ messages: null, loading: false });
        }
      });
    }, 300),

    actions: {
      chooseMessage: function chooseMessage(message) {
        var messageId = (0, _object.get)(message, "id");
        this.set("selectedTopicId", messageId);
        (0, _runloop.next)(function () {
          return $("#choose-message-" + messageId).prop("checked", "true");
        });
        return false;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "messageTitleChanged", [_dec], Object.getOwnPropertyDescriptor(_obj, "messageTitleChanged"), _obj), _applyDecoratedDescriptor(_obj, "messagesChanged", [_dec2], Object.getOwnPropertyDescriptor(_obj, "messagesChanged"), _obj)), _obj)));
});
define("discourse/components/choose-topic", ["exports", "@ember/utils", "@ember/runloop", "@ember/component", "discourse/lib/debounce", "discourse/lib/search", "discourse-common/utils/decorators"], function (exports, _utils, _runloop, _component, _debounce, _search, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.observes)("topicTitle"), _dec2 = (0, _decorators.default)("label"), _dec3 = (0, _decorators.observes)("topics"), (_obj = {
    loading: null,
    noResults: null,
    topics: null,
    selectedTopicId: null,
    currentTopicId: null,
    additionalFilters: null,
    topicTitle: null,
    label: null,
    loadOnInit: false,
    topicChangedCallback: null,

    init: function init() {
      var _this = this;

      this._super.apply(this, arguments);

      this.additionalFilters = this.additionalFilters || "";
      this.topicTitle = this.topicTitle || "";

      if (this.loadOnInit && !(0, _utils.isEmpty)(this.additionalFilters)) {
        (0, _search.searchForTerm)(this.additionalFilters, {}).then(function (results) {
          if (results && results.posts && results.posts.length > 0) {
            _this.set("topics", results.posts.mapBy("topic").filter(function (t) {
              return t.id !== _this.currentTopicId;
            }));
          } else {
            _this.setProperties({ topics: null, loading: false });
          }
        });
      }
    },
    topicTitleChanged: function topicTitleChanged() {
      this.setProperties({
        loading: true,
        noResults: true,
        selectedTopicId: null
      });

      this.search(this.topicTitle);
    },
    labelText: function labelText(label) {
      return label || "choose_topic.title.search";
    },
    topicsChanged: function topicsChanged() {
      if (this.topics) {
        this.set("noResults", this.topics.length === 0);
      }

      this.set("loading", false);
    },


    search: (0, _debounce.default)(function (title) {
      var _this2 = this;

      if (!this.element || this.isDestroying || this.isDestroyed) {
        return;
      }

      if ((0, _utils.isEmpty)(title) && (0, _utils.isEmpty)(this.additionalFilters)) {
        this.setProperties({ topics: null, loading: false });
        return;
      }

      var currentTopicId = this.currentTopicId;
      var titleWithFilters = title + " " + this.additionalFilters;
      var searchParams = {};

      if (!(0, _utils.isEmpty)(title)) {
        searchParams.typeFilter = "topic";
        searchParams.restrictToArchetype = "regular";
        searchParams.searchForId = true;
      }

      (0, _search.searchForTerm)(titleWithFilters, searchParams).then(function (results) {
        if (results && results.posts && results.posts.length > 0) {
          _this2.set("topics", results.posts.mapBy("topic").filter(function (t) {
            return t.id !== currentTopicId;
          }));
        } else {
          _this2.setProperties({ topics: null, loading: false });
        }
      });
    }, 300),

    actions: {
      chooseTopic: function chooseTopic(topic) {
        this.set("selectedTopicId", topic.id);
        (0, _runloop.next)(function () {
          document.getElementById("choose-topic-" + topic.id).checked = true;
        });
        if (this.topicChangedCallback) this.topicChangedCallback(topic);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "topicTitleChanged", [_dec], Object.getOwnPropertyDescriptor(_obj, "topicTitleChanged"), _obj), _applyDecoratedDescriptor(_obj, "labelText", [_dec2], Object.getOwnPropertyDescriptor(_obj, "labelText"), _obj), _applyDecoratedDescriptor(_obj, "topicsChanged", [_dec3], Object.getOwnPropertyDescriptor(_obj, "topicsChanged"), _obj)), _obj)));
});
define("discourse/components/color-picker-choice", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("color", "usedColors"), _dec2 = (0, _decorators.default)("isUsed"), _dec3 = (0, _decorators.default)("color"), (_obj = {
    tagName: "button",
    attributeBindings: ["style", "title"],
    classNameBindings: [":colorpicker", "isUsed:used-color:unused-color"],

    isUsed: function isUsed(color, usedColors) {
      return (usedColors || []).indexOf(color.toUpperCase()) >= 0;
    },
    title: function title(isUsed) {
      return isUsed ? I18n.t("category.already_used") : null;
    },
    style: function style(color) {
      return ("background-color: #" + color + ";").htmlSafe();
    },
    click: function click(e) {
      e.preventDefault();
      this.selectColor(this.color);
    }
  }, (_applyDecoratedDescriptor(_obj, "isUsed", [_dec], Object.getOwnPropertyDescriptor(_obj, "isUsed"), _obj), _applyDecoratedDescriptor(_obj, "title", [_dec2], Object.getOwnPropertyDescriptor(_obj, "title"), _obj), _applyDecoratedDescriptor(_obj, "style", [_dec3], Object.getOwnPropertyDescriptor(_obj, "style"), _obj)), _obj)));
});
define("discourse/components/color-picker", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: "colors-container",

    actions: {
      selectColor: function selectColor(color) {
        this.set("value", color);
      }
    }
  });
});
define("discourse/components/composer-action-title", ["exports", "@ember/object/computed", "@ember/component", "discourse-common/utils/decorators", "discourse/models/composer", "discourse-common/lib/icon-library"], function (exports, _computed, _component, _decorators, _composer, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _TITLES, _dec, _desc, _value, _obj;

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  var TITLES = (_TITLES = {}, _defineProperty(_TITLES, _composer.PRIVATE_MESSAGE, "topic.private_message"), _defineProperty(_TITLES, _composer.CREATE_TOPIC, "topic.create_long"), _defineProperty(_TITLES, _composer.CREATE_SHARED_DRAFT, "composer.create_shared_draft"), _defineProperty(_TITLES, _composer.EDIT_SHARED_DRAFT, "composer.edit_shared_draft"), _TITLES);

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("options", "action"), (_obj = {
    classNames: ["composer-action-title"],
    options: (0, _computed.alias)("model.replyOptions"),
    action: (0, _computed.alias)("model.action"),
    isEditing: (0, _computed.equal)("action", _composer.EDIT),

    actionTitle: function actionTitle(opts, action) {
      if (TITLES[action]) {
        return I18n.t(TITLES[action]);
      }

      switch (action) {
        case _composer.REPLY:
          if (opts.userAvatar && opts.userLink) {
            return this._formatReplyToUserPost(opts.userAvatar, opts.userLink);
          } else if (opts.topicLink) {
            return this._formatReplyToTopic(opts.topicLink);
          }
        case _composer.EDIT:
          if (opts.userAvatar && opts.userLink && opts.postLink) {
            return this._formatEditUserPost(opts.userAvatar, opts.userLink, opts.postLink, opts.originalUser);
          }
      }
    },
    _formatEditUserPost: function _formatEditUserPost(userAvatar, userLink, postLink, originalUser) {
      var editTitle = "\n      <a class=\"post-link\" href=\"" + postLink.href + "\">" + postLink.anchor + "</a>\n      " + userAvatar + "\n      <span class=\"username\">" + userLink.anchor + "</span>\n    ";

      if (originalUser) {
        editTitle += "\n        " + (0, _iconLibrary.iconHTML)("share", { class: "reply-to-glyph" }) + "\n        " + originalUser.avatar + "\n        <span class=\"original-username\">" + originalUser.username + "</span>\n      ";
      }

      return editTitle.htmlSafe();
    },
    _formatReplyToTopic: function _formatReplyToTopic(link) {
      return ("<a class=\"topic-link\" href=\"" + link.href + "\" data-topic-id=\"" + this.get("model.topic.id") + "\">" + link.anchor + "</a>").htmlSafe();
    },
    _formatReplyToUserPost: function _formatReplyToUserPost(avatar, link) {
      var htmlLink = "<a class=\"user-link\" href=\"" + link.href + "\">" + link.anchor + "</a>";
      return ("" + avatar + htmlLink).htmlSafe();
    }
  }, (_applyDecoratedDescriptor(_obj, "actionTitle", [_dec], Object.getOwnPropertyDescriptor(_obj, "actionTitle"), _obj)), _obj)));
});
define("discourse/components/composer-body", ["exports", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators", "discourse/models/composer", "discourse/lib/after-transition", "discourse/lib/safari-hacks", "discourse/components/site-header", "discourse/mixins/key-enter-escape", "discourse/lib/utilities"], function (exports, _runloop, _component, _decorators, _composer, _afterTransition, _safariHacks, _siteHeader, _keyEnterEscape, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  var START_EVENTS = "touchstart mousedown";
  var DRAG_EVENTS = "touchmove mousemove";
  var END_EVENTS = "touchend mouseup";

  var MIN_COMPOSER_SIZE = 240;
  var THROTTLE_RATE = 20;

  function mouseYPos(e) {
    return e.clientY || e.touches && e.touches[0] && e.touches[0].clientY;
  }

  exports.default = _component.default.extend(_keyEnterEscape.default, (_dec = (0, _decorators.default)("currentUser.primary_group_name"), _dec2 = (0, _decorators.default)("composer.composeState"), _dec3 = (0, _decorators.observes)("composeState", "composer.action", "composer.canEditTopicFeaturedLink"), _dec4 = (0, _decorators.observes)("composeState"), (_obj = {
    elementId: "reply-control",

    classNameBindings: ["composer.creatingPrivateMessage:private-message", "composeState", "composer.loading", "composer.canEditTitle:edit-title", "composer.createdPost:created-post", "composer.creatingTopic:topic", "composer.whisper:composing-whisper", "composer.sharedDraft:composing-shared-draft", "showPreview:show-preview:hide-preview", "currentUserPrimaryGroupClass"],

    currentUserPrimaryGroupClass: function currentUserPrimaryGroupClass(primaryGroupName) {
      return primaryGroupName && "group-" + primaryGroupName;
    },
    composeState: function composeState(_composeState) {
      return _composeState || _composer.default.CLOSED;
    },
    movePanels: function movePanels(size) {
      $("#main-outlet").css("padding-bottom", size ? size : "");

      // signal the progress bar it should move!
      this.appEvents.trigger("composer:resized");
    },
    resize: function resize() {
      var _this = this;

      (0, _runloop.scheduleOnce)("afterRender", function () {
        if (!_this.element || _this.isDestroying || _this.isDestroyed) {
          return;
        }

        (0, _runloop.debounce)(_this, _this.debounceMove, 300);
      });
    },
    debounceMove: function debounceMove() {
      var h = $("#reply-control:not(.saving)").height() || 0;
      this.movePanels(h);
    },
    keyUp: function keyUp() {
      var _this2 = this;

      this.typed();

      var lastKeyUp = new Date();
      this._lastKeyUp = lastKeyUp;

      // One second from now, check to see if the last key was hit when
      // we recorded it. If it was, the user paused typing.
      (0, _runloop.cancel)(this._lastKeyTimeout);
      this._lastKeyTimeout = (0, _runloop.later)(function () {
        if (lastKeyUp !== _this2._lastKeyUp) {
          return;
        }
        _this2.appEvents.trigger("composer:find-similar");
      }, 1000);
    },
    disableFullscreen: function disableFullscreen() {
      if (this.composeState !== _composer.default.OPEN && _safariHacks.default.blur) {
        _safariHacks.default.blur();
      }
    },
    setupComposerResizeEvents: function setupComposerResizeEvents() {
      var _this3 = this;

      var $composer = $(this.element);
      var $grippie = $(this.element.querySelector(".grippie"));
      var $document = $(document);
      var origComposerSize = 0;
      var lastMousePos = 0;

      var performDrag = function performDrag(event) {
        $composer.trigger("div-resizing");
        $composer.addClass("clear-transitions");
        var currentMousePos = mouseYPos(event);
        var size = origComposerSize + (lastMousePos - currentMousePos);

        var winHeight = $(window).height();
        size = Math.min(size, winHeight - (0, _siteHeader.headerHeight)());
        size = Math.max(size, MIN_COMPOSER_SIZE);
        _this3.movePanels(size);
        $composer.height(size);
      };

      var throttledPerformDrag = function (event) {
        event.preventDefault();
        (0, _runloop.throttle)(_this3, performDrag, event, THROTTLE_RATE);
      }.bind(this);

      var endDrag = function endDrag() {
        $document.off(DRAG_EVENTS, throttledPerformDrag);
        $document.off(END_EVENTS, endDrag);
        $composer.removeClass("clear-transitions");
        $composer.focus();
      };

      $grippie.on(START_EVENTS, function (event) {
        event.preventDefault();
        origComposerSize = $composer.height();
        lastMousePos = mouseYPos(event);
        $document.on(DRAG_EVENTS, throttledPerformDrag);
        $document.on(END_EVENTS, endDrag);
      });

      if ((0, _utilities.iOSWithVisualViewport)()) {
        this.viewportResize();
        window.visualViewport.addEventListener("resize", this.viewportResize);
      }
    },
    viewportResize: function viewportResize() {
      var composerVH = window.visualViewport.height * 0.01;

      document.documentElement.style.setProperty("--composer-vh", composerVH + "px");
    },
    didInsertElement: function didInsertElement() {
      var _this4 = this;

      this._super.apply(this, arguments);
      this.setupComposerResizeEvents();

      var resize = function resize() {
        return (0, _runloop.run)(function () {
          return _this4.resize();
        });
      };
      var triggerOpen = function triggerOpen() {
        if (_this4.get("composer.composeState") === _composer.default.OPEN) {
          _this4.appEvents.trigger("composer:opened");
        }
      };
      triggerOpen();

      (0, _afterTransition.default)($(this.element), function () {
        resize();
        triggerOpen();
      });
      (0, _safariHacks.default)($(this.element));
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      this.appEvents.off("composer:resize", this, this.resize);
      if ((0, _utilities.iOSWithVisualViewport)()) {
        window.visualViewport.removeEventListener("resize", this.viewportResize);
      }
    },
    click: function click() {
      this.openIfDraft();
    }
  }, (_applyDecoratedDescriptor(_obj, "currentUserPrimaryGroupClass", [_dec], Object.getOwnPropertyDescriptor(_obj, "currentUserPrimaryGroupClass"), _obj), _applyDecoratedDescriptor(_obj, "composeState", [_dec2], Object.getOwnPropertyDescriptor(_obj, "composeState"), _obj), _applyDecoratedDescriptor(_obj, "resize", [_dec3], Object.getOwnPropertyDescriptor(_obj, "resize"), _obj), _applyDecoratedDescriptor(_obj, "disableFullscreen", [_dec4], Object.getOwnPropertyDescriptor(_obj, "disableFullscreen"), _obj)), _obj)));
});
define("discourse/components/composer-editor", ["exports", "@ember/runloop", "@ember/component", "discourse/lib/user-search", "discourse-common/utils/decorators", "discourse/lib/link-mentions", "discourse/lib/link-category-hashtags", "discourse/lib/link-tag-hashtag", "discourse/models/composer", "pretty-text/oneboxer", "pretty-text/inline-oneboxer", "discourse/lib/ajax", "@ember/object", "discourse/lib/raw-templates", "discourse-common/lib/icon-library", "discourse/lib/utilities", "discourse/lib/uploads", "pretty-text/upload-short-url", "pretty-text/context/inline-onebox-css-classes", "discourse-common/config/environment"], function (exports, _runloop, _component, _userSearch, _decorators, _linkMentions, _linkCategoryHashtags, _linkTagHashtag, _composer, _oneboxer, _inlineOneboxer, _ajax, _object, _rawTemplates, _iconLibrary, _utilities, _uploads, _uploadShortUrl, _inlineOneboxCssClasses, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addComposerUploadHandler = addComposerUploadHandler;
  exports.addComposerUploadMarkdownResolver = addComposerUploadMarkdownResolver;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _desc, _value, _obj;

  var REBUILD_SCROLL_MAP_EVENTS = ["composer:resized", "composer:typed-reply"];

  var uploadHandlers = [];
  function addComposerUploadHandler(extensions, method) {
    uploadHandlers.push({
      extensions: extensions,
      method: method
    });
  }

  var uploadMarkdownResolvers = [];
  function addComposerUploadMarkdownResolver(resolver) {
    uploadMarkdownResolvers.push(resolver);
  }

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("uploadFilenamePlaceholder"), _dec2 = (0, _decorators.default)("composer.requiredCategoryMissing"), _dec3 = (0, _decorators.default)("composer.requiredCategoryMissing", "composer.replyLength"), _dec4 = (0, _decorators.observes)("composer.uploadCancelled"), _dec5 = (0, _decorators.observes)("focusTarget"), _dec6 = (0, _decorators.on)("didInsertElement"), _dec7 = (0, _decorators.default)("composer.reply", "composer.replyLength", "composer.missingReplyCharacters", "composer.minimumPostLength", "lastValidatedAt"), _dec8 = (0, _decorators.on)("willDestroyElement"), _dec9 = (0, _decorators.on)("willDestroyElement"), (_obj = {
    classNameBindings: ["showToolbar:toolbar-visible", ":wmd-controls"],

    uploadProgress: 0,
    _xhr: null,
    shouldBuildScrollMap: true,
    scrollMap: null,
    uploadFilenamePlaceholder: null,

    uploadPlaceholder: function uploadPlaceholder(uploadFilenamePlaceholder) {
      var clipboard = I18n.t("clipboard");
      var filename = uploadFilenamePlaceholder ? uploadFilenamePlaceholder : clipboard;
      return "[" + I18n.t("uploading_filename", { filename: filename }) + "]() ";
    },
    replyPlaceholder: function replyPlaceholder(requiredCategoryMissing) {
      if (requiredCategoryMissing) {
        return "composer.reply_placeholder_choose_category";
      } else {
        var key = (0, _uploads.authorizesOneOrMoreImageExtensions)(this.currentUser.staff) ? "reply_placeholder" : "reply_placeholder_no_images";
        return "composer." + key;
      }
    },
    showLink: function showLink() {
      return this.currentUser && this.currentUser.get("link_posting_access") !== "none";
    },
    disableTextarea: function disableTextarea(requiredCategoryMissing, replyLength) {
      return requiredCategoryMissing && replyLength === 0;
    },
    _cancelUpload: function _cancelUpload() {
      if (!this.get("composer.uploadCancelled")) {
        return;
      }
      this.set("composer.uploadCancelled", false);

      if (this._xhr) {
        this._xhr._userCancelled = true;
        this._xhr.abort();
      }
      this._resetUpload(true);
    },
    setFocus: function setFocus() {
      if (this.focusTarget === "editor") {
        $(this.element.querySelector("textarea")).putCursorAtEnd();
      }
    },
    markdownOptions: function markdownOptions() {
      var _this = this;

      return {
        previewing: true,

        formatUsername: _utilities.formatUsername,

        lookupAvatarByPostNumber: function lookupAvatarByPostNumber(postNumber, topicId) {
          var topic = _this.topic;
          if (!topic) {
            return;
          }

          var posts = topic.get("postStream.posts");
          if (posts && topicId === topic.get("id")) {
            var quotedPost = posts.findBy("post_number", postNumber);
            if (quotedPost) {
              return (0, _utilities.tinyAvatar)(quotedPost.get("avatar_template"));
            }
          }
        },

        lookupPrimaryUserGroupByPostNumber: function lookupPrimaryUserGroupByPostNumber(postNumber, topicId) {
          var topic = _this.topic;
          if (!topic) {
            return;
          }

          var posts = topic.get("postStream.posts");
          if (posts && topicId === topic.get("id")) {
            var quotedPost = posts.findBy("post_number", postNumber);
            if (quotedPost) {
              return quotedPost.primary_group_name;
            }
          }
        }
      };
    },
    userSearchTerm: function userSearchTerm(term) {
      var topicId = this.get("topic.id");
      // maybe this is a brand new topic, so grab category from composer
      var categoryId = this.get("topic.category_id") || this.get("composer.categoryId");

      return (0, _userSearch.default)({
        term: term,
        topicId: topicId,
        categoryId: categoryId,
        includeGroups: true
      });
    },
    _composerEditorInit: function _composerEditorInit() {
      var _this2 = this;

      var $input = $(this.element.querySelector(".d-editor-input"));
      var $preview = $(this.element.querySelector(".d-editor-preview-wrapper"));

      if (this.siteSettings.enable_mentions) {
        $input.autocomplete({
          template: (0, _rawTemplates.findRawTemplate)("user-selector-autocomplete"),
          dataSource: function dataSource(term) {
            return _this2.userSearchTerm.call(_this2, term);
          },
          key: "@",
          transformComplete: function transformComplete(v) {
            return v.username || v.name;
          },
          afterComplete: function afterComplete() {
            // ensures textarea scroll position is correct
            (0, _runloop.scheduleOnce)("afterRender", function () {
              return $input.blur().focus();
            });
          },

          triggerRule: function triggerRule(textarea) {
            return !(0, _utilities.inCodeBlock)(textarea.value, (0, _utilities.caretPosition)(textarea));
          }
        });
      }

      if (this._enableAdvancedEditorPreviewSync()) {
        this._initInputPreviewSync($input, $preview);
      } else {
        $input.on("scroll", function () {
          return (0, _runloop.throttle)(_this2, _this2._syncEditorAndPreviewScroll, $input, $preview, 20);
        });
      }

      // Focus on the body unless we have a title
      if (!this.get("composer.canEditTitle") && (!this.capabilities.isIOS || (0, _utilities.safariHacksDisabled)())) {
        $(this.element.querySelector(".d-editor-input")).putCursorAtEnd();
      }

      this._bindUploadTarget();
      this.appEvents.trigger("composer:will-open");
    },
    validation: function validation(reply, replyLength, missingReplyCharacters, minimumPostLength, lastValidatedAt) {
      var postType = this.get("composer.post.post_type");
      if (postType === this.site.get("post_types.small_action")) {
        return;
      }

      var reason = void 0;
      if (replyLength < 1) {
        reason = I18n.t("composer.error.post_missing");
      } else if (missingReplyCharacters > 0) {
        reason = I18n.t("composer.error.post_length", { min: minimumPostLength });
        var tl = this.get("currentUser.trust_level");
        if (tl === 0 || tl === 1) {
          reason += "<br/>" + I18n.t("composer.error.try_like", { heart: (0, _iconLibrary.iconHTML)("heart") });
        }
      }

      if (reason) {
        return _object.default.create({
          failed: true,
          reason: reason,
          lastShownAt: lastValidatedAt
        });
      }
    },
    _setUploadPlaceholderSend: function _setUploadPlaceholderSend(data) {
      var filename = this._filenamePlaceholder(data);
      this.set("uploadFilenamePlaceholder", filename);

      // when adding two separate files with the same filename search for matching
      // placeholder already existing in the editor ie [Uploading: test.png...]
      // and add order nr to the next one: [Uplodading: test.png(1)...]
      var escapedFilename = filename.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
      var regexString = "\\[" + I18n.t("uploading_filename", {
        filename: escapedFilename + "(?:\\()?([0-9])?(?:\\))?"
      }) + "\\]\\(\\)";
      var globalRegex = new RegExp(regexString, "g");
      var matchingPlaceholder = this.get("composer.reply").match(globalRegex);
      if (matchingPlaceholder) {
        // get last matching placeholder and its consecutive nr in regex
        // capturing group and apply +1 to the placeholder
        var lastMatch = matchingPlaceholder[matchingPlaceholder.length - 1];
        var regex = new RegExp(regexString);
        var orderNr = regex.exec(lastMatch)[1] ? parseInt(regex.exec(lastMatch)[1], 10) + 1 : 1;
        data.orderNr = orderNr;
        var filenameWithOrderNr = filename + "(" + orderNr + ")";
        this.set("uploadFilenamePlaceholder", filenameWithOrderNr);
      }
    },
    _setUploadPlaceholderDone: function _setUploadPlaceholderDone(data) {
      var filename = this._filenamePlaceholder(data);
      var filenameWithSize = filename + " (" + data.total + ")";
      this.set("uploadFilenamePlaceholder", filenameWithSize);

      if (data.orderNr) {
        var filenameWithOrderNr = filename + "(" + data.orderNr + ")";
        this.set("uploadFilenamePlaceholder", filenameWithOrderNr);
      } else {
        this.set("uploadFilenamePlaceholder", filename);
      }
    },
    _filenamePlaceholder: function _filenamePlaceholder(data) {
      return data.files[0].name.replace(/\u200B-\u200D\uFEFF]/g, "");
    },
    _resetUploadFilenamePlaceholder: function _resetUploadFilenamePlaceholder() {
      this.set("uploadFilenamePlaceholder", null);
    },
    _enableAdvancedEditorPreviewSync: function _enableAdvancedEditorPreviewSync() {
      return this.siteSettings.enable_advanced_editor_preview_sync;
    },
    _resetShouldBuildScrollMap: function _resetShouldBuildScrollMap() {
      this.set("shouldBuildScrollMap", true);
    },
    _initInputPreviewSync: function _initInputPreviewSync($input, $preview) {
      var _this3 = this;

      REBUILD_SCROLL_MAP_EVENTS.forEach(function (event) {
        _this3.appEvents.on(event, _this3, _this3._resetShouldBuildScrollMap);
      });

      (0, _runloop.scheduleOnce)("afterRender", function () {
        $input.on("touchstart mouseenter", function () {
          if (!$preview.is(":visible")) return;
          $preview.off("scroll");

          $input.on("scroll", function () {
            _this3._syncScroll(_this3._syncEditorAndPreviewScroll, $input, $preview);
          });
        });

        $preview.on("touchstart mouseenter", function () {
          $input.off("scroll");

          $preview.on("scroll", function () {
            _this3._syncScroll(_this3._syncPreviewAndEditorScroll, $input, $preview);
          });
        });
      });
    },
    _syncScroll: function _syncScroll($callback, $input, $preview) {
      if (!this.scrollMap || this.shouldBuildScrollMap) {
        this.set("scrollMap", this._buildScrollMap($input, $preview));
        this.set("shouldBuildScrollMap", false);
      }

      (0, _runloop.throttle)(this, $callback, $input, $preview, this.scrollMap, 20);
    },
    _teardownInputPreviewSync: function _teardownInputPreviewSync() {
      var _this4 = this;

      [$(this.element.querySelector(".d-editor-input")), $(this.element.querySelector(".d-editor-preview-wrapper"))].forEach(function ($element) {
        $element.off("mouseenter touchstart");
        $element.off("scroll");
      });

      REBUILD_SCROLL_MAP_EVENTS.forEach(function (event) {
        _this4.appEvents.off(event, _this4, _this4._resetShouldBuildScrollMap);
      });
    },


    // Adapted from https://github.com/markdown-it/markdown-it.github.io
    _buildScrollMap: function _buildScrollMap($input, $preview) {
      var sourceLikeDiv = $("<div />").css({
        position: "absolute",
        height: "auto",
        visibility: "hidden",
        width: $input[0].clientWidth,
        "font-size": $input.css("font-size"),
        "font-family": $input.css("font-family"),
        "line-height": $input.css("line-height"),
        "white-space": $input.css("white-space")
      }).appendTo("body");

      var linesMap = [];
      var numberOfLines = 0;

      $input.val().split("\n").forEach(function (text) {
        linesMap.push(numberOfLines);

        if (text.length === 0) {
          numberOfLines++;
        } else {
          sourceLikeDiv.text(text);

          var height = void 0;
          var lineHeight = void 0;
          height = parseFloat(sourceLikeDiv.css("height"));
          lineHeight = parseFloat(sourceLikeDiv.css("line-height"));
          numberOfLines += Math.round(height / lineHeight);
        }
      });

      linesMap.push(numberOfLines);
      sourceLikeDiv.remove();

      var previewOffsetTop = $preview.offset().top;
      var offset = $preview.scrollTop() - previewOffsetTop - ($input.offset().top - previewOffsetTop);
      var nonEmptyList = [];
      var scrollMap = [];
      for (var i = 0; i < numberOfLines; i++) {
        scrollMap.push(-1);
      }

      nonEmptyList.push(0);
      scrollMap[0] = 0;

      $preview.find(".preview-sync-line").each(function (_, element) {
        var $element = $(element);
        var lineNumber = $element.data("line-number");
        var linesToTop = linesMap[lineNumber];
        if (linesToTop !== 0) {
          nonEmptyList.push(linesToTop);
        }
        scrollMap[linesToTop] = Math.round($element.offset().top + offset);
      });

      nonEmptyList.push(numberOfLines);
      scrollMap[numberOfLines] = $preview[0].scrollHeight;

      var position = 0;

      for (var _i = 1; _i < numberOfLines; _i++) {
        if (scrollMap[_i] !== -1) {
          position++;
          continue;
        }

        var top = nonEmptyList[position];
        var bottom = nonEmptyList[position + 1];

        scrollMap[_i] = ((scrollMap[bottom] * (_i - top) + scrollMap[top] * (bottom - _i)) / (bottom - top)).toFixed(2);
      }

      return scrollMap;
    },
    _syncEditorAndPreviewScroll: function _syncEditorAndPreviewScroll($input, $preview, scrollMap) {
      if (this._enableAdvancedEditorPreviewSync()) {
        var scrollTop = void 0;
        var inputHeight = $input.height();
        var inputScrollHeight = $input[0].scrollHeight;
        var inputClientHeight = $input[0].clientHeight;
        var scrollable = inputScrollHeight > inputClientHeight;

        if (scrollable && inputHeight + $input.scrollTop() + 100 > inputScrollHeight) {
          scrollTop = $preview[0].scrollHeight;
        } else {
          var lineHeight = parseFloat($input.css("line-height"));
          var lineNumber = Math.floor($input.scrollTop() / lineHeight);
          scrollTop = scrollMap[lineNumber];
        }

        $preview.stop(true).animate({ scrollTop: scrollTop }, 100, "linear");
      } else {
        if (!$input) {
          return;
        }

        if ($input.scrollTop() === 0) {
          $preview.scrollTop(0);
          return;
        }

        var _inputHeight = $input[0].scrollHeight;
        var previewHeight = $preview[0].scrollHeight;

        if ($input.height() + $input.scrollTop() + 100 > _inputHeight) {
          // cheat, special case for bottom
          $preview.scrollTop(previewHeight);
          return;
        }

        var scrollPosition = $input.scrollTop();
        var factor = previewHeight / _inputHeight;
        var desired = scrollPosition * factor;
        $preview.scrollTop(desired + 50);
      }
    },
    _syncPreviewAndEditorScroll: function _syncPreviewAndEditorScroll($input, $preview, scrollMap) {
      if (scrollMap.length < 1) return;

      var scrollTop = void 0;
      var previewScrollTop = $preview.scrollTop();

      if ($preview.height() + previewScrollTop + 100 > $preview[0].scrollHeight) {
        scrollTop = $input[0].scrollHeight;
      } else {
        var lineHeight = parseFloat($input.css("line-height"));
        scrollTop = lineHeight * scrollMap.findIndex(function (offset) {
          return offset > previewScrollTop;
        });
      }

      $input.stop(true).animate({ scrollTop: scrollTop }, 100, "linear");
    },
    _renderUnseenMentions: function _renderUnseenMentions($preview, unseen) {
      var _this5 = this;

      // 'Create a New Topic' scenario is not supported (per conversation with codinghorror)
      // https://meta.discourse.org/t/taking-another-1-7-release-task/51986/7
      (0, _linkMentions.fetchUnseenMentions)(unseen, this.get("composer.topic.id")).then(function () {
        (0, _linkMentions.linkSeenMentions)($preview, _this5.siteSettings);
        _this5._warnMentionedGroups($preview);
        _this5._warnCannotSeeMention($preview);
      });
    },
    _renderUnseenCategoryHashtags: function _renderUnseenCategoryHashtags($preview, unseen) {
      (0, _linkCategoryHashtags.fetchUnseenCategoryHashtags)(unseen).then(function () {
        (0, _linkCategoryHashtags.linkSeenCategoryHashtags)($preview);
      });
    },
    _renderUnseenTagHashtags: function _renderUnseenTagHashtags($preview, unseen) {
      (0, _linkTagHashtag.fetchUnseenTagHashtags)(unseen).then(function () {
        (0, _linkTagHashtag.linkSeenTagHashtags)($preview);
      });
    },
    _loadInlineOneboxes: function _loadInlineOneboxes(inline) {
      (0, _inlineOneboxer.applyInlineOneboxes)(inline, _ajax.ajax, {
        categoryId: this.get("composer.category.id"),
        topicId: this.get("composer.topic.id")
      });
    },
    _loadOneboxes: function _loadOneboxes(oneboxes) {
      var _this6 = this;

      var post = this.get("composer.post");
      var refresh = false;

      // If we are editing a post, we'll refresh its contents once.
      if (post && !post.get("refreshedPost")) {
        refresh = true;
        post.set("refreshedPost", true);
      }

      Object.values(oneboxes).forEach(function (onebox) {
        onebox.forEach(function ($onebox) {
          (0, _oneboxer.load)({
            elem: $onebox,
            refresh: refresh,
            ajax: _ajax.ajax,
            categoryId: _this6.get("composer.category.id"),
            topicId: _this6.get("composer.topic.id")
          });
        });
      });
    },
    _warnMentionedGroups: function _warnMentionedGroups($preview) {
      var _this7 = this;

      (0, _runloop.scheduleOnce)("afterRender", function () {
        var found = _this7.warnedGroupMentions || [];
        $preview.find(".mention-group.notify").each(function (idx, e) {
          var $e = $(e);
          var name = $e.data("name");
          if (found.indexOf(name) === -1) {
            _this7.groupsMentioned([{
              name: name,
              user_count: $e.data("mentionable-user-count"),
              max_mentions: $e.data("max-mentions")
            }]);
            found.push(name);
          }
        });

        _this7.set("warnedGroupMentions", found);
      });
    },
    _warnCannotSeeMention: function _warnCannotSeeMention($preview) {
      var _this8 = this;

      var composerDraftKey = this.get("composer.draftKey");

      if (composerDraftKey === _composer.default.NEW_PRIVATE_MESSAGE_KEY) {
        return;
      }

      (0, _runloop.scheduleOnce)("afterRender", function () {
        var found = _this8.warnedCannotSeeMentions || [];

        $preview.find(".mention.cannot-see").each(function (idx, e) {
          var $e = $(e);
          var name = $e.data("name");

          if (found.indexOf(name) === -1) {
            // add a delay to allow for typing, so you don't open the warning right away
            // previously we would warn after @bob even if you were about to mention @bob2
            (0, _runloop.later)(_this8, function () {
              if ($preview.find('.mention.cannot-see[data-name="' + name + '"]').length > 0) {
                _this8.cannotSeeMention([{ name: name }]);
                found.push(name);
              }
            }, 2000);
          }
        });

        _this8.set("warnedCannotSeeMentions", found);
      });
    },
    _resetUpload: function _resetUpload(removePlaceholder) {
      var _this9 = this;

      (0, _runloop.next)(function () {
        if (_this9._validUploads > 0) {
          _this9._validUploads--;
        }
        if (_this9._validUploads === 0) {
          _this9.setProperties({
            uploadProgress: 0,
            isUploading: false,
            isCancellable: false
          });
        }
        if (removePlaceholder) {
          _this9.appEvents.trigger("composer:replace-text", _this9.uploadPlaceholder, "");
        }
        _this9._resetUploadFilenamePlaceholder();
      });
    },
    _bindUploadTarget: function _bindUploadTarget() {
      var _this10 = this;

      this._unbindUploadTarget(); // in case it's still bound, let's clean it up first
      this._pasted = false;

      var $element = $(this.element);

      $element.fileupload({
        url: Discourse.getURL("/uploads.json?client_id=" + this.messageBus.clientId),
        dataType: "json",
        pasteZone: $element
      });

      $element.on("fileuploadpaste", function (e) {
        _this10._pasted = true;

        if (!$(".d-editor-input").is(":focus")) {
          return;
        }

        var _clipboardData = (0, _utilities.clipboardData)(e, true),
            canUpload = _clipboardData.canUpload,
            canPasteHtml = _clipboardData.canPasteHtml,
            types = _clipboardData.types;

        if (!canUpload || canPasteHtml || types.includes("text/plain")) {
          e.preventDefault();
        }
      });

      $element.on("fileuploadsubmit", function (e, data) {
        var max = _this10.siteSettings.simultaneous_uploads;

        // Limit the number of simultaneous uploads
        if (max > 0 && data.files.length > max) {
          bootbox.alert(I18n.t("post.errors.too_many_dragged_and_dropped_files", { max: max }));
          return false;
        }

        // Look for a matching file upload handler contributed from a plugin
        var matcher = function matcher(handler) {
          var ext = handler.extensions.join("|");
          var regex = new RegExp("\\.(" + ext + ")$", "i");
          return regex.test(data.files[0].name);
        };

        var matchingHandler = uploadHandlers.find(matcher);
        if (data.files.length === 1 && matchingHandler) {
          if (!matchingHandler.method(data.files[0], _this10)) {
            return false;
          }
        }

        // If no plugin, continue as normal
        var isPrivateMessage = _this10.get("composer.privateMessage");

        data.formData = { type: "composer" };
        if (isPrivateMessage) data.formData.for_private_message = true;
        if (_this10._pasted) data.formData.pasted = true;

        var opts = {
          user: _this10.currentUser,
          isPrivateMessage: isPrivateMessage,
          allowStaffToUploadAnyFileInPm: _this10.siteSettings.allow_staff_to_upload_any_file_in_pm
        };

        var isUploading = (0, _uploads.validateUploadedFiles)(data.files, opts);

        _this10.setProperties({ uploadProgress: 0, isUploading: isUploading });

        return isUploading;
      });

      $element.on("fileuploadprogressall", function (e, data) {
        _this10.set("uploadProgress", parseInt(data.loaded / data.total * 100, 10));
      });

      $element.on("fileuploadsend", function (e, data) {
        _this10._pasted = false;
        _this10._validUploads++;

        _this10._setUploadPlaceholderSend(data);

        _this10.appEvents.trigger("composer:insert-text", _this10.uploadPlaceholder);

        if (data.xhr && data.originalFiles.length === 1) {
          _this10.set("isCancellable", true);
          _this10._xhr = data.xhr();
        }
      });

      $element.on("fileuploaddone", function (e, data) {
        var upload = data.result;
        _this10._setUploadPlaceholderDone(data);
        if (!_this10._xhr || !_this10._xhr._userCancelled) {
          var markdown = uploadMarkdownResolvers.reduce(function (md, resolver) {
            return resolver(upload) || md;
          }, (0, _uploads.getUploadMarkdown)(upload));

          (0, _uploadShortUrl.cacheShortUploadUrl)(upload.short_url, upload);
          _this10.appEvents.trigger("composer:replace-text", _this10.uploadPlaceholder.trim(), markdown);
          _this10._resetUpload(false);
        } else {
          _this10._resetUpload(true);
        }
      });

      $element.on("fileuploadfail", function (e, data) {
        _this10._setUploadPlaceholderDone(data);
        _this10._resetUpload(true);

        var userCancelled = _this10._xhr && _this10._xhr._userCancelled;
        _this10._xhr = null;

        if (!userCancelled) {
          (0, _uploads.displayErrorForUpload)(data);
        }
      });

      if (this.site.mobileView) {
        $("#reply-control .mobile-file-upload").on("click.uploader", function () {
          // redirect the click on the hidden file input
          $("#mobile-uploader").click();
        });
      }
    },
    _registerImageScaleButtonClick: function _registerImageScaleButtonClick($preview) {
      var _this11 = this;

      // original string `![image|foo=bar|690x220, 50%|bar=baz](upload://1TjaobgKObzpU7xRMw2HuUc87vO.png "image title")`
      // group 1 `image|foo=bar`
      // group 2 `690x220`
      // group 3 `, 50%`
      // group 4 '|bar=baz'
      // group 5 'upload://1TjaobgKObzpU7xRMw2HuUc87vO.png "image title"'

      // Notes:
      // Group 3 is optional. group 4 can match images with or without a markdown title.
      // All matches are whitespace tolerant as long it's still valid markdown.
      // If the image is inside a code block, we'll ignore it `(?!(.*`))`.
      var imageScaleRegex = /!\[(.*?)\|(\d{1,4}x\d{1,4})(,\s*\d{1,3}%)?(.*?)\]\((upload:\/\/.*?)\)(?!(.*`))/g;
      $preview.off("click", ".scale-btn").on("click", ".scale-btn", function (e) {
        var index = parseInt($(e.target).parent().attr("data-image-index"), 10);

        var scale = e.target.attributes["data-scale"].value;
        var matchingPlaceholder = _this11.get("composer.reply").match(imageScaleRegex);

        if (matchingPlaceholder) {
          var match = matchingPlaceholder[index];
          if (!match) {
            return;
          }

          var replacement = match.replace(imageScaleRegex, "![$1|$2, " + scale + "%$4]($5)");

          _this11.appEvents.trigger("composer:replace-text", matchingPlaceholder[index], replacement, { regex: imageScaleRegex, index: index });
        }
      });
    },
    _unbindUploadTarget: function _unbindUploadTarget() {
      this._validUploads = 0;
      $("#reply-control .mobile-file-upload").off("click.uploader");
      this.messageBus.unsubscribe("/uploads/composer");
      var $uploadTarget = $(this.element);
      try {
        $uploadTarget.fileupload("destroy");
      } catch (e) {
        /* wasn't initialized yet */
      }
      $uploadTarget.off();
    },
    _composerClosed: function _composerClosed() {
      var _this12 = this;

      this.appEvents.trigger("composer:will-close");
      (0, _runloop.next)(function () {
        // need to wait a bit for the "slide down" transition of the composer
        (0, _runloop.later)(function () {
          return _this12.appEvents.trigger("composer:closed");
        }, _environment.default.environment === "test" ? 0 : 400);
      });

      if (this._enableAdvancedEditorPreviewSync()) this._teardownInputPreviewSync();
    },
    showUploadSelector: function showUploadSelector(toolbarEvent) {
      this.send("showUploadSelector", toolbarEvent);
    },
    onExpandPopupMenuOptions: function onExpandPopupMenuOptions(toolbarEvent) {
      var selected = toolbarEvent.selected;
      toolbarEvent.selectText(selected.start, selected.end - selected.start);
      this.storeToolbarState(toolbarEvent);
    },
    showPreview: function showPreview() {
      this.send("togglePreview");
    },


    actions: {
      importQuote: function importQuote(toolbarEvent) {
        this.importQuote(toolbarEvent);
      },
      onExpandPopupMenuOptions: function onExpandPopupMenuOptions(toolbarEvent) {
        this.onExpandPopupMenuOptions(toolbarEvent);
      },
      togglePreview: function togglePreview() {
        this.togglePreview();
      },
      extraButtons: function extraButtons(toolbar) {
        toolbar.addButton({
          id: "quote",
          group: "fontStyles",
          icon: "far-comment",
          sendAction: this.importQuote,
          title: "composer.quote_post_title",
          unshift: true
        });

        if (this.allowUpload && this.uploadIcon && !this.site.mobileView) {
          toolbar.addButton({
            id: "upload",
            group: "insertions",
            icon: this.uploadIcon,
            title: "upload",
            sendAction: this.showUploadModal
          });
        }

        toolbar.addButton({
          id: "options",
          group: "extras",
          icon: "cog",
          title: "composer.options",
          sendAction: this.onExpandPopupMenuOptions.bind(this),
          popupMenu: true
        });
      },
      previewUpdated: function previewUpdated($preview) {
        var _this13 = this;

        // Paint mentions
        var unseenMentions = (0, _linkMentions.linkSeenMentions)($preview, this.siteSettings);
        if (unseenMentions.length) {
          (0, _runloop.debounce)(this, this._renderUnseenMentions, $preview, unseenMentions, 450);
        }

        this._warnMentionedGroups($preview);
        this._warnCannotSeeMention($preview);

        // Paint category hashtags
        var unseenCategoryHashtags = (0, _linkCategoryHashtags.linkSeenCategoryHashtags)($preview);
        if (unseenCategoryHashtags.length) {
          (0, _runloop.debounce)(this, this._renderUnseenCategoryHashtags, $preview, unseenCategoryHashtags, 450);
        }

        // Paint tag hashtags
        if (this.siteSettings.tagging_enabled) {
          var unseenTagHashtags = (0, _linkTagHashtag.linkSeenTagHashtags)($preview);
          if (unseenTagHashtags.length) {
            (0, _runloop.debounce)(this, this._renderUnseenTagHashtags, $preview, unseenTagHashtags, 450);
          }
        }

        // Paint oneboxes
        (0, _runloop.debounce)(this, function () {
          var oneboxes = {};
          var inlineOneboxes = {};

          // Oneboxes = `a.onebox` -> `a.onebox-loading` -> `aside.onebox`
          // Inline Oneboxes = `a.inline-onebox-loading` -> `a.inline-onebox`

          var loadedOneboxes = $preview.find("aside.onebox, a." + _oneboxer.LOADING_ONEBOX_CSS_CLASS + ", a." + _inlineOneboxCssClasses.INLINE_ONEBOX_CSS_CLASS).length;

          $preview.find("a.onebox, a." + _inlineOneboxCssClasses.INLINE_ONEBOX_LOADING_CSS_CLASS).each(function (_, link) {
            var $link = $(link);
            var text = $link.text();
            var isInline = $link.attr("class") === _inlineOneboxCssClasses.INLINE_ONEBOX_LOADING_CSS_CLASS;
            var m = isInline ? inlineOneboxes : oneboxes;

            if (loadedOneboxes < _this13.siteSettings.max_oneboxes_per_post) {
              if (m[text] === undefined) {
                m[text] = [];
                loadedOneboxes++;
              }
              m[text].push(link);
            } else {
              if (m[text] !== undefined) {
                m[text].push(link);
              } else if (isInline) {
                $link.removeClass(_inlineOneboxCssClasses.INLINE_ONEBOX_LOADING_CSS_CLASS);
              }
            }
          });

          if (Object.keys(oneboxes).length > 0) {
            _this13._loadOneboxes(oneboxes);
          }

          if (Object.keys(inlineOneboxes).length > 0) {
            _this13._loadInlineOneboxes(inlineOneboxes);
          }
        }, 450);

        // Short upload urls need resolution
        (0, _uploadShortUrl.resolveAllShortUrls)(_ajax.ajax, ".d-editor-preview-wrapper");

        if (this._enableAdvancedEditorPreviewSync()) {
          this._syncScroll(this._syncEditorAndPreviewScroll, $(this.element.querySelector(".d-editor-input")), $preview);
        }

        this._registerImageScaleButtonClick($preview);

        this.trigger("previewRefreshed", $preview);
        this.afterRefresh($preview);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "uploadPlaceholder", [_dec], Object.getOwnPropertyDescriptor(_obj, "uploadPlaceholder"), _obj), _applyDecoratedDescriptor(_obj, "replyPlaceholder", [_dec2], Object.getOwnPropertyDescriptor(_obj, "replyPlaceholder"), _obj), _applyDecoratedDescriptor(_obj, "showLink", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "showLink"), _obj), _applyDecoratedDescriptor(_obj, "disableTextarea", [_dec3], Object.getOwnPropertyDescriptor(_obj, "disableTextarea"), _obj), _applyDecoratedDescriptor(_obj, "_cancelUpload", [_dec4], Object.getOwnPropertyDescriptor(_obj, "_cancelUpload"), _obj), _applyDecoratedDescriptor(_obj, "setFocus", [_dec5], Object.getOwnPropertyDescriptor(_obj, "setFocus"), _obj), _applyDecoratedDescriptor(_obj, "markdownOptions", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "markdownOptions"), _obj), _applyDecoratedDescriptor(_obj, "_composerEditorInit", [_dec6], Object.getOwnPropertyDescriptor(_obj, "_composerEditorInit"), _obj), _applyDecoratedDescriptor(_obj, "validation", [_dec7], Object.getOwnPropertyDescriptor(_obj, "validation"), _obj), _applyDecoratedDescriptor(_obj, "_unbindUploadTarget", [_dec8], Object.getOwnPropertyDescriptor(_obj, "_unbindUploadTarget"), _obj), _applyDecoratedDescriptor(_obj, "_composerClosed", [_dec9], Object.getOwnPropertyDescriptor(_obj, "_composerClosed"), _obj)), _obj)));
});
define("discourse/components/composer-message", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse-common/lib/get-owner"], function (exports, _decorators, _component, _getOwner) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("message.templateName"), (_obj = {
    classNameBindings: [":composer-popup", ":hidden", "message.extraClass"],

    layout: function layout(templateName) {
      return (0, _getOwner.getOwner)(this).lookup("template:composer/" + templateName);
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      this.element.style.display = "block";
    },


    actions: {
      closeMessage: function closeMessage() {
        this.closeMessage(this.message);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "layout", [_dec], Object.getOwnPropertyDescriptor(_obj, "layout"), _obj)), _obj)));
});
define("discourse/components/composer-messages", ["exports", "@ember/object/computed", "@ember/object", "@ember/runloop", "@ember/component", "discourse/lib/link-lookup"], function (exports, _computed, _object, _runloop, _component, _linkLookup) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var _messagesCache = {};

  exports.default = _component.default.extend({
    classNameBindings: [":composer-popup-container", "hidden"],
    checkedMessages: false,
    messages: null,
    messagesByTemplate: null,
    queuedForTyping: null,
    _lastSimilaritySearch: null,
    _similarTopicsMessage: null,
    _yourselfConfirm: null,
    similarTopics: null,

    hidden: (0, _computed.not)("composer.viewOpenOrFullscreen"),

    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      this.appEvents.on("composer:typed-reply", this, this._typedReply);
      this.appEvents.on("composer:opened", this, this._findMessages);
      this.appEvents.on("composer:find-similar", this, this._findSimilar);
      this.appEvents.on("composer-messages:close", this, this._closeTop);
      this.appEvents.on("composer-messages:create", this, this._create);
      (0, _runloop.scheduleOnce)("afterRender", this, this.reset);
    },
    willDestroyElement: function willDestroyElement() {
      this.appEvents.off("composer:typed-reply", this, this._typedReply);
      this.appEvents.off("composer:opened", this, this._findMessages);
      this.appEvents.off("composer:find-similar", this, this._findSimilar);
      this.appEvents.off("composer-messages:close", this, this._closeTop);
      this.appEvents.off("composer-messages:create", this, this._create);
    },
    _closeTop: function _closeTop() {
      var messages = this.messages;
      messages.popObject();
      this.set("messageCount", messages.get("length"));
    },
    _removeMessage: function _removeMessage(message) {
      var messages = this.messages;
      messages.removeObject(message);
      this.set("messageCount", messages.get("length"));
    },


    actions: {
      closeMessage: function closeMessage(message) {
        this._removeMessage(message);
      },
      hideMessage: function hideMessage(message) {
        this._removeMessage(message);
        // kind of hacky but the visibility depends on this
        this.messagesByTemplate[message.get("templateName")] = undefined;
      },
      popup: function popup(message) {
        var messagesByTemplate = this.messagesByTemplate;
        var templateName = message.get("templateName");

        if (!messagesByTemplate[templateName]) {
          var messages = this.messages;
          messages.pushObject(message);
          this.set("messageCount", messages.get("length"));
          messagesByTemplate[templateName] = message;
        }
      }
    },

    // Resets all active messages.
    // For example if composing a new post.
    reset: function reset() {
      if (this.isDestroying || this.isDestroyed) {
        return;
      }
      this.setProperties({
        messages: [],
        messagesByTemplate: {},
        queuedForTyping: [],
        checkedMessages: false,
        similarTopics: []
      });
    },


    // Called after the user has typed a reply.
    // Some messages only get shown after being typed.
    _typedReply: function _typedReply() {
      var _this = this;

      if (this.isDestroying || this.isDestroyed) {
        return;
      }

      var composer = this.composer;
      if (composer.get("privateMessage")) {
        var recipients = composer.targetRecipientsArray;

        if (recipients.length > 0 && recipients.every(function (r) {
          return r.name === _this.currentUser.get("username");
        })) {
          var message = this._yourselfConfirm || composer.store.createRecord("composer-message", {
            id: "yourself_confirm",
            templateName: "custom-body",
            title: I18n.t("composer.yourself_confirm.title"),
            body: I18n.t("composer.yourself_confirm.body")
          });
          this.send("popup", message);
        }
      }

      this.queuedForTyping.forEach(function (msg) {
        return _this.send("popup", msg);
      });
    },
    _create: function _create(info) {
      this.reset();
      this.send("popup", _object.default.create(info));
    },
    _findSimilar: function _findSimilar() {
      var _this2 = this;

      var composer = this.composer;

      // We don't care about similar topics unless creating a topic
      if (!composer.get("creatingTopic")) {
        return;
      }

      // TODO pass the 200 in from somewhere
      var raw = (composer.get("reply") || "").substr(0, 200);
      var title = composer.get("title") || "";

      // Ensure we have at least a title
      if (title.length < this.siteSettings.min_title_similar_length) {
        return;
      }

      // Don't search over and over
      var concat = title + raw;
      if (concat === this._lastSimilaritySearch) {
        return;
      }
      this._lastSimilaritySearch = concat;

      var similarTopics = this.similarTopics;
      var message = this._similarTopicsMessage || composer.store.createRecord("composer-message", {
        id: "similar_topics",
        templateName: "similar-topics",
        extraClass: "similar-topics"
      });

      this._similarTopicsMessage = message;

      composer.store.find("similar-topic", { title: title, raw: raw }).then(function (topics) {
        similarTopics.clear();
        similarTopics.pushObjects(topics.get("content"));

        if (similarTopics.get("length") > 0) {
          message.set("similarTopics", similarTopics);
          _this2.send("popup", message);
        } else if (message && !(_this2.isDestroyed || _this2.isDestroying)) {
          _this2.send("hideMessage", message);
        }
      });
    },


    // Figure out if there are any messages that should be displayed above the composer.
    _findMessages: function _findMessages() {
      var _this3 = this;

      if (this.checkedMessages) {
        return;
      }

      var composer = this.composer;
      var args = { composer_action: composer.get("action") };
      var topicId = composer.get("topic.id");
      var postId = composer.get("post.id");

      if (topicId) {
        args.topic_id = topicId;
      }
      if (postId) {
        args.post_id = postId;
      }

      var cacheKey = "" + args.composer_action + args.topic_id + args.post_id;

      var processMessages = function processMessages(messages) {
        if (_this3.isDestroying || _this3.isDestroyed) {
          return;
        }

        // Checking composer messages on replies can give us a list of links to check for
        // duplicates
        if (messages.extras && messages.extras.duplicate_lookup) {
          _this3.addLinkLookup(new _linkLookup.default(messages.extras.duplicate_lookup));
        }

        _this3.set("checkedMessages", true);
        var queuedForTyping = _this3.queuedForTyping;
        messages.forEach(function (msg) {
          return msg.wait_for_typing ? queuedForTyping.addObject(msg) : _this3.send("popup", msg);
        });
      };

      if (_messagesCache.cacheKey === cacheKey) {
        processMessages(_messagesCache.messages);
      } else {
        composer.store.find("composer-message", args).then(function (messages) {
          _messagesCache = { messages: messages, cacheKey: cacheKey };
          processMessages(messages);
        });
      }
    }
  });
});
define("discourse/components/composer-save-button", ["exports", "discourse/components/d-button"], function (exports, _dButton) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _dButton.default.extend({
    tabindex: 5,
    classNameBindings: [":btn-primary", ":create", "disableSubmit:disabled"],
    title: "composer.title"
  });
});
define("discourse/components/composer-title", ["exports", "@ember/object/computed", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators", "pretty-text/oneboxer", "pretty-text/oneboxer-cache", "discourse/lib/ajax", "discourse/lib/after-transition", "discourse-common/config/environment", "@ember/object"], function (exports, _computed, _runloop, _component, _decorators, _oneboxer, _oneboxerCache, _ajax, _afterTransition, _environment, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("composer.titleLength", "composer.missingTitleCharacters", "composer.minimumTitleLength", "lastValidatedAt"), _dec2 = (0, _decorators.default)("watchForLink"), _dec3 = (0, _decorators.observes)("composer.titleLength", "watchForLink"), _dec4 = (0, _decorators.observes)("composer.replyLength"), _dec5 = (0, _decorators.default)("composer.title", "composer.titleLength"), (_obj = {
    classNames: ["title-input"],
    watchForLink: (0, _computed.alias)("composer.canEditTopicFeaturedLink"),
    disabled: (0, _computed.or)("composer.loading", "composer.disableTitleInput"),

    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      if (this.focusTarget === "title") {
        var $input = $(this.element.querySelector("input"));

        (0, _afterTransition.default)($(this.element).closest("#reply-control"), function () {
          $input.putCursorAtEnd();
        });
      }

      if (this.get("composer.titleLength") > 0) {
        (0, _runloop.debounce)(this, this._titleChanged, 10);
      }
    },
    validation: function validation(titleLength, missingTitleChars, minimumTitleLength, lastValidatedAt) {
      var reason = void 0;
      if (titleLength < 1) {
        reason = I18n.t("composer.error.title_missing");
      } else if (missingTitleChars > 0) {
        reason = I18n.t("composer.error.title_too_short", {
          min: minimumTitleLength
        });
      } else if (titleLength > this.siteSettings.max_topic_title_length) {
        reason = I18n.t("composer.error.title_too_long", {
          max: this.siteSettings.max_topic_title_length
        });
      }

      if (reason) {
        return _object.default.create({
          failed: true,
          reason: reason,
          lastShownAt: lastValidatedAt
        });
      }
    },
    titleMaxLength: function titleMaxLength() {
      // maxLength gets in the way of pasting long links, so don't use it if featured links are allowed.
      // Validation will display a message if titles are too long.
      return this.watchForLink ? null : this.siteSettings.max_topic_title_length;
    },
    _titleChanged: function _titleChanged() {
      var _this = this;

      if (this.get("composer.titleLength") === 0) {
        this.set("autoPosted", false);
      }
      if (this.autoPosted || !this.watchForLink) {
        return;
      }

      if (_environment.default.environment === "test") {
        (0, _runloop.next)(function () {
          return (
            // not ideal but we don't want to run this in current
            // runloop to avoid an error in console
            _this._checkForUrl()
          );
        });
      } else {
        (0, _runloop.debounce)(this, this._checkForUrl, 500);
      }
    },
    _clearFeaturedLink: function _clearFeaturedLink() {
      if (this.watchForLink && this.bodyIsDefault()) {
        this.set("composer.featuredLink", null);
      }
    },
    _checkForUrl: function _checkForUrl() {
      var _this2 = this;

      if (!this.element || this.isDestroying || this.isDestroyed) {
        return;
      }

      if (this.isAbsoluteUrl && this.bodyIsDefault()) {
        // only feature links to external sites
        if (this.get("composer.title").match(new RegExp("^https?:\\/\\/" + window.location.hostname, "i"))) {
          return;
        }

        // Try to onebox. If success, update post body and title.
        this.set("composer.loading", true);

        var link = document.createElement("a");
        link.href = this.get("composer.title");

        var loadOnebox = (0, _oneboxer.load)({
          elem: link,
          refresh: false,
          ajax: _ajax.ajax,
          synchronous: true,
          categoryId: this.get("composer.category.id"),
          topicId: this.get("composer.topic.id")
        });

        if (loadOnebox && loadOnebox.then) {
          loadOnebox.then(function () {
            var v = (0, _oneboxerCache.lookupCache)(_this2.get("composer.title"));
            _this2._updatePost(v ? v : link);
          }).finally(function () {
            _this2.set("composer.loading", false);
            (0, _runloop.schedule)("afterRender", function () {
              $(_this2.element.querySelector("input")).putCursorAtEnd();
            });
          });
        } else {
          this._updatePost(loadOnebox);
          this.set("composer.loading", false);
          (0, _runloop.schedule)("afterRender", function () {
            $(_this2.element.querySelector("input")).putCursorAtEnd();
          });
        }
      }
    },
    _updatePost: function _updatePost(html) {
      if (html) {
        this.set("autoPosted", true);
        this.set("composer.featuredLink", this.get("composer.title"));

        var $h = $(html),
            heading = $h.find("h3").length > 0 ? $h.find("h3") : $h.find("h4"),
            composer = this.composer;

        composer.appendText(this.get("composer.title"), null, { block: true });

        if (heading.length > 0 && heading.text().length > 0) {
          this.changeTitle(heading.text());
        } else {
          var firstTitle = $h.attr("title") || $h.find("[title]").attr("title");
          if (firstTitle && firstTitle.length > 0) {
            this.changeTitle(firstTitle);
          }
        }
      }
    },
    changeTitle: function changeTitle(val) {
      if (val && val.length > 0) {
        this.set("composer.title", val.trim());
      }
    },
    isAbsoluteUrl: function isAbsoluteUrl(title, titleLength) {
      return titleLength > 0 && /^(https?:)?\/\/[\w\.\-]+/i.test(title) && !/\s/.test(title);
    },
    bodyIsDefault: function bodyIsDefault() {
      var reply = this.get("composer.reply") || "";
      return reply.length === 0 || reply === (this.get("composer.category.topic_template") || "");
    }
  }, (_applyDecoratedDescriptor(_obj, "validation", [_dec], Object.getOwnPropertyDescriptor(_obj, "validation"), _obj), _applyDecoratedDescriptor(_obj, "titleMaxLength", [_dec2], Object.getOwnPropertyDescriptor(_obj, "titleMaxLength"), _obj), _applyDecoratedDescriptor(_obj, "_titleChanged", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_titleChanged"), _obj), _applyDecoratedDescriptor(_obj, "_clearFeaturedLink", [_dec4], Object.getOwnPropertyDescriptor(_obj, "_clearFeaturedLink"), _obj), _applyDecoratedDescriptor(_obj, "isAbsoluteUrl", [_dec5], Object.getOwnPropertyDescriptor(_obj, "isAbsoluteUrl"), _obj)), _obj)));
});
define("discourse/components/composer-toggles", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("composeState"), _dec2 = (0, _decorators.default)("composeState"), _dec3 = (0, _decorators.default)("composeState"), _dec4 = (0, _decorators.default)("composeState"), (_obj = {
    tagName: "",

    toggleTitle: function toggleTitle(composeState) {
      return composeState === "draft" || composeState === "saving" ? "composer.abandon" : "composer.collapse";
    },
    fullscreenTitle: function fullscreenTitle(composeState) {
      return composeState === "draft" ? "composer.open" : composeState === "fullscreen" ? "composer.exit_fullscreen" : "composer.enter_fullscreen";
    },
    toggleIcon: function toggleIcon(composeState) {
      return composeState === "draft" || composeState === "saving" ? "times" : "chevron-down";
    },
    fullscreenIcon: function fullscreenIcon(composeState) {
      return composeState === "draft" ? "chevron-up" : composeState === "fullscreen" ? "discourse-compress" : "discourse-expand";
    }
  }, (_applyDecoratedDescriptor(_obj, "toggleTitle", [_dec], Object.getOwnPropertyDescriptor(_obj, "toggleTitle"), _obj), _applyDecoratedDescriptor(_obj, "fullscreenTitle", [_dec2], Object.getOwnPropertyDescriptor(_obj, "fullscreenTitle"), _obj), _applyDecoratedDescriptor(_obj, "toggleIcon", [_dec3], Object.getOwnPropertyDescriptor(_obj, "toggleIcon"), _obj), _applyDecoratedDescriptor(_obj, "fullscreenIcon", [_dec4], Object.getOwnPropertyDescriptor(_obj, "fullscreenIcon"), _obj)), _obj)));
});
define("discourse/components/composer-user-selector", ["exports", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators"], function (exports, _runloop, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.observes)("usernames"), _dec2 = (0, _decorators.observes)("shouldHide"), _dec3 = (0, _decorators.default)("usernames"), _dec4 = (0, _decorators.default)("splitUsernames", "defaultUsernameCount"), _dec5 = (0, _decorators.default)("splitUsernames", "defaultUsernameCount"), (_obj = {
    showSelector: true,
    shouldHide: false,
    defaultUsernameCount: 0,

    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      if (this.focusTarget === "usernames") {
        $(this.element.querySelector("input")).putCursorAtEnd();
      }
    },
    _checkWidth: function _checkWidth() {
      var _this = this;

      var width = 0;
      var $acWrap = $(this.element).find(".ac-wrap");
      var limit = $acWrap.width();
      this.set("defaultUsernameCount", 0);

      $acWrap.find(".item").toArray().forEach(function (item) {
        width += $(item).outerWidth(true);
        var result = width < limit;

        if (result) _this.incrementProperty("defaultUsernameCount");
        return result;
      });

      if (width >= limit) {
        this.set("shouldHide", true);
      } else {
        this.set("shouldHide", false);
      }
    },
    _setFocus: function _setFocus() {
      var _this2 = this;

      var selector = "#reply-control #reply-title, #reply-control .d-editor-input";

      if (this.shouldHide) {
        $(selector).on("focus.composer-user-selector", function () {
          _this2.set("showSelector", false);
          _this2.appEvents.trigger("composer:resize");
        });
      } else {
        $(selector).off("focus.composer-user-selector");
      }
    },
    splitUsernames: function splitUsernames(usernames) {
      return usernames.split(",");
    },
    limitedUsernames: function limitedUsernames(splitUsernames, count) {
      return splitUsernames.slice(0, count).join(", ");
    },
    hiddenUsersCount: function hiddenUsersCount(splitUsernames, count) {
      return splitUsernames.length - count + " " + I18n.t("more");
    },


    actions: {
      toggleSelector: function toggleSelector() {
        var _this3 = this;

        this.set("showSelector", true);

        (0, _runloop.schedule)("afterRender", function () {
          $(_this3.element).find("input").focus();
        });
      },
      triggerResize: function triggerResize() {
        this.appEvents.trigger("composer:resize");
        var $this = $(this.element).find(".ac-wrap");
        if ($this.height() >= 150) $this.scrollTop($this.height());
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_checkWidth", [_dec], Object.getOwnPropertyDescriptor(_obj, "_checkWidth"), _obj), _applyDecoratedDescriptor(_obj, "_setFocus", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_setFocus"), _obj), _applyDecoratedDescriptor(_obj, "splitUsernames", [_dec3], Object.getOwnPropertyDescriptor(_obj, "splitUsernames"), _obj), _applyDecoratedDescriptor(_obj, "limitedUsernames", [_dec4], Object.getOwnPropertyDescriptor(_obj, "limitedUsernames"), _obj), _applyDecoratedDescriptor(_obj, "hiddenUsersCount", [_dec5], Object.getOwnPropertyDescriptor(_obj, "hiddenUsersCount"), _obj)), _obj)));
});
define("discourse/components/concerns/category-search-priorities", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  var searchPriorities = exports.searchPriorities = { "ignore": 1, "very_low": 2, "low": 3, "normal": 0, "high": 4, "very_high": 5 };
});
define("discourse/components/conditional-loading-section", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["conditional-loading-section"],

    classNameBindings: ["isLoading"],

    isLoading: false,

    title: I18n.t("conditional_loading_section.loading")
  });
});
define("discourse/components/connector-container", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend();
});
define("discourse/components/cook-text", ["exports", "@ember/runloop", "@ember/component", "discourse/lib/text", "discourse/lib/ajax"], function (exports, _runloop, _component, _text, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var CookText = _component.default.extend({
    tagName: "",
    cooked: null,

    didReceiveAttrs: function didReceiveAttrs() {
      var _this = this;

      this._super.apply(this, arguments);
      (0, _text.cookAsync)(this.rawText).then(function (cooked) {
        _this.set("cooked", cooked);
        // no choice but to defer this cause
        // pretty text may only be loaded now
        (0, _runloop.next)(function () {
          return window.requireModule("pretty-text/upload-short-url").resolveAllShortUrls(_ajax.ajax);
        });
      });
    }
  });

  CookText.reopenClass({ positionalParams: ["rawText"] });

  exports.default = CookText;
});
define("discourse/components/count-i18n", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "span",
    rerenderTriggers: ["count", "suffix"],
    i18nCount: null,

    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);
      this.set("i18nCount", I18n.t(this.key + (this.suffix || ""), { count: this.count }).htmlSafe());
    }
  });
});
define("discourse/components/create-account", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["create-account"],

    didInsertElement: function didInsertElement() {
      var _this = this;

      this._super.apply(this, arguments);

      if ($.cookie("email")) {
        this.set("email", $.cookie("email"));
      }

      $(this.element).on("keydown.discourse-create-account", function (e) {
        if (!_this.disabled && e.keyCode === 13) {
          e.preventDefault();
          e.stopPropagation();
          _this.action();
          return false;
        }
      });

      $(this.element).on("click.dropdown-user-field-label", "[for]", function (event) {
        var $element = $(event.target);
        var $target = $("#" + $element.attr("for"));

        if ($target.is(".select-kit")) {
          event.preventDefault();
          $target.find(".select-kit-header").trigger("click");
        }
      });
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      $(this.element).off("keydown.discourse-create-account");
      $(this.element).off("click.dropdown-user-field-label");
    }
  });
});
define("discourse/components/create-topic-button", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "",
    label: "topic.create"
  });
});
define("discourse/components/create-topics-notice", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component", "discourse/models/live-post-counts"], function (exports, _decorators, _computed, _component, _livePostCounts) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)(), _dec2 = (0, _decorators.default)("enabled", "shouldSee", "publicTopicCount", "publicPostCount"), _dec3 = (0, _decorators.default)("publicTopicCount", "publicPostCount", "topicTrackingState.incomingCount"), _dec4 = (0, _decorators.observes)("topicTrackingState.incomingCount"), (_obj = {
    classNameBindings: ["hidden:hidden", ":create-topics-notice"],

    enabled: false,

    publicTopicCount: null,
    publicPostCount: null,

    requiredTopics: 5,
    requiredPosts: (0, _computed.alias)("siteSettings.tl1_requires_read_posts"),

    init: function init() {
      this._super.apply(this, arguments);
      if (this.shouldSee) {
        var topicCount = 0,
            postCount = 0;

        // Use data we already have before fetching live stats
        this.site.get("categories").forEach(function (c) {
          if (!c.get("read_restricted")) {
            topicCount += c.get("topic_count");
            postCount += c.get("post_count");
          }
        });

        if (topicCount < this.requiredTopics || postCount < this.requiredPosts) {
          this.set("enabled", true);
          this.fetchLiveStats();
        }
      }
    },
    shouldSee: function shouldSee() {
      var user = this.currentUser;
      return user && user.get("admin") && this.siteSettings.show_create_topics_notice && !this.site.get("wizard_required");
    },
    hidden: function hidden() {
      return !this.enabled || !this.shouldSee || this.publicTopicCount == null || this.publicPostCount == null;
    },
    message: function message() {
      var msg = null;

      if (this.publicTopicCount < this.requiredTopics && this.publicPostCount < this.requiredPosts) {
        msg = "too_few_topics_and_posts_notice";
      } else if (this.publicTopicCount < this.requiredTopics) {
        msg = "too_few_topics_notice";
      } else {
        msg = "too_few_posts_notice";
      }

      return new Handlebars.SafeString(I18n.t(msg, {
        requiredTopics: this.requiredTopics,
        requiredPosts: this.requiredPosts,
        currentTopics: this.publicTopicCount,
        currentPosts: this.publicPostCount
      }));
    },
    fetchLiveStats: function fetchLiveStats() {
      var _this = this;

      if (!this.enabled) {
        return;
      }

      _livePostCounts.default.find().then(function (stats) {
        if (stats) {
          _this.set("publicTopicCount", stats.get("public_topic_count"));
          _this.set("publicPostCount", stats.get("public_post_count"));
          if (_this.publicTopicCount >= _this.requiredTopics && _this.publicPostCount >= _this.requiredPosts) {
            _this.set("enabled", false); // No more checks
          }
        }
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "shouldSee", [_dec], Object.getOwnPropertyDescriptor(_obj, "shouldSee"), _obj), _applyDecoratedDescriptor(_obj, "hidden", [_dec2], Object.getOwnPropertyDescriptor(_obj, "hidden"), _obj), _applyDecoratedDescriptor(_obj, "message", [_dec3], Object.getOwnPropertyDescriptor(_obj, "message"), _obj), _applyDecoratedDescriptor(_obj, "fetchLiveStats", [_dec4], Object.getOwnPropertyDescriptor(_obj, "fetchLiveStats"), _obj)), _obj)));
});
define("discourse/components/csv-uploader", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/mixins/upload", "@ember/object/evented"], function (exports, _decorators, _component, _upload, _evented) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend(_upload.default, (_dec = (0, _decorators.default)("uploading"), _dec2 = (0, _decorators.default)("uploading"), (_obj = {
    type: "csv",
    tagName: "span",
    uploadUrl: "/invites/upload_csv",

    validateUploadedFilesOptions: function validateUploadedFilesOptions() {
      return { csvOnly: true };
    },
    uploadButtonText: function uploadButtonText(uploading) {
      return uploading ? I18n.t("uploading") : I18n.t("user.invited.bulk_invite.text");
    },
    uploadButtonDisabled: function uploadButtonDisabled(uploading) {
      // https://github.com/emberjs/ember.js/issues/10976#issuecomment-132417731
      return uploading ? true : null;
    },
    uploadDone: function uploadDone() {
      bootbox.alert(I18n.t("user.invited.bulk_invite.success"));
    },
    uploadOptions: function uploadOptions() {
      return { autoUpload: false };
    },


    _init: (0, _evented.on)("didInsertElement", function () {
      var $upload = $(this.element);

      $upload.on("fileuploadadd", function (e, data) {
        bootbox.confirm(I18n.t("user.invited.bulk_invite.confirmation_message"), I18n.t("cancel"), I18n.t("go_ahead"), function (result) {
          return result ? data.submit() : data.abort();
        });
      });
    })
  }, (_applyDecoratedDescriptor(_obj, "uploadButtonText", [_dec], Object.getOwnPropertyDescriptor(_obj, "uploadButtonText"), _obj), _applyDecoratedDescriptor(_obj, "uploadButtonDisabled", [_dec2], Object.getOwnPropertyDescriptor(_obj, "uploadButtonDisabled"), _obj)), _obj)));
});
define("discourse/components/custom-html", ["exports", "@ember/component", "discourse/helpers/custom-html", "discourse-common/lib/get-owner"], function (exports, _component, _customHtml, _getOwner) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    triggerAppEvent: null,

    init: function init() {
      this._super.apply(this, arguments);
      var name = this.name;
      var html = (0, _customHtml.getCustomHTML)(name);

      if (html) {
        this.set("html", html);
        this.set("layoutName", "components/custom-html-container");
      } else {
        var template = (0, _getOwner.getOwner)(this).lookup("template:" + name);
        if (template) {
          this.set("layoutName", name);
        }
      }
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      if (this.triggerAppEvent === "true") {
        this.appEvents.trigger("inserted-custom-html:" + this.name);
      }
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      if (this.triggerAppEvent === "true") {
        this.appEvents.trigger("destroyed-custom-html:" + this.name);
      }
    }
  });
});
define("discourse/components/d-button", ["exports", "@ember/object/computed", "@ember/component", "discourse-common/utils/decorators", "discourse/lib/url"], function (exports, _computed, _component, _decorators, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj, _init, _init2;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("icon", "translatedLabel"), _dec2 = (0, _decorators.default)("title"), _dec3 = (0, _decorators.default)("label"), (_obj = {
    // subclasses need this
    layoutName: "components/d-button",

    form: null,

    type: "button",

    tagName: "button",
    classNameBindings: ["btnLink::btn", "btnLink", "noText", "btnType"],
    attributeBindings: ["form", "disabled", "translatedTitle:title", "translatedLabel:aria-label", "tabindex", "type"],

    btnIcon: (0, _computed.notEmpty)("icon"),

    btnLink: (0, _computed.equal)("display", "link"),

    btnType: function btnType(icon, translatedLabel) {
      if (icon) {
        return translatedLabel ? "btn-icon-text" : "btn-icon";
      } else if (translatedLabel) {
        return "btn-text";
      }
    },


    noText: (0, _computed.empty)("translatedLabel"),

    translatedTitle: {
      get: function get() {
        if (this._translatedTitle) return this._translatedTitle;
        if (this.title) return I18n.t(this.title);
      },
      set: function set(value) {
        return this._translatedTitle = value;
      }
    },

    translatedLabel: {
      get: function get() {
        if (this._translatedLabel) return this._translatedLabel;
        if (this.label) return I18n.t(this.label);
      },
      set: function set(value) {
        return this._translatedLabel = value;
      }
    },

    click: function click() {
      var action = this.action;


      if (action) {
        if (typeof action === "string") {
          this.sendAction("action", this.actionParam);
        } else if ((typeof action === "undefined" ? "undefined" : _typeof(action)) === "object" && action.value) {
          action.value(this.actionParam);
        } else if (typeof this.action === "function") {
          action(this.actionParam);
        }
      }

      if (this.href && this.href.length) {
        _url.default.routeTo(this.href);
      }

      return false;
    }
  }, (_applyDecoratedDescriptor(_obj, "btnType", [_dec], Object.getOwnPropertyDescriptor(_obj, "btnType"), _obj), _applyDecoratedDescriptor(_obj, "translatedTitle", [_dec2], (_init = Object.getOwnPropertyDescriptor(_obj, "translatedTitle"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "translatedLabel", [_dec3], (_init2 = Object.getOwnPropertyDescriptor(_obj, "translatedLabel"), _init2 = _init2 ? _init2.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init2;
    }
  }), _obj)), _obj)));
});
define("discourse/components/d-modal-body", ["exports", "@ember/runloop", "@ember/component"], function (exports, _runloop, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["modal-body"],
    fixed: false,
    dismissable: true,

    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      $("#modal-alert").hide();

      var fixedParent = $(this.element).closest(".d-modal.fixed-modal");
      if (fixedParent.length) {
        this.set("fixed", true);
        fixedParent.modal("show");
      }

      (0, _runloop.scheduleOnce)("afterRender", this, this._afterFirstRender);
      this.appEvents.on("modal-body:flash", this, "_flash");
      this.appEvents.on("modal-body:clearFlash", this, "_clearFlash");
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      this.appEvents.off("modal-body:flash", this, "_flash");
      this.appEvents.off("modal-body:clearFlash", this, "_clearFlash");
      this.appEvents.trigger("modal:body-dismissed");
    },
    _afterFirstRender: function _afterFirstRender() {
      if (!this.site.mobileView && this.autoFocus !== "false" && this.element.querySelector("input")) {
        this.element.querySelector("input").focus();
      }

      var maxHeight = this.maxHeight;
      if (maxHeight) {
        var maxHeightFloat = parseFloat(maxHeight) / 100.0;
        if (maxHeightFloat > 0) {
          var viewPortHeight = $(window).height();
          $(this.element).css("max-height", Math.floor(maxHeightFloat * viewPortHeight) + "px");
        }
      }

      this.appEvents.trigger("modal:body-shown", this.getProperties("title", "rawTitle", "fixed", "subtitle", "rawSubtitle", "dismissable"));
    },
    _clearFlash: function _clearFlash() {
      $("#modal-alert").hide().removeClass("alert-error", "alert-success");
    },
    _flash: function _flash(msg) {
      this._clearFlash();

      $("#modal-alert").addClass("alert alert-" + (msg.messageClass || "success")).html(msg.text || "").fadeIn();
    }
  });
});
define("discourse/components/d-modal-cancel", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: ""
  });
});
define("discourse/components/d-modal", ["exports", "@ember/runloop", "discourse-common/utils/decorators", "@ember/component"], function (exports, _runloop, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.on)("didInsertElement"), _dec2 = (0, _decorators.on)("willDestroyElement"), (_obj = {
    classNameBindings: [":modal", ":d-modal", "modalClass", "modalStyle", "hasPanels"],
    attributeBindings: ["data-keyboard"],
    dismissable: true,
    title: null,
    subtitle: null,

    init: function init() {
      this._super.apply(this, arguments);

      // If we need to render a second modal for any reason, we can't
      // use `elementId`
      if (this.modalStyle !== "inline-modal") {
        this.set("elementId", "discourse-modal");
        this.set("modalStyle", "fixed-modal");
      }
    },


    // We handle ESC ourselves
    "data-keyboard": "false",

    setUp: function setUp() {
      var _this = this;

      $("html").on("keyup.discourse-modal", function (e) {
        //only respond to events when the modal is visible
        if ($("#discourse-modal:visible").length > 0) {
          if (e.which === 27 && _this.dismissable) {
            (0, _runloop.next)(function () {
              return $(".modal-header button.modal-close").click();
            });
          }

          if (e.which === 13 && _this.triggerClickOnEnter(e)) {
            (0, _runloop.next)(function () {
              return $(".modal-footer .btn-primary").click();
            });
          }
        }
      });

      this.appEvents.on("modal:body-shown", this, "_modalBodyShown");
    },
    cleanUp: function cleanUp() {
      $("html").off("keyup.discourse-modal");
      this.appEvents.off("modal:body-shown", this, "_modalBodyShown");
    },
    triggerClickOnEnter: function triggerClickOnEnter(e) {
      // skip when in a form or a textarea element
      if (e.target.closest("form") || document.activeElement && document.activeElement.nodeName === "TEXTAREA") {
        return false;
      }

      return true;
    },
    mouseDown: function mouseDown(e) {
      if (!this.dismissable) {
        return;
      }
      var $target = $(e.target);
      if ($target.hasClass("modal-middle-container") || $target.hasClass("modal-outer-container")) {
        // Delegate click to modal close if clicked outside.
        // We do this because some CSS of ours seems to cover
        // the backdrop and makes it unclickable.
        $(".modal-header button.modal-close").click();
      }
    },
    _modalBodyShown: function _modalBodyShown(data) {
      if (this.isDestroying || this.isDestroyed) {
        return;
      }

      if (data.fixed) {
        this.element.classList.remove("hidden");
      }

      if (data.title) {
        this.set("title", I18n.t(data.title));
      } else if (data.rawTitle) {
        this.set("title", data.rawTitle);
      }

      if (data.subtitle) {
        this.set("subtitle", I18n.t(data.subtitle));
      } else if (data.rawSubtitle) {
        this.set("subtitle", data.rawSubtitle);
      } else {
        // if no subtitle provided, makes sure the previous subtitle
        // of another modal is not used
        this.set("subtitle", null);
      }

      if ("dismissable" in data) {
        this.set("dismissable", data.dismissable);
      } else {
        this.set("dismissable", true);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "setUp", [_dec], Object.getOwnPropertyDescriptor(_obj, "setUp"), _obj), _applyDecoratedDescriptor(_obj, "cleanUp", [_dec2], Object.getOwnPropertyDescriptor(_obj, "cleanUp"), _obj)), _obj)));
});
define("discourse/components/d-navigation", ["exports", "discourse-common/utils/decorators", "discourse/models/nav-item", "@ember/service", "@ember/component", "discourse/mixins/filter-mode"], function (exports, _decorators, _navItem, _service, _component, _filterMode) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj, _init;

  exports.default = _component.default.extend(_filterMode.default, (_dec = (0, _decorators.default)("category"), _dec2 = (0, _decorators.default)(), _dec3 = (0, _decorators.default)("hasDraft"), _dec4 = (0, _decorators.default)("category.can_edit"), _dec5 = (0, _decorators.default)("filterType", "category", "noSubcategories"), (_obj = {
    router: (0, _service.inject)(),
    persistedQueryParams: null,

    tagName: "",

    showCategoryNotifications: function showCategoryNotifications(category) {
      return category && this.currentUser;
    },
    categories: function categories() {
      return this.site.get("categoriesList");
    },
    createTopicLabel: function createTopicLabel(hasDraft) {
      return hasDraft ? "topic.open_draft" : "topic.create";
    },

    showCategoryEdit: function showCategoryEdit(canEdit) {
      return canEdit;
    },

    navItems: function navItems(filterType, category, noSubcategories) {
      var params = void 0;
      var currentRouteQueryParams = this.get("router.currentRoute.queryParams");
      if (this.persistedQueryParams && currentRouteQueryParams) {
        var currentKeys = Object.keys(currentRouteQueryParams);
        var discoveryKeys = Object.keys(this.persistedQueryParams);
        var supportedKeys = currentKeys.filter(function (i) {
          return discoveryKeys.indexOf(i) > 0;
        });
        params = supportedKeys.reduce(function (object, key) {
          object[key] = currentRouteQueryParams[key];
          return object;
        }, {});
      }

      return _navItem.default.buildList(category, {
        filterType: filterType,
        noSubcategories: noSubcategories,
        persistedQueryParams: params
      });
    },


    actions: {
      changeCategoryNotificationLevel: function changeCategoryNotificationLevel(notificationLevel) {
        this.category.setNotification(notificationLevel);
      },
      selectCategoryAdminDropdownAction: function selectCategoryAdminDropdownAction(actionId) {
        switch (actionId) {
          case "create":
            this.createCategory();
            break;
          case "reorder":
            this.reorderCategories();
            break;
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "showCategoryNotifications", [_dec], Object.getOwnPropertyDescriptor(_obj, "showCategoryNotifications"), _obj), _applyDecoratedDescriptor(_obj, "categories", [_dec2], Object.getOwnPropertyDescriptor(_obj, "categories"), _obj), _applyDecoratedDescriptor(_obj, "createTopicLabel", [_dec3], Object.getOwnPropertyDescriptor(_obj, "createTopicLabel"), _obj), _applyDecoratedDescriptor(_obj, "showCategoryEdit", [_dec4], (_init = Object.getOwnPropertyDescriptor(_obj, "showCategoryEdit"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "navItems", [_dec5], Object.getOwnPropertyDescriptor(_obj, "navItems"), _obj)), _obj)));
});
define("discourse/components/d-section", ["exports", "@ember/component", "discourse/mixins/scroll-top"], function (exports, _component, _scrollTop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "section",

    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      var pageClass = this.pageClass;
      if (pageClass) {
        $("body").addClass(pageClass + "-page");
      }

      var bodyClass = this.bodyClass;
      if (bodyClass) {
        $("body").addClass(bodyClass);
      }

      if (this.scrollTop === "false") {
        return;
      }

      (0, _scrollTop.scrollTop)();
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      var pageClass = this.pageClass;
      if (pageClass) {
        $("body").removeClass(pageClass + "-page");
      }

      var bodyClass = this.bodyClass;
      if (bodyClass) {
        $("body").removeClass(bodyClass);
      }
    }
  });
});
define("discourse/components/date-input", ["exports", "@ember/runloop", "@ember/component", "discourse/lib/load-script", "discourse-common/utils/decorators"], function (exports, _runloop, _component, _loadScript, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("site.mobileView"), _dec2 = (0, _decorators.on)("didInsertElement"), _dec3 = (0, _decorators.on)("willDestroyElement"), _dec4 = (0, _decorators.default)(), (_obj = {
    classNames: ["d-date-input"],
    date: null,
    _picker: null,

    inputType: function inputType(mobileView) {
      return mobileView ? "date" : "text";
    },
    _loadDatePicker: function _loadDatePicker() {
      var container = this.element.querySelector("#" + this.containerId);

      if (this.site.mobileView) {
        this._loadNativePicker(container);
      } else {
        this._loadPikadayPicker(container);
      }

      if (this.date && this._picker) {
        this._picker.setDate(this.date, true);
      }
    },
    didUpdateAttrs: function didUpdateAttrs() {
      this._super.apply(this, arguments);

      if (this._picker && typeof date === "string") {
        var _date$split$map = this.date.split("-").map(function (x) {
          return parseInt(x, 10);
        }),
            _date$split$map2 = _slicedToArray(_date$split$map, 3),
            year = _date$split$map2[0],
            month = _date$split$map2[1],
            day = _date$split$map2[2];

        this._picker.setDate(new Date(year, month - 1, day), true);
      }
    },
    _loadPikadayPicker: function _loadPikadayPicker(container) {
      var _this = this;

      (0, _loadScript.default)("/javascripts/pikaday.js").then(function () {
        (0, _runloop.next)(function () {
          var default_opts = {
            field: _this.element.querySelector(".date-picker"),
            container: container || _this.element,
            bound: container === null,
            format: "LL",
            firstDay: 1,
            i18n: {
              previousMonth: I18n.t("dates.previous_month"),
              nextMonth: I18n.t("dates.next_month"),
              months: moment.months(),
              weekdays: moment.weekdays(),
              weekdaysShort: moment.weekdaysShort()
            },
            onSelect: function onSelect(date) {
              return _this._handleSelection(date);
            }
          };

          _this._picker = new Pikaday(Object.assign(default_opts, _this._opts()));
          _this._picker.setDate(_this.date, true);
        });
      });
    },
    _loadNativePicker: function _loadNativePicker(container) {
      var _this2 = this;

      var wrapper = container || this.element;
      var picker = wrapper.querySelector("input.date-picker");
      picker.onchange = function () {
        return _this2._handleSelection(picker.value);
      };
      picker.hide = function () {
        /* do nothing for native */
      };
      picker.destroy = function () {
        /* do nothing for native */
      };
      picker.setDate = function (date) {
        picker.value = date;
      };
      this._picker = picker;
    },
    _handleSelection: function _handleSelection(value) {
      if (!this.element || this.isDestroying || this.isDestroyed) return;

      this._picker && this._picker.hide();

      if (this.onChange) {
        this.onChange(value);
      }
    },
    _destroy: function _destroy() {
      if (this._picker) {
        this._picker.destroy();
      }
      this._picker = null;
    },
    placeholder: function placeholder() {
      return I18n.t("dates.placeholder");
    },
    _opts: function _opts() {
      return null;
    },


    actions: {
      onInput: function onInput(event) {
        this._picker && this._picker.setDate(event.target.value, true);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "inputType", [_dec], Object.getOwnPropertyDescriptor(_obj, "inputType"), _obj), _applyDecoratedDescriptor(_obj, "_loadDatePicker", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_loadDatePicker"), _obj), _applyDecoratedDescriptor(_obj, "_destroy", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_destroy"), _obj), _applyDecoratedDescriptor(_obj, "placeholder", [_dec4], Object.getOwnPropertyDescriptor(_obj, "placeholder"), _obj)), _obj)));
});
define("discourse/components/date-picker-future", ["exports", "discourse/components/date-picker"], function (exports, _datePicker) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _datePicker.default.extend({
    layoutName: "components/date-picker",

    _opts: function _opts() {
      return {
        defaultDate: this.defaultDate || moment().add(1, "day").toDate(),
        setDefaultDate: !!this.defaultDate,
        minDate: this.minDate || moment().toDate()
      };
    }
  });
});
define("discourse/components/date-picker-past", ["exports", "discourse/components/date-picker"], function (exports, _datePicker) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _datePicker.default.extend({
    layoutName: "components/date-picker",

    _opts: function _opts() {
      return {
        defaultDate: moment(this.defaultDate, "YYYY-MM-DD").toDate() || new Date(),
        setDefaultDate: !!this.defaultDate,
        maxDate: new Date()
      };
    }
  });
});
define("discourse/components/date-picker", ["exports", "@ember/runloop", "@ember/component", "discourse/lib/load-script", "discourse-common/utils/decorators"], function (exports, _runloop, _component, _loadScript, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  var DATE_FORMAT = "YYYY-MM-DD";

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("site.mobileView"), _dec2 = (0, _decorators.on)("didInsertElement"), _dec3 = (0, _decorators.on)("willDestroyElement"), _dec4 = (0, _decorators.default)(), (_obj = {
    classNames: ["date-picker-wrapper"],
    _picker: null,
    value: null,

    inputType: function inputType(mobileView) {
      return mobileView ? "date" : "text";
    },
    _loadDatePicker: function _loadDatePicker() {
      if (this.site.mobileView) {
        this._loadNativePicker();
      } else {
        var container = document.getElementById(this.containerId);
        this._loadPikadayPicker(container);
      }
    },
    _loadPikadayPicker: function _loadPikadayPicker(container) {
      var _this = this;

      (0, _loadScript.default)("/javascripts/pikaday.js").then(function () {
        (0, _runloop.schedule)("afterRender", function () {
          var options = {
            field: _this.element.querySelector(".date-picker"),
            container: container || null,
            bound: container === null,
            format: DATE_FORMAT,
            firstDay: 1,
            i18n: {
              previousMonth: I18n.t("dates.previous_month"),
              nextMonth: I18n.t("dates.next_month"),
              months: moment.months(),
              weekdays: moment.weekdays(),
              weekdaysShort: moment.weekdaysMin()
            },
            onSelect: function onSelect(date) {
              return _this._handleSelection(date);
            }
          };

          _this._picker = new Pikaday(Object.assign(options, _this._opts()));
        });
      });
    },
    _loadNativePicker: function _loadNativePicker() {
      var _this2 = this;

      var picker = this.element.querySelector("input.date-picker");
      picker.onchange = function () {
        return _this2._handleSelection(picker.value);
      };
      picker.hide = function () {
        /* do nothing for native */
      };
      picker.destroy = function () {
        /* do nothing for native */
      };
      this._picker = picker;
    },
    _handleSelection: function _handleSelection(value) {
      var formattedDate = moment(value).format(DATE_FORMAT);

      if (!this.element || this.isDestroying || this.isDestroyed) return;

      if (this.onSelect) {
        this.onSelect(formattedDate);
      }
    },
    _destroy: function _destroy() {
      if (this._picker) {
        this._picker.destroy();
        this._picker = null;
      }
    },
    placeholder: function placeholder() {
      return I18n.t("dates.placeholder");
    },
    _opts: function _opts() {
      return null;
    }
  }, (_applyDecoratedDescriptor(_obj, "inputType", [_dec], Object.getOwnPropertyDescriptor(_obj, "inputType"), _obj), _applyDecoratedDescriptor(_obj, "_loadDatePicker", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_loadDatePicker"), _obj), _applyDecoratedDescriptor(_obj, "_destroy", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_destroy"), _obj), _applyDecoratedDescriptor(_obj, "placeholder", [_dec4], Object.getOwnPropertyDescriptor(_obj, "placeholder"), _obj)), _obj)));
});
define("discourse/components/date-time-input-range", ["exports", "@ember/object/computed", "@ember/component"], function (exports, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["d-date-time-input-range"],

    from: null,
    to: null,
    onChangeTo: null,
    onChangeFrom: null,
    currentPanel: "from",
    showFromTime: true,
    showToTime: true,
    error: null,

    fromPanelActive: (0, _computed.equal)("currentPanel", "from"),
    toPanelActive: (0, _computed.equal)("currentPanel", "to"),

    _valid: function _valid(state) {
      if (state.to && state.from && state.to < state.from) {
        return I18n.t("date_time_picker.errors.to_before_from");
      }

      return true;
    },


    actions: {
      _onChange: function _onChange(options, value) {
        if (this.onChange) {
          var state = {
            from: this.from,
            to: this.to
          };

          var diff = {};
          diff[options.prop] = value;

          var newState = Object.assign(state, diff);

          var validation = this._valid(newState);
          if (validation === true) {
            this.set("error", null);
            this.onChange(newState);
          } else {
            this.set("error", validation);
          }
        }
      },
      onChangePanel: function onChangePanel(panel) {
        this.set("currentPanel", panel);
      }
    }
  });
});
define("discourse/components/date-time-input", ["exports", "@ember/component", "@ember/object"], function (exports, _component, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["d-date-time-input"],
    date: null,
    showTime: true,

    _hours: (0, _object.computed)("date", function () {
      return this.date && this.showTime ? this.date.getHours() : null;
    }),

    _minutes: (0, _object.computed)("date", function () {
      return this.date && this.showTime ? this.date.getMinutes() : null;
    }),

    actions: {
      onChangeTime: function onChangeTime(time) {
        if (this.onChange) {
          var year = this.date.getFullYear();
          var month = this.date.getMonth();
          var day = this.date.getDate();
          this.onChange(new Date(year, month, day, time.hours, time.minutes));
        }
      },
      onChangeDate: function onChangeDate(date) {
        if (this.onChange) {
          var year = date.getFullYear();
          var month = date.getMonth();
          var day = date.getDate();
          this.onChange(new Date(year, month, day, this._hours || 0, this._minutes || 0));
        }
      }
    }
  });
});
define("discourse/components/desktop-notification-config", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component", "discourse/lib/key-value-store", "discourse/lib/desktop-notifications", "discourse/lib/push-notifications"], function (exports, _decorators, _computed, _component, _keyValueStore, _desktopNotifications, _pushNotifications) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj, _init, _init2;

  var keyValueStore = new _keyValueStore.default(_desktopNotifications.context);

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("isNotSupported"), _dec2 = (0, _decorators.default)("isNotSupported", "notificationsPermission"), _dec3 = (0, _decorators.default)("isNotSupported", "notificationsPermission"), _dec4 = (0, _decorators.default)("isGrantedPermission", "notificationsDisabled"), (_obj = {
    classNames: ["controls"],

    notificationsPermission: function notificationsPermission(isNotSupported) {
      return isNotSupported ? "" : Notification.permission;
    },

    notificationsDisabled: {
      set: function set(value) {
        keyValueStore.setItem("notifications-disabled", value);
        return keyValueStore.getItem("notifications-disabled");
      },
      get: function get() {
        return keyValueStore.getItem("notifications-disabled");
      }
    },

    isNotSupported: function isNotSupported() {
      return typeof window.Notification === "undefined";
    },
    isDeniedPermission: function isDeniedPermission(isNotSupported, notificationsPermission) {
      return isNotSupported ? false : notificationsPermission === "denied";
    },
    isGrantedPermission: function isGrantedPermission(isNotSupported, notificationsPermission) {
      return isNotSupported ? false : notificationsPermission === "granted";
    },
    isEnabledDesktop: function isEnabledDesktop(isGrantedPermission, notificationsDisabled) {
      return isGrantedPermission ? !notificationsDisabled : false;
    },

    isEnabledPush: {
      set: function set(value) {
        var user = this.currentUser;
        if (!user) {
          return false;
        }
        _pushNotifications.keyValueStore.setItem((0, _pushNotifications.userSubscriptionKey)(user), value);
        return _pushNotifications.keyValueStore.getItem((0, _pushNotifications.userSubscriptionKey)(user));
      },
      get: function get() {
        var user = this.currentUser;
        return user ? _pushNotifications.keyValueStore.getItem((0, _pushNotifications.userSubscriptionKey)(user)) : false;
      }
    },

    isEnabled: (0, _computed.or)("isEnabledDesktop", "isEnabledPush"),

    isPushNotificationsPreferred: function isPushNotificationsPreferred() {
      if (!this.site.mobileView) {
        return false;
      }
      return (0, _pushNotifications.isPushNotificationsSupported)(this.site.mobileView);
    },


    actions: {
      recheckPermission: function recheckPermission() {
        this.notifyPropertyChange("notificationsPermission");
      },
      turnoff: function turnoff() {
        var _this = this;

        if (this.isEnabledDesktop) {
          this.set("notificationsDisabled", "disabled");
          this.notifyPropertyChange("notificationsPermission");
        }
        if (this.isEnabledPush) {
          (0, _pushNotifications.unsubscribe)(this.currentUser, function () {
            _this.set("isEnabledPush", "");
          });
        }
      },
      turnon: function turnon() {
        var _this2 = this;

        if (this.isPushNotificationsPreferred()) {
          (0, _pushNotifications.subscribe)(function () {
            _this2.set("isEnabledPush", "subscribed");
          }, this.siteSettings.vapid_public_key_bytes);
        } else {
          this.set("notificationsDisabled", "");
          Notification.requestPermission(function () {
            (0, _desktopNotifications.confirmNotification)();
            _this2.notifyPropertyChange("notificationsPermission");
          });
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "notificationsPermission", [_dec], Object.getOwnPropertyDescriptor(_obj, "notificationsPermission"), _obj), _applyDecoratedDescriptor(_obj, "notificationsDisabled", [_decorators.default], (_init = Object.getOwnPropertyDescriptor(_obj, "notificationsDisabled"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "isNotSupported", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "isNotSupported"), _obj), _applyDecoratedDescriptor(_obj, "isDeniedPermission", [_dec2], Object.getOwnPropertyDescriptor(_obj, "isDeniedPermission"), _obj), _applyDecoratedDescriptor(_obj, "isGrantedPermission", [_dec3], Object.getOwnPropertyDescriptor(_obj, "isGrantedPermission"), _obj), _applyDecoratedDescriptor(_obj, "isEnabledDesktop", [_dec4], Object.getOwnPropertyDescriptor(_obj, "isEnabledDesktop"), _obj), _applyDecoratedDescriptor(_obj, "isEnabledPush", [_decorators.default], (_init2 = Object.getOwnPropertyDescriptor(_obj, "isEnabledPush"), _init2 = _init2 ? _init2.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init2;
    }
  }), _obj)), _obj)));
});
define("discourse/components/directory-item", ["exports", "@ember/component", "discourse/lib/computed"], function (exports, _component, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "tr",
    classNameBindings: ["me"],
    me: (0, _computed.propertyEqual)("item.user.id", "currentUser.id")
  });
});
define("discourse/components/directory-toggle", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse-common/lib/icon-library"], function (exports, _decorators, _component, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("field", "labelKey"), (_obj = {
    tagName: "th",
    classNames: ["sortable"],
    attributeBindings: ["title"],
    labelKey: null,
    chevronIcon: null,
    columnIcon: null,

    title: function title(field, labelKey) {
      if (!labelKey) {
        labelKey = "directory." + this.field;
      }

      return I18n.t(labelKey + "_long", { defaultValue: I18n.t(labelKey) });
    },
    toggleProperties: function toggleProperties() {
      if (this.order === this.field) {
        this.set("asc", this.asc ? null : true);
      } else {
        this.setProperties({ order: this.field, asc: null });
      }
    },
    toggleChevron: function toggleChevron() {
      if (this.order === this.field) {
        var chevron = (0, _iconLibrary.iconHTML)(this.asc ? "chevron-up" : "chevron-down");
        this.set("chevronIcon", ("" + chevron).htmlSafe());
      } else {
        this.set("chevronIcon", null);
      }
    },
    click: function click() {
      this.toggleProperties();
    },
    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);
      this.toggleChevron();
    },
    init: function init() {
      this._super.apply(this, arguments);
      if (this.icon) {
        var columnIcon = (0, _iconLibrary.iconHTML)(this.icon);
        this.set("columnIcon", ("" + columnIcon).htmlSafe());
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "title", [_dec], Object.getOwnPropertyDescriptor(_obj, "title"), _obj)), _obj)));
});
define("discourse/components/disabled-icon", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "span",
    classNameBindings: [":fa-stack"]
  });
});
define("discourse/components/discourse-banner", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("banner.html"), _dec2 = (0, _decorators.default)("user.dismissed_banner_key", "banner.key", "hide"), (_obj = {
    content: function content(bannerHtml) {
      var $div = $("<div>");
      $div.append(bannerHtml);
      $div.find("[id^='heading--']").removeAttr("id");
      return $div.html();
    },
    visible: function visible(dismissedBannerKey, bannerKey, hide) {
      dismissedBannerKey = dismissedBannerKey || this.keyValueStore.get("dismissed_banner_key");

      if (bannerKey) {
        bannerKey = parseInt(bannerKey, 10);
      }
      if (dismissedBannerKey) {
        dismissedBannerKey = parseInt(dismissedBannerKey, 10);
      }

      return !hide && bannerKey && dismissedBannerKey !== bannerKey;
    },


    actions: {
      dismiss: function dismiss() {
        if (this.user) {
          this.user.dismissBanner(this.get("banner.key"));
        } else {
          this.set("visible", false);
          this.keyValueStore.set({
            key: "dismissed_banner_key",
            value: this.get("banner.key")
          });
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "content", [_dec], Object.getOwnPropertyDescriptor(_obj, "content"), _obj), _applyDecoratedDescriptor(_obj, "visible", [_dec2], Object.getOwnPropertyDescriptor(_obj, "visible"), _obj)), _obj)));
});
define("discourse/components/discourse-linked-text", ["exports", "@ember/component", "discourse-common/utils/decorators"], function (exports, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("text"), (_obj = {
    tagName: "span",

    translatedText: function translatedText(text) {
      if (text) return I18n.t(text);
    },
    click: function click(event) {
      if (event.target.tagName.toUpperCase() === "A") {
        this.action(this.actionParam);
      }

      return false;
    }
  }, (_applyDecoratedDescriptor(_obj, "translatedText", [_dec], Object.getOwnPropertyDescriptor(_obj, "translatedText"), _obj)), _obj)));
});
define("discourse/components/discourse-tag-bound", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("tagRecord.id"), _dec2 = (0, _decorators.default)("tagRecord.id"), (_obj = {
    tagName: "a",
    classNameBindings: [":discourse-tag", "style", "tagClass"],
    attributeBindings: ["href"],

    tagClass: function tagClass(tagRecordId) {
      return "tag-" + tagRecordId;
    },
    href: function href(tagRecordId) {
      return Discourse.getURL("/tag/" + tagRecordId);
    }
  }, (_applyDecoratedDescriptor(_obj, "tagClass", [_dec], Object.getOwnPropertyDescriptor(_obj, "tagClass"), _obj), _applyDecoratedDescriptor(_obj, "href", [_dec2], Object.getOwnPropertyDescriptor(_obj, "href"), _obj)), _obj)));
});
define("discourse/components/discourse-topic", ["exports", "@ember/object/computed", "@ember/runloop", "@ember/component", "discourse/lib/url", "discourse/mixins/add-archetype-class", "discourse/lib/click-track", "discourse/mixins/scrolling", "discourse/mixins/mobile-scroll-direction", "discourse-common/utils/decorators"], function (exports, _computed, _runloop, _component, _url, _addArchetypeClass, _clickTrack, _scrolling, _mobileScrollDirection, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  var MOBILE_SCROLL_DIRECTION_CHECK_THROTTLE = 300;

  function highlight(postNumber) {
    var $contents = $("#post_" + postNumber + " .topic-body");

    $contents.addClass("highlighted");
    $contents.on("animationend", function () {
      return $contents.removeClass("highlighted");
    });
  }

  exports.default = _component.default.extend(_addArchetypeClass.default, _scrolling.default, _mobileScrollDirection.default, (_dec = (0, _decorators.observes)("enteredAt"), _dec2 = (0, _decorators.observes)("mobileScrollDirection"), (_obj = {
    userFilters: (0, _computed.alias)("topic.userFilters"),
    classNameBindings: ["multiSelect", "topic.archetype", "topic.is_warning", "topic.category.read_restricted:read_restricted", "topic.deleted:deleted-topic", "topic.categoryClass", "topic.tagClasses"],
    menuVisible: true,
    SHORT_POST: 1200,

    postStream: (0, _computed.alias)("topic.postStream"),
    archetype: (0, _computed.alias)("topic.archetype"),
    dockAt: 0,

    _lastShowTopic: null,

    mobileScrollDirection: null,
    pauseHeaderTopicUpdate: false,

    _enteredTopic: function _enteredTopic() {
      var _this = this;

      // Ember is supposed to only call observers when values change but something
      // in our view set up is firing this observer with the same value. This check
      // prevents scrolled from being called twice.
      var enteredAt = this.enteredAt;
      if (enteredAt && this.lastEnteredAt !== enteredAt) {
        this._lastShowTopic = null;
        (0, _runloop.schedule)("afterRender", function () {
          return _this.scrolled();
        });
        this.set("lastEnteredAt", enteredAt);
      }
    },
    _highlightPost: function _highlightPost(postNumber) {
      (0, _runloop.scheduleOnce)("afterRender", null, highlight, postNumber);
    },
    _hideTopicInHeader: function _hideTopicInHeader() {
      this.appEvents.trigger("header:hide-topic");
      this._lastShowTopic = false;
    },
    _showTopicInHeader: function _showTopicInHeader(topic) {
      if (this.pauseHeaderTopicUpdate) return;
      this.appEvents.trigger("header:show-topic", topic);
      this._lastShowTopic = true;
    },
    _updateTopic: function _updateTopic(topic, debounceDuration) {
      var _this2 = this;

      if (topic === null) {
        this._hideTopicInHeader();

        if (debounceDuration && !this.pauseHeaderTopicUpdate) {
          this.pauseHeaderTopicUpdate = true;
          this._lastShowTopic = true;

          (0, _runloop.later)(function () {
            _this2._lastShowTopic = false;
            _this2.pauseHeaderTopicUpdate = false;
          }, debounceDuration);
        }

        return;
      }

      var offset = window.pageYOffset || $("html").scrollTop();
      this._lastShowTopic = this.shouldShowTopicInHeader(topic, offset);

      if (this._lastShowTopic) {
        this._showTopicInHeader(topic);
      } else {
        this._hideTopicInHeader();
      }
    },
    didInsertElement: function didInsertElement() {
      var _this3 = this;

      this._super.apply(this, arguments);
      this.bindScrolling({ name: "topic-view" });

      $(window).on("resize.discourse-on-scroll", function () {
        return _this3.scrolled();
      });

      $(this.element).on("click.discourse-redirect", ".cooked a, a.track-link", function (e) {
        return _clickTrack.default.trackClick(e);
      });

      this.appEvents.on("discourse:focus-changed", this, "gotFocus");
      this.appEvents.on("post:highlight", this, "_highlightPost");
      this.appEvents.on("header:update-topic", this, "_updateTopic");
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      this.unbindScrolling("topic-view");
      $(window).unbind("resize.discourse-on-scroll");

      // Unbind link tracking
      $(this.element).off("click.discourse-redirect", ".cooked a, a.track-link");

      this.resetExamineDockCache();

      // this happens after route exit, stuff could have trickled in
      this._hideTopicInHeader();
      this.appEvents.off("discourse:focus-changed", this, "gotFocus");
      this.appEvents.off("post:highlight", this, "_highlightPost");
      this.appEvents.off("header:update-topic", this, "_updateTopic");
    },
    gotFocus: function gotFocus(hasFocus) {
      if (hasFocus) {
        this.scrolled();
      }
    },
    resetExamineDockCache: function resetExamineDockCache() {
      this.set("dockAt", 0);
    },
    shouldShowTopicInHeader: function shouldShowTopicInHeader(topic, offset) {
      // On mobile, we show the header topic if the user has scrolled past the topic
      // title and the current scroll direction is down
      // On desktop the user only needs to scroll past the topic title.
      return offset > this.dockAt && (!this.site.mobileView || this.mobileScrollDirection === "down");
    },

    // The user has scrolled the window, or it is finished rendering and ready for processing.
    scrolled: function scrolled() {
      if (this.isDestroyed || this.isDestroying || this._state !== "inDOM") {
        return;
      }

      var offset = window.pageYOffset || $("html").scrollTop();
      if (this.dockAt === 0) {
        var title = $("#topic-title");
        if (title && title.length === 1) {
          this.set("dockAt", title.offset().top);
        }
      }

      this.set("hasScrolled", offset > 0);

      var topic = this.topic;
      var showTopic = this.shouldShowTopicInHeader(topic, offset);

      if (showTopic !== this._lastShowTopic) {
        if (showTopic) {
          this._showTopicInHeader(topic);
        } else {
          if (!_url.default.isJumpScheduled()) {
            var loadingNear = topic.get("postStream.loadingNearPost") || 1;
            if (loadingNear === 1) {
              this._hideTopicInHeader();
            }
          }
        }
      }

      // Since the user has scrolled, we need to check the scroll direction on mobile.
      // We use throttle instead of debounce because we want the switch to occur
      // at the start of the scroll. This feels a lot more snappy compared to waiting
      // for the scroll to end if we debounce.
      if (this.site.mobileView && this.hasScrolled) {
        (0, _runloop.throttle)(this, this.calculateDirection, offset, MOBILE_SCROLL_DIRECTION_CHECK_THROTTLE);
      }

      // Trigger a scrolled event
      this.appEvents.trigger("topic:scrolled", offset);
    },
    toggleMobileHeaderTopic: function toggleMobileHeaderTopic() {
      return this.appEvents.trigger("header:update-topic", this.mobileScrollDirection === "down" ? this.topic : null);
    }
  }, (_applyDecoratedDescriptor(_obj, "_enteredTopic", [_dec], Object.getOwnPropertyDescriptor(_obj, "_enteredTopic"), _obj), _applyDecoratedDescriptor(_obj, "toggleMobileHeaderTopic", [_dec2], Object.getOwnPropertyDescriptor(_obj, "toggleMobileHeaderTopic"), _obj)), _obj)));
});
define("discourse/components/discovery-categories", ["exports", "@ember/component", "discourse/mixins/url-refresh", "discourse-common/utils/decorators"], function (exports, _component, _urlRefresh, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  var CATEGORIES_LIST_BODY_CLASS = "categories-list";

  exports.default = _component.default.extend(_urlRefresh.default, (_dec = (0, _decorators.on)("didInsertElement"), _dec2 = (0, _decorators.on)("willDestroyElement"), (_obj = {
    classNames: ["contents"],

    addBodyClass: function addBodyClass() {
      $("body").addClass(CATEGORIES_LIST_BODY_CLASS);
    },
    removeBodyClass: function removeBodyClass() {
      $("body").removeClass(CATEGORIES_LIST_BODY_CLASS);
    }
  }, (_applyDecoratedDescriptor(_obj, "addBodyClass", [_dec], Object.getOwnPropertyDescriptor(_obj, "addBodyClass"), _obj), _applyDecoratedDescriptor(_obj, "removeBodyClass", [_dec2], Object.getOwnPropertyDescriptor(_obj, "removeBodyClass"), _obj)), _obj)));
});
define("discourse/components/discovery-topics-list", ["exports", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators", "discourse/mixins/load-more", "discourse/mixins/url-refresh"], function (exports, _runloop, _component, _decorators, _loadMore, _urlRefresh) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  var DiscoveryTopicsListComponent = _component.default.extend(_urlRefresh.default, _loadMore.default, (_dec = (0, _decorators.on)("didInsertElement"), _dec2 = (0, _decorators.observes)("model"), _dec3 = (0, _decorators.observes)("topicTrackingState.states"), _dec4 = (0, _decorators.observes)("incomingCount"), (_obj = {
    classNames: ["contents"],
    eyelineSelector: ".topic-list-item",

    _readjustScrollPosition: function _readjustScrollPosition() {
      var scrollTo = this.session.get("topicListScrollPosition");
      if (scrollTo && scrollTo >= 0) {
        (0, _runloop.schedule)("afterRender", function () {
          return $(window).scrollTop(scrollTo + 1);
        });
      } else {
        (0, _runloop.scheduleOnce)("afterRender", this, this.loadMoreUnlessFull);
      }
    },
    _updateTopics: function _updateTopics() {
      this.topicTrackingState.updateTopics(this.model.topics);
    },
    _updateTitle: function _updateTitle() {
      Discourse.updateContextCount(this.incomingCount);
    },
    saveScrollPosition: function saveScrollPosition() {
      this.session.set("topicListScrollPosition", $(window).scrollTop());
    },


    actions: {
      loadMore: function loadMore() {
        var _this = this;

        Discourse.updateContextCount(0);
        this.model.loadMore().then(function (hasMoreResults) {
          (0, _runloop.schedule)("afterRender", function () {
            return _this.saveScrollPosition();
          });
          if (!hasMoreResults) {
            _this.eyeline.flushRest();
          } else if ($(window).height() >= $(document).height()) {
            _this.send("loadMore");
          }
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_readjustScrollPosition", [_dec, _dec2], Object.getOwnPropertyDescriptor(_obj, "_readjustScrollPosition"), _obj), _applyDecoratedDescriptor(_obj, "_updateTopics", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_updateTopics"), _obj), _applyDecoratedDescriptor(_obj, "_updateTitle", [_dec4], Object.getOwnPropertyDescriptor(_obj, "_updateTitle"), _obj)), _obj)));

  exports.default = DiscoveryTopicsListComponent;
});
define("discourse/components/edit-category-general", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/object/computed", "discourse/components/edit-category-panel", "discourse/helpers/category-link", "discourse/models/category"], function (exports, _decorators, _utils, _computed, _editCategoryPanel, _categoryLink, _category) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = (0, _editCategoryPanel.buildCategoryPanel)("general", (_dec = (0, _decorators.default)("category.id", "category.color"), _dec2 = (0, _decorators.default)("category.parent_category_id", "category.categoryName", "category.color", "category.text_color"), _dec3 = (0, _decorators.default)("category.id"), _dec4 = (0, _decorators.default)("category.isUncategorizedCategory", "category.id"), (_obj = {
    init: function init() {
      this._super.apply(this, arguments);

      this.foregroundColors = ["FFFFFF", "000000"];
    },


    canSelectParentCategory: (0, _computed.not)("category.isUncategorizedCategory"),
    uncategorizedSiteSettingLink: Discourse.getURL("/admin/site_settings/category/all_results?filter=allow_uncategorized_topics"),
    customizeTextContentLink: Discourse.getURL("/admin/customize/site_texts?q=uncategorized"),

    backgroundColors: function backgroundColors() {
      var categories = this.site.get("categoriesList");
      return this.siteSettings.category_colors.split("|").map(function (i) {
        return i.toUpperCase();
      }).concat(categories.map(function (c) {
        return c.color.toUpperCase();
      })).uniq();
    },
    noCategoryStyle: function noCategoryStyle() {
      return this.siteSettings.category_style === "none";
    },
    usedBackgroundColors: function usedBackgroundColors(categoryId, categoryColor) {
      var categories = this.site.get("categoriesList");

      // If editing a category, don't include its color:
      return categories.map(function (c) {
        return categoryId && categoryColor.toUpperCase() === c.color.toUpperCase() ? null : c.color.toUpperCase();
      }, this).compact();
    },
    parentCategories: function parentCategories() {
      return this.site.get("categoriesList").filter(function (c) {
        return c.level + 1 < Discourse.SiteSettings.max_category_nesting;
      });
    },
    categoryBadgePreview: function categoryBadgePreview(parentCategoryId, name, color, textColor) {
      var category = this.category;
      var c = _category.default.create({
        name: name,
        color: color,
        text_color: textColor,
        parent_category_id: parseInt(parentCategoryId, 10),
        read_restricted: category.get("read_restricted")
      });
      return (0, _categoryLink.categoryBadgeHTML)(c, { link: false });
    },
    subCategories: function subCategories(categoryId) {
      if ((0, _utils.isEmpty)(categoryId)) {
        return null;
      }
      return _category.default.list().filterBy("parent_category_id", categoryId);
    },
    showDescription: function showDescription(isUncategorizedCategory, categoryId) {
      return !isUncategorizedCategory && categoryId;
    },


    actions: {
      showCategoryTopic: function showCategoryTopic() {
        window.open(this.get("category.topic_url"), "_blank").focus();
        return false;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "backgroundColors", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "backgroundColors"), _obj), _applyDecoratedDescriptor(_obj, "noCategoryStyle", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "noCategoryStyle"), _obj), _applyDecoratedDescriptor(_obj, "usedBackgroundColors", [_dec], Object.getOwnPropertyDescriptor(_obj, "usedBackgroundColors"), _obj), _applyDecoratedDescriptor(_obj, "parentCategories", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "parentCategories"), _obj), _applyDecoratedDescriptor(_obj, "categoryBadgePreview", [_dec2], Object.getOwnPropertyDescriptor(_obj, "categoryBadgePreview"), _obj), _applyDecoratedDescriptor(_obj, "subCategories", [_dec3], Object.getOwnPropertyDescriptor(_obj, "subCategories"), _obj), _applyDecoratedDescriptor(_obj, "showDescription", [_dec4], Object.getOwnPropertyDescriptor(_obj, "showDescription"), _obj)), _obj)));
});
define("discourse/components/edit-category-images", ["exports", "@ember/object", "discourse/components/edit-category-panel", "discourse-common/utils/decorators"], function (exports, _object, _editCategoryPanel, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = (0, _editCategoryPanel.buildCategoryPanel)("images").extend((_dec = (0, _decorators.default)("category.uploaded_background.url"), _dec2 = (0, _decorators.default)("category.uploaded_logo.url"), (_obj = {
    backgroundImageUrl: function backgroundImageUrl(uploadedBackgroundUrl) {
      return uploadedBackgroundUrl || "";
    },
    logoImageUrl: function logoImageUrl(uploadedLogoUrl) {
      return uploadedLogoUrl || "";
    },


    actions: {
      logoUploadDone: function logoUploadDone(upload) {
        this._setFromUpload("category.uploaded_logo", upload);
      },
      logoUploadDeleted: function logoUploadDeleted() {
        this._deleteUpload("category.uploaded_logo");
      },
      backgroundUploadDone: function backgroundUploadDone(upload) {
        this._setFromUpload("category.uploaded_background", upload);
      },
      backgroundUploadDeleted: function backgroundUploadDeleted() {
        this._deleteUpload("category.uploaded_background");
      }
    },

    _deleteUpload: function _deleteUpload(path) {
      this.set(path, _object.default.create({
        id: null,
        url: null
      }));
    },
    _setFromUpload: function _setFromUpload(path, upload) {
      this.set(path, _object.default.create({
        url: upload.url,
        id: upload.id
      }));
    }
  }, (_applyDecoratedDescriptor(_obj, "backgroundImageUrl", [_dec], Object.getOwnPropertyDescriptor(_obj, "backgroundImageUrl"), _obj), _applyDecoratedDescriptor(_obj, "logoImageUrl", [_dec2], Object.getOwnPropertyDescriptor(_obj, "logoImageUrl"), _obj)), _obj)));
});
define("discourse/components/edit-category-security", ["exports", "discourse/components/edit-category-panel", "discourse/models/permission-type", "discourse-common/utils/decorators"], function (exports, _editCategoryPanel, _permissionType, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = (0, _editCategoryPanel.buildCategoryPanel)("security", (_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.on)("init"), (_obj = {
    editingPermissions: false,
    selectedGroup: null,
    selectedPermission: null,
    showPendingGroupChangesAlert: false,
    interactedWithDropdowns: false,

    _setup: function _setup() {
      this.setProperties({
        selectedGroup: this.get("category.availableGroups.firstObject"),
        selectedPermission: this.get("category.availablePermissions.firstObject.id")
      });
    },
    _registerValidator: function _registerValidator() {
      var _this = this;

      this.registerValidator(function () {
        if (!_this.showPendingGroupChangesAlert && _this.interactedWithDropdowns && _this.activeTab) {
          _this.set("showPendingGroupChangesAlert", true);
          return true;
        }
      });
    },


    actions: {
      onSelectGroup: function onSelectGroup(selectedGroup) {
        this.setProperties({
          interactedWithDropdowns: true,
          selectedGroup: selectedGroup
        });
      },
      onSelectPermission: function onSelectPermission(selectedPermission) {
        this.setProperties({
          interactedWithDropdowns: true,
          selectedPermission: selectedPermission
        });
      },
      editPermissions: function editPermissions() {
        if (!this.get("category.is_special")) {
          this.set("editingPermissions", true);
        }
      },
      addPermission: function addPermission(group, id) {
        if (!this.get("category.is_special")) {
          this.category.addPermission({
            group_name: group + "",
            permission: _permissionType.default.create({ id: parseInt(id, 10) })
          });
        }

        this.setProperties({
          selectedGroup: this.get("category.availableGroups.firstObject"),
          showPendingGroupChangesAlert: false,
          interactedWithDropdowns: false
        });
      },
      removePermission: function removePermission(permission) {
        if (!this.get("category.is_special")) {
          this.category.removePermission(permission);
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_setup", [_dec], Object.getOwnPropertyDescriptor(_obj, "_setup"), _obj), _applyDecoratedDescriptor(_obj, "_registerValidator", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_registerValidator"), _obj)), _obj)));
});
define("discourse/components/edit-category-settings", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "discourse/lib/computed", "discourse/components/edit-category-panel", "discourse/components/concerns/category-search-priorities", "discourse/models/group"], function (exports, _decorators, _computed, _computed2, _editCategoryPanel, _categorySearchPriorities, _group) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addCategorySortCriteria = addCategorySortCriteria;

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  var categorySortCriteria = [];
  function addCategorySortCriteria(criteria) {
    categorySortCriteria.push(criteria);
  }

  exports.default = (0, _editCategoryPanel.buildCategoryPanel)("settings", (_dec = (0, _decorators.default)("category.isParent", "category.parent_category_id"), (_obj = {
    emailInEnabled: (0, _computed2.setting)("email_in"),
    showPositionInput: (0, _computed2.setting)("fixed_category_positions"),
    isParentCategory: function isParentCategory(isParent, parentCategoryId) {
      return isParent || !parentCategoryId;
    },

    showSubcategoryListStyle: (0, _computed.and)("category.show_subcategory_list", "isParentCategory"),
    isDefaultSortOrder: (0, _computed.empty)("category.sort_order"),

    availableSubcategoryListStyles: function availableSubcategoryListStyles() {
      return [{ name: I18n.t("category.subcategory_list_styles.rows"), value: "rows" }, {
        name: I18n.t("category.subcategory_list_styles.rows_with_featured_topics"),
        value: "rows_with_featured_topics"
      }, {
        name: I18n.t("category.subcategory_list_styles.boxes"),
        value: "boxes"
      }, {
        name: I18n.t("category.subcategory_list_styles.boxes_with_featured_topics"),
        value: "boxes_with_featured_topics"
      }];
    },
    groupFinder: function groupFinder(term) {
      return _group.default.findAll({ term: term, ignore_automatic: true });
    },
    availableViews: function availableViews() {
      return [{ name: I18n.t("filters.latest.title"), value: "latest" }, { name: I18n.t("filters.top.title"), value: "top" }];
    },
    availableTopPeriods: function availableTopPeriods() {
      return ["all", "yearly", "quarterly", "monthly", "weekly", "daily"].map(function (p) {
        return { name: I18n.t("filters.top." + p + ".title"), value: p };
      });
    },
    searchPrioritiesOptions: function searchPrioritiesOptions() {
      var options = [];

      Object.entries(_categorySearchPriorities.searchPriorities).forEach(function (entry) {
        var _entry = _slicedToArray(entry, 2),
            name = _entry[0],
            value = _entry[1];

        options.push({
          name: I18n.t("category.search_priority.options." + name),
          value: value
        });
      });

      return options;
    },
    availableSorts: function availableSorts() {
      return ["likes", "op_likes", "views", "posts", "activity", "posters", "category", "created"].concat(categorySortCriteria).map(function (s) {
        return { name: I18n.t("category.sort_options." + s), value: s };
      }).sort(function (a, b) {
        return a.name.localeCompare(b.name);
      });
    },
    sortAscendingOptions: function sortAscendingOptions() {
      return [{ name: I18n.t("category.sort_ascending"), value: "true" }, { name: I18n.t("category.sort_descending"), value: "false" }];
    }
  }, (_applyDecoratedDescriptor(_obj, "isParentCategory", [_dec], Object.getOwnPropertyDescriptor(_obj, "isParentCategory"), _obj), _applyDecoratedDescriptor(_obj, "availableSubcategoryListStyles", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "availableSubcategoryListStyles"), _obj), _applyDecoratedDescriptor(_obj, "availableViews", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "availableViews"), _obj), _applyDecoratedDescriptor(_obj, "availableTopPeriods", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "availableTopPeriods"), _obj), _applyDecoratedDescriptor(_obj, "searchPrioritiesOptions", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "searchPrioritiesOptions"), _obj), _applyDecoratedDescriptor(_obj, "availableSorts", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "availableSorts"), _obj), _applyDecoratedDescriptor(_obj, "sortAscendingOptions", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "sortAscendingOptions"), _obj)), _obj)));
});
define("discourse/components/edit-category-tab", ["exports", "discourse-common/utils/decorators", "@ember/runloop", "@ember/component", "discourse/lib/computed"], function (exports, _decorators, _runloop, _component, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("tab"), _dec2 = (0, _decorators.default)("tab"), (_obj = {
    tagName: "li",
    classNameBindings: ["active", "tabClassName"],

    tabClassName: function tabClassName(tab) {
      return "edit-category-" + tab;
    },


    active: (0, _computed.propertyEqual)("selectedTab", "tab"),

    title: function title(tab) {
      return I18n.t("category." + tab.replace("-", "_"));
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      (0, _runloop.scheduleOnce)("afterRender", this, this._addToCollection);
    },


    _addToCollection: function _addToCollection() {
      this.panels.addObject(this.tabClassName);
    },

    _resetModalScrollState: function _resetModalScrollState() {
      var $modalBody = $(this.element).parents("#discourse-modal").find(".modal-body");
      if ($modalBody.length === 1) {
        $modalBody.scrollTop(0);
      }
    },


    actions: {
      select: function select() {
        this.set("selectedTab", this.tab);
        this._resetModalScrollState();
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "tabClassName", [_dec], Object.getOwnPropertyDescriptor(_obj, "tabClassName"), _obj), _applyDecoratedDescriptor(_obj, "title", [_dec2], Object.getOwnPropertyDescriptor(_obj, "title"), _obj)), _obj)));
});
define("discourse/components/edit-category-tags", ["exports", "@ember/object/computed", "discourse/components/edit-category-panel"], function (exports, _computed, _editCategoryPanel) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _editCategoryPanel.buildCategoryPanel)("tags", {
    allowedTagsEmpty: (0, _computed.empty)("category.allowed_tags"),
    allowedTagGroupsEmpty: (0, _computed.empty)("category.allowed_tag_groups"),
    disableAllowGlobalTags: (0, _computed.and)("allowedTagsEmpty", "allowedTagGroupsEmpty")
  });
});
define("discourse/components/edit-category-topic-template", ["exports", "@ember/runloop", "discourse/components/edit-category-panel", "discourse-common/utils/decorators"], function (exports, _runloop, _editCategoryPanel, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj, _init;

  exports.default = (0, _editCategoryPanel.buildCategoryPanel)("topic-template", (_dec = (0, _decorators.observes)("activeTab"), (_obj = {
    _activeTabChanged: function _activeTabChanged() {
      var _this = this;

      if (this.activeTab) {
        (0, _runloop.scheduleOnce)("afterRender", function () {
          return _this.element.querySelector(".d-editor-input").focus();
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_activeTabChanged", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "_activeTabChanged"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/components/edit-topic-timer-form", ["exports", "@ember/utils", "@ember/object/computed", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators", "discourse/controllers/edit-topic-timer"], function (exports, _utils, _computed, _runloop, _component, _decorators, _editTopicTimer) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("topicTimer.updateTime", "publishToCategory", "topicTimer.category_id"), _dec2 = (0, _decorators.default)("topic.visible"), _dec3 = (0, _decorators.on)("init"), _dec4 = (0, _decorators.observes)("topicTimer", "topicTimer.execute_at", "topicTimer.duration"), _dec5 = (0, _decorators.observes)("selection"), (_obj = {
    selection: (0, _computed.readOnly)("topicTimer.status_type"),
    autoOpen: (0, _computed.equal)("selection", _editTopicTimer.OPEN_STATUS_TYPE),
    autoClose: (0, _computed.equal)("selection", _editTopicTimer.CLOSE_STATUS_TYPE),
    autoDelete: (0, _computed.equal)("selection", _editTopicTimer.DELETE_STATUS_TYPE),
    autoBump: (0, _computed.equal)("selection", _editTopicTimer.BUMP_TYPE),
    publishToCategory: (0, _computed.equal)("selection", _editTopicTimer.PUBLISH_TO_CATEGORY_STATUS_TYPE),
    reminder: (0, _computed.equal)("selection", _editTopicTimer.REMINDER_TYPE),
    showTimeOnly: (0, _computed.or)("autoOpen", "autoDelete", "reminder", "autoBump"),

    saveDisabled: function saveDisabled(updateTime, publishToCategory, topicTimerCategoryId) {
      return (0, _utils.isEmpty)(updateTime) || publishToCategory && !topicTimerCategoryId;
    },
    excludeCategoryId: function excludeCategoryId(visible) {
      if (visible) return this.get("topic.category_id");
    },
    _setUpdateTime: function _setUpdateTime() {
      var time = null;
      var executeAt = this.get("topicTimer.execute_at");

      if (executeAt && this.get("topicTimer.based_on_last_post")) {
        time = this.get("topicTimer.duration");
      } else if (executeAt) {
        var closeTime = moment(executeAt);

        if (closeTime > moment()) {
          time = closeTime.format("YYYY-MM-DD HH:mm");
        }
      }

      this.set("topicTimer.updateTime", time);
    },
    _updateBasedOnLastPost: function _updateBasedOnLastPost() {
      var _this = this;

      if (!this.autoClose) {
        (0, _runloop.schedule)("afterRender", function () {
          _this.set("topicTimer.based_on_last_post", false);
        });
      }
    },
    didReceiveAttrs: function didReceiveAttrs() {
      var _this2 = this;

      this._super.apply(this, arguments);

      // TODO: get rid of this hack
      (0, _runloop.schedule)("afterRender", function () {
        if (!_this2.get("topicTimer.status_type")) {
          _this2.set("topicTimer.status_type", _this2.get("timerTypes.firstObject.id"));
        }
      });
    },


    actions: {
      onChangeTimerType: function onChangeTimerType(value) {
        this.set("topicTimer.status_type", value);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "saveDisabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "saveDisabled"), _obj), _applyDecoratedDescriptor(_obj, "excludeCategoryId", [_dec2], Object.getOwnPropertyDescriptor(_obj, "excludeCategoryId"), _obj), _applyDecoratedDescriptor(_obj, "_setUpdateTime", [_dec3, _dec4], Object.getOwnPropertyDescriptor(_obj, "_setUpdateTime"), _obj), _applyDecoratedDescriptor(_obj, "_updateBasedOnLastPost", [_dec5], Object.getOwnPropertyDescriptor(_obj, "_updateBasedOnLastPost"), _obj)), _obj)));
});
define("discourse/components/emoji-picker", ["exports", "@ember/service", "@ember/component", "discourse-common/utils/decorators", "discourse/lib/raw-templates", "discourse/lib/text", "pretty-text/emoji", "discourse/lib/utilities", "discourse-common/config/environment"], function (exports, _service, _component, _decorators, _rawTemplates, _text, _emoji, _utilities, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _desc, _value, _obj;

  var _Ember = Ember,
      run = _Ember.run;


  var PER_ROW = 11;
  var customEmojis = _.keys((0, _emoji.extendedEmojiList)()).map(function (code) {
    return { code: code, src: (0, _text.emojiUrlFor)(code) };
  });

  exports.default = _component.default.extend((_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.on)("willDestroyElement"), _dec3 = (0, _decorators.on)("didInsertElement"), _dec4 = (0, _decorators.on)("didUpdateAttrs"), _dec5 = (0, _decorators.observes)("filter"), _dec6 = (0, _decorators.observes)("selectedDiversity"), _dec7 = (0, _decorators.observes)("recentEmojis"), _dec8 = (0, _decorators.on)("willDestroyElement"), (_obj = {
    automaticPositioning: true,
    emojiStore: (0, _service.inject)("emoji-store"),

    close: function close() {
      this._unbindEvents();

      this.$picker.css({ width: "", left: "", bottom: "", display: "none" }).empty();

      this.$modal.removeClass("fadeIn");

      clearTimeout(this._checkTimeout);
    },
    show: function show() {
      var template = (0, _rawTemplates.findRawTemplate)("emoji-picker")({ customEmojis: customEmojis });
      this.$picker.html(template);

      this.$filter = this.$picker.find(".filter");
      this.$results = this.$picker.find(".results");
      this.$list = this.$picker.find(".list");

      this.setProperties({
        selectedDiversity: this.emojiStore.diversity,
        recentEmojis: this.emojiStore.favorites
      });

      run.scheduleOnce("afterRender", this, function () {
        this._bindEvents();
        this._loadCategoriesEmojis();
        this._positionPicker();
        this._scrollTo();
        this._updateSelectedDiversity();
        this._checkVisibleSection(true);

        if ((!this.site.isMobileDevice || this.isEditorFocused) && !(0, _utilities.safariHacksDisabled)()) this.$filter.find("input[name='filter']").focus();
      });
    },
    _setInitialValues: function _setInitialValues() {
      this._checkTimeout = null;
      this.scrollPosition = 0;
      this.$visibleSections = [];
    },
    _unbindGlobalEvents: function _unbindGlobalEvents() {
      this.appEvents.off("emoji-picker:close", this, "_closeEmojiPicker");
    },
    _closeEmojiPicker: function _closeEmojiPicker() {
      this.set("active", false);
    },
    _setup: function _setup() {
      this.$picker = $(this.element.querySelector(".emoji-picker"));
      this.$modal = $(this.element.querySelector(".emoji-picker-modal"));
      this.appEvents.on("emoji-picker:close", this, "_closeEmojiPicker");
    },
    _setState: function _setState() {
      this.active ? this.show() : this.close();
    },
    filterChanged: function filterChanged() {
      this.$filter.find(".clear-filter").toggle(!_.isEmpty(this.filter));
      var filterDelay = this.site.isMobileDevice ? 400 : 250;
      run.debounce(this, this._filterEmojisList, filterDelay);
    },
    selectedDiversityChanged: function selectedDiversityChanged() {
      var _this = this;

      this.emojiStore.diversity = this.selectedDiversity;

      $.each(this.$list.find(".emoji[data-loaded='1'].diversity"), function (_, button) {
        $(button).css("background-image", "").removeAttr("data-loaded");
      });

      if (this.filter !== "") {
        $.each(this.$results.find(".emoji.diversity"), function (_, button) {
          return _this._setButtonBackground(button, true);
        });
      }

      this._updateSelectedDiversity();
      this._checkVisibleSection(true);
    },
    _recentEmojisChanged: function _recentEmojisChanged() {
      var previousScrollTop = this.scrollPosition;
      var $recentSection = this.$list.find(".section[data-section='recent']");
      var $recentSectionGroup = $recentSection.find(".section-group");
      var $recentCategory = this.$picker.find(".category-icon button[data-section='recent']").parent();
      var persistScrollPosition = !$recentCategory.is(":visible") ? true : false;

      // we set height to 0 to avoid it being taken into account for scroll position
      if (_.isEmpty(this.recentEmojis)) {
        $recentCategory.hide();
        $recentSection.css("height", 0).hide();
      } else {
        $recentCategory.show();
        $recentSection.css("height", "auto").show();
      }

      var recentEmojis = this.recentEmojis.map(function (code) {
        return { code: code, src: (0, _text.emojiUrlFor)(code) };
      });
      var template = (0, _rawTemplates.findRawTemplate)("emoji-picker-recent")({ recentEmojis: recentEmojis });
      $recentSectionGroup.html(template);

      if (persistScrollPosition) {
        this.$list.scrollTop(previousScrollTop + $recentSection.outerHeight());
      }

      this._bindHover($recentSectionGroup);
    },
    _updateSelectedDiversity: function _updateSelectedDiversity() {
      var $diversityPicker = this.$picker.find(".diversity-picker");

      $diversityPicker.find(".diversity-scale").removeClass("selected");
      $diversityPicker.find(".diversity-scale[data-level=\"" + this.selectedDiversity + "\"]").addClass("selected");
    },
    _loadCategoriesEmojis: function _loadCategoriesEmojis() {
      var _this2 = this;

      $.each(this.$picker.find(".categories-column button.emoji"), function (_, button) {
        var $button = $(button);
        var code = _this2._codeWithDiversity($button.data("tabicon"), false);
        $button.css("background-image", "url(\"" + (0, _text.emojiUrlFor)(code) + "\")");
      });
    },
    _bindEvents: function _bindEvents() {
      this._bindDiversityClick();
      this._bindSectionsScroll();
      this._bindEmojiClick(this.$list.find(".section-group"));
      this._bindClearRecentEmojisGroup();
      this._bindResizing();
      this._bindCategoryClick();
      this._bindModalClick();
      this._bindFilterInput();

      if (!this.site.isMobileDevice) {
        this._bindHover();
      }
    },
    _bindModalClick: function _bindModalClick() {
      var _this3 = this;

      this.$modal.on("click", function () {
        return _this3.set("active", false);
      });

      $("html").on("mouseup.emoji-picker", function (event) {
        var $target = $(event.target);
        if ($target.closest(".emoji-picker").length || $target.closest(".emoji.btn").length || $target.hasClass("grippie")) {
          return;
        }

        // Close the popup if clicked outside
        _this3.set("active", false);
        return false;
      });
    },
    _unbindEvents: function _unbindEvents() {
      $(this.element).off();
      $(window).off("resize");
      clearInterval(this._refreshInterval);
      $("#reply-control").off("div-resizing");
      $("html").off("mouseup.emoji-picker");
    },
    _filterEmojisList: function _filterEmojisList() {
      var _this4 = this;

      if (this.filter === "") {
        this.$filter.find("input[name='filter']").val("");
        this.$results.empty().hide();
        this.$list.css("visibility", "visible");
      } else {
        var lowerCaseFilter = this.filter.toLowerCase();
        var filteredCodes = (0, _emoji.emojiSearch)(lowerCaseFilter, { maxResults: 30 });
        this.$results.empty().html(filteredCodes.map(function (code) {
          var hasDiversity = (0, _emoji.isSkinTonableEmoji)(code);
          var diversity = hasDiversity ? "diversity" : "";
          var scaledCode = _this4._codeWithDiversity(code, hasDiversity);
          return "<button style=\"background-image: url('" + (0, _text.emojiUrlFor)(scaledCode) + "')\" type=\"button\" class=\"emoji " + diversity + "\" tabindex=\"-1\" title=\"" + code + "\"></button>";
        })).show();
        this._bindHover(this.$results);
        this._bindEmojiClick(this.$results);
        this.$list.css("visibility", "hidden");
      }
    },
    _bindFilterInput: function _bindFilterInput() {
      var _this5 = this;

      var $input = this.$filter.find("input");

      $input.on("input", function (event) {
        _this5.set("filter", event.currentTarget.value);
      });

      this.$filter.find(".clear-filter").on("click", function () {
        $input.val("").focus();
        _this5.set("filter", "");
        return false;
      });
    },
    _bindCategoryClick: function _bindCategoryClick() {
      var _this6 = this;

      this.$picker.find(".category-icon").on("click", "button.emoji", function (event) {
        _this6.set("filter", "");
        _this6.$results.empty();
        _this6.$list.css("visibility", "visible");

        var section = $(event.currentTarget).data("section");
        var $section = _this6.$list.find(".section[data-section=\"" + section + "\"]");
        var scrollTop = _this6.$list.scrollTop() + ($section.offset().top - _this6.$list.offset().top);
        _this6._scrollTo(scrollTop);
        return false;
      });
    },
    _bindHover: function _bindHover($hoverables) {
      var _this7 = this;

      var replaceInfoContent = function replaceInfoContent(html) {
        return _this7.$picker.find(".footer .info").html(html || "");
      };

      ($hoverables || this.$list.find(".section-group")).on({
        mouseover: function mouseover(event) {
          var code = _this7._codeForEmojiButton($(event.currentTarget));
          var html = "<img src=\"" + (0, _text.emojiUrlFor)(code) + "\" class=\"emoji\"> <span>:" + code + ":<span>";
          replaceInfoContent(html);
        },
        mouseleave: function mouseleave() {
          return replaceInfoContent();
        }
      }, "button.emoji");
    },
    _bindResizing: function _bindResizing() {
      var _this8 = this;

      $(window).on("resize", function () {
        run.throttle(_this8, _this8._positionPicker, 16);
      });

      $("#reply-control").on("div-resizing", function () {
        run.throttle(_this8, _this8._positionPicker, 16);
      });
    },
    _bindClearRecentEmojisGroup: function _bindClearRecentEmojisGroup() {
      var _this9 = this;

      var $recent = this.$picker.find(".section[data-section='recent'] .clear-recent");
      $recent.on("click", function () {
        _this9.emojiStore.favorites = [];
        _this9.set("recentEmojis", []);
        _this9._scrollTo(0);
        return false;
      });
    },
    _bindEmojiClick: function _bindEmojiClick($emojisContainer) {
      var _this10 = this;

      var handler = function handler(event) {
        var code = _this10._codeForEmojiButton($(event.currentTarget));

        if ($(event.currentTarget).parents(".section[data-section='recent']").length === 0) {
          _this10._trackEmojiUsage(code);
        }

        _this10.emojiSelected(code);

        if (_this10.$modal.hasClass("fadeIn")) {
          _this10.set("active", false);
        }

        return false;
      };

      if (this.site.isMobileDevice) {
        var self = this;

        $emojisContainer.off("touchstart").on("touchstart", "button.emoji", function (touchStartEvent) {
          var $this = $(touchStartEvent.currentTarget);

          $this.on("touchend", function (touchEndEvent) {
            touchEndEvent.preventDefault();
            touchEndEvent.stopPropagation();

            handler.bind(self)(touchEndEvent);
            $this.off("touchend");
          });

          $this.on("touchmove", function () {
            return $this.off("touchend");
          });
        });
      } else {
        $emojisContainer.off("click").on("click", "button.emoji", function (e) {
          return handler.bind(_this10)(e);
        });
      }
    },
    _bindSectionsScroll: function _bindSectionsScroll() {
      var _this11 = this;

      var onScroll = function onScroll() {
        run.debounce(_this11, _this11._checkVisibleSection, 50);
      };

      this.$list.on("scroll", onScroll);
      this._refreshInterval = setInterval(onScroll, 100);
    },
    _checkVisibleSection: function _checkVisibleSection(force) {
      // make sure we stop loading if picker has been removed
      if (!this.$picker) {
        return;
      }

      var newPosition = this.$list.scrollTop();
      if (newPosition === this.scrollPosition && !force) {
        return;
      }

      this.scrollPosition = newPosition;

      var $sections = this.$list.find(".section");
      var listHeight = this.$list.innerHeight();
      var $selectedSection = void 0;

      this.$visibleSections = _.filter($sections, function (section) {
        var $section = $(section);
        var sectionTop = $section.position().top;
        return sectionTop + $section.height() > 0 && sectionTop < listHeight;
      });

      if (!_.isEmpty(this.recentEmojis) && this.scrollPosition === 0) {
        $selectedSection = $(_.first(this.$visibleSections));
      } else {
        $selectedSection = $(_.last(this.$visibleSections));
      }

      if ($selectedSection) {
        this.$picker.find(".category-icon").removeClass("current");
        this.$picker.find(".category-icon button[data-section='" + $selectedSection.data("section") + "']").parent().addClass("current");

        this._loadVisibleSections();
      }
    },
    _loadVisibleSections: function _loadVisibleSections() {
      var _this12 = this;

      if (!this.$visibleSections) {
        return;
      }

      var listHeight = this.$list.innerHeight();

      this.$visibleSections.forEach(function (visibleSection) {
        var $unloadedEmojis = $(visibleSection).find("button.emoji[data-loaded!='1']");
        $.each($unloadedEmojis, function (_, button) {
          var offsetTop = button.offsetTop;

          if (offsetTop < _this12.scrollPosition + listHeight + 200) {
            if (offsetTop + 200 > _this12.scrollPosition) {
              var $button = $(button);
              _this12._setButtonBackground($button);
            }
          }
        });
      });
    },
    _bindDiversityClick: function _bindDiversityClick() {
      var _this13 = this;

      var $diversityScales = this.$picker.find(".diversity-picker .diversity-scale");
      $diversityScales.on("click", function (event) {
        var $selectedDiversity = $(event.currentTarget);
        _this13.set("selectedDiversity", parseInt($selectedDiversity.data("level"), 10));
        return false;
      });
    },
    _isReplyControlExpanded: function _isReplyControlExpanded() {
      var verticalSpace = $(window).height() - $(".d-header").height() - $("#reply-control").height();

      return verticalSpace < this.$picker.height() - 48;
    },
    _positionPicker: function _positionPicker() {
      var _this14 = this;

      if (!this.active) {
        return;
      }

      var windowWidth = $(window).width();

      var desktopModalePositioning = function desktopModalePositioning(options) {
        var attributes = {
          width: Math.min(windowWidth, 400) - 12,
          marginLeft: -(Math.min(windowWidth, 400) / 2) + 6,
          marginTop: -130,
          left: "50%",
          bottom: "",
          top: "50%",
          display: "flex"
        };

        _this14.$modal.addClass("fadeIn");
        _this14.$picker.css(_.merge(attributes, options));
      };

      var mobilePositioning = function mobilePositioning(options) {
        var attributes = {
          width: windowWidth,
          marginLeft: 0,
          marginTop: "auto",
          left: 0,
          bottom: "",
          top: 0,
          display: "flex"
        };

        _this14.$modal.addClass("fadeIn");
        _this14.$picker.css(_.merge(attributes, options));
      };

      var desktopPositioning = function desktopPositioning(options) {
        var attributes = {
          position: "fixed",
          width: windowWidth < 485 ? windowWidth - 12 : 400,
          marginLeft: "",
          marginTop: "",
          right: "",
          left: "",
          bottom: 32,
          top: "",
          display: "flex"
        };

        _this14.$modal.removeClass("fadeIn");
        _this14.$picker.css(_.merge(attributes, options));
      };

      if (_environment.default.environment === "test" || !this.automaticPositioning) {
        desktopPositioning();
        return;
      }

      if (this.site.isMobileDevice) {
        mobilePositioning();
      } else {
        if (this._isReplyControlExpanded()) {
          var $editorWrapper = $(".d-editor-preview-wrapper");
          if ($editorWrapper.is(":visible") && $editorWrapper.width() < 400 || windowWidth < 485) {
            desktopModalePositioning();
          } else {
            if ($editorWrapper.is(":visible")) {
              var previewOffset = $(".d-editor-preview-wrapper").offset();
              var replyControlOffset = $("#reply-control").offset();
              var left = previewOffset.left - replyControlOffset.left;
              desktopPositioning({ left: left });
            } else {
              desktopPositioning({
                right: ($("#reply-control").width() - $(".d-editor-container").width()) / 2
              });
            }
          }
        } else {
          if (windowWidth < 485) {
            desktopModalePositioning();
          } else {
            var previewInputOffset = $(".d-editor-input").offset();

            var pickerHeight = $(".d-editor .emoji-picker").height();
            var editorHeight = $(".d-editor-input").height();
            var windowBottom = $(window).scrollTop() + $(window).height();

            if (previewInputOffset.top + editorHeight + pickerHeight < windowBottom) {
              // position it below editor if there is enough space
              desktopPositioning({
                position: "absolute",
                top: previewInputOffset.top + editorHeight,
                left: previewInputOffset.left
              });
            } else {
              // try positioning it above
              desktopPositioning({
                position: "absolute",
                top: -pickerHeight,
                left: previewInputOffset.left
              });
            }
          }
        }
      }

      var infoMaxWidth = this.$picker.width() - this.$picker.find(".categories-column").width() - this.$picker.find(".diversity-picker").width() - 32;
      this.$picker.find(".info").css("max-width", infoMaxWidth);
    },
    _codeWithDiversity: function _codeWithDiversity(code, diversity) {
      if (diversity && this.selectedDiversity !== 1) {
        return code + ":t" + this.selectedDiversity;
      } else {
        return code;
      }
    },
    _trackEmojiUsage: function _trackEmojiUsage(code) {
      this.emojiStore.track(code);
      this.set("recentEmojis", this.emojiStore.favorites.slice(0, PER_ROW));
    },
    _scrollTo: function _scrollTo(y) {
      var yPosition = typeof y === "undefined" ? this.scrollPosition : y;

      this.$list.scrollTop(yPosition);

      // if we dont actually scroll we need to force it
      if (yPosition === 0) {
        this.$list.scroll();
      }
    },
    _codeForEmojiButton: function _codeForEmojiButton($button) {
      var title = $button.attr("title");
      return this._codeWithDiversity(title, $button.hasClass("diversity"));
    },
    _setButtonBackground: function _setButtonBackground(button, diversity) {
      var _this15 = this;

      if (!button) {
        return;
      }

      var $button = $(button);
      button = $button[0];

      // changing style can force layout events
      // this could slow down timers and lead to
      // chrome delaying the request
      window.requestAnimationFrame(function () {
        var code = _this15._codeWithDiversity($button.attr("title"), diversity || $button.hasClass("diversity"));

        // // force visual reloading if needed
        if (button.style.backgroundImage !== "none") {
          button.style.backgroundImage = "";
        }

        button.style.backgroundImage = "url(\"" + (0, _text.emojiUrlFor)(code) + "\")";
        $button.attr("data-loaded", 1);
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "_setInitialValues", [_dec], Object.getOwnPropertyDescriptor(_obj, "_setInitialValues"), _obj), _applyDecoratedDescriptor(_obj, "_unbindGlobalEvents", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_unbindGlobalEvents"), _obj), _applyDecoratedDescriptor(_obj, "_setup", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_setup"), _obj), _applyDecoratedDescriptor(_obj, "_setState", [_dec4], Object.getOwnPropertyDescriptor(_obj, "_setState"), _obj), _applyDecoratedDescriptor(_obj, "filterChanged", [_dec5], Object.getOwnPropertyDescriptor(_obj, "filterChanged"), _obj), _applyDecoratedDescriptor(_obj, "selectedDiversityChanged", [_dec6], Object.getOwnPropertyDescriptor(_obj, "selectedDiversityChanged"), _obj), _applyDecoratedDescriptor(_obj, "_recentEmojisChanged", [_dec7], Object.getOwnPropertyDescriptor(_obj, "_recentEmojisChanged"), _obj), _applyDecoratedDescriptor(_obj, "_unbindEvents", [_dec8], Object.getOwnPropertyDescriptor(_obj, "_unbindEvents"), _obj)), _obj)));
});
define("discourse/components/emoji-uploader", ["exports", "@ember/object/computed", "@ember/component", "discourse-common/utils/decorators", "discourse/mixins/upload"], function (exports, _computed, _component, _decorators, _upload) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend(_upload.default, (_dec = (0, _decorators.default)("hasName", "name"), (_obj = {
    type: "emoji",
    uploadUrl: "/admin/customize/emojis",
    hasName: (0, _computed.notEmpty)("name"),
    addDisabled: (0, _computed.not)("hasName"),

    uploadOptions: function uploadOptions() {
      return {
        sequentialUploads: true
      };
    },
    data: function data(hasName, name) {
      return hasName ? { name: name } : {};
    },
    validateUploadedFilesOptions: function validateUploadedFilesOptions() {
      return { imagesOnly: true };
    },
    uploadDone: function uploadDone(upload) {
      this.set("name", null);
      this.done(upload);
    }
  }, (_applyDecoratedDescriptor(_obj, "data", [_dec], Object.getOwnPropertyDescriptor(_obj, "data"), _obj)), _obj)));
});
define("discourse/components/expand-post", ["exports", "@ember/component", "discourse/lib/ajax"], function (exports, _component, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "",
    expanded: null,
    _loading: false,

    actions: {
      toggleItem: function toggleItem() {
        var _this = this;

        if (this._loading) {
          return false;
        }
        var item = this.item;

        if (this.expanded) {
          this.set("expanded", false);
          item.set("expandedExcerpt", null);
          return false;
        }

        var topicId = item.get("topic_id");
        var postNumber = item.get("post_number");

        this._loading = true;
        (0, _ajax.ajax)("/posts/by_number/" + topicId + "/" + postNumber + ".json").then(function (result) {
          _this.set("expanded", true);
          item.set("expandedExcerpt", result.cooked);
        }).finally(function () {
          return _this._loading = false;
        });

        return false;
      }
    }
  });
});
define("discourse/components/expanding-text-area", ["exports", "@ember/runloop", "discourse-common/utils/decorators", "discourse/lib/autosize"], function (exports, _runloop, _decorators, _autosize) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = Ember.TextArea.extend((_dec = (0, _decorators.on)("didInsertElement"), _dec2 = (0, _decorators.observes)("value"), _dec3 = (0, _decorators.on)("willDestroyElement"), (_obj = {
    _startWatching: function _startWatching() {
      var _this = this;

      (0, _runloop.scheduleOnce)("afterRender", function () {
        $(_this.element).focus();
        (0, _autosize.default)(_this.element);
      });
    },
    _updateAutosize: function _updateAutosize() {
      this.element.value = this.value;
      var evt = document.createEvent("Event");
      evt.initEvent("autosize:update", true, false);
      this.element.dispatchEvent(evt);
    },
    _disableAutosize: function _disableAutosize() {
      _autosize.default.destroy($(this.element));
    }
  }, (_applyDecoratedDescriptor(_obj, "_startWatching", [_dec], Object.getOwnPropertyDescriptor(_obj, "_startWatching"), _obj), _applyDecoratedDescriptor(_obj, "_updateAutosize", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_updateAutosize"), _obj), _applyDecoratedDescriptor(_obj, "_disableAutosize", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_disableAutosize"), _obj)), _obj)));
});
define("discourse/components/featured-topic", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNameBindings: [":featured-topic"],

    click: function click(e) {
      var $target = $(e.target);
      if ($target.closest(".last-posted-at").length) {
        this.appEvents.trigger("topic-entrance:show", {
          topic: this.topic,
          position: $target.offset()
        });
        return false;
      }
    }
  });
});
define("discourse/components/flag-action-type", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component", "discourse/models/post-action-type"], function (exports, _decorators, _computed, _component, _postActionType) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("flag.name_key"), _dec2 = (0, _decorators.default)("flag.name", "flag.name_key", "flag.is_custom_flag", "username"), _dec3 = (0, _decorators.default)("flag", "selectedFlag"), _dec4 = (0, _decorators.default)("flag.description", "flag.short_description"), _dec5 = (0, _decorators.default)("message.length"), _dec6 = (0, _decorators.default)("message.length"), (_obj = {
    classNames: ["flag-action-type"],

    customPlaceholder: function customPlaceholder(nameKey) {
      return I18n.t("flagging.custom_placeholder_" + nameKey);
    },
    formattedName: function formattedName(name, nameKey, isCustomFlag, username) {
      if (isCustomFlag) {
        return name.replace("{{username}}", username);
      } else {
        return I18n.t("flagging.formatted_name." + nameKey);
      }
    },
    selected: function selected(flag, selectedFlag) {
      return flag === selectedFlag;
    },


    showMessageInput: (0, _computed.and)("flag.is_custom_flag", "selected"),
    showDescription: (0, _computed.not)("showMessageInput"),
    isNotifyUser: (0, _computed.equal)("flag.name_key", "notify_user"),

    description: function description(long_description, short_description) {
      return this.site.mobileView ? short_description : long_description;
    },
    customMessageLengthClasses: function customMessageLengthClasses(messageLength) {
      return messageLength < Discourse.SiteSettings.min_personal_message_post_length ? "too-short" : "ok";
    },
    customMessageLength: function customMessageLength(messageLength) {
      var len = messageLength || 0;
      var minLen = Discourse.SiteSettings.min_personal_message_post_length;
      if (len === 0) {
        return I18n.t("flagging.custom_message.at_least", { count: minLen });
      } else if (len < minLen) {
        return I18n.t("flagging.custom_message.more", { count: minLen - len });
      } else {
        return I18n.t("flagging.custom_message.left", {
          count: _postActionType.MAX_MESSAGE_LENGTH - len
        });
      }
    },


    actions: {
      changePostActionType: function changePostActionType(at) {
        this.changePostActionType(at);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "customPlaceholder", [_dec], Object.getOwnPropertyDescriptor(_obj, "customPlaceholder"), _obj), _applyDecoratedDescriptor(_obj, "formattedName", [_dec2], Object.getOwnPropertyDescriptor(_obj, "formattedName"), _obj), _applyDecoratedDescriptor(_obj, "selected", [_dec3], Object.getOwnPropertyDescriptor(_obj, "selected"), _obj), _applyDecoratedDescriptor(_obj, "description", [_dec4], Object.getOwnPropertyDescriptor(_obj, "description"), _obj), _applyDecoratedDescriptor(_obj, "customMessageLengthClasses", [_dec5], Object.getOwnPropertyDescriptor(_obj, "customMessageLengthClasses"), _obj), _applyDecoratedDescriptor(_obj, "customMessageLength", [_dec6], Object.getOwnPropertyDescriptor(_obj, "customMessageLength"), _obj)), _obj)));
});
define("discourse/components/flag-selection", ["exports", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators"], function (exports, _runloop, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.observes)("nameKey"), (_obj = {
    _selectRadio: function _selectRadio() {
      this.element.querySelector("input[type='radio']").checked = false;

      var nameKey = this.nameKey;
      if (!nameKey) {
        return;
      }

      this.element.querySelector("#radio_" + nameKey).checked = "true";
    },
    selectedChanged: function selectedChanged() {
      (0, _runloop.next)(this, this._selectRadio);
    }
  }, (_applyDecoratedDescriptor(_obj, "selectedChanged", [_dec], Object.getOwnPropertyDescriptor(_obj, "selectedChanged"), _obj)), _obj)));
});
define("discourse/components/flat-button", ["exports", "@ember/component", "discourse-common/utils/decorators"], function (exports, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("title"), (_obj = {
    tagName: "button",
    classNames: ["btn-flat"],
    attributeBindings: ["disabled", "translatedTitle:title"],

    translatedTitle: function translatedTitle(title) {
      if (title) return I18n.t(title);
    },
    click: function click() {
      return this.attrs.action();
    }
  }, (_applyDecoratedDescriptor(_obj, "translatedTitle", [_dec], Object.getOwnPropertyDescriptor(_obj, "translatedTitle"), _obj)), _obj)));
});
define("discourse/components/footer-message", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["footer-message"]
  });
});
define("discourse/components/footer-nav", ["exports", "@ember/runloop", "discourse/components/mount-widget", "discourse/mixins/mobile-scroll-direction", "discourse/mixins/scrolling", "discourse-common/utils/decorators", "discourse/lib/utilities"], function (exports, _runloop, _mountWidget, _mobileScrollDirection, _scrolling, _decorators, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  var MOBILE_SCROLL_DIRECTION_CHECK_THROTTLE = 150;

  var FooterNavComponent = _mountWidget.default.extend(_scrolling.default, _mobileScrollDirection.default, (_dec = (0, _decorators.observes)("mobileScrollDirection"), _dec2 = (0, _decorators.observes)("currentRouteIndex"), (_obj = {
    widget: "footer-nav",
    mobileScrollDirection: null,
    scrollEventDisabled: false,
    classNames: ["footer-nav", "visible"],
    routeHistory: [],
    currentRouteIndex: 0,
    canGoBack: false,
    canGoForward: false,
    backForwardClicked: null,

    buildArgs: function buildArgs() {
      return {
        canGoBack: this.canGoBack,
        canGoForward: this.canGoForward
      };
    },
    didInsertElement: function didInsertElement() {
      var _this = this;

      this._super.apply(this, arguments);
      this.appEvents.on("page:changed", this, "_routeChanged");

      if ((0, _utilities.isAppWebview)()) {
        this.appEvents.on("modal:body-shown", this, "_modalOn");
        this.appEvents.on("modal:body-dismissed", this, "_modalOff");
      }

      if (this.capabilities.isIpadOS) {
        $("body").addClass("footer-nav-ipad");
      } else {
        this.bindScrolling({ name: "footer-nav" });
        $(window).on("resize.footer-nav-on-scroll", function () {
          return _this.scrolled();
        });
        this.appEvents.on("composer:opened", this, "_composerOpened");
        this.appEvents.on("composer:closed", this, "_composerClosed");
      }
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      this.appEvents.off("page:changed", this, "_routeChanged");

      if ((0, _utilities.isAppWebview)()) {
        this.appEvents.off("modal:body-shown", this, "_modalOn");
        this.appEvents.off("modal:body-removed", this, "_modalOff");
      }

      if (this.capabilities.isIpadOS) {
        $("body").removeClass("footer-nav-ipad");
      } else {
        this.unbindScrolling("footer-nav");
        $(window).unbind("resize.footer-nav-on-scroll");
        this.appEvents.off("composer:opened", this, "_composerOpened");
        this.appEvents.off("composer:closed", this, "_composerClosed");
      }
    },
    scrolled: function scrolled() {
      if (this.isDestroyed || this.isDestroying || this._state !== "inDOM" || this.scrollEventDisabled) {
        return;
      }

      var offset = window.pageYOffset || $("html").scrollTop();

      (0, _runloop.throttle)(this, this.calculateDirection, offset, MOBILE_SCROLL_DIRECTION_CHECK_THROTTLE);
    },
    toggleMobileFooter: function toggleMobileFooter() {
      $(this.element).toggleClass("visible", this.mobileScrollDirection === null ? true : false);
      // body class used to adjust positioning of #topic-progress-wrapper
      $("body").toggleClass("footer-nav-visible", this.mobileScrollDirection === null ? true : false);
    },
    _routeChanged: function _routeChanged(route) {
      // only update route history if not using back/forward nav
      if (this.backForwardClicked) {
        this.backForwardClicked = null;
        return;
      }

      this.routeHistory.push(route.url);
      this.set("currentRouteIndex", this.routeHistory.length);

      this.queueRerender();
    },
    _composerOpened: function _composerOpened() {
      this.set("mobileScrollDirection", "down");
      this.set("scrollEventDisabled", true);
    },
    _composerClosed: function _composerClosed() {
      this.set("mobileScrollDirection", null);
      this.set("scrollEventDisabled", false);
    },
    _modalOn: function _modalOn() {
      (0, _utilities.postRNWebviewMessage)("headerBg", $(".modal-backdrop").css("background-color"));
    },
    _modalOff: function _modalOff() {
      (0, _utilities.postRNWebviewMessage)("headerBg", $(".d-header").css("background-color"));
    },
    goBack: function goBack() {
      this.set("currentRouteIndex", this.currentRouteIndex - 1);
      this.backForwardClicked = true;
      window.history.back();
    },
    goForward: function goForward() {
      this.set("currentRouteIndex", this.currentRouteIndex + 1);
      this.backForwardClicked = true;
      window.history.forward();
    },
    setBackForward: function setBackForward() {
      var index = this.currentRouteIndex;

      this.set("canGoBack", index > 1 || document.referrer ? true : false);
      this.set("canGoForward", index < this.routeHistory.length ? true : false);
    }
  }, (_applyDecoratedDescriptor(_obj, "toggleMobileFooter", [_dec], Object.getOwnPropertyDescriptor(_obj, "toggleMobileFooter"), _obj), _applyDecoratedDescriptor(_obj, "setBackForward", [_dec2], Object.getOwnPropertyDescriptor(_obj, "setBackForward"), _obj)), _obj)));

  exports.default = FooterNavComponent;
});
define("discourse/components/future-date-input", ["exports", "@ember/utils", "@ember/object/computed", "@ember/component", "discourse-common/utils/decorators", "select-kit/components/future-date-input-selector", "discourse/controllers/edit-topic-timer"], function (exports, _utils, _computed, _component, _decorators, _futureDateInputSelector, _editTopicTimer) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.observes)("date", "time"), _dec2 = (0, _decorators.observes)("isBasedOnLastPost"), _dec3 = (0, _decorators.default)("input", "isBasedOnLastPost"), _dec4 = (0, _decorators.default)("input", "isBasedOnLastPost"), _dec5 = (0, _decorators.default)("statusType", "input", "isCustom", "date", "time", "willCloseImmediately", "categoryId"), _dec6 = (0, _decorators.default)("isBasedOnLastPost", "input", "lastPostedAt"), _dec7 = (0, _decorators.default)("isBasedOnLastPost", "lastPostedAt"), (_obj = {
    selection: null,
    date: null,
    time: null,
    includeDateTime: true,
    isCustom: (0, _computed.equal)("selection", "pick_date_and_time"),
    isBasedOnLastPost: (0, _computed.equal)("selection", "set_based_on_last_post"),
    displayDateAndTimePicker: (0, _computed.and)("includeDateTime", "isCustom"),
    displayLabel: null,

    init: function init() {
      this._super.apply(this, arguments);

      if (this.input) {
        if (this.basedOnLastPost) {
          this.set("selection", "set_based_on_last_post");
        } else {
          var datetime = moment(this.input);
          this.setProperties({
            selection: "pick_date_and_time",
            date: datetime.format("YYYY-MM-DD"),
            time: datetime.format("HH:mm")
          });
          this._updateInput();
        }
      }
    },


    timeInputDisabled: (0, _computed.empty)("date"),

    _updateInput: function _updateInput() {
      if (!this.date) {
        this.set("time", null);
      }

      var time = this.time ? " " + this.time : "";
      var dateTime = moment("" + this.date + time);

      if (dateTime.isValid()) {
        this.attrs.onChangeInput && this.attrs.onChangeInput(dateTime.format(_futureDateInputSelector.FORMAT));
      } else {
        this.attrs.onChangeInput && this.attrs.onChangeInput(null);
      }
    },
    _updateBasedOnLastPost: function _updateBasedOnLastPost() {
      this.set("basedOnLastPost", this.isBasedOnLastPost);
    },
    duration: function duration(input, isBasedOnLastPost) {
      var now = moment();

      if (isBasedOnLastPost) {
        return parseFloat(input);
      } else {
        return moment(input) - now;
      }
    },
    executeAt: function executeAt(input, isBasedOnLastPost) {
      if (isBasedOnLastPost) {
        return moment().add(input, "hours").format(_futureDateInputSelector.FORMAT);
      } else {
        return input;
      }
    },
    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);

      if (this.label) this.set("displayLabel", I18n.t(this.label));
    },
    showTopicStatusInfo: function showTopicStatusInfo(statusType, input, isCustom, date, time, willCloseImmediately, categoryId) {
      if (!statusType || willCloseImmediately) return false;

      if (statusType === _editTopicTimer.PUBLISH_TO_CATEGORY_STATUS_TYPE && (0, _utils.isEmpty)(categoryId)) {
        return false;
      }

      if (isCustom) {
        if (date) {
          return moment("" + date + (time ? " " + time : "")).isAfter(moment());
        }
        return time;
      } else {
        return input;
      }
    },
    willCloseImmediately: function willCloseImmediately(isBasedOnLastPost, input, lastPostedAt) {
      if (isBasedOnLastPost && input) {
        var closeDate = moment(lastPostedAt);
        closeDate = closeDate.add(input, "hours");
        return closeDate < moment();
      }
    },
    willCloseI18n: function willCloseI18n(isBasedOnLastPost, lastPostedAt) {
      if (isBasedOnLastPost) {
        var diff = Math.round((new Date() - new Date(lastPostedAt)) / (1000 * 60 * 60));
        return I18n.t("topic.auto_close_immediate", { count: diff });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_updateInput", [_dec], Object.getOwnPropertyDescriptor(_obj, "_updateInput"), _obj), _applyDecoratedDescriptor(_obj, "_updateBasedOnLastPost", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_updateBasedOnLastPost"), _obj), _applyDecoratedDescriptor(_obj, "duration", [_dec3], Object.getOwnPropertyDescriptor(_obj, "duration"), _obj), _applyDecoratedDescriptor(_obj, "executeAt", [_dec4], Object.getOwnPropertyDescriptor(_obj, "executeAt"), _obj), _applyDecoratedDescriptor(_obj, "showTopicStatusInfo", [_dec5], Object.getOwnPropertyDescriptor(_obj, "showTopicStatusInfo"), _obj), _applyDecoratedDescriptor(_obj, "willCloseImmediately", [_dec6], Object.getOwnPropertyDescriptor(_obj, "willCloseImmediately"), _obj), _applyDecoratedDescriptor(_obj, "willCloseI18n", [_dec7], Object.getOwnPropertyDescriptor(_obj, "willCloseI18n"), _obj)), _obj)));
});
define("discourse/components/generated-invite-link", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      $(this.element.querySelector("input")).select().focus();
    }
  });
});
define("discourse/components/global-notice", ["exports", "@ember/runloop", "@ember/component", "discourse/services/logs-notice", "@ember/object"], function (exports, _runloop, _component, _logsNotice, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addGlobalNotice = addGlobalNotice;


  var _pluginNotices = [];

  function addGlobalNotice(text, id) {
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

    _pluginNotices.push(Notice.create({ text: text, id: id, options: options }));
  }

  var GLOBAL_NOTICE_DISMISSED_PROMPT_KEY = "dismissed-global-notice-v2";

  var Notice = _object.default.extend({
    text: null,
    id: null,
    options: null,

    init: function init() {
      this._super.apply(this, arguments);

      var defaults = {
        // can this banner be hidden
        dismissable: false,
        // prepend html content
        html: null,
        // will define the style of the banner, follows alerts styling
        level: "info",
        // should the banner be permanently hidden?
        persistentDismiss: true,
        // callback function when dismissing a banner
        onDismiss: null,
        // show/hide banner function, will take precedence over everything
        visibility: null,
        // how long before banner should show again, eg: moment.duration(1, "week")
        dismissDuration: null
      };

      this.options = this.set("options", Object.assign(defaults, this.options || {}));
    }
  });

  exports.default = _component.default.extend({
    logNotice: null,

    init: function init() {
      this._super.apply(this, arguments);

      this._setupObservers();
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      this._tearDownObservers();
    },


    notices: (0, _object.computed)("site.isReadOnly", "siteSettings.disable_emails", "logNotice.{id,text,hidden}", function () {
      var _this = this;

      var notices = [];

      if ($.cookie("dosp") === "1") {
        $.removeCookie("dosp", { path: "/" });
        notices.push(Notice.create({
          text: I18n.t("forced_anonymous"),
          id: "forced-anonymous"
        }));
      }

      if (this.session && this.session.safe_mode) {
        notices.push(Notice.create({ text: I18n.t("safe_mode.enabled"), id: "safe-mode" }));
      }

      if (this.site.isReadOnly) {
        notices.push(Notice.create({
          text: I18n.t("read_only_mode.enabled"),
          id: "alert-read-only"
        }));
      }

      if (this.siteSettings.disable_emails === "yes" || this.siteSettings.disable_emails === "non-staff") {
        notices.push(Notice.create({
          text: I18n.t("emails_are_disabled"),
          id: "alert-emails-disabled"
        }));
      }

      if (this.site.wizard_required) {
        var requiredText = I18n.t("wizard_required", {
          url: Discourse.getURL("/wizard")
        });
        notices.push(Notice.create({ text: requiredText, id: "alert-wizard" }));
      }

      if (this.get("currentUser.staff") && this.siteSettings.bootstrap_mode_enabled) {
        if (this.siteSettings.bootstrap_mode_min_users > 0) {
          notices.push(Notice.create({
            text: I18n.t("bootstrap_mode_enabled", {
              min_users: this.siteSettings.bootstrap_mode_min_users
            }),
            id: "alert-bootstrap-mode"
          }));
        } else {
          notices.push(Notice.create({
            text: I18n.t("bootstrap_mode_disabled"),
            id: "alert-bootstrap-mode"
          }));
        }
      }

      if (this.siteSettings.global_notice && this.siteSettings.global_notice.length) {
        notices.push(Notice.create({
          text: this.siteSettings.global_notice,
          id: "alert-global-notice"
        }));
      }

      if (this.logNotice) {
        notices.push(this.logNotice);
      }

      return notices.concat(_pluginNotices).filter(function (notice) {
        if (notice.options.visibility) {
          return notice.options.visibility(notice);
        } else {
          var key = GLOBAL_NOTICE_DISMISSED_PROMPT_KEY + "-" + notice.id;
          var value = _this.keyValueStore.get(key);

          // banner has never been dismissed
          if (!value) {
            return true;
          }

          // banner has no persistent dismiss and should always show on load
          if (!notice.options.persistentDismiss) {
            return true;
          }

          if (notice.options.dismissDuration) {
            var resetAt = moment(value).add(notice.options.dismissDuration);
            return moment().isAfter(resetAt);
          } else {
            return false;
          }
        }
      });
    }),

    actions: {
      dismissNotice: function dismissNotice(notice) {
        if (notice.options.onDismiss) {
          notice.options.onDismiss(notice);
        }

        if (notice.options.persistentDismiss) {
          this.keyValueStore.set({
            key: GLOBAL_NOTICE_DISMISSED_PROMPT_KEY + "-" + notice.id,
            value: moment().toISOString(true)
          });
        }

        var alert = document.getElementById("global-notice-" + notice.id);
        if (alert) alert.style.display = "none";
      }
    },

    _setupObservers: function _setupObservers() {
      this._boundLogsNoticeHandler = (0, _runloop.bind)(this, this._handleLogsNoticeUpdate);
      _logsNotice.default.current().addObserver("hidden", this._boundLogsNoticeHandler);
      _logsNotice.default.current().addObserver("text", this._boundLogsNoticeHandler);
    },
    _tearDownObservers: function _tearDownObservers() {
      if (this._boundLogsNoticeHandler) {
        _logsNotice.default.current().removeObserver("text", this._boundLogsNoticeHandler);
        _logsNotice.default.current().removeObserver("hidden", this._boundLogsNoticeHandler);
        (0, _runloop.cancel)(this._boundLogsNoticeHandler);
      }
    },
    _handleLogsNoticeUpdate: function _handleLogsNoticeUpdate() {
      var logNotice = Notice.create({
        text: _logsNotice.default.currentProp("message"),
        id: "alert-logs-notice",
        options: {
          dismissable: true,
          persistentDismiss: false,
          visibility: function visibility() {
            return !_logsNotice.default.currentProp("hidden");
          },
          onDismiss: function onDismiss() {
            _logsNotice.default.currentProp("hidden", true);
            _logsNotice.default.currentProp("text", "");
          }
        }
      });

      this.set("logNotice", logNotice);
    }
  });
});
define("discourse/components/google-search", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component"], function (exports, _decorators, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  exports.default = _component.default.extend((_obj = {
    classNames: ["google-search-form"],
    classNameBindings: ["hidden:hidden"],

    hidden: (0, _computed.alias)("siteSettings.login_required"),

    siteUrl: function siteUrl() {
      return location.protocol + "//" + location.host + Discourse.getURL("/");
    }
  }, (_applyDecoratedDescriptor(_obj, "siteUrl", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "siteUrl"), _obj)), _obj));
});
define("discourse/components/group-activity-filter", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "li"
  });
});
define("discourse/components/group-card-contents", ["exports", "@ember/object/computed", "@ember/component", "discourse/lib/computed", "discourse-common/utils/decorators", "discourse/mixins/card-contents-base", "discourse/mixins/cleans-up", "discourse/lib/url", "rsvp"], function (exports, _computed, _component, _computed2, _decorators, _cardContentsBase, _cleansUp, _url, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj, _init, _init2;

  var maxMembersToDisplay = 10;

  exports.default = _component.default.extend(_cardContentsBase.default, _cleansUp.default, (_dec = (0, _decorators.default)("group.user_count", "group.members.length"), _dec2 = (0, _decorators.default)("group.name"), _dec3 = (0, _decorators.default)("group"), (_obj = {
    elementId: "group-card",
    triggeringLinkClass: "mention-group",
    classNames: ["no-bg", "group-card"],
    classNameBindings: ["visible:show", "showBadges", "hasCardBadgeImage", "isFixed:fixed", "groupClass"],
    allowBackgrounds: (0, _computed2.setting)("allow_profile_backgrounds"),
    showBadges: (0, _computed2.setting)("enable_badges"),

    postStream: (0, _computed.alias)("topic.postStream"),
    viewingTopic: (0, _computed.match)("currentPath", /^topic\./),

    showMoreMembers: (0, _computed.gt)("moreMembersCount", 0),
    hasMembersOrIsMember: (0, _computed.or)("group.members", "group.is_group_owner_display", "group.is_group_user"),

    group: null,

    moreMembersCount: function moreMembersCount(memberCount, maxMemberDisplay) {
      return memberCount - maxMemberDisplay;
    },

    groupClass: function groupClass(name) {
      return name ? "group-card-" + name : "";
    },

    groupPath: function groupPath(group) {
      return (0, _url.groupPath)(group.name);
    },
    _showCallback: function _showCallback(username, $target) {
      var _this = this;

      this.store.find("group", username).then(function (group) {
        _this.setProperties({ group: group, visible: true });
        _this._positionCard($target);
        if (!group.flair_url && !group.flair_bg_color) {
          group.set("flair_url", "fa-users");
        }
        return group.members.length < maxMembersToDisplay ? group.findMembers({ limit: maxMembersToDisplay }, true) : _rsvp.Promise.resolve();
      }).catch(function () {
        return _this._close();
      }).finally(function () {
        return _this.set("loading", null);
      });
    },
    _close: function _close() {
      this._super.apply(this, arguments);

      this.set("group", null);
    },
    cleanUp: function cleanUp() {
      this._close();
    },


    actions: {
      close: function close() {
        this._close();
      },
      cancelFilter: function cancelFilter() {
        var postStream = this.postStream;
        postStream.cancelFilter();
        postStream.refresh();
        this._close();
      },
      messageGroup: function messageGroup() {
        this.createNewMessageViaParams(this.get("group.name"));
      },
      showGroup: function showGroup(group) {
        this.showGroup(group);
        this._close();
      },
      showUser: function showUser(user) {
        this.showUser(user);
        this._close();
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "moreMembersCount", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "moreMembersCount"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "groupClass", [_dec2], (_init2 = Object.getOwnPropertyDescriptor(_obj, "groupClass"), _init2 = _init2 ? _init2.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init2;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "groupPath", [_dec3], Object.getOwnPropertyDescriptor(_obj, "groupPath"), _obj)), _obj)));
});
define("discourse/components/group-flair-inputs", ["exports", "discourse-common/utils/decorators", "@ember/runloop", "@ember/component", "discourse/lib/utilities", "discourse-common/lib/icon-library", "discourse/lib/ajax", "@ember/template"], function (exports, _decorators, _runloop, _component, _utilities, _iconLibrary, _ajax, _template) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("model.flair_url"), _dec2 = (0, _decorators.default)("model.flair_url", "flairPreviewIcon"), _dec3 = (0, _decorators.observes)("model.flair_url"), _dec4 = (0, _decorators.default)("model.flair_url", "flairPreviewIcon"), _dec5 = (0, _decorators.default)("model.flair_url", "flairPreviewImage", "model.flairBackgroundHexColor", "model.flairHexColor"), _dec6 = (0, _decorators.default)("model.flairBackgroundHexColor"), _dec7 = (0, _decorators.default)("flairPreviewImage"), (_obj = {
    classNames: ["group-flair-inputs"],

    demoAvatarUrl: function demoAvatarUrl() {
      return Discourse.getURL("/images/avatar.png");
    },
    flairPreviewIcon: function flairPreviewIcon(flairURL) {
      return flairURL && /fa(r|b?)-/.test(flairURL);
    },
    flairPreviewIconUrl: function flairPreviewIconUrl(flairURL, flairPreviewIcon) {
      return flairPreviewIcon ? (0, _iconLibrary.convertIconClass)(flairURL) : "";
    },
    _loadSVGIcon: function _loadSVGIcon() {
      (0, _runloop.debounce)(this, this._loadIcon, 1000);
    },
    _loadIcon: function _loadIcon() {
      var icon = (0, _iconLibrary.convertIconClass)(this.get("model.flair_url")),
          c = "#svg-sprites",
          h = "ajax-icon-holder",
          singleIconEl = c + " ." + h;

      if (!icon) return;

      if (!$(c + " symbol#" + icon).length) {
        (0, _ajax.ajax)("/svg-sprite/search/" + icon).then(function (data) {
          if ($(singleIconEl).length === 0) $(c).append("<div class=\"" + h + "\">");

          $(singleIconEl).html("<svg xmlns='http://www.w3.org/2000/svg' style='display: none;'>" + data + "</svg>");
        });
      }
    },
    flairPreviewImage: function flairPreviewImage(flairURL, flairPreviewIcon) {
      return flairURL && !flairPreviewIcon;
    },
    flairPreviewStyle: function flairPreviewStyle(flairURL, flairPreviewImage, flairBackgroundHexColor, flairHexColor) {
      var style = "";

      if (flairPreviewImage) {
        style += "background-image: url(" + (0, _utilities.escapeExpression)(flairURL) + ");";
      }

      if (flairBackgroundHexColor) {
        style += "background-color: #" + flairBackgroundHexColor + ";";
      }

      if (flairHexColor) style += "color: #" + flairHexColor + ";";

      return (0, _template.htmlSafe)(style);
    },
    flairPreviewClasses: function flairPreviewClasses(flairBackgroundHexColor) {
      if (flairBackgroundHexColor) return "rounded";
    },
    flairPreviewLabel: function flairPreviewLabel(flairPreviewImage) {
      var key = flairPreviewImage ? "image" : "icon";
      return I18n.t("groups.flair_preview_" + key);
    }
  }, (_applyDecoratedDescriptor(_obj, "demoAvatarUrl", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "demoAvatarUrl"), _obj), _applyDecoratedDescriptor(_obj, "flairPreviewIcon", [_dec], Object.getOwnPropertyDescriptor(_obj, "flairPreviewIcon"), _obj), _applyDecoratedDescriptor(_obj, "flairPreviewIconUrl", [_dec2], Object.getOwnPropertyDescriptor(_obj, "flairPreviewIconUrl"), _obj), _applyDecoratedDescriptor(_obj, "_loadSVGIcon", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_loadSVGIcon"), _obj), _applyDecoratedDescriptor(_obj, "flairPreviewImage", [_dec4], Object.getOwnPropertyDescriptor(_obj, "flairPreviewImage"), _obj), _applyDecoratedDescriptor(_obj, "flairPreviewStyle", [_dec5], Object.getOwnPropertyDescriptor(_obj, "flairPreviewStyle"), _obj), _applyDecoratedDescriptor(_obj, "flairPreviewClasses", [_dec6], Object.getOwnPropertyDescriptor(_obj, "flairPreviewClasses"), _obj), _applyDecoratedDescriptor(_obj, "flairPreviewLabel", [_dec7], Object.getOwnPropertyDescriptor(_obj, "flairPreviewLabel"), _obj)), _obj)));
});
define("discourse/components/group-index-toggle", ["exports", "@ember/component", "discourse-common/lib/icon-library"], function (exports, _component, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "th",
    classNames: ["sortable"],
    chevronIcon: null,
    toggleProperties: function toggleProperties() {
      if (this.order === this.field) {
        this.set("desc", this.desc ? null : true);
      } else {
        this.setProperties({ order: this.field, desc: null });
      }
    },
    toggleChevron: function toggleChevron() {
      if (this.order === this.field) {
        var chevron = (0, _iconLibrary.iconHTML)(this.desc ? "chevron-down" : "chevron-up");
        this.set("chevronIcon", ("" + chevron).htmlSafe());
      } else {
        this.set("chevronIcon", null);
      }
    },
    click: function click() {
      this.toggleProperties();
    },
    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);
      this.toggleChevron();
    }
  });
});
define("discourse/components/group-manage-logs-filter", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("type"), _dec2 = (0, _decorators.default)("value", "type"), (_obj = {
    tagName: "",

    label: function label(type) {
      return I18n.t("groups.manage.logs." + type);
    },
    filterText: function filterText(value, type) {
      return type === "action" ? I18n.t("group_histories.actions." + value) : value;
    },


    actions: {
      clearFilter: function clearFilter(param) {
        this.clearFilter(param);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "label", [_dec], Object.getOwnPropertyDescriptor(_obj, "label"), _obj), _applyDecoratedDescriptor(_obj, "filterText", [_dec2], Object.getOwnPropertyDescriptor(_obj, "filterText"), _obj)), _obj)));
});
define("discourse/components/group-manage-logs-row", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "",
    expandDetails: false,

    actions: {
      toggleDetails: function toggleDetails() {
        this.toggleProperty("expandDetails");
      },
      filter: function filter(params) {
        this.set("filters." + params.key, params.value);
      }
    }
  });
});
define("discourse/components/group-manage-save-button", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/lib/ajax-error"], function (exports, _decorators, _component, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("saving"), (_obj = {
    saving: null,

    savingText: function savingText(saving) {
      if (saving) return I18n.t("saving");
      return saving ? I18n.t("saving") : I18n.t("save");
    },


    actions: {
      save: function save() {
        var _this = this;

        this.set("saving", true);

        return this.model.save().then(function () {
          _this.set("saved", true);
        }).catch(_ajaxError.popupAjaxError).finally(function () {
          return _this.set("saving", false);
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "savingText", [_dec], Object.getOwnPropertyDescriptor(_obj, "savingText"), _obj)), _obj)));
});
define("discourse/components/group-member-dropdown", ["exports", "select-kit/components/dropdown-select-box", "@ember/object"], function (exports, _dropdownSelectBox, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _dropdownSelectBox.default.extend({
    pluginApiIdentifiers: ["group-member-dropdown"],
    classNames: ["group-member-dropdown"],

    selectKitOptions: {
      icon: "wrench",
      showFullTitle: false
    },

    content: (0, _object.computed)("member.owner", function () {
      var items = [{
        id: "removeMember",
        name: I18n.t("groups.members.remove_member"),
        description: I18n.t("groups.members.remove_member_description", {
          username: this.get("member.username")
        }),
        icon: "user-times"
      }];

      if (this.get("currentUser.admin")) {
        if (this.member.owner) {
          items.push({
            id: "removeOwner",
            name: I18n.t("groups.members.remove_owner"),
            description: I18n.t("groups.members.remove_owner_description", {
              username: this.get("member.username")
            }),
            icon: "shield-alt"
          });
        } else {
          items.push({
            id: "makeOwner",
            name: I18n.t("groups.members.make_owner"),
            description: I18n.t("groups.members.make_owner_description", {
              username: this.get("member.username")
            }),
            icon: "shield-alt"
          });
        }
      }

      return items;
    })
  });
});
define("discourse/components/group-member", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["item"],

    actions: {
      remove: function remove() {
        this.removeAction(this.member);
      }
    }
  });
});
define("discourse/components/group-membership-button", ["exports", "@ember/component", "discourse-common/utils/decorators", "discourse/lib/ajax-error", "discourse/lib/show-modal"], function (exports, _component, _decorators, _ajaxError, _showModal) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("model.public_admission", "userIsGroupUser"), _dec2 = (0, _decorators.default)("model.public_exit", "userIsGroupUser"), _dec3 = (0, _decorators.default)("model.allow_membership_requests", "userIsGroupUser"), _dec4 = (0, _decorators.default)("model.is_group_user"), (_obj = {
    classNames: ["group-membership-button"],

    canJoinGroup: function canJoinGroup(publicAdmission, userIsGroupUser) {
      return publicAdmission && !userIsGroupUser;
    },
    canLeaveGroup: function canLeaveGroup(publicExit, userIsGroupUser) {
      return publicExit && userIsGroupUser;
    },
    canRequestMembership: function canRequestMembership(allowMembershipRequests, userIsGroupUser) {
      return allowMembershipRequests && !userIsGroupUser;
    },
    userIsGroupUser: function userIsGroupUser(isGroupUser) {
      return !!isGroupUser;
    },
    _showLoginModal: function _showLoginModal() {
      this.showLogin();
      $.cookie("destination_url", window.location.href);
    },
    removeFromGroup: function removeFromGroup() {
      var _this = this;

      this.model.removeMember(this.currentUser).then(function () {
        return _this.model.set("is_group_user", false);
      }).catch(_ajaxError.popupAjaxError).finally(function () {
        return _this.set("updatingMembership", false);
      });
    },


    actions: {
      joinGroup: function joinGroup() {
        var _this2 = this;

        if (this.currentUser) {
          this.set("updatingMembership", true);
          var model = this.model;

          model.addMembers(this.currentUser.get("username")).then(function () {
            model.set("is_group_user", true);
          }).catch(_ajaxError.popupAjaxError).finally(function () {
            _this2.set("updatingMembership", false);
          });
        } else {
          this._showLoginModal();
        }
      },
      leaveGroup: function leaveGroup() {
        var _this3 = this;

        this.set("updatingMembership", true);

        if (this.model.public_admission) {
          this.removeFromGroup();
        } else {
          return bootbox.confirm(I18n.t("groups.confirm_leave"), I18n.t("no_value"), I18n.t("yes_value"), function (result) {
            result ? _this3.removeFromGroup() : _this3.set("updatingMembership", false);
          });
        }
      },
      showRequestMembershipForm: function showRequestMembershipForm() {
        if (this.currentUser) {
          (0, _showModal.default)("request-group-membership-form", {
            model: this.model
          });
        } else {
          this._showLoginModal();
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "canJoinGroup", [_dec], Object.getOwnPropertyDescriptor(_obj, "canJoinGroup"), _obj), _applyDecoratedDescriptor(_obj, "canLeaveGroup", [_dec2], Object.getOwnPropertyDescriptor(_obj, "canLeaveGroup"), _obj), _applyDecoratedDescriptor(_obj, "canRequestMembership", [_dec3], Object.getOwnPropertyDescriptor(_obj, "canRequestMembership"), _obj), _applyDecoratedDescriptor(_obj, "userIsGroupUser", [_dec4], Object.getOwnPropertyDescriptor(_obj, "userIsGroupUser"), _obj)), _obj)));
});
define("discourse/components/group-navigation", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: ""
  });
});
define("discourse/components/group-post", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj, _init;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("post.url"), (_obj = {
    postUrl: Discourse.getURL
  }, (_applyDecoratedDescriptor(_obj, "postUrl", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "postUrl"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/components/group-selector", ["exports", "@ember/utils", "@ember/component", "discourse-common/utils/decorators", "discourse/lib/raw-templates"], function (exports, _utils, _component, _decorators, _rawTemplates) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("placeholderKey"), _dec2 = (0, _decorators.observes)("groupNames"), _dec3 = (0, _decorators.on)("didInsertElement"), (_obj = {
    placeholder: function placeholder(placeholderKey) {
      return placeholderKey ? I18n.t(placeholderKey) : "";
    },
    _update: function _update() {
      if (this.canReceiveUpdates === "true") this._initializeAutocomplete({ updateData: true });
    },
    _initializeAutocomplete: function _initializeAutocomplete(opts) {
      var _this = this;

      var selectedGroups = void 0;
      var groupNames = this.groupNames;

      $(this.element.querySelector("input")).autocomplete({
        allowAny: false,
        items: _.isArray(groupNames) ? groupNames : (0, _utils.isEmpty)(groupNames) ? [] : [groupNames],
        single: this.single,
        fullWidthWrap: this.fullWidthWrap,
        updateData: opts && opts.updateData ? opts.updateData : false,
        onChangeItems: function onChangeItems(items) {
          selectedGroups = items;
          _this.set("groupNames", items.join(","));
        },
        transformComplete: function transformComplete(g) {
          return g.name;
        },
        dataSource: function dataSource(term) {
          return _this.groupFinder(term).then(function (groups) {
            if (!selectedGroups) return groups;

            return groups.filter(function (group) {
              return !selectedGroups.any(function (s) {
                return s === group.name;
              });
            });
          });
        },
        template: (0, _rawTemplates.findRawTemplate)("group-selector-autocomplete")
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "placeholder", [_dec], Object.getOwnPropertyDescriptor(_obj, "placeholder"), _obj), _applyDecoratedDescriptor(_obj, "_update", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_update"), _obj), _applyDecoratedDescriptor(_obj, "_initializeAutocomplete", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_initializeAutocomplete"), _obj)), _obj)));
});
define("discourse/components/groups-form-interaction-fields", ["exports", "@ember/component", "discourse-common/utils/decorators"], function (exports, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("siteSettings.email_in", "model.automatic", "currentUser.admin"), (_obj = {
    init: function init() {
      this._super.apply(this, arguments);

      this.visibilityLevelOptions = [{
        name: I18n.t("admin.groups.manage.interaction.visibility_levels.public"),
        value: 0
      }, {
        name: I18n.t("admin.groups.manage.interaction.visibility_levels.logged_on_users"),
        value: 1
      }, {
        name: I18n.t("admin.groups.manage.interaction.visibility_levels.members"),
        value: 2
      }, {
        name: I18n.t("admin.groups.manage.interaction.visibility_levels.staff"),
        value: 3
      }, {
        name: I18n.t("admin.groups.manage.interaction.visibility_levels.owners"),
        value: 4
      }];

      this.aliasLevelOptions = [{ name: I18n.t("groups.alias_levels.nobody"), value: 0 }, { name: I18n.t("groups.alias_levels.only_admins"), value: 1 }, { name: I18n.t("groups.alias_levels.mods_and_admins"), value: 2 }, { name: I18n.t("groups.alias_levels.members_mods_and_admins"), value: 3 }, { name: I18n.t("groups.alias_levels.owners_mods_and_admins"), value: 4 }, { name: I18n.t("groups.alias_levels.everyone"), value: 99 }];
    },
    showEmailSettings: function showEmailSettings(emailIn, automatic, isAdmin) {
      return emailIn && isAdmin && !automatic;
    }
  }, (_applyDecoratedDescriptor(_obj, "showEmailSettings", [_dec], Object.getOwnPropertyDescriptor(_obj, "showEmailSettings"), _obj)), _obj)));
});
define("discourse/components/groups-form-membership-fields", ["exports", "discourse-common/utils/decorators", "@ember/component", "@ember/object"], function (exports, _decorators, _component, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("model.visibility_level", "model.public_admission"), _dec2 = (0, _decorators.default)("model.visibility_level", "model.allow_membership_requests"), (_obj = {
    tokenSeparator: "|",

    init: function init() {
      this._super.apply(this, arguments);

      this.trustLevelOptions = [{
        name: I18n.t("admin.groups.manage.membership.trust_levels_none"),
        value: 0
      }, { name: 1, value: 1 }, { name: 2, value: 2 }, { name: 3, value: 3 }, { name: 4, value: 4 }];
    },


    groupTrustLevel: (0, _object.computed)("model.grant_trust_level", "trustLevelOptions", function () {
      return this.model.get("grant_trust_level") || this.trustLevelOptions.firstObject.value;
    }),

    disableMembershipRequestSetting: function disableMembershipRequestSetting(visibility_level, publicAdmission) {
      visibility_level = parseInt(visibility_level, 10);
      return publicAdmission || visibility_level > 1;
    },
    disablePublicSetting: function disablePublicSetting(visibility_level, allowMembershipRequests) {
      visibility_level = parseInt(visibility_level, 10);
      return allowMembershipRequests || visibility_level > 1;
    },


    emailDomains: (0, _object.computed)("model.emailDomains", function () {
      return this.model.emailDomains.split(this.tokenSeparator).filter(Boolean);
    }),

    actions: {
      onChangeEmailDomainsSetting: function onChangeEmailDomainsSetting(value) {
        this.set("model.automatic_membership_email_domains", value.join(this.tokenSeparator));
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "disableMembershipRequestSetting", [_dec], Object.getOwnPropertyDescriptor(_obj, "disableMembershipRequestSetting"), _obj), _applyDecoratedDescriptor(_obj, "disablePublicSetting", [_dec2], Object.getOwnPropertyDescriptor(_obj, "disablePublicSetting"), _obj)), _obj)));
});
define("discourse/components/groups-form-profile-fields", ["exports", "@ember/utils", "@ember/object/computed", "@ember/component", "discourse-common/utils/decorators", "discourse/models/group", "discourse/lib/ajax-error", "discourse/lib/debounce", "@ember/object"], function (exports, _utils, _computed, _component, _decorators, _group, _ajaxError, _debounce, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("basicNameValidation", "uniqueNameValidation"), _dec2 = (0, _decorators.observes)("nameInput"), (_obj = {
    disableSave: null,
    nameInput: null,

    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      var name = this.get("model.name");

      if (name) {
        this.set("nameInput", name);
      } else {
        this.set("disableSave", true);
      }
    },


    canEdit: (0, _computed.not)("model.automatic"),

    nameValidation: function nameValidation(basicNameValidation, uniqueNameValidation) {
      return uniqueNameValidation ? uniqueNameValidation : basicNameValidation;
    },
    _validateName: function _validateName() {
      name = this.nameInput;
      if (name === this.get("model.name")) return;

      if (name === undefined) {
        return this._failedInputValidation();
      }

      if (name === "") {
        this.set("uniqueNameValidation", null);
        return this._failedInputValidation(I18n.t("admin.groups.new.name.blank"));
      }

      if (name.length < this.siteSettings.min_username_length) {
        return this._failedInputValidation(I18n.t("admin.groups.new.name.too_short"));
      }

      if (name.length > this.siteSettings.max_username_length) {
        return this._failedInputValidation(I18n.t("admin.groups.new.name.too_long"));
      }

      this.checkGroupName();

      return this._failedInputValidation(I18n.t("admin.groups.new.name.checking"));
    },


    checkGroupName: (0, _debounce.default)(function () {
      var _this = this;

      name = this.nameInput;
      if ((0, _utils.isEmpty)(name)) return;

      _group.default.checkName(name).then(function (response) {
        var validationName = "uniqueNameValidation";

        if (response.available) {
          _this.set(validationName, _object.default.create({
            ok: true,
            reason: I18n.t("admin.groups.new.name.available")
          }));

          _this.set("disableSave", false);
          _this.set("model.name", _this.nameInput);
        } else {
          var reason = void 0;

          if (response.errors) {
            reason = response.errors.join(" ");
          } else {
            reason = I18n.t("admin.groups.new.name.not_available");
          }

          _this.set(validationName, _this._failedInputValidation(reason));
        }
      }).catch(_ajaxError.popupAjaxError);
    }, 500),

    _failedInputValidation: function _failedInputValidation(reason) {
      this.set("disableSave", true);

      var options = { failed: true };
      if (reason) options.reason = reason;
      this.set("basicNameValidation", _object.default.create(options));
    }
  }, (_applyDecoratedDescriptor(_obj, "nameValidation", [_dec], Object.getOwnPropertyDescriptor(_obj, "nameValidation"), _obj), _applyDecoratedDescriptor(_obj, "_validateName", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_validateName"), _obj)), _obj)));
});
define("discourse/components/groups-info", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("group.full_name"), (_obj = {
    tagName: "span",
    classNames: ["group-info-details"],

    showFullName: function showFullName(fullName) {
      return fullName && fullName.length;
    }
  }, (_applyDecoratedDescriptor(_obj, "showFullName", [_dec], Object.getOwnPropertyDescriptor(_obj, "showFullName"), _obj)), _obj)));
});
define("discourse/components/header-extra-info", ["exports", "discourse-common/lib/deprecated"], function (exports, _deprecated) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.needsSecondRowIf = needsSecondRowIf;
  function needsSecondRowIf() {
    (0, _deprecated.default)("`needsSecondRowIf` is deprecated. Use widget hooks on `header-second-row`");
  }
});
define("discourse/components/hide-modal-trigger", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      $(".d-modal.fixed-modal").modal("hide").addClass("hidden");
    }
  });
});
define("discourse/components/highlight-text", ["exports", "@ember/component", "discourse/lib/highlight-text"], function (exports, _component, _highlightText) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "span",

    _highlightOnInsert: function () {
      var term = this.highlight;
      (0, _highlightText.default)($(this.element), term);
    }.observes("highlight").on("didInsertElement")
  });
});
define("discourse/components/honeypot-input", ["exports", "discourse-common/utils/decorators"], function (exports, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = Ember.TextField.extend((_dec = (0, _decorators.on)("init"), (_obj = {
    _init: function _init() {
      // Chrome autocomplete is buggy per:
      // https://bugs.chromium.org/p/chromium/issues/detail?id=987293
      // work around issue while leaving a semi useable honeypot for
      // bots that are running full Chrome
      if (navigator.userAgent.indexOf("Chrome") > -1) {
        this.set("type", "text");
      } else {
        this.set("type", "password");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_init", [_dec], Object.getOwnPropertyDescriptor(_obj, "_init"), _obj)), _obj)));
});
define("discourse/components/iframed-html", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "iframe",
    html: null,
    className: "",
    classNameBindings: ["html:iframed-html", "className"],
    sandbox: "allow-same-origin",
    attributeBindings: ["sandbox:sandbox"],

    didRender: function didRender() {
      this._super.apply(this, arguments);
      var iframeDoc = this.element.contentWindow.document;
      iframeDoc.open("text/html", "replace");
      iframeDoc.write(this.html);
      iframeDoc.close();
    }
  });
});
define("discourse/components/ignored-user-list-item", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "div",
    items: null,
    actions: {
      removeIgnoredUser: function removeIgnoredUser(item) {
        this.onRemoveIgnoredUser(item);
      }
    }
  });
});
define("discourse/components/ignored-user-list", ["exports", "@ember/component", "discourse/lib/ajax-error", "discourse/lib/show-modal", "discourse/models/user"], function (exports, _component, _ajaxError, _showModal, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    item: null,
    actions: {
      removeIgnoredUser: function removeIgnoredUser(item) {
        var _this = this;

        this.set("saved", false);
        this.items.removeObject(item);
        _user.default.findByUsername(item).then(function (user) {
          user.updateNotificationLevel("normal").catch(_ajaxError.popupAjaxError).finally(function () {
            return _this.set("saved", true);
          });
        });
      },
      newIgnoredUser: function newIgnoredUser() {
        var _this2 = this;

        var modal = (0, _showModal.default)("ignore-duration-with-username", {
          model: this.model
        });
        modal.setProperties({
          ignoredUsername: null,
          onUserIgnored: function onUserIgnored(username) {
            _this2.items.addObject(username);
          }
        });
      }
    }
  });
});
define("discourse/components/image-uploader", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/runloop", "@ember/component", "discourse/mixins/upload", "discourse/lib/lightbox", "discourse/lib/ajax", "discourse/lib/ajax-error"], function (exports, _decorators, _utils, _runloop, _component, _upload, _lightbox, _ajax, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj;

  exports.default = _component.default.extend(_upload.default, (_dec = (0, _decorators.default)("imageUrl", "placeholderUrl"), _dec2 = (0, _decorators.default)("placeholderUrl"), _dec3 = (0, _decorators.default)("imageUrl"), _dec4 = (0, _decorators.default)("imageCDNURL"), _dec5 = (0, _decorators.default)("imageUrl"), (_obj = {
    classNames: ["image-uploader"],
    loadingLightbox: false,

    init: function init() {
      this._super.apply(this, arguments);
      this._applyLightbox();
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      var elem = $("a.lightbox");
      if (elem && typeof elem.magnificPopup === "function") {
        $("a.lightbox").magnificPopup("close");
      }
    },
    showingPlaceholder: function showingPlaceholder(imageUrl, placeholderUrl) {
      return !imageUrl && placeholderUrl;
    },
    placeholderStyle: function placeholderStyle(url) {
      if ((0, _utils.isEmpty)(url)) {
        return "".htmlSafe();
      }
      return ("background-image: url(" + url + ")").htmlSafe();
    },
    imageCDNURL: function imageCDNURL(url) {
      if ((0, _utils.isEmpty)(url)) {
        return "".htmlSafe();
      }

      return Discourse.getURLWithCDN(url);
    },
    backgroundStyle: function backgroundStyle(url) {
      return ("background-image: url(" + url + ")").htmlSafe();
    },
    imageBaseName: function imageBaseName(imageUrl) {
      if ((0, _utils.isEmpty)(imageUrl)) return;
      return imageUrl.split("/").slice(-1)[0];
    },
    validateUploadedFilesOptions: function validateUploadedFilesOptions() {
      return { imagesOnly: true };
    },
    uploadDone: function uploadDone(upload) {
      this.setProperties({
        imageUrl: upload.url,
        imageId: upload.id,
        imageFilesize: upload.human_filesize,
        imageFilename: upload.original_filename,
        imageWidth: upload.width,
        imageHeight: upload.height
      });

      this._applyLightbox();

      if (this.onUploadDone) {
        this.onUploadDone(upload);
      }
    },
    _openLightbox: function _openLightbox() {
      var _this = this;

      (0, _runloop.next)(function () {
        return $(_this.element.querySelector("a.lightbox")).magnificPopup("open");
      });
    },
    _applyLightbox: function _applyLightbox() {
      var _this2 = this;

      if (this.imageUrl) (0, _runloop.next)(function () {
        return (0, _lightbox.default)($(_this2.element));
      });
    },


    actions: {
      toggleLightbox: function toggleLightbox() {
        var _this3 = this;

        if (this.imageFilename) {
          this._openLightbox();
        } else {
          this.set("loadingLightbox", true);

          (0, _ajax.ajax)("/uploads/lookup-metadata", {
            type: "POST",
            data: { url: this.imageUrl }
          }).then(function (json) {
            _this3.setProperties({
              imageFilename: json.original_filename,
              imageFilesize: json.human_filesize,
              imageWidth: json.width,
              imageHeight: json.height
            });

            _this3._openLightbox();
            _this3.set("loadingLightbox", false);
          }).catch(_ajaxError.popupAjaxError);
        }
      },
      trash: function trash() {
        this.setProperties({ imageUrl: null, imageId: null });

        if (this.onUploadDeleted) {
          this.onUploadDeleted();
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "showingPlaceholder", [_dec], Object.getOwnPropertyDescriptor(_obj, "showingPlaceholder"), _obj), _applyDecoratedDescriptor(_obj, "placeholderStyle", [_dec2], Object.getOwnPropertyDescriptor(_obj, "placeholderStyle"), _obj), _applyDecoratedDescriptor(_obj, "imageCDNURL", [_dec3], Object.getOwnPropertyDescriptor(_obj, "imageCDNURL"), _obj), _applyDecoratedDescriptor(_obj, "backgroundStyle", [_dec4], Object.getOwnPropertyDescriptor(_obj, "backgroundStyle"), _obj), _applyDecoratedDescriptor(_obj, "imageBaseName", [_dec5], Object.getOwnPropertyDescriptor(_obj, "imageBaseName"), _obj)), _obj)));
});
define("discourse/components/images-uploader", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/mixins/upload"], function (exports, _decorators, _component, _upload) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend(_upload.default, (_dec = (0, _decorators.default)("uploading"), (_obj = {
    type: "avatar",
    tagName: "span",

    uploadButtonText: function uploadButtonText(uploading) {
      return uploading ? I18n.t("uploading") : I18n.t("upload");
    },
    validateUploadedFilesOptions: function validateUploadedFilesOptions() {
      return { imagesOnly: true };
    },
    uploadDone: function uploadDone(upload) {
      this.done(upload);
    }
  }, (_applyDecoratedDescriptor(_obj, "uploadButtonText", [_dec], Object.getOwnPropertyDescriptor(_obj, "uploadButtonText"), _obj)), _obj)));
});
define("discourse/components/input-tip", ["exports", "@ember/object/computed", "@ember/component", "discourse-common/lib/icon-library"], function (exports, _computed, _component, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNameBindings: [":tip", "good", "bad"],
    tipIcon: null,
    tipReason: null,

    bad: (0, _computed.alias)("validation.failed"),
    good: (0, _computed.not)("bad"),

    tipIconHTML: function tipIconHTML() {
      var icon = (0, _iconLibrary.iconHTML)(this.good ? "check" : "times");
      return ("" + icon).htmlSafe();
    },
    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);
      var reason = this.get("validation.reason");
      if (reason) {
        this.set("tipIcon", this.tipIconHTML());
        this.set("tipReason", reason);
      } else {
        this.set("tipIcon", null);
        this.set("tipReason", null);
      }
    }
  });
});
define("discourse/components/invite-panel", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/object", "@ember/object/computed", "@ember/component", "discourse/lib/utilities", "discourse/models/group", "discourse/models/invite", "discourse/lib/computed", "discourse/lib/pwa-utils"], function (exports, _decorators, _utils, _object, _computed, _component, _utilities, _group, _invite, _computed2, _pwaUtils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("isAdmin", "emailOrUsername", "invitingToTopic", "isPrivateTopic", "inviteModel.groupNames.[]", "inviteModel.saving", "inviteModel.details.can_invite_to"), _dec2 = (0, _decorators.default)("isAdmin", "emailOrUsername", "inviteModel.saving", "isPrivateTopic", "inviteModel.groupNames.[]", "hasCustomMessage"), _dec3 = (0, _decorators.default)("inviteModel.saving"), _dec4 = (0, _decorators.default)("inviteModel"), _dec5 = (0, _decorators.default)("inviteModel", "inviteModel.details.can_invite_via_email"), _dec6 = (0, _decorators.default)("isPM", "canInviteViaEmail"), _dec7 = (0, _decorators.default)("isAdmin", "inviteModel.group_users"), _dec8 = (0, _decorators.default)("isGroupOwnerOrAdmin", "emailOrUsername", "isPrivateTopic", "isPM", "invitingToTopic", "canInviteViaEmail"), _dec9 = (0, _decorators.default)("emailOrUsername"), _dec10 = (0, _decorators.default)("isPM", "invitingToTopic", "emailOrUsername", "isPrivateTopic", "isAdmin", "canInviteViaEmail"), _dec11 = (0, _decorators.default)("isPrivateTopic"), _dec12 = (0, _decorators.default)("isPM", "emailOrUsername", "invitingExistingUserToTopic"), _dec13 = (0, _decorators.default)("isPM"), _dec14 = (0, _decorators.default)("canInviteViaEmail"), (_obj = {
    tagName: null,

    inviteModel: (0, _computed.alias)("panel.model.inviteModel"),
    userInvitedShow: (0, _computed.alias)("panel.model.userInvitedShow"),

    // If this isn't defined, it will proxy to the user topic on the preferences
    // page which is wrong.
    emailOrUsername: null,
    hasCustomMessage: false,
    customMessage: null,
    inviteIcon: "envelope",
    invitingExistingUserToTopic: false,

    isAdmin: (0, _computed.alias)("currentUser.admin"),

    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      this.reset();
    },
    disabled: function disabled(isAdmin, emailOrUsername, invitingToTopic, isPrivateTopic, groupNames, saving, can_invite_to) {
      if (saving) return true;
      if ((0, _utils.isEmpty)(emailOrUsername)) return true;

      var emailTrimmed = emailOrUsername.trim();

      // when inviting to forum, email must be valid
      if (!invitingToTopic && !(0, _utilities.emailValid)(emailTrimmed)) {
        return true;
      }

      // normal users (not admin) can't invite users to private topic via email
      if (!isAdmin && isPrivateTopic && (0, _utilities.emailValid)(emailTrimmed)) {
        return true;
      }

      // when inviting to private topic via email, group name must be specified
      if (isPrivateTopic && (0, _utils.isEmpty)(groupNames) && (0, _utilities.emailValid)(emailTrimmed)) {
        return true;
      }

      if (can_invite_to) return false;

      return false;
    },
    disabledCopyLink: function disabledCopyLink(isAdmin, emailOrUsername, saving, isPrivateTopic, groupNames, hasCustomMessage) {
      if (hasCustomMessage) return true;
      if (saving) return true;
      if ((0, _utils.isEmpty)(emailOrUsername)) return true;

      var email = emailOrUsername.trim();

      // email must be valid
      if (!(0, _utilities.emailValid)(email)) {
        return true;
      }

      // normal users (not admin) can't invite users to private topic via email
      if (!isAdmin && isPrivateTopic && (0, _utilities.emailValid)(email)) {
        return true;
      }

      // when inviting to private topic via email, group name must be specified
      if (isPrivateTopic && (0, _utils.isEmpty)(groupNames) && (0, _utilities.emailValid)(email)) {
        return true;
      }

      return false;
    },
    buttonTitle: function buttonTitle(saving) {
      return saving ? "topic.inviting" : "topic.invite_reply.action";
    },
    invitingToTopic: function invitingToTopic(inviteModel) {
      return inviteModel !== this.currentUser;
    },
    canInviteViaEmail: function canInviteViaEmail(inviteModel, _canInviteViaEmail) {
      return this.inviteModel === this.currentUser ? true : _canInviteViaEmail;
    },
    showCopyInviteButton: function showCopyInviteButton(isPM, canInviteViaEmail) {
      return canInviteViaEmail && !isPM;
    },


    topicId: (0, _computed.alias)("inviteModel.id"),

    // eg: visible only to specific group members
    isPrivateTopic: (0, _computed.and)("invitingToTopic", "inviteModel.category.read_restricted"),

    isPM: (0, _computed.equal)("inviteModel.archetype", "private_message"),

    // scope to allowed usernames
    allowExistingMembers: (0, _computed.alias)("invitingToTopic"),

    isGroupOwnerOrAdmin: function isGroupOwnerOrAdmin(isAdmin, groupUsers) {
      return isAdmin || groupUsers && groupUsers.some(function (groupUser) {
        return groupUser.owner;
      });
    },
    showGroups: function showGroups(isGroupOwnerOrAdmin, emailOrUsername, isPrivateTopic, isPM, invitingToTopic, canInviteViaEmail) {
      return isGroupOwnerOrAdmin && canInviteViaEmail && !isPM && ((0, _utilities.emailValid)(emailOrUsername) || isPrivateTopic || !invitingToTopic);
    },


    showContactPicker: (0, _object.computed)(function () {
      return this.capabilities.hasContactPicker;
    }),

    showCustomMessage: function showCustomMessage(emailOrUsername) {
      return this.inviteModel === this.currentUser || (0, _utilities.emailValid)(emailOrUsername);
    },
    inviteInstructions: function inviteInstructions(isPM, invitingToTopic, emailOrUsername, isPrivateTopic, isAdmin, canInviteViaEmail) {
      if (!canInviteViaEmail) {
        // can't invite via email, only existing users
        return I18n.t("topic.invite_reply.sso_enabled");
      } else if (isPM) {
        // inviting to a message
        return I18n.t("topic.invite_private.email_or_username");
      } else if (invitingToTopic) {
        // inviting to a private/public topic
        if (isPrivateTopic && !isAdmin) {
          // inviting to a private topic and is not admin
          return I18n.t("topic.invite_reply.to_username");
        } else {
          // when inviting to a topic, display instructions based on provided entity
          if ((0, _utils.isEmpty)(emailOrUsername)) {
            return I18n.t("topic.invite_reply.to_topic_blank");
          } else if ((0, _utilities.emailValid)(emailOrUsername)) {
            this.set("inviteIcon", "envelope");
            return I18n.t("topic.invite_reply.to_topic_email");
          } else {
            this.set("inviteIcon", "hand-point-right");
            return I18n.t("topic.invite_reply.to_topic_username");
          }
        }
      } else {
        // inviting to forum
        return I18n.t("topic.invite_reply.to_forum");
      }
    },
    showGroupsClass: function showGroupsClass(isPrivateTopic) {
      return isPrivateTopic ? "required" : "optional";
    },
    groupFinder: function groupFinder(term) {
      return _group.default.findAll({ term: term, ignore_automatic: true });
    },
    successMessage: function successMessage(isPM, emailOrUsername, invitingExistingUserToTopic) {
      if (this.hasGroups) {
        return I18n.t("topic.invite_private.success_group");
      } else if (isPM) {
        return I18n.t("topic.invite_private.success");
      } else if (invitingExistingUserToTopic) {
        return I18n.t("topic.invite_reply.success_existing_email", {
          emailOrUsername: emailOrUsername
        });
      } else if ((0, _utilities.emailValid)(emailOrUsername)) {
        return I18n.t("topic.invite_reply.success_email", { emailOrUsername: emailOrUsername });
      } else {
        return I18n.t("topic.invite_reply.success_username");
      }
    },
    errorMessage: function errorMessage(isPM) {
      return isPM ? I18n.t("topic.invite_private.error") : I18n.t("topic.invite_reply.error");
    },
    placeholderKey: function placeholderKey(canInviteViaEmail) {
      return canInviteViaEmail ? "topic.invite_private.email_or_username_placeholder" : "topic.invite_reply.username_placeholder";
    },


    customMessagePlaceholder: (0, _computed2.i18n)("invite.custom_message_placeholder"),

    // Reset the modal to allow a new user to be invited.
    reset: function reset() {
      this.setProperties({
        emailOrUsername: null,
        hasCustomMessage: false,
        customMessage: null,
        invitingExistingUserToTopic: false
      });

      this.inviteModel.setProperties({
        groupNames: null,
        error: false,
        saving: false,
        finished: false,
        inviteLink: null
      });
    },


    actions: {
      createInvite: function createInvite() {
        var _this = this;

        if (this.disabled) {
          return;
        }

        var groupNames = this.get("inviteModel.groupNames");
        var userInvitedController = this.userInvitedShow;

        var model = this.inviteModel;
        model.setProperties({ saving: true, error: false });

        var onerror = function onerror(e) {
          if (e.jqXHR.responseJSON && e.jqXHR.responseJSON.errors) {
            _this.set("errorMessage", e.jqXHR.responseJSON.errors[0]);
          } else {
            _this.set("errorMessage", _this.isPM ? I18n.t("topic.invite_private.error") : I18n.t("topic.invite_reply.error"));
          }
          model.setProperties({ saving: false, error: true });
        };

        if (this.hasGroups) {
          return this.inviteModel.createGroupInvite(this.emailOrUsername.trim()).then(function (data) {
            model.setProperties({ saving: false, finished: true });
            _this.get("inviteModel.details.allowed_groups").pushObject(_object.default.create(data.group));
            _this.appEvents.trigger("post-stream:refresh");
          }).catch(onerror);
        } else {
          return this.inviteModel.createInvite(this.emailOrUsername.trim(), groupNames, this.customMessage).then(function (result) {
            model.setProperties({ saving: false, finished: true });
            if (!_this.invitingToTopic && userInvitedController) {
              _invite.default.findInvitedBy(_this.currentUser, userInvitedController.get("filter")).then(function (inviteModel) {
                userInvitedController.setProperties({
                  model: inviteModel,
                  totalInvites: inviteModel.invites.length
                });
              });
            } else if (_this.isPM && result && result.user) {
              _this.get("inviteModel.details.allowed_users").pushObject(_object.default.create(result.user));
              _this.appEvents.trigger("post-stream:refresh");
            } else if (_this.invitingToTopic && (0, _utilities.emailValid)(_this.emailOrUsername.trim()) && result && result.user) {
              _this.set("invitingExistingUserToTopic", true);
            }
          }).catch(onerror);
        }
      },
      generateInvitelink: function generateInvitelink() {
        var _this2 = this;

        if (this.disabled) {
          return;
        }

        var groupNames = this.get("inviteModel.groupNames");
        var userInvitedController = this.userInvitedShow;
        var model = this.inviteModel;
        model.setProperties({ saving: true, error: false });

        var topicId = void 0;
        if (this.invitingToTopic) {
          topicId = this.get("inviteModel.id");
        }

        return model.generateInviteLink(this.emailOrUsername.trim(), groupNames, topicId).then(function (result) {
          model.setProperties({
            saving: false,
            finished: true,
            inviteLink: result
          });

          if (userInvitedController) {
            _invite.default.findInvitedBy(_this2.currentUser, userInvitedController.get("filter")).then(function (inviteModel) {
              userInvitedController.setProperties({
                model: inviteModel,
                totalInvites: inviteModel.invites.length
              });
            });
          }
        }).catch(function (e) {
          if (e.jqXHR.responseJSON && e.jqXHR.responseJSON.errors) {
            _this2.set("errorMessage", e.jqXHR.responseJSON.errors[0]);
          } else {
            _this2.set("errorMessage", _this2.isPM ? I18n.t("topic.invite_private.error") : I18n.t("topic.invite_reply.error"));
          }
          model.setProperties({ saving: false, error: true });
        });
      },
      showCustomMessageBox: function showCustomMessageBox() {
        this.toggleProperty("hasCustomMessage");
        if (this.hasCustomMessage) {
          if (this.inviteModel === this.currentUser) {
            this.set("customMessage", I18n.t("invite.custom_message_template_forum"));
          } else {
            this.set("customMessage", I18n.t("invite.custom_message_template_topic"));
          }
        } else {
          this.set("customMessage", null);
        }
      },
      searchContact: function searchContact() {
        var _this3 = this;

        (0, _pwaUtils.getNativeContact)(["email"], false).then(function (result) {
          _this3.set("emailOrUsername", result[0].email[0]);
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "disabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "disabled"), _obj), _applyDecoratedDescriptor(_obj, "disabledCopyLink", [_dec2], Object.getOwnPropertyDescriptor(_obj, "disabledCopyLink"), _obj), _applyDecoratedDescriptor(_obj, "buttonTitle", [_dec3], Object.getOwnPropertyDescriptor(_obj, "buttonTitle"), _obj), _applyDecoratedDescriptor(_obj, "invitingToTopic", [_dec4], Object.getOwnPropertyDescriptor(_obj, "invitingToTopic"), _obj), _applyDecoratedDescriptor(_obj, "canInviteViaEmail", [_dec5], Object.getOwnPropertyDescriptor(_obj, "canInviteViaEmail"), _obj), _applyDecoratedDescriptor(_obj, "showCopyInviteButton", [_dec6], Object.getOwnPropertyDescriptor(_obj, "showCopyInviteButton"), _obj), _applyDecoratedDescriptor(_obj, "isGroupOwnerOrAdmin", [_dec7], Object.getOwnPropertyDescriptor(_obj, "isGroupOwnerOrAdmin"), _obj), _applyDecoratedDescriptor(_obj, "showGroups", [_dec8], Object.getOwnPropertyDescriptor(_obj, "showGroups"), _obj), _applyDecoratedDescriptor(_obj, "showCustomMessage", [_dec9], Object.getOwnPropertyDescriptor(_obj, "showCustomMessage"), _obj), _applyDecoratedDescriptor(_obj, "inviteInstructions", [_dec10], Object.getOwnPropertyDescriptor(_obj, "inviteInstructions"), _obj), _applyDecoratedDescriptor(_obj, "showGroupsClass", [_dec11], Object.getOwnPropertyDescriptor(_obj, "showGroupsClass"), _obj), _applyDecoratedDescriptor(_obj, "successMessage", [_dec12], Object.getOwnPropertyDescriptor(_obj, "successMessage"), _obj), _applyDecoratedDescriptor(_obj, "errorMessage", [_dec13], Object.getOwnPropertyDescriptor(_obj, "errorMessage"), _obj), _applyDecoratedDescriptor(_obj, "placeholderKey", [_dec14], Object.getOwnPropertyDescriptor(_obj, "placeholderKey"), _obj)), _obj)));
});
define("discourse/components/latest-topic-list-item", ["exports", "@ember/component", "discourse/components/topic-list-item"], function (exports, _component, _topicListItem) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    attributeBindings: ["topic.id:data-topic-id"],
    classNameBindings: [":latest-topic-list-item", "topic.archived", "topic.visited"],

    showEntrance: _topicListItem.showEntrance,
    navigateToTopic: _topicListItem.navigateToTopic,

    click: function click(e) {
      // for events undefined has a different meaning than false
      if (this.showEntrance(e) === false) {
        return false;
      }

      return this.unhandledRowClick(e, this.topic);
    },


    // Can be overwritten by plugins to handle clicks on other parts of the row
    unhandledRowClick: function unhandledRowClick() {}
  });
});
define("discourse/components/link-to-input", ["exports", "@ember/runloop", "@ember/component"], function (exports, _runloop, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    showInput: false,

    click: function click() {
      var _this = this;

      this.onClick();

      (0, _runloop.schedule)("afterRender", function () {
        $(_this.element).find("input").focus();
      });

      return false;
    }
  });
});
define("discourse/components/links-redirect", ["exports", "@ember/component", "discourse/lib/click-track"], function (exports, _component, _clickTrack) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      $(this.element).on("click.discourse-redirect", "a", function (e) {
        return _clickTrack.default.trackClick(e);
      });
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      $(this.element).off("click.discourse-redirect", "a");
    }
  });
});
define("discourse/components/load-more", ["exports", "@ember/component", "discourse/mixins/load-more"], function (exports, _component, _loadMore) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend(_loadMore.default, {
    init: function init() {
      this._super.apply(this, arguments);

      this.set("eyelineSelector", this.selector);
    },


    actions: {
      loadMore: function loadMore() {
        this.action();
      }
    }
  });
});
define("discourse/components/login-buttons", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/models/login-method"], function (exports, _decorators, _component, _loginMethod) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("buttons.length", "showLoginWithEmailLink"), (_obj = {
    elementId: "login-buttons",
    classNameBindings: ["hidden"],

    hidden: function hidden(buttonsCount, showLoginWithEmailLink) {
      return buttonsCount === 0 && !showLoginWithEmailLink;
    },
    buttons: function buttons() {
      return (0, _loginMethod.findAll)();
    },


    actions: {
      externalLogin: function externalLogin(provider) {
        this.externalLogin(provider);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "hidden", [_dec], Object.getOwnPropertyDescriptor(_obj, "hidden"), _obj), _applyDecoratedDescriptor(_obj, "buttons", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "buttons"), _obj)), _obj)));
});
define("discourse/components/login-modal", ["exports", "@ember/runloop", "@ember/component"], function (exports, _runloop, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    didInsertElement: function didInsertElement() {
      var _this = this;

      this._super.apply(this, arguments);

      var prefillUsername = $("#hidden-login-form input[name=username]").val();
      if (prefillUsername) {
        this.set("loginName", prefillUsername);
        this.set("loginPassword", $("#hidden-login-form input[name=password]").val());
      } else if ($.cookie("email")) {
        this.set("loginName", $.cookie("email"));
      }

      (0, _runloop.schedule)("afterRender", function () {
        $("#login-account-password, #login-account-name, #login-second-factor").keydown(function (e) {
          if (e.keyCode === 13) {
            _this.action();
          }
        });
      });
    },
    mouseMove: function mouseMove(e) {
      this.set("screenX", e.screenX);
      this.set("screenY", e.screenY);
    }
  });
});
define("discourse/components/login-reply-button", ["exports", "discourse/components/d-button"], function (exports, _dButton) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _dButton.default.extend({
    label: "topic.reply.title",
    icon: "reply",
    action: "showLogin"
  });
});
define("discourse/components/mobile-category-topic", ["exports", "@ember/component", "discourse/components/topic-list-item"], function (exports, _component, _topicListItem) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "tr",
    classNameBindings: [":category-topic-link", "topic.archived", "topic.visited"],
    click: _topicListItem.showEntrance
  });
});
define("discourse/components/mobile-nav", ["exports", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators"], function (exports, _runloop, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.observes)("currentPath"), (_obj = {
    _init: function _init() {
      if (!this.get("site.mobileView")) {
        var classes = this.desktopClass;
        if (classes) {
          classes = classes.split(" ");
          this.set("classNames", classes);
        }
      }
    },


    tagName: "ul",
    selectedHtml: null,

    classNames: ["mobile-nav"],

    currentPathChanged: function currentPathChanged() {
      var _this = this;

      this.set("expanded", false);
      (0, _runloop.next)(function () {
        return _this._updateSelectedHtml();
      });
    },
    _updateSelectedHtml: function _updateSelectedHtml() {
      var active = this.element.querySelector(".active");
      if (active && active.innerHTML) {
        this.set("selectedHtml", active.innerHTML);
      }
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      this._updateSelectedHtml();
    },


    actions: {
      toggleExpanded: function toggleExpanded() {
        var _this2 = this;

        this.toggleProperty("expanded");

        (0, _runloop.next)(function () {
          if (_this2.expanded) {
            $(window).off("click.mobile-nav").on("click.mobile-nav", function (e) {
              if (!_this2.element || _this2.isDestroying || _this2.isDestroyed) {
                return;
              }

              var expander = _this2.element.querySelector(".expander");
              if (expander && e.target !== expander) {
                _this2.set("expanded", false);
                $(window).off("click.mobile-nav");
              }
            });
          }
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_init", [_dec], Object.getOwnPropertyDescriptor(_obj, "_init"), _obj), _applyDecoratedDescriptor(_obj, "currentPathChanged", [_dec2], Object.getOwnPropertyDescriptor(_obj, "currentPathChanged"), _obj)), _obj)));
});
define("discourse/components/modal-panel", ["exports", "@ember/component", "discourse/lib/computed"], function (exports, _component, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    panel: null,

    panelComponent: (0, _computed.fmt)("panel.id", "%@-panel"),

    classNameBindings: ["panel.id"],

    classNames: ["modal-panel"]
  });
});
define("discourse/components/modal-tab", ["exports", "@ember/object/computed", "@ember/component", "discourse/lib/computed"], function (exports, _computed, _component, _computed2) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "li",
    classNames: ["modal-tab"],
    panel: null,
    selectedPanel: null,
    panelsLength: null,
    classNameBindings: ["isActive", "singleTab", "panel.id"],
    singleTab: (0, _computed.equal)("panelsLength", 1),
    title: (0, _computed.alias)("panel.title"),
    isActive: (0, _computed2.propertyEqual)("panel.id", "selectedPanel.id"),

    click: function click() {
      this.onSelectPanel(this.panel);
    }
  });
});
define("discourse/components/mount-widget", ["exports", "@ember/runloop", "@ember/component", "virtual-dom", "discourse/widgets/hooks", "discourse/widgets/widget", "discourse-common/lib/get-owner", "discourse/lib/dirty-keys", "@ember/string"], function (exports, _runloop, _component, _virtualDom, _hooks, _widget, _getOwner, _dirtyKeys, _string) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addWidgetCleanCallback = addWidgetCleanCallback;
  exports.resetWidgetCleanCallbacks = resetWidgetCleanCallbacks;

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  var _cleanCallbacks = {};
  function addWidgetCleanCallback(widgetName, fn) {
    _cleanCallbacks[widgetName] = _cleanCallbacks[widgetName] || [];
    _cleanCallbacks[widgetName].push(fn);
  }

  function resetWidgetCleanCallbacks() {
    _cleanCallbacks = {};
  }

  exports.default = _component.default.extend({
    _tree: null,
    _rootNode: null,
    _timeout: null,
    _widgetClass: null,
    _renderCallback: null,
    _childEvents: null,
    _dispatched: null,
    dirtyKeys: null,

    init: function init() {
      this._super.apply(this, arguments);
      var name = this.widget;

      this.register = (0, _getOwner.getRegister)(this);

      this._widgetClass = (0, _widget.queryRegistry)(name) || this.register.lookupFactory("widget:" + name);

      if (!this._widgetClass) {
        // eslint-disable-next-line no-console
        console.error("Error: Could not find widget: " + name);
      }

      this._childEvents = [];
      this._connected = [];
      this._dispatched = [];
      this.dirtyKeys = new _dirtyKeys.default(name);
    },
    didInsertElement: function didInsertElement() {
      _hooks.WidgetClickHook.setupDocumentCallback();

      this._rootNode = document.createElement("div");
      this.element.appendChild(this._rootNode);
      this._timeout = (0, _runloop.scheduleOnce)("render", this, this.rerenderWidget);
    },
    willClearRender: function willClearRender() {
      var callbacks = _cleanCallbacks[this.widget];
      if (callbacks) {
        callbacks.forEach(function (cb) {
          return cb();
        });
      }

      this._connected.forEach(function (v) {
        return v.destroy();
      });
      this._connected.length = 0;
    },
    willDestroyElement: function willDestroyElement() {
      var _this = this;

      this._dispatched.forEach(function (evt) {
        var _evt = _slicedToArray(evt, 2),
            eventName = _evt[0],
            caller = _evt[1];

        _this.appEvents.off(eventName, _this, caller);
      });
      (0, _runloop.cancel)(this._timeout);
    },
    afterRender: function afterRender() {},
    beforePatch: function beforePatch() {},
    afterPatch: function afterPatch() {},
    eventDispatched: function eventDispatched(eventName, key, refreshArg) {
      var onRefresh = (0, _string.camelize)(eventName.replace(/:/, "-"));
      this.dirtyKeys.keyDirty(key, { onRefresh: onRefresh, refreshArg: refreshArg });
      this.queueRerender();
    },
    dispatch: function dispatch(eventName, key) {
      var _this2 = this;

      this._childEvents.push(eventName);

      var caller = function caller(refreshArg) {
        return _this2.eventDispatched(eventName, key, refreshArg);
      };
      this._dispatched.push([eventName, caller]);
      this.appEvents.on(eventName, this, caller);
    },
    queueRerender: function queueRerender(callback) {
      if (callback && !this._renderCallback) {
        this._renderCallback = callback;
      }

      (0, _runloop.scheduleOnce)("render", this, this.rerenderWidget);
    },
    buildArgs: function buildArgs() {},
    rerenderWidget: function rerenderWidget() {
      (0, _runloop.cancel)(this._timeout);

      if (this._rootNode) {
        if (!this._widgetClass) {
          return;
        }

        var t0 = new Date().getTime();
        var args = this.args || this.buildArgs();
        var opts = {
          model: this.model,
          dirtyKeys: this.dirtyKeys
        };
        var newTree = new this._widgetClass(args, this.register, opts);

        newTree._rerenderable = this;
        newTree._emberView = this;
        var patches = (0, _virtualDom.diff)(this._tree || this._rootNode, newTree);

        this.beforePatch();
        this._rootNode = (0, _virtualDom.patch)(this._rootNode, patches);
        this.afterPatch();

        this._tree = newTree;

        if (this._renderCallback) {
          this._renderCallback();
          this._renderCallback = null;
        }
        this.afterRender();
        this.dirtyKeys.renderedKey("*");

        if (this.profileWidget) {
          // eslint-disable-next-line no-console
          console.log(new Date().getTime() - t0);
        }
      }
    }
  });
});
define("discourse/components/nav-item", ["exports", "discourse-common/utils/decorators", "@ember/service", "@ember/component", "discourse-common/lib/icon-library"], function (exports, _decorators, _service, _component, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("label", "i18nLabel", "icon"), _dec2 = (0, _decorators.default)("route", "router.currentRoute"), (_obj = {
    tagName: "li",
    classNameBindings: ["active"],
    router: (0, _service.inject)(),

    contents: function contents(label, i18nLabel, icon) {
      var text = i18nLabel || I18n.t(label);
      if (icon) {
        return ((0, _iconLibrary.iconHTML)(icon) + " " + text).htmlSafe();
      }
      return text;
    },
    active: function active(route, currentRoute) {
      if (!route) {
        return;
      }

      var routeParam = this.routeParam;
      if (routeParam && currentRoute) {
        return currentRoute.params["filter"] === routeParam;
      }

      return this.router.isActive(route);
    }
  }, (_applyDecoratedDescriptor(_obj, "contents", [_dec], Object.getOwnPropertyDescriptor(_obj, "contents"), _obj), _applyDecoratedDescriptor(_obj, "active", [_dec2], Object.getOwnPropertyDescriptor(_obj, "active"), _obj)), _obj)));
});
define("discourse/components/navigation-bar", ["exports", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators", "discourse/lib/url", "discourse/lib/plugin-connectors", "discourse/mixins/filter-mode"], function (exports, _runloop, _component, _decorators, _url, _pluginConnectors, _filterMode) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend(_filterMode.default, (_dec = (0, _decorators.default)("filterType", "navItems"), _dec2 = (0, _decorators.observes)("expanded"), (_obj = {
    tagName: "ul",
    classNameBindings: [":nav", ":nav-pills"],
    elementId: "navigation-bar",

    init: function init() {
      this._super.apply(this, arguments);
      this.set("connectors", (0, _pluginConnectors.renderedConnectorsFor)("extra-nav-item", null, this));
    },
    selectedNavItem: function selectedNavItem(filterType, navItems) {
      var item = navItems.find(function (i) {
        return i.active === true;
      });

      item = item || navItems.find(function (i) {
        return i.get("filterType") === filterType;
      });

      if (!item) {
        var connectors = this.connectors;
        var category = this.category;
        if (connectors && category) {
          connectors.forEach(function (c) {
            if (c.connectorClass && typeof c.connectorClass.path === "function" && _typeof(c.connectorClass.displayName === "function")) {
              var path = c.connectorClass.path(category);
              if (path.indexOf(filterType) > 0) {
                item = {
                  displayName: c.connectorClass.displayName()
                };
              }
            }
          });
        }
      }
      return item || navItems[0];
    },
    closedNav: function closedNav() {
      if (!this.expanded) {
        this.ensureDropClosed();
      }
    },
    ensureDropClosed: function ensureDropClosed() {
      if (!this.expanded) {
        this.set("expanded", false);
      }
      $(window).off("click.navigation-bar");
      _url.default.appEvents.off("dom:clean", this, this.ensureDropClosed);
    },


    actions: {
      toggleDrop: function toggleDrop() {
        var _this = this;

        this.set("expanded", !this.expanded);

        if (this.expanded) {
          _url.default.appEvents.on("dom:clean", this, this.ensureDropClosed);

          (0, _runloop.next)(function () {
            if (!_this.expanded) {
              return;
            }

            $(_this.element.querySelector(".drop a")).on("click", function () {
              _this.element.querySelector(".drop").style.display = "none";

              (0, _runloop.next)(function () {
                if (!_this.element || _this.isDestroying || _this.isDestroyed) {
                  return;
                }
                _this.set("expanded", false);
              });

              return true;
            });

            $(window).on("click.navigation-bar", function () {
              _this.set("expanded", false);
              return true;
            });
          });
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "selectedNavItem", [_dec], Object.getOwnPropertyDescriptor(_obj, "selectedNavItem"), _obj), _applyDecoratedDescriptor(_obj, "closedNav", [_dec2], Object.getOwnPropertyDescriptor(_obj, "closedNav"), _obj)), _obj)));
});
define("discourse/components/navigation-item", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/mixins/filter-mode"], function (exports, _decorators, _component, _filterMode) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend(_filterMode.default, (_dec = (0, _decorators.default)("content.filterType", "filterType", "content.active"), _dec2 = (0, _decorators.default)("content.count"), (_obj = {
    tagName: "li",
    classNameBindings: ["active", "content.hasIcon:has-icon", "content.classNames", "isHidden:hidden"],
    attributeBindings: ["content.title:title"],
    hidden: false,
    rerenderTriggers: ["content.count"],
    activeClass: "",
    hrefLink: null,

    active: function active(contentFilterType, filterType, _active) {
      if (_active !== undefined) {
        return _active;
      }
      return contentFilterType === filterType;
    },
    isHidden: function isHidden(count) {
      return !this.active && this.currentUser && this.currentUser.trust_level > 0 && (this.content.get("name") === "new" || this.content.get("name") === "unread") && count < 1;
    },
    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);
      var content = this.content;

      var href = content.get("href");
      var queryParams = [];

      // Include the category id if the option is present
      if (content.get("includeCategoryId")) {
        var categoryId = this.get("content.category.id");
        if (categoryId) {
          queryParams.push("category_id=" + categoryId);
        }
      }

      // ensures we keep discovery query params added through plugin api
      if (content.persistedQueryParams) {
        Object.keys(content.persistedQueryParams).forEach(function (key) {
          var value = content.persistedQueryParams[key];
          queryParams.push(key + "=" + value);
        });
      }

      if (queryParams.length) {
        href += "?" + queryParams.join("&");
      }
      this.set("hrefLink", href);

      this.set("activeClass", this.active ? "active" : "");
    }
  }, (_applyDecoratedDescriptor(_obj, "active", [_dec], Object.getOwnPropertyDescriptor(_obj, "active"), _obj), _applyDecoratedDescriptor(_obj, "isHidden", [_dec2], Object.getOwnPropertyDescriptor(_obj, "isHidden"), _obj)), _obj)));
});
define("discourse/components/notification-consent-banner", ["exports", "discourse-common/utils/decorators", "discourse/lib/push-notifications", "discourse/components/desktop-notification-config"], function (exports, _decorators, _pushNotifications, _desktopNotificationConfig) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj, _init;

  var userDismissedPromptKey = "dismissed-prompt";

  exports.default = _desktopNotificationConfig.default.extend((_dec = (0, _decorators.default)("isNotSupported", "isEnabled", "bannerDismissed", "currentUser.reply_count", "currentUser.topic_count"), (_obj = {
    bannerDismissed: {
      set: function set(value) {
        _pushNotifications.keyValueStore.setItem(userDismissedPromptKey, value);
        return _pushNotifications.keyValueStore.getItem(userDismissedPromptKey);
      },
      get: function get() {
        return _pushNotifications.keyValueStore.getItem(userDismissedPromptKey);
      }
    },

    showNotificationPromptBanner: function showNotificationPromptBanner(isNotSupported, isEnabled, bannerDismissed, replyCount, topicCount) {
      return this.siteSettings.push_notifications_prompt && !isNotSupported && this.currentUser && replyCount + topicCount > 0 && Notification.permission !== "denied" && Notification.permission !== "granted" && !isEnabled && !bannerDismissed;
    },


    actions: {
      turnon: function turnon() {
        this._super.apply(this, arguments);
        this.set("bannerDismissed", true);
      },
      dismiss: function dismiss() {
        this.set("bannerDismissed", true);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "bannerDismissed", [_decorators.default], (_init = Object.getOwnPropertyDescriptor(_obj, "bannerDismissed"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "showNotificationPromptBanner", [_dec], Object.getOwnPropertyDescriptor(_obj, "showNotificationPromptBanner"), _obj)), _obj)));
});
define("discourse/components/number-field", ["exports", "discourse-common/utils/decorators"], function (exports, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj, _init;

  exports.default = Ember.TextField.extend((_dec = (0, _decorators.default)("number"), _dec2 = (0, _decorators.default)("placeholderKey"), (_obj = {
    classNameBindings: ["invalid"],

    value: {
      get: function get(number) {
        return parseInt(number, 10);
      },
      set: function set(value) {
        var num = parseInt(value, 10);
        if (isNaN(num)) {
          this.set("invalid", true);
          return value;
        } else {
          this.set("invalid", false);
          this.set("number", num);
          return num.toString();
        }
      }
    },

    placeholder: function placeholder(key) {
      return key ? I18n.t(key) : "";
    }
  }, (_applyDecoratedDescriptor(_obj, "value", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "value"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "placeholder", [_dec2], Object.getOwnPropertyDescriptor(_obj, "placeholder"), _obj)), _obj)));
});
define("discourse/components/password-field", ["exports", "discourse/components/text-field"], function (exports, _textField) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _textField.default.extend({
    canToggle: false,

    keyPress: function keyPress(e) {
      if (e.which >= 65 && e.which <= 90 && !e.shiftKey || e.which >= 97 && e.which <= 122 && e.shiftKey) {
        this.set("canToggle", true);
        this.set("capsLockOn", true);
      } else if (e.which >= 65 && e.which <= 90 && e.shiftKey || e.which >= 97 && e.which <= 122 && !e.shiftKey) {
        this.set("canToggle", true);
        this.set("capsLockOn", false);
      }
    },
    keyUp: function keyUp(e) {
      if (e.which === 20 && this.canToggle) {
        this.toggleProperty("capsLockOn");
      }
    },
    focusOut: function focusOut() {
      this.set("capsLockOn", false);
    },
    focusIn: function focusIn() {
      this.set("canToggle", false); // can't know the state of caps lock yet. keyPress will figure it out.
    }
  });
});
define("discourse/components/plugin-connector", ["exports", "@ember/component", "@ember/object", "discourse-common/lib/deprecated", "discourse/lib/plugin-connectors", "discourse-common/utils/decorators"], function (exports, _component, _object, _deprecated, _pluginConnectors, _decorators2) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addPluginOutletDecorator = addPluginOutletDecorator;
  exports.resetDecorators = resetDecorators;

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  var _decorators = {};

  // Don't call this directly: use `plugin-api/decoratePluginOutlet`
  function addPluginOutletDecorator(outletName, callback) {
    _decorators[outletName] = _decorators[outletName] || [];
    _decorators[outletName].push(callback);
  }

  function resetDecorators() {
    _decorators = {};
  }

  exports.default = _component.default.extend((_obj = {
    init: function init() {
      var _this = this;

      this._super.apply(this, arguments);

      var connector = this.connector;
      this.set("layoutName", connector.templateName);

      var args = this.args || {};
      Object.keys(args).forEach(function (key) {
        (0, _object.defineProperty)(_this, key, (0, _object.computed)("args", function () {
          return (_this.args || {})[key];
        }));
      });

      var deprecatedArgs = this.deprecatedArgs || {};
      Object.keys(deprecatedArgs).forEach(function (key) {
        (0, _object.defineProperty)(_this, key, (0, _object.computed)("deprecatedArgs", function () {
          (0, _deprecated.default)("The " + key + " property is deprecated, but is being used in " + _this.layoutName);

          return (_this.deprecatedArgs || {})[key];
        }));
      });

      var connectorClass = this.get("connector.connectorClass");
      this.set("actions", connectorClass.actions);

      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = Object.entries(this.actions)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _step$value = _slicedToArray(_step.value, 2),
              name = _step$value[0],
              action = _step$value[1];

          this.set(name, action);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      var merged = (0, _pluginConnectors.buildArgsWithDeprecations)(args, deprecatedArgs);
      connectorClass.setupComponent.call(this, merged, this);
    },
    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);

      this._decoratePluginOutlets();
    },
    _decoratePluginOutlets: function _decoratePluginOutlets() {
      var _this2 = this;

      (_decorators[this.connector.outletName] || []).forEach(function (dec) {
        return dec(_this2.element, _this2.args);
      });
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      var connectorClass = this.get("connector.connectorClass");
      connectorClass.teardownComponent.call(this, this);
    },
    send: function send(name) {
      var connectorClass = this.get("connector.connectorClass");
      var action = connectorClass.actions[name];

      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      return action ? action.call.apply(action, [this].concat(args)) : this._super.apply(this, [name].concat(args));
    }
  }, (_applyDecoratedDescriptor(_obj, "_decoratePluginOutlets", [_decorators2.afterRender], Object.getOwnPropertyDescriptor(_obj, "_decoratePluginOutlets"), _obj)), _obj));
});
define("discourse/components/plugin-outlet", ["exports", "@ember/component", "discourse/lib/plugin-connectors"], function (exports, _component, _pluginConnectors) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "span",
    connectors: null,

    init: function init() {
      // This should be the future default
      if (this.noTags) {
        this.set("tagName", "");
        this.set("connectorTagName", "");
      }

      this._super.apply(this, arguments);
      var name = this.name;
      if (name) {
        var args = (0, _pluginConnectors.buildArgsWithDeprecations)(this.args || {}, this.deprecatedArgs || {});
        this.set("connectors", (0, _pluginConnectors.renderedConnectorsFor)(name, args, this));
      }
    }
  });
});
define("discourse/components/popup-input-tip", ["exports", "@ember/object/computed", "@ember/component", "discourse-common/lib/icon-library", "discourse-common/utils/decorators"], function (exports, _computed, _component, _iconLibrary, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("shownAt", "validation.lastShownAt"), _dec2 = (0, _decorators.observes)("lastShownAt"), (_obj = {
    classNameBindings: [":popup-tip", "good", "bad", "lastShownAt::hide"],
    animateAttribute: null,
    bouncePixels: 6,
    bounceDelay: 100,
    rerenderTriggers: ["validation.reason"],
    closeIcon: ("" + (0, _iconLibrary.iconHTML)("times-circle")).htmlSafe(),
    tipReason: null,

    click: function click() {
      this.set("shownAt", null);
      this.set("validation.lastShownAt", null);
    },


    bad: (0, _computed.alias)("validation.failed"),
    good: (0, _computed.not)("bad"),

    lastShownAt: function lastShownAt(shownAt, _lastShownAt) {
      return shownAt || _lastShownAt;
    },
    bounce: function bounce() {
      if (this.lastShownAt) {
        var $elem = $(this.element);
        if (!this.animateAttribute) {
          this.animateAttribute = $elem.css("left") === "auto" ? "right" : "left";
        }
        if (this.animateAttribute === "left") {
          this.bounceLeft($elem);
        } else {
          this.bounceRight($elem);
        }
      }
    },
    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);
      var reason = this.get("validation.reason");
      if (reason) {
        this.set("tipReason", ("" + reason).htmlSafe());
      } else {
        this.set("tipReason", null);
      }
    },
    bounceLeft: function bounceLeft($elem) {
      for (var i = 0; i < 5; i++) {
        $elem.animate({ left: "+=" + this.bouncePixels }, this.bounceDelay).animate({ left: "-=" + this.bouncePixels }, this.bounceDelay);
      }
    },
    bounceRight: function bounceRight($elem) {
      for (var i = 0; i < 5; i++) {
        $elem.animate({ right: "-=" + this.bouncePixels }, this.bounceDelay).animate({ right: "+=" + this.bouncePixels }, this.bounceDelay);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "lastShownAt", [_dec], Object.getOwnPropertyDescriptor(_obj, "lastShownAt"), _obj), _applyDecoratedDescriptor(_obj, "bounce", [_dec2], Object.getOwnPropertyDescriptor(_obj, "bounce"), _obj)), _obj)));
});
define("discourse/components/preference-checkbox", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("labelKey"), (_obj = {
    classNames: ["controls"],

    label: function label(labelKey) {
      return I18n.t(labelKey);
    },
    change: function change() {
      var warning = this.warning;

      if (warning && this.checked) {
        this.warning();
        return false;
      }

      return true;
    }
  }, (_applyDecoratedDescriptor(_obj, "label", [_dec], Object.getOwnPropertyDescriptor(_obj, "label"), _obj)), _obj)));
});
define("discourse/components/private-message-glyph", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: null,
    href: null,
    title: null,
    ariaLabel: null
  });
});
define("discourse/components/pwa-install-banner", ["exports", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators"], function (exports, _runloop, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj, _init;

  var USER_DISMISSED_PROMPT_KEY = "dismissed-pwa-install-banner";

  exports.default = _component.default.extend((_dec = (0, _decorators.on)("didInsertElement"), _dec2 = (0, _decorators.on)("willDestroyElement"), _dec3 = (0, _decorators.default)("deferredInstallPromptEvent", "bannerDismissed"), (_obj = {
    deferredInstallPromptEvent: null,

    _handleInstallPromptEvent: function _handleInstallPromptEvent(event) {
      // Prevent Chrome 76+ from automatically showing the prompt
      event.preventDefault();
      // Stash the event so it can be triggered later
      this.set("deferredInstallPromptEvent", event);
    },
    _registerListener: function _registerListener() {
      this._promptEventHandler = (0, _runloop.bind)(this, this._handleInstallPromptEvent);
      window.addEventListener("beforeinstallprompt", this._promptEventHandler);
    },
    _unregisterListener: function _unregisterListener() {
      window.removeEventListener("beforeinstallprompt", this._promptEventHandler);
    },

    bannerDismissed: {
      set: function set(value) {
        this.keyValueStore.set({ key: USER_DISMISSED_PROMPT_KEY, value: value });
        return this.keyValueStore.get(USER_DISMISSED_PROMPT_KEY);
      },
      get: function get() {
        return this.keyValueStore.get(USER_DISMISSED_PROMPT_KEY);
      }
    },

    showPWAInstallBanner: function showPWAInstallBanner() {
      var launchedFromDiscourseHub = window.location.search.indexOf("discourse_app=1") !== -1;

      return this.capabilities.isAndroid && this.get("currentUser.trust_level") > 0 && this.deferredInstallPromptEvent && // Pass the browser engagement checks
      !window.matchMedia("(display-mode: standalone)").matches && // Not be in the installed PWA already
      !launchedFromDiscourseHub && // not launched via official app
      !this.bannerDismissed // Have not a previously dismissed install banner
      ;
    },


    actions: {
      turnOn: function turnOn() {
        this.set("bannerDismissed", true);
        this.deferredInstallPromptEvent.prompt();
      },
      dismiss: function dismiss() {
        this.set("bannerDismissed", true);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_registerListener", [_dec], Object.getOwnPropertyDescriptor(_obj, "_registerListener"), _obj), _applyDecoratedDescriptor(_obj, "_unregisterListener", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_unregisterListener"), _obj), _applyDecoratedDescriptor(_obj, "bannerDismissed", [_decorators.default], (_init = Object.getOwnPropertyDescriptor(_obj, "bannerDismissed"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "showPWAInstallBanner", [_dec3], Object.getOwnPropertyDescriptor(_obj, "showPWAInstallBanner"), _obj)), _obj)));
});
define("discourse/components/quote-button", ["exports", "@ember/runloop", "@ember/component", "discourse/lib/debounce", "discourse/lib/utilities"], function (exports, _runloop, _component, _debounce, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["quote-button"],
    classNameBindings: ["visible"],
    visible: false,

    _isMouseDown: false,
    _reselected: false,

    _hideButton: function _hideButton() {
      this.quoteState.clear();
      this.set("visible", false);
    },
    _selectionChanged: function _selectionChanged() {
      var quoteState = this.quoteState;

      var selection = window.getSelection();
      if (selection.isCollapsed) {
        if (this.visible) {
          this._hideButton();
        }
        return;
      }

      // ensure we selected content inside 1 post *only*
      var firstRange = void 0,
          postId = void 0;
      for (var r = 0; r < selection.rangeCount; r++) {
        var range = selection.getRangeAt(r);

        if ($(range.startContainer.parentNode).closest(".cooked").length === 0) return;

        var $ancestor = $(range.commonAncestorContainer);

        firstRange = firstRange || range;
        postId = postId || $ancestor.closest(".boxed, .reply").data("post-id");

        if ($ancestor.closest(".contents").length === 0 || !postId) {
          if (this.visible) {
            this._hideButton();
          }
          return;
        }
      }

      var opts = { raw: true };
      for (var element = (0, _utilities.selectedElement)(); element && element.tagName !== "ARTICLE"; element = element.parentElement) {
        if (element.tagName === "ASIDE" && element.classList.contains("quote")) {
          opts.username = element.dataset.username || element.querySelector(".title").textContent.trim().replace(/:$/, "");
          opts.post = element.dataset.post;
          opts.topic = element.dataset.topic;
        }
      }

      var _selectedText = (0, _utilities.selectedText)();
      quoteState.selected(postId, _selectedText, opts);
      this.set("visible", quoteState.buffer.length > 0);

      // avoid hard loops in quote selection unconditionally
      // this can happen if you triple click text in firefox
      if (this._prevSelection === _selectedText) {
        return;
      }

      this._prevSelection = _selectedText;

      // on Desktop, shows the button at the beginning of the selection
      // on Mobile, shows the button at the end of the selection
      var isMobileDevice = this.site.isMobileDevice;
      var _capabilities = this.capabilities,
          isIOS = _capabilities.isIOS,
          isAndroid = _capabilities.isAndroid,
          isSafari = _capabilities.isSafari,
          isOpera = _capabilities.isOpera,
          isIE11 = _capabilities.isIE11;

      var showAtEnd = isMobileDevice || isIOS || isAndroid || isOpera;

      // Don't mess with the original range as it results in weird behaviours
      // where certain browsers will deselect the selection
      var clone = firstRange.cloneRange();

      // create a marker element containing a single invisible character
      var markerElement = document.createElement("span");
      markerElement.appendChild(document.createTextNode("\uFEFF"));

      // on mobile, collapse the range at the end of the selection
      if (showAtEnd) {
        clone.collapse();
      }
      // insert the marker
      clone.insertNode(markerElement);

      // retrieve the position of the marker
      var $markerElement = $(markerElement);
      var markerOffset = $markerElement.offset();
      var parentScrollLeft = $markerElement.parent().scrollLeft();
      var $quoteButton = $(this.element);

      // remove the marker
      var parent = markerElement.parentNode;
      parent.removeChild(markerElement);
      // merge back all text nodes so they don't get messed up
      if (!isIE11) {
        // Skip this fix in IE11 - .normalize causes the selection to change
        parent.normalize();
      }

      // work around Safari that would sometimes lose the selection
      if (isSafari) {
        this._reselected = true;
        selection.removeAllRanges();
        selection.addRange(clone);
      }

      // change the position of the button
      (0, _runloop.scheduleOnce)("afterRender", function () {
        var top = markerOffset.top;
        var left = markerOffset.left + Math.max(0, parentScrollLeft);

        if (showAtEnd) {
          var nearRightEdgeOfScreen = $(window).width() - $quoteButton.outerWidth() < left + 10;

          top = nearRightEdgeOfScreen ? top + 50 : top + 20;
          left = Math.min(left + 10, $(window).width() - $quoteButton.outerWidth() - 10);
        } else {
          top = top - $quoteButton.outerHeight() - 5;
        }

        $quoteButton.offset({ top: top, left: left });
      });
    },
    didInsertElement: function didInsertElement() {
      var _this = this;

      var _capabilities2 = this.capabilities,
          isWinphone = _capabilities2.isWinphone,
          isAndroid = _capabilities2.isAndroid;

      var wait = isWinphone || isAndroid ? 250 : 25;
      var onSelectionChanged = (0, _debounce.default)(function () {
        return _this._selectionChanged();
      }, wait);

      $(document).on("mousedown.quote-button", function (e) {
        _this._prevSelection = null;
        _this._isMouseDown = true;
        _this._reselected = false;
        if ($(e.target).closest(".quote-button, .create, .share, .reply-new").length === 0) {
          _this._hideButton();
        }
      }).on("mouseup.quote-button", function () {
        _this._prevSelection = null;
        _this._isMouseDown = false;
        onSelectionChanged();
      }).on("selectionchange.quote-button", function () {
        if (!_this._isMouseDown && !_this._reselected) {
          onSelectionChanged();
        }
      });
    },
    willDestroyElement: function willDestroyElement() {
      $(document).off("mousedown.quote-button").off("mouseup.quote-button").off("selectionchange.quote-button");
    },
    click: function click() {
      var _this2 = this;

      var _quoteState = this.quoteState,
          postId = _quoteState.postId,
          buffer = _quoteState.buffer,
          opts = _quoteState.opts;

      this.attrs.selectText(postId, buffer, opts).then(function () {
        return _this2._hideButton();
      });
      return false;
    }
  });
});
define("discourse/components/radio-button", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("value", "selection"), (_obj = {
    tagName: "input",
    type: "radio",
    attributeBindings: ["name", "type", "value", "checked:checked", "disabled:disabled"],

    click: function click() {
      var value = $(this.element).val();

      if (this.onChange) {
        this.onChange(value);
      } else {
        if (this.selection === value) {
          this.set("selection", undefined);
        }
        this.set("selection", value);
      }
    },
    checked: function checked(value, selection) {
      return value === selection;
    }
  }, (_applyDecoratedDescriptor(_obj, "checked", [_dec], Object.getOwnPropertyDescriptor(_obj, "checked"), _obj)), _obj)));
});
define("discourse/components/related-messages", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("topic"), _dec2 = (0, _decorators.default)("topic"), (_obj = {
    elementId: "related-messages",
    classNames: ["suggested-topics"],

    targetUser: function targetUser(topic) {
      var _this = this;

      if (!topic || !topic.isPrivateMessage) {
        return;
      }
      var allowedUsers = topic.details.allowed_users;
      if (topic.relatedMessages && topic.relatedMessages.length >= 5 && allowedUsers.length === 2 && topic.details.allowed_groups.length === 0 && allowedUsers.find(function (u) {
        return u.username === _this.currentUser.username;
      })) {
        return allowedUsers.find(function (u) {
          return u.username !== _this.currentUser.username;
        });
      }
    },
    searchLink: function searchLink() {
      return Discourse.getURL("/search?expanded=true&q=%40" + this.targetUser.username + "%20in%3Apersonal-direct");
    },
    relatedTitleLink: function relatedTitleLink(topic) {
      return this.currentUser && this.currentUser.pmPath(topic);
    }
  }, (_applyDecoratedDescriptor(_obj, "targetUser", [_dec], Object.getOwnPropertyDescriptor(_obj, "targetUser"), _obj), _applyDecoratedDescriptor(_obj, "searchLink", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "searchLink"), _obj), _applyDecoratedDescriptor(_obj, "relatedTitleLink", [_dec2], Object.getOwnPropertyDescriptor(_obj, "relatedTitleLink"), _obj)), _obj)));
});
define("discourse/components/reviewable-bundled-action", ["exports", "@ember/object/computed", "@ember/component"], function (exports, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "",

    multiple: (0, _computed.gt)("bundle.actions.length", 1),
    first: (0, _computed.alias)("bundle.actions.firstObject"),

    actions: {
      performById: function performById(id) {
        this.attrs.performAction(this.get("bundle.actions").findBy("id", id));
      },
      perform: function perform(action) {
        this.attrs.performAction(action);
      }
    }
  });
});
define("discourse/components/reviewable-claimed-topic", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/lib/ajax-error", "discourse/lib/ajax"], function (exports, _decorators, _component, _ajaxError, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  exports.default = _component.default.extend((_obj = {
    tagName: "",

    enabled: function enabled() {
      return this.siteSettings.reviewable_claiming !== "disabled";
    },


    actions: {
      unclaim: function unclaim() {
        var _this = this;

        (0, _ajax.ajax)("/reviewable_claimed_topics/" + this.topicId, {
          method: "DELETE"
        }).then(function () {
          _this.set("claimedBy", null);
        });
      },
      claim: function claim() {
        var _this2 = this;

        var claim = this.store.createRecord("reviewable-claimed-topic");

        claim.save({ topic_id: this.topicId }).then(function () {
          _this2.set("claimedBy", _this2.currentUser);
        }).catch(_ajaxError.popupAjaxError);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "enabled", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "enabled"), _obj)), _obj));
});
define("discourse/components/reviewable-conversation-post", ["exports", "@ember/object/computed", "@ember/component"], function (exports, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    showUsername: (0, _computed.gte)("index", 1)
  });
});
define("discourse/components/reviewable-field-tags", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    actions: {
      onChange: function onChange(tags) {
        this.valueChanged && this.valueChanged({
          target: {
            value: tags
          }
        });
      }
    }
  });
});
define("discourse/components/reviewable-flagged-post", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component", "discourse/lib/formatter", "discourse/widgets/post-edits-indicator", "discourse/lib/show-modal"], function (exports, _decorators, _computed, _component, _formatter, _postEditsIndicator, _showModal) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("reviewable.post_updated_at"), _dec2 = (0, _decorators.default)("reviewable.post_updated_at"), (_obj = {
    hasEdits: (0, _computed.gt)("reviewable.post_version", 1),

    historyClass: function historyClass(updatedAt) {
      return (0, _postEditsIndicator.historyHeat)(this.siteSettings, new Date(updatedAt));
    },
    editedDate: function editedDate(updatedAt) {
      return (0, _formatter.longDate)(updatedAt);
    },


    actions: {
      showEditHistory: function showEditHistory() {
        var postId = this.get("reviewable.post_id");
        this.store.find("post", postId).then(function (post) {
          var historyController = (0, _showModal.default)("history", {
            model: post,
            modalClass: "history-modal"
          });
          historyController.refresh(postId, "latest");
          historyController.set("post", post);
          historyController.set("topicController", null);
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "historyClass", [_dec], Object.getOwnPropertyDescriptor(_obj, "historyClass"), _obj), _applyDecoratedDescriptor(_obj, "editedDate", [_dec2], Object.getOwnPropertyDescriptor(_obj, "editedDate"), _obj)), _obj)));
});
define("discourse/components/reviewable-histories", ["exports", "@ember/object/computed", "@ember/component"], function (exports, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    filteredHistories: (0, _computed.filterBy)("histories", "created", false)
  });
});
define("discourse/components/reviewable-item", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/lib/ajax", "discourse/lib/ajax-error", "discourse/models/category", "discourse/lib/optional-service", "discourse/lib/show-modal", "@ember/string", "@ember/object"], function (exports, _decorators, _component, _ajax, _ajaxError, _category, _optionalService, _showModal, _string, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _desc, _value, _obj;

  var _components = {};

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("reviewable.type"), _dec2 = (0, _decorators.default)("reviewable.topic", "reviewable.topic_id", "reviewable.removed_topic_id"), _dec3 = (0, _decorators.default)("siteSettings.reviewable_claiming", "topicId"), _dec4 = (0, _decorators.default)("claimEnabled", "siteSettings.reviewable_claiming", "reviewable.claimed_by"), _dec5 = (0, _decorators.default)("siteSettings.reviewable_claiming", "reviewable.claimed_by"), _dec6 = (0, _decorators.default)("reviewable.type"), (_obj = {
    adminTools: (0, _optionalService.default)(),
    tagName: "",
    updating: null,
    editing: false,
    _updates: null,

    customClass: function customClass(type) {
      return type.dasherize();
    },
    topicId: function topicId(topic, _topicId, removedTopicId) {
      return topic && topic.id || _topicId || removedTopicId;
    },
    claimEnabled: function claimEnabled(claimMode, topicId) {
      return claimMode !== "disabled" && !!topicId;
    },
    canPerform: function canPerform(claimEnabled, claimMode, claimedBy) {
      if (!claimEnabled) {
        return true;
      }

      if (claimedBy) {
        return claimedBy.id === this.currentUser.id;
      }

      return claimMode !== "required";
    },
    claimHelp: function claimHelp(claimMode, claimedBy) {
      if (claimedBy) {
        return claimedBy.id === this.currentUser.id ? I18n.t("review.claim_help.claimed_by_you") : I18n.t("review.claim_help.claimed_by_other", {
          username: claimedBy.username
        });
      }

      return claimMode === "optional" ? I18n.t("review.claim_help.optional") : I18n.t("review.claim_help.required");
    },
    reviewableComponent: function reviewableComponent(type) {
      if (_components[type] !== undefined) {
        return _components[type];
      }

      var dasherized = (0, _string.dasherize)(type);
      var templatePath = "components/" + dasherized;
      var template = Ember.TEMPLATES["" + templatePath] || Ember.TEMPLATES["javascripts/" + templatePath];
      _components[type] = template ? dasherized : null;
      return _components[type];
    },
    _performConfirmed: function _performConfirmed(action) {
      var _this = this;

      var reviewable = this.reviewable;

      var performAction = function performAction() {
        var version = reviewable.get("version");
        _this.set("updating", true);
        return (0, _ajax.ajax)("/review/" + reviewable.id + "/perform/" + action.id + "?version=" + version, {
          method: "PUT"
        }).then(function (result) {
          var performResult = result.reviewable_perform_result;

          // "fast track" to update the current user's reviewable count before the message bus finds out.
          if (performResult.reviewable_count !== undefined) {
            _this.currentUser.set("reviewable_count", result.reviewable_count);
          }

          if (_this.attrs.remove) {
            _this.attrs.remove(performResult.remove_reviewable_ids);
          } else {
            return _this.store.find("reviewable", reviewable.id);
          }
        }).catch(_ajaxError.popupAjaxError).finally(function () {
          return _this.set("updating", false);
        });
      };

      if (action.client_action) {
        var actionMethod = this["client" + action.client_action.classify()];
        if (actionMethod) {
          return actionMethod.call(this, reviewable, performAction);
        } else {
          // eslint-disable-next-line no-console
          console.error("No handler for " + action.client_action + " found");
          return;
        }
        return;
      } else {
        return performAction();
      }
    },
    clientSuspend: function clientSuspend(reviewable, performAction) {
      this._penalize("showSuspendModal", reviewable, performAction);
    },
    clientSilence: function clientSilence(reviewable, performAction) {
      this._penalize("showSilenceModal", reviewable, performAction);
    },
    _penalize: function _penalize(adminToolMethod, reviewable, performAction) {
      var adminTools = this.adminTools;
      if (adminTools) {
        var createdBy = reviewable.get("target_created_by");
        var postId = reviewable.get("post_id");
        var postEdit = reviewable.get("raw");
        return adminTools[adminToolMethod](createdBy, {
          postId: postId,
          postEdit: postEdit,
          before: performAction
        });
      }
    },


    actions: {
      explainReviewable: function explainReviewable(reviewable) {
        (0, _showModal.default)("explain-reviewable", {
          title: "review.explain.title",
          model: reviewable
        });
      },
      edit: function edit() {
        this.set("editing", true);
        this._updates = { payload: {} };
      },
      cancelEdit: function cancelEdit() {
        this.set("editing", false);
      },
      saveEdit: function saveEdit() {
        var _this2 = this;

        var updates = this._updates;

        // Remove empty objects
        Object.keys(updates).forEach(function (name) {
          var attr = updates[name];
          if ((typeof attr === "undefined" ? "undefined" : _typeof(attr)) === "object" && Object.keys(attr).length === 0) {
            delete updates[name];
          }
        });

        this.set("updating", true);
        return this.reviewable.update(updates).then(function () {
          return _this2.set("editing", false);
        }).catch(_ajaxError.popupAjaxError).finally(function () {
          return _this2.set("updating", false);
        });
      },
      categoryChanged: function categoryChanged(categoryId) {
        var category = _category.default.findById(categoryId);

        if (!category) {
          category = _category.default.findUncategorized();
        }

        this._updates.category_id = category.id;
      },
      valueChanged: function valueChanged(fieldId, event) {
        (0, _object.set)(this._updates, fieldId, event.target.value);
      },
      perform: function perform(action) {
        var _this3 = this;

        if (this.updating) {
          return;
        }

        var msg = action.get("confirm_message");
        if (msg) {
          bootbox.confirm(msg, function (answer) {
            if (answer) {
              return _this3._performConfirmed(action);
            }
          });
        } else {
          return this._performConfirmed(action);
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "customClass", [_dec], Object.getOwnPropertyDescriptor(_obj, "customClass"), _obj), _applyDecoratedDescriptor(_obj, "topicId", [_dec2], Object.getOwnPropertyDescriptor(_obj, "topicId"), _obj), _applyDecoratedDescriptor(_obj, "claimEnabled", [_dec3], Object.getOwnPropertyDescriptor(_obj, "claimEnabled"), _obj), _applyDecoratedDescriptor(_obj, "canPerform", [_dec4], Object.getOwnPropertyDescriptor(_obj, "canPerform"), _obj), _applyDecoratedDescriptor(_obj, "claimHelp", [_dec5], Object.getOwnPropertyDescriptor(_obj, "claimHelp"), _obj), _applyDecoratedDescriptor(_obj, "reviewableComponent", [_dec6], Object.getOwnPropertyDescriptor(_obj, "reviewableComponent"), _obj)), _obj)));
});
define("discourse/components/reviewable-queued-post", ["exports", "@ember/component", "discourse/lib/show-modal"], function (exports, _component, _showModal) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    actions: {
      showRawEmail: function showRawEmail() {
        (0, _showModal.default)("raw-email").set("rawEmail", this.reviewable.payload.raw_email);
      }
    }
  });
});
define("discourse/components/reviewable-user", ["exports", "@ember/component", "discourse-common/utils/decorators"], function (exports, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("reviewable.user_fields"), (_obj = {
    userFields: function userFields(fields) {
      return this.site.collectUserFields(fields);
    }
  }, (_applyDecoratedDescriptor(_obj, "userFields", [_dec], Object.getOwnPropertyDescriptor(_obj, "userFields"), _obj)), _obj)));
});
define("discourse/components/scroll-tracker", ["exports", "@ember/runloop", "@ember/component", "discourse/mixins/scrolling"], function (exports, _runloop, _component, _scrolling) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend(_scrolling.default, {
    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);

      this.set("trackerName", "scroll-tracker-" + this.name);
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      this.bindScrolling({ name: this.name });
    },
    didRender: function didRender() {
      this._super.apply(this, arguments);

      var data = this.session.get(this.trackerName);
      if (data && data.position >= 0 && data.tag === this.tag) {
        (0, _runloop.next)(function () {
          return $(window).scrollTop(data.position + 1);
        });
      }
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      this.unbindScrolling(this.name);
    },
    scrolled: function scrolled() {
      this._super.apply(this, arguments);

      this.session.set(this.trackerName, {
        position: $(window).scrollTop(),
        tag: this.tag
      });
    }
  });
});
define("discourse/components/scrolling-post-stream", ["exports", "@ember/runloop", "discourse/lib/url", "discourse/components/mount-widget", "discourse/widgets/post-stream", "discourse/lib/safari-hacks", "discourse/lib/offset-calculator"], function (exports, _runloop, _url, _mountWidget, _postStream, _safariHacks, _offsetCalculator) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  function findTopView($posts, viewportTop, postsWrapperTop, min, max) {
    if (max < min) {
      return min;
    }

    while (max > min) {
      var mid = Math.floor((min + max) / 2);
      var $post = $($posts[mid]);
      var viewBottom = $post.offset().top - postsWrapperTop + $post.height();

      if (viewBottom > viewportTop) {
        max = mid - 1;
      } else {
        min = mid + 1;
      }
    }

    return min;
  }

  exports.default = _mountWidget.default.extend({
    widget: "post-stream",
    _topVisible: null,
    _bottomVisible: null,
    _currentPost: null,
    _currentVisible: null,
    _currentPercent: null,

    buildArgs: function buildArgs() {
      return this.getProperties("posts", "canCreatePost", "multiSelect", "gaps", "selectedQuery", "selectedPostsCount", "searchService", "showReadIndicator");
    },
    beforePatch: function beforePatch() {
      var $body = $(document);
      this.prevHeight = $body.height();
      this.prevScrollTop = $body.scrollTop();
    },
    afterPatch: function afterPatch() {
      var $body = $(document);
      var height = $body.height();
      var scrollTop = $body.scrollTop();

      // This hack is for when swapping out many cloaked views at once
      // when using keyboard navigation. It could suddenly move the scroll
      if (this.prevHeight === height && scrollTop !== this.prevScrollTop) {
        $body.scrollTop(this.prevScrollTop);
      }
    },
    scrolled: function scrolled() {
      var _this = this;

      if (this.isDestroyed || this.isDestroying) {
        return;
      }
      if ((0, _safariHacks.isWorkaroundActive)()) {
        return;
      }

      // We use this because watching videos fullscreen in Chrome was super buggy
      // otherwise. Thanks to arrendek from q23 for the technique.
      var topLeftCornerElement = document.elementFromPoint(0, 0);
      if (topLeftCornerElement && topLeftCornerElement.tagName.toUpperCase() === "IFRAME") {
        return;
      }

      var $w = $(window);
      var windowHeight = window.innerHeight ? window.innerHeight : $w.height();
      var slack = Math.round(windowHeight * 5);
      var onscreen = [];
      var nearby = [];

      var windowTop = $w.scrollTop();

      var postsWrapperTop = $(".posts-wrapper").offset().top;
      var $posts = $(this.element.querySelectorAll(".onscreen-post, .cloaked-post"));
      var viewportTop = windowTop - slack;
      var topView = findTopView($posts, viewportTop, postsWrapperTop, 0, $posts.length - 1);

      var windowBottom = windowTop + windowHeight;
      var viewportBottom = windowBottom + slack;

      var bodyHeight = $("body").height();
      if (windowBottom > bodyHeight) {
        windowBottom = bodyHeight;
      }
      if (viewportBottom > bodyHeight) {
        viewportBottom = bodyHeight;
      }

      var currentPost = null;
      var percent = null;

      var offset = (0, _offsetCalculator.default)();
      var topCheck = Math.ceil(windowTop + offset + 5);

      // uncomment to debug the eyeline
      /*
      let $eyeline = $('.debug-eyeline');
      if ($eyeline.length === 0) {
        $('body').prepend('<div class="debug-eyeline"></div>');
        $eyeline = $('.debug-eyeline');
      }
      $eyeline.css({ height: '5px', width: '100%', backgroundColor: 'blue', position: 'absolute', top: `${topCheck}px`, zIndex: 999999 });
      */

      var allAbove = true;
      var bottomView = topView;
      var lastBottom = 0;
      while (bottomView < $posts.length) {
        var post = $posts[bottomView];
        var $post = $(post);

        if (!$post) {
          break;
        }

        var viewTop = $post.offset().top;
        var postHeight = $post.outerHeight(true);
        var viewBottom = Math.ceil(viewTop + postHeight);

        allAbove = allAbove && viewTop < topCheck;

        if (viewTop > viewportBottom) {
          break;
        }

        if (viewBottom >= windowTop && viewTop <= windowBottom) {
          onscreen.push(bottomView);
        }

        if (currentPost === null && (viewTop <= topCheck && viewBottom >= topCheck || lastBottom <= topCheck && viewTop >= topCheck)) {
          percent = (topCheck - viewTop) / postHeight;
          currentPost = bottomView;
        }

        lastBottom = viewBottom;
        nearby.push(bottomView);
        bottomView++;
      }

      if (allAbove) {
        if (percent === null) {
          percent = 1.0;
        }
        if (currentPost === null) {
          currentPost = bottomView - 1;
        }
      }

      var posts = this.posts;
      var refresh = function refresh(cb) {
        return _this.queueRerender(cb);
      };
      if (onscreen.length) {
        var first = posts.objectAt(onscreen[0]);
        if (this._topVisible !== first) {
          this._topVisible = first;
          var $body = $("body");
          var elem = $posts[onscreen[0]];
          var elemId = elem.id;
          var $elem = $(elem);
          var elemPos = $elem.position();
          var distToElement = elemPos ? $body.scrollTop() - elemPos.top : 0;

          var topRefresh = function topRefresh() {
            refresh(function () {
              var $refreshedElem = $("#" + elemId);

              // Quickly going back might mean the element is destroyed
              var position = $refreshedElem.position();
              if (position && position.top) {
                var whereY = position.top + distToElement;
                $("html, body").scrollTop(whereY);

                // This seems weird, but somewhat infrequently a rerender
                // will cause the browser to scroll to the top of the document
                // in Chrome. This makes sure the scroll works correctly if that
                // happens.
                (0, _runloop.next)(function () {
                  return $("html, body").scrollTop(whereY);
                });
              }
            });
          };
          this.topVisibleChanged({
            post: first,
            refresh: topRefresh
          });
        }

        var last = posts.objectAt(onscreen[onscreen.length - 1]);
        if (this._bottomVisible !== last) {
          this._bottomVisible = last;
          this.bottomVisibleChanged({ post: last, refresh: refresh });
        }

        var changedPost = this._currentPost !== currentPost;
        if (changedPost) {
          this._currentPost = currentPost;
          var _post = posts.objectAt(currentPost);
          this.currentPostChanged({ post: _post });
        }

        if (percent !== null) {
          percent = Math.max(0.0, Math.min(1.0, percent));

          if (changedPost || this._currentPercent !== percent) {
            this._currentPercent = percent;
            this.currentPostScrolled({ percent: percent });
          }
        }
      } else {
        this._topVisible = null;
        this._bottomVisible = null;
        this._currentPost = null;
        this._currentPercent = null;
      }

      var onscreenPostNumbers = [];
      var readPostNumbers = [];

      var prev = this._previouslyNearby;
      var newPrev = {};
      nearby.forEach(function (idx) {
        var post = posts.objectAt(idx);
        var postNumber = post.post_number;

        delete prev[postNumber];

        if (onscreen.indexOf(idx) !== -1) {
          onscreenPostNumbers.push(postNumber);
          if (post.read) {
            readPostNumbers.push(postNumber);
          }
        }
        newPrev[postNumber] = post;
        (0, _postStream.uncloak)(post, _this);
      });

      Object.values(prev).forEach(function (node) {
        return (0, _postStream.cloak)(node, _this);
      });

      this._previouslyNearby = newPrev;
      this.screenTrack.setOnscreen(onscreenPostNumbers, readPostNumbers);
    },
    _scrollTriggered: function _scrollTriggered() {
      (0, _runloop.scheduleOnce)("afterRender", this, this.scrolled);
    },
    _posted: function _posted(staged) {
      this.queueRerender(function () {
        if (staged) {
          var postNumber = staged.get("post_number");
          _url.default.jumpToPost(postNumber, { skipIfOnScreen: true });
        }
      });
    },
    _refresh: function _refresh(args) {
      if (args) {
        if (args.id) {
          this.dirtyKeys.keyDirty("post-" + args.id);

          if (args.refreshLikes) {
            this.dirtyKeys.keyDirty("post-menu-" + args.id, {
              onRefresh: "refreshLikes"
            });
          }

          if (args.refreshReaders) {
            this.dirtyKeys.keyDirty("post-menu-" + args.id, {
              onRefresh: "refreshReaders"
            });
          }
        } else if (args.force) {
          this.dirtyKeys.forceAll();
        }
      }
      this.queueRerender();
    },
    _debouncedScroll: function _debouncedScroll() {
      (0, _runloop.debounce)(this, this._scrollTriggered, 10);
    },
    didInsertElement: function didInsertElement() {
      var _this2 = this;

      this._super.apply(this, arguments);
      var debouncedScroll = function debouncedScroll() {
        return (0, _runloop.debounce)(_this2, _this2._scrollTriggered, 10);
      };

      this._previouslyNearby = {};

      this.appEvents.on("post-stream:refresh", this, "_debouncedScroll");
      $(document).bind("touchmove.post-stream", debouncedScroll);
      $(window).bind("scroll.post-stream", debouncedScroll);
      this._scrollTriggered();

      this.appEvents.on("post-stream:posted", this, "_posted");

      $(this.element).on("mouseenter.post-stream", "button.widget-button", function (e) {
        $("button.widget-button").removeClass("d-hover");
        $(e.target).addClass("d-hover");
      });

      $(this.element).on("mouseleave.post-stream", "button.widget-button", function () {
        $("button.widget-button").removeClass("d-hover");
      });

      this.appEvents.on("post-stream:refresh", this, "_refresh");
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      $(document).unbind("touchmove.post-stream");
      $(window).unbind("scroll.post-stream");
      this.appEvents.off("post-stream:refresh", this, "_debouncedScroll");
      $(this.element).off("mouseenter.post-stream");
      $(this.element).off("mouseleave.post-stream");
      this.appEvents.off("post-stream:refresh", this, "_refresh");
      this.appEvents.off("post-stream:posted", this, "_posted");
    }
  });
});
define("discourse/components/search-advanced-options", ["exports", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators", "discourse/lib/utilities", "discourse/models/group", "discourse/models/badge", "discourse/models/category"], function (exports, _runloop, _component, _decorators, _utilities, _group, _badge, _category) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _desc, _value, _obj;

  var REGEXP_BLOCKS = /(([^" \t\n\x0B\f\r]+)?(("[^"]+")?))/g;

  var REGEXP_USERNAME_PREFIX = /^(user:|@)/gi;
  var REGEXP_CATEGORY_PREFIX = /^(category:|#)/gi;
  var REGEXP_GROUP_PREFIX = /^group:/gi;
  var REGEXP_BADGE_PREFIX = /^badge:/gi;
  var REGEXP_TAGS_PREFIX = /^(tags?:|#(?=[a-z0-9\-]+::tag))/gi;
  var REGEXP_IN_PREFIX = /^(in|with):/gi;
  var REGEXP_STATUS_PREFIX = /^status:/gi;
  var REGEXP_MIN_POST_COUNT_PREFIX = /^min_post_count:/gi;
  var REGEXP_POST_TIME_PREFIX = /^(before|after):/gi;
  var REGEXP_TAGS_REPLACE = /(^(tags?:|#(?=[a-z0-9\-]+::tag))|::tag\s?$)/gi;

  var REGEXP_IN_MATCH = /^(in|with):(posted|created|watching|tracking|bookmarks|first|pinned|unpinned|wiki|unseen|image)/gi;
  var REGEXP_SPECIAL_IN_LIKES_MATCH = /^in:likes/gi;
  var REGEXP_SPECIAL_IN_TITLE_MATCH = /^in:title/gi;
  var REGEXP_SPECIAL_IN_PERSONAL_MATCH = /^in:personal/gi;
  var REGEXP_SPECIAL_IN_SEEN_MATCH = /^in:seen/gi;

  var REGEXP_CATEGORY_SLUG = /^(\#[a-zA-Z0-9\-:]+)/gi;
  var REGEXP_CATEGORY_ID = /^(category:[0-9]+)/gi;
  var REGEXP_POST_TIME_WHEN = /^(before|after)/gi;

  var IN_OPTIONS_MAPPING = { images: "with" };

  exports.default = _component.default.extend((_dec = (0, _decorators.observes)("searchTerm"), _dec2 = (0, _decorators.observes)("searchedTerms.username"), _dec3 = (0, _decorators.observes)("searchedTerms.category"), _dec4 = (0, _decorators.observes)("searchedTerms.group"), _dec5 = (0, _decorators.observes)("searchedTerms.badge"), _dec6 = (0, _decorators.observes)("searchedTerms.tags", "searchedTerms.special.all_tags"), _dec7 = (0, _decorators.observes)("searchedTerms.in"), _dec8 = (0, _decorators.observes)("searchedTerms.special.in.likes"), _dec9 = (0, _decorators.observes)("searchedTerms.special.in.personal"), _dec10 = (0, _decorators.observes)("searchedTerms.special.in.seen"), _dec11 = (0, _decorators.observes)("searchedTerms.special.in.title"), _dec12 = (0, _decorators.observes)("searchedTerms.status"), _dec13 = (0, _decorators.observes)("searchedTerms.min_post_count"), (_obj = {
    classNames: ["search-advanced-options"],

    init: function init() {
      var _this = this;

      this._super.apply(this, arguments);

      this.inOptionsForUsers = [{ name: I18n.t("search.advanced.filters.unseen"), value: "unseen" }, { name: I18n.t("search.advanced.filters.posted"), value: "posted" }, { name: I18n.t("search.advanced.filters.created"), value: "created" }, { name: I18n.t("search.advanced.filters.watching"), value: "watching" }, { name: I18n.t("search.advanced.filters.tracking"), value: "tracking" }, { name: I18n.t("search.advanced.filters.bookmarks"), value: "bookmarks" }];

      this.inOptionsForAll = [{ name: I18n.t("search.advanced.filters.first"), value: "first" }, { name: I18n.t("search.advanced.filters.pinned"), value: "pinned" }, { name: I18n.t("search.advanced.filters.unpinned"), value: "unpinned" }, { name: I18n.t("search.advanced.filters.wiki"), value: "wiki" }, { name: I18n.t("search.advanced.filters.images"), value: "images" }];

      this.statusOptions = [{ name: I18n.t("search.advanced.statuses.open"), value: "open" }, { name: I18n.t("search.advanced.statuses.closed"), value: "closed" }, { name: I18n.t("search.advanced.statuses.public"), value: "public" }, { name: I18n.t("search.advanced.statuses.archived"), value: "archived" }, {
        name: I18n.t("search.advanced.statuses.noreplies"),
        value: "noreplies"
      }, {
        name: I18n.t("search.advanced.statuses.single_user"),
        value: "single_user"
      }];

      this.postTimeOptions = [{ name: I18n.t("search.advanced.post.time.before"), value: "before" }, { name: I18n.t("search.advanced.post.time.after"), value: "after" }];

      this._init();

      (0, _runloop.scheduleOnce)("afterRender", function () {
        return _this._update();
      });
    },
    _updateOptions: function _updateOptions() {
      this._update();
      (0, _runloop.debounce)(this, this._update, 250);
    },
    _init: function _init() {
      this.setProperties({
        searchedTerms: {
          username: "",
          category: "",
          group: [],
          badge: [],
          tags: [],
          in: "",
          special: {
            in: {
              title: false,
              likes: false,
              personal: false,
              seen: false
            },
            all_tags: false
          },
          status: "",
          min_post_count: "",
          time: {
            when: "before",
            days: ""
          }
        },
        inOptions: this.currentUser ? this.inOptionsForUsers.concat(this.inOptionsForAll) : this.inOptionsForAll
      });
    },
    _update: function _update() {
      if (!this.searchTerm) {
        this._init();
        return;
      }

      this.setSearchedTermValue("searchedTerms.username", REGEXP_USERNAME_PREFIX);
      this.setSearchedTermValueForCategory();
      this.setSearchedTermValueForGroup();
      this.setSearchedTermValueForBadge();
      this.setSearchedTermValueForTags();

      this.setSearchedTermValue("searchedTerms.in", REGEXP_IN_PREFIX, REGEXP_IN_MATCH);

      this.setSearchedTermSpecialInValue("searchedTerms.special.in.likes", REGEXP_SPECIAL_IN_LIKES_MATCH);

      this.setSearchedTermSpecialInValue("searchedTerms.special.in.title", REGEXP_SPECIAL_IN_TITLE_MATCH);

      this.setSearchedTermSpecialInValue("searchedTerms.special.in.personal", REGEXP_SPECIAL_IN_PERSONAL_MATCH);

      this.setSearchedTermSpecialInValue("searchedTerms.special.in.seen", REGEXP_SPECIAL_IN_SEEN_MATCH);

      this.setSearchedTermValue("searchedTerms.status", REGEXP_STATUS_PREFIX);
      this.setSearchedTermValueForPostTime();

      this.setSearchedTermValue("searchedTerms.min_post_count", REGEXP_MIN_POST_COUNT_PREFIX);
    },
    findSearchTerms: function findSearchTerms() {
      var searchTerm = (0, _utilities.escapeExpression)(this.searchTerm);
      if (!searchTerm) return [];

      var blocks = searchTerm.match(REGEXP_BLOCKS);
      if (!blocks) return [];

      var result = [];
      blocks.forEach(function (block) {
        if (block.length !== 0) result.push(block);
      });

      return result;
    },
    filterBlocks: function filterBlocks(regexPrefix) {
      var blocks = this.findSearchTerms();
      if (!blocks) return [];

      var result = [];
      blocks.forEach(function (block) {
        if (block.search(regexPrefix) !== -1) result.push(block);
      });

      return result;
    },
    setSearchedTermValue: function setSearchedTermValue(key, replaceRegEx) {
      var matchRegEx = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      matchRegEx = matchRegEx || replaceRegEx;
      var match = this.filterBlocks(matchRegEx);

      var val = this.get(key);

      if (match.length !== 0) {
        var userInput = match[0].replace(replaceRegEx, "");
        if (val !== userInput) {
          this.set(key, userInput);
        }
      } else if (val && val.length !== 0) {
        this.set(key, "");
      }
    },
    setSearchedTermSpecialInValue: function setSearchedTermSpecialInValue(key, replaceRegEx) {
      var match = this.filterBlocks(replaceRegEx);

      if (match.length !== 0) {
        if (this.get(key) !== true) {
          this.set(key, true);
        }
      } else if (this.get(key) !== false) {
        this.set(key, false);
      }
    },
    setSearchedTermValueForCategory: function setSearchedTermValueForCategory() {
      var match = this.filterBlocks(REGEXP_CATEGORY_PREFIX);
      if (match.length !== 0) {
        var existingInput = this.get("searchedTerms.category");
        var subcategories = match[0].replace(REGEXP_CATEGORY_PREFIX, "").split(":");
        if (subcategories.length > 1) {
          var userInput = _category.default.findBySlug(subcategories[1], subcategories[0]);
          if (!existingInput && userInput || existingInput && userInput && existingInput.id !== userInput.id) this.set("searchedTerms.category", userInput);
        } else if (isNaN(subcategories)) {
          var _userInput = _category.default.findSingleBySlug(subcategories[0]);
          if (!existingInput && _userInput || existingInput && _userInput && existingInput.id !== _userInput.id) this.set("searchedTerms.category", _userInput);
        } else {
          var _userInput2 = _category.default.findById(subcategories[0]);
          if (!existingInput && _userInput2 || existingInput && _userInput2 && existingInput.id !== _userInput2.id) this.set("searchedTerms.category", _userInput2);
        }
      } else this.set("searchedTerms.category", "");
    },
    setSearchedTermValueForGroup: function setSearchedTermValueForGroup() {
      var match = this.filterBlocks(REGEXP_GROUP_PREFIX);
      var group = this.get("searchedTerms.group");

      if (match.length !== 0) {
        var existingInput = _.isArray(group) ? group[0] : group;
        var userInput = match[0].replace(REGEXP_GROUP_PREFIX, "");

        if (existingInput !== userInput) {
          this.set("searchedTerms.group", userInput.length !== 0 ? [userInput] : []);
        }
      } else if (group.length !== 0) {
        this.set("searchedTerms.group", []);
      }
    },
    setSearchedTermValueForBadge: function setSearchedTermValueForBadge() {
      var match = this.filterBlocks(REGEXP_BADGE_PREFIX);
      var badge = this.get("searchedTerms.badge");

      if (match.length !== 0) {
        var existingInput = _.isArray(badge) ? badge[0] : badge;
        var userInput = match[0].replace(REGEXP_BADGE_PREFIX, "");

        if (existingInput !== userInput) {
          this.set("searchedTerms.badge", userInput.length !== 0 ? [userInput] : []);
        }
      } else if (badge.length !== 0) {
        this.set("searchedTerms.badge", []);
      }
    },
    setSearchedTermValueForTags: function setSearchedTermValueForTags() {
      if (!this.siteSettings.tagging_enabled) return;

      var match = this.filterBlocks(REGEXP_TAGS_PREFIX);
      var tags = this.get("searchedTerms.tags");
      var contain_all_tags = this.get("searchedTerms.special.all_tags");

      if (match.length !== 0) {
        var join_char = contain_all_tags ? "+" : ",";
        var existingInput = _.isArray(tags) ? tags.join(join_char) : tags;
        var userInput = match[0].replace(REGEXP_TAGS_REPLACE, "");

        if (existingInput !== userInput) {
          this.set("searchedTerms.tags", userInput.length !== 0 ? userInput.split(join_char) : []);
        }
      } else if (tags.length !== 0) {
        this.set("searchedTerms.tags", []);
      }
    },
    setSearchedTermValueForPostTime: function setSearchedTermValueForPostTime() {
      var match = this.filterBlocks(REGEXP_POST_TIME_PREFIX);

      if (match.length !== 0) {
        var existingInputWhen = this.get("searchedTerms.time.when");
        var userInputWhen = match[0].match(REGEXP_POST_TIME_WHEN)[0];
        var existingInputDays = this.get("searchedTerms.time.days");
        var userInputDays = match[0].replace(REGEXP_POST_TIME_PREFIX, "");
        var properties = {};

        if (existingInputWhen !== userInputWhen) {
          properties["searchedTerms.time.when"] = userInputWhen;
        }

        if (existingInputDays !== userInputDays) {
          properties["searchedTerms.time.days"] = userInputDays;
        }

        this.setProperties(properties);
      } else {
        this.set("searchedTerms.time.days", "");
      }
    },
    updateSearchTermForUsername: function updateSearchTermForUsername() {
      var match = this.filterBlocks(REGEXP_USERNAME_PREFIX);
      var userFilter = this.get("searchedTerms.username");
      var searchTerm = this.searchTerm || "";

      if (userFilter && userFilter.length !== 0) {
        if (match.length !== 0) {
          searchTerm = searchTerm.replace(match[0], "@" + userFilter);
        } else {
          searchTerm += " @" + userFilter;
        }

        this.set("searchTerm", searchTerm.trim());
      } else if (match.length !== 0) {
        searchTerm = searchTerm.replace(match[0], "");
        this.set("searchTerm", searchTerm.trim());
      }
    },
    updateSearchTermForCategory: function updateSearchTermForCategory() {
      var match = this.filterBlocks(REGEXP_CATEGORY_PREFIX);
      var categoryFilter = this.get("searchedTerms.category");
      var searchTerm = this.searchTerm || "";

      var slugCategoryMatches = match.length !== 0 ? match[0].match(REGEXP_CATEGORY_SLUG) : null;
      var idCategoryMatches = match.length !== 0 ? match[0].match(REGEXP_CATEGORY_ID) : null;
      if (categoryFilter) {
        var id = categoryFilter.id;
        var slug = categoryFilter.slug;
        if (categoryFilter.parentCategory) {
          var parentSlug = categoryFilter.parentCategory.slug;
          if (slugCategoryMatches) searchTerm = searchTerm.replace(slugCategoryMatches[0], "#" + parentSlug + ":" + slug);else if (idCategoryMatches) searchTerm = searchTerm.replace(idCategoryMatches[0], "category:" + id);else searchTerm += " #" + parentSlug + ":" + slug;

          this.set("searchTerm", searchTerm.trim());
        } else {
          if (slugCategoryMatches) searchTerm = searchTerm.replace(slugCategoryMatches[0], "#" + slug);else if (idCategoryMatches) searchTerm = searchTerm.replace(idCategoryMatches[0], "category:" + id);else searchTerm += " #" + slug;

          this.set("searchTerm", searchTerm.trim());
        }
      } else {
        if (slugCategoryMatches) searchTerm = searchTerm.replace(slugCategoryMatches[0], "");
        if (idCategoryMatches) searchTerm = searchTerm.replace(idCategoryMatches[0], "");

        this.set("searchTerm", searchTerm.trim());
      }
    },
    updateSearchTermForGroup: function updateSearchTermForGroup() {
      var match = this.filterBlocks(REGEXP_GROUP_PREFIX);
      var groupFilter = this.get("searchedTerms.group");
      var searchTerm = this.searchTerm || "";

      if (groupFilter && groupFilter.length !== 0) {
        if (match.length !== 0) {
          searchTerm = searchTerm.replace(match[0], " group:" + groupFilter);
        } else {
          searchTerm += " group:" + groupFilter;
        }

        this.set("searchTerm", searchTerm);
      } else if (match.length !== 0) {
        searchTerm = searchTerm.replace(match[0], "");
        this.set("searchTerm", searchTerm.trim());
      }
    },
    updateSearchTermForBadge: function updateSearchTermForBadge() {
      var match = this.filterBlocks(REGEXP_BADGE_PREFIX);
      var badgeFilter = this.get("searchedTerms.badge");
      var searchTerm = this.searchTerm || "";

      if (badgeFilter && badgeFilter.length !== 0) {
        if (match.length !== 0) {
          searchTerm = searchTerm.replace(match[0], " badge:" + badgeFilter);
        } else {
          searchTerm += " badge:" + badgeFilter;
        }

        this.set("searchTerm", searchTerm);
      } else if (match.length !== 0) {
        searchTerm = searchTerm.replace(match[0], "");
        this.set("searchTerm", searchTerm.trim());
      }
    },
    updateSearchTermForTags: function updateSearchTermForTags() {
      var match = this.filterBlocks(REGEXP_TAGS_PREFIX);
      var tagFilter = this.get("searchedTerms.tags");
      var searchTerm = this.searchTerm || "";
      var contain_all_tags = this.get("searchedTerms.special.all_tags");

      if (tagFilter && tagFilter.length !== 0) {
        var join_char = contain_all_tags ? "+" : ",";
        var tags = tagFilter.join(join_char);

        if (match.length !== 0) {
          searchTerm = searchTerm.replace(match[0], "tags:" + tags);
        } else {
          searchTerm += " tags:" + tags;
        }

        this.set("searchTerm", searchTerm.trim());
      } else if (match.length !== 0) {
        searchTerm = searchTerm.replace(match[0], "");
        this.set("searchTerm", searchTerm.trim());
      }
    },
    updateSearchTermForIn: function updateSearchTermForIn() {
      var match = this.filterBlocks(REGEXP_IN_MATCH);
      var inFilter = this.get("searchedTerms.in");
      var keyword = "in";
      if (inFilter in IN_OPTIONS_MAPPING) {
        keyword = IN_OPTIONS_MAPPING[inFilter];
      }
      var searchTerm = this.searchTerm || "";

      if (inFilter) {
        if (match.length !== 0) {
          searchTerm = searchTerm.replace(match[0], keyword + ":" + inFilter);
        } else {
          searchTerm += " " + keyword + ":" + inFilter;
        }

        this.set("searchTerm", searchTerm.trim());
      } else if (match.length !== 0) {
        searchTerm = searchTerm.replace(match, "");
        this.set("searchTerm", searchTerm.trim());
      }
    },
    updateInRegex: function updateInRegex(regex, filter) {
      var match = this.filterBlocks(regex);
      var inFilter = this.get("searchedTerms.special.in." + filter);
      var searchTerm = this.searchTerm || "";

      if (inFilter) {
        if (match.length === 0) {
          searchTerm += " in:" + filter;
          this.set("searchTerm", searchTerm.trim());
        }
      } else if (match.length !== 0) {
        searchTerm = searchTerm.replace(match, "");
        this.set("searchTerm", searchTerm.trim());
      }
    },
    updateSearchTermForSpecialInLikes: function updateSearchTermForSpecialInLikes() {
      this.updateInRegex(REGEXP_SPECIAL_IN_LIKES_MATCH, "likes");
    },
    updateSearchTermForSpecialInPersonal: function updateSearchTermForSpecialInPersonal() {
      this.updateInRegex(REGEXP_SPECIAL_IN_PERSONAL_MATCH, "personal");
    },
    updateSearchTermForSpecialInSeen: function updateSearchTermForSpecialInSeen() {
      this.updateInRegex(REGEXP_SPECIAL_IN_SEEN_MATCH, "seen");
    },
    updateSearchTermForSpecialInTitle: function updateSearchTermForSpecialInTitle() {
      this.updateInRegex(REGEXP_SPECIAL_IN_TITLE_MATCH, "title");
    },
    updateSearchTermForStatus: function updateSearchTermForStatus() {
      var match = this.filterBlocks(REGEXP_STATUS_PREFIX);
      var statusFilter = this.get("searchedTerms.status");
      var searchTerm = this.searchTerm || "";

      if (statusFilter) {
        if (match.length !== 0) {
          searchTerm = searchTerm.replace(match[0], "status:" + statusFilter);
        } else {
          searchTerm += " status:" + statusFilter;
        }

        this.set("searchTerm", searchTerm.trim());
      } else if (match.length !== 0) {
        searchTerm = searchTerm.replace(match[0], "");
        this.set("searchTerm", searchTerm.trim());
      }
    },
    updateSearchTermForPostTime: function updateSearchTermForPostTime() {
      var match = this.filterBlocks(REGEXP_POST_TIME_PREFIX);
      var timeDaysFilter = this.get("searchedTerms.time.days");
      var searchTerm = this.searchTerm || "";

      if (timeDaysFilter) {
        var when = this.get("searchedTerms.time.when");
        if (match.length !== 0) {
          searchTerm = searchTerm.replace(match[0], when + ":" + timeDaysFilter);
        } else {
          searchTerm += " " + when + ":" + timeDaysFilter;
        }

        this.set("searchTerm", searchTerm.trim());
      } else if (match.length !== 0) {
        searchTerm = searchTerm.replace(match[0], "");
        this.set("searchTerm", searchTerm.trim());
      }
    },
    updateSearchTermForMinPostCount: function updateSearchTermForMinPostCount() {
      var match = this.filterBlocks(REGEXP_MIN_POST_COUNT_PREFIX);
      var postsCountFilter = this.get("searchedTerms.min_post_count");
      var searchTerm = this.searchTerm || "";

      if (postsCountFilter) {
        if (match.length !== 0) {
          searchTerm = searchTerm.replace(match[0], "min_post_count:" + postsCountFilter);
        } else {
          searchTerm += " min_post_count:" + postsCountFilter;
        }

        this.set("searchTerm", searchTerm.trim());
      } else if (match.length !== 0) {
        searchTerm = searchTerm.replace(match[0], "");
        this.set("searchTerm", searchTerm.trim());
      }
    },
    groupFinder: function groupFinder(term) {
      return _group.default.findAll({ term: term, ignore_automatic: false });
    },
    badgeFinder: function badgeFinder(term) {
      return _badge.default.findAll({ search: term });
    },


    actions: {
      onChangeWhenTime: function onChangeWhenTime(time) {
        if (time) {
          this.set("searchedTerms.time.when", time);
          this.updateSearchTermForPostTime();
        }
      },
      onChangeWhenDate: function onChangeWhenDate(date) {
        if (date) {
          this.set("searchedTerms.time.days", moment(date).format("YYYY-MM-DD"));
          this.updateSearchTermForPostTime();
        }
      },
      onChangeCategory: function onChangeCategory(categoryId) {
        if (categoryId) {
          this.set("searchedTerms.category", _category.default.findById(categoryId));
        } else {
          this.set("searchedTerms.category", null);
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_updateOptions", [_dec], Object.getOwnPropertyDescriptor(_obj, "_updateOptions"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForUsername", [_dec2], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForUsername"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForCategory", [_dec3], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForCategory"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForGroup", [_dec4], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForGroup"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForBadge", [_dec5], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForBadge"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForTags", [_dec6], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForTags"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForIn", [_dec7], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForIn"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForSpecialInLikes", [_dec8], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForSpecialInLikes"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForSpecialInPersonal", [_dec9], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForSpecialInPersonal"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForSpecialInSeen", [_dec10], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForSpecialInSeen"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForSpecialInTitle", [_dec11], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForSpecialInTitle"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForStatus", [_dec12], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForStatus"), _obj), _applyDecoratedDescriptor(_obj, "updateSearchTermForMinPostCount", [_dec13], Object.getOwnPropertyDescriptor(_obj, "updateSearchTermForMinPostCount"), _obj)), _obj)));
});
define("discourse/components/search-text-field", ["exports", "discourse-common/utils/decorators", "discourse/components/text-field", "discourse/lib/search"], function (exports, _decorators, _textField, _search) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _textField.default.extend((_dec = (0, _decorators.default)("searchService.searchContextEnabled"), _dec2 = (0, _decorators.on)("didInsertElement"), (_obj = {
    autocomplete: "discourse",

    placeholder: function placeholder(searchContextEnabled) {
      return searchContextEnabled ? "" : I18n.t("search.full_page_title");
    },
    becomeFocused: function becomeFocused() {
      var $searchInput = $(this.element);
      (0, _search.applySearchAutocomplete)($searchInput, this.siteSettings);

      if (!this.hasAutofocus) {
        return;
      }
      // iOS is crazy, without this we will not be
      // at the top of the page
      $(window).scrollTop(0);
      $searchInput.focus();
    }
  }, (_applyDecoratedDescriptor(_obj, "placeholder", [_dec], Object.getOwnPropertyDescriptor(_obj, "placeholder"), _obj), _applyDecoratedDescriptor(_obj, "becomeFocused", [_dec2], Object.getOwnPropertyDescriptor(_obj, "becomeFocused"), _obj)), _obj)));
});
define("discourse/components/second-factor-form", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/models/user"], function (exports, _decorators, _component, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("secondFactorMethod"), _dec2 = (0, _decorators.default)("secondFactorMethod"), _dec3 = (0, _decorators.default)("secondFactorMethod", "isLogin"), _dec4 = (0, _decorators.default)("backupEnabled", "secondFactorMethod"), (_obj = {
    secondFactorTitle: function secondFactorTitle(secondFactorMethod) {
      switch (secondFactorMethod) {
        case _user.SECOND_FACTOR_METHODS.TOTP:
          return I18n.t("login.second_factor_title");
        case _user.SECOND_FACTOR_METHODS.SECURITY_KEY:
          return I18n.t("login.second_factor_title");
        case _user.SECOND_FACTOR_METHODS.BACKUP_CODE:
          return I18n.t("login.second_factor_backup_title");
      }
    },
    secondFactorDescription: function secondFactorDescription(secondFactorMethod) {
      switch (secondFactorMethod) {
        case _user.SECOND_FACTOR_METHODS.TOTP:
          return I18n.t("login.second_factor_description");
        case _user.SECOND_FACTOR_METHODS.SECURITY_KEY:
          return I18n.t("login.security_key_description");
        case _user.SECOND_FACTOR_METHODS.BACKUP_CODE:
          return I18n.t("login.second_factor_backup_description");
      }
    },
    linkText: function linkText(secondFactorMethod, isLogin) {
      if (isLogin) {
        return secondFactorMethod === _user.SECOND_FACTOR_METHODS.TOTP ? "login.second_factor_backup" : "login.second_factor";
      } else {
        return secondFactorMethod === _user.SECOND_FACTOR_METHODS.TOTP ? "user.second_factor_backup.use" : "user.second_factor.use";
      }
    },
    showToggleMethodLink: function showToggleMethodLink(backupEnabled, secondFactorMethod) {
      return backupEnabled && secondFactorMethod !== _user.SECOND_FACTOR_METHODS.SECURITY_KEY;
    },


    actions: {
      toggleSecondFactorMethod: function toggleSecondFactorMethod() {
        var secondFactorMethod = this.secondFactorMethod;
        this.set("secondFactorToken", "");
        if (secondFactorMethod === _user.SECOND_FACTOR_METHODS.TOTP) {
          this.set("secondFactorMethod", _user.SECOND_FACTOR_METHODS.BACKUP_CODE);
        } else {
          this.set("secondFactorMethod", _user.SECOND_FACTOR_METHODS.TOTP);
        }
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "secondFactorTitle", [_dec], Object.getOwnPropertyDescriptor(_obj, "secondFactorTitle"), _obj), _applyDecoratedDescriptor(_obj, "secondFactorDescription", [_dec2], Object.getOwnPropertyDescriptor(_obj, "secondFactorDescription"), _obj), _applyDecoratedDescriptor(_obj, "linkText", [_dec3], Object.getOwnPropertyDescriptor(_obj, "linkText"), _obj), _applyDecoratedDescriptor(_obj, "showToggleMethodLink", [_dec4], Object.getOwnPropertyDescriptor(_obj, "showToggleMethodLink"), _obj)), _obj)));
});
define("discourse/components/second-factor-input", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/models/user"], function (exports, _decorators, _component, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("secondFactorMethod"), _dec2 = (0, _decorators.default)("secondFactorMethod"), _dec3 = (0, _decorators.default)("secondFactorMethod"), (_obj = {
    type: function type(secondFactorMethod) {
      if (secondFactorMethod === _user.SECOND_FACTOR_METHODS.TOTP) return "tel";
      if (secondFactorMethod === _user.SECOND_FACTOR_METHODS.BACKUP_CODE) return "text";
    },
    pattern: function pattern(secondFactorMethod) {
      if (secondFactorMethod === _user.SECOND_FACTOR_METHODS.TOTP) return "[0-9]{6}";
      if (secondFactorMethod === _user.SECOND_FACTOR_METHODS.BACKUP_CODE) return "[a-z0-9]{16}";
    },
    maxlength: function maxlength(secondFactorMethod) {
      if (secondFactorMethod === _user.SECOND_FACTOR_METHODS.TOTP) return "6";
      if (secondFactorMethod === _user.SECOND_FACTOR_METHODS.BACKUP_CODE) return "32";
    }
  }, (_applyDecoratedDescriptor(_obj, "type", [_dec], Object.getOwnPropertyDescriptor(_obj, "type"), _obj), _applyDecoratedDescriptor(_obj, "pattern", [_dec2], Object.getOwnPropertyDescriptor(_obj, "pattern"), _obj), _applyDecoratedDescriptor(_obj, "maxlength", [_dec3], Object.getOwnPropertyDescriptor(_obj, "maxlength"), _obj)), _obj)));
});
define("discourse/components/security-key-form", ["exports", "@ember/component", "discourse/models/user"], function (exports, _component, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    actions: {
      useAnotherMethod: function useAnotherMethod() {
        this.set("showSecurityKey", false);
        this.set("showSecondFactor", true);
        this.set("secondFactorMethod", _user.SECOND_FACTOR_METHODS.TOTP);
      }
    }
  });
});
define("discourse/components/share-panel", ["exports", "@ember/utils", "@ember/object/computed", "@ember/runloop", "@ember/component", "discourse/lib/utilities", "discourse-common/utils/decorators", "discourse/lib/sharing"], function (exports, _utils, _computed, _runloop, _component, _utilities, _decorators, _sharing) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("type", "topic.title"), _dec2 = (0, _decorators.default)("panel.model.shareUrl", "topic.shareUrl"), (_obj = {
    tagName: null,

    type: (0, _computed.alias)("panel.model.type"),

    topic: (0, _computed.alias)("panel.model.topic"),

    sources: function sources() {
      return _sharing.default.activeSources(this.siteSettings.share_links);
    },
    shareTitle: function shareTitle(type, topicTitle) {
      topicTitle = (0, _utilities.escapeExpression)(topicTitle);
      return I18n.t("share.topic_html", { topicTitle: topicTitle });
    },
    shareUrl: function shareUrl(forcedShareUrl, _shareUrl) {
      _shareUrl = forcedShareUrl || _shareUrl;

      if ((0, _utils.isEmpty)(_shareUrl)) {
        return;
      }

      // Relative urls
      if (_shareUrl.indexOf("/") === 0) {
        var location = window.location;
        _shareUrl = location.protocol + "//" + location.host + _shareUrl;
      }

      return encodeURI(_shareUrl);
    },
    didInsertElement: function didInsertElement() {
      var _this = this;

      this._super.apply(this, arguments);

      var shareUrl = this.shareUrl;
      var $linkInput = $(this.element.querySelector(".topic-share-url"));
      var $linkForTouch = $(this.element.querySelector(".topic-share-url-for-touch a"));

      (0, _runloop.schedule)("afterRender", function () {
        if (!_this.capabilities.touch) {
          $linkForTouch.parent().remove();

          $linkInput.val(shareUrl).select().focus();
        } else {
          $linkInput.remove();

          $linkForTouch.attr("href", shareUrl).text(shareUrl);

          var range = window.document.createRange();
          range.selectNode($linkForTouch[0]);
          window.getSelection().addRange(range);
        }
      });
    },


    actions: {
      share: function share(source) {
        _sharing.default.shareSource(source, {
          url: this.shareUrl,
          title: this.get("topic.title")
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "sources", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "sources"), _obj), _applyDecoratedDescriptor(_obj, "shareTitle", [_dec], Object.getOwnPropertyDescriptor(_obj, "shareTitle"), _obj), _applyDecoratedDescriptor(_obj, "shareUrl", [_dec2], Object.getOwnPropertyDescriptor(_obj, "shareUrl"), _obj)), _obj)));
});
define("discourse/components/share-popup", ["exports", "@ember/utils", "@ember/runloop", "@ember/component", "discourse/lib/intercept-click", "discourse/lib/formatter", "discourse-common/utils/decorators", "discourse/lib/sharing", "discourse/lib/pwa-utils"], function (exports, _utils, _runloop, _component, _interceptClick, _formatter, _decorators, _sharing, _pwaUtils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("type", "postNumber"), _dec2 = (0, _decorators.default)("date"), _dec3 = (0, _decorators.on)("init"), (_obj = {
    elementId: "share-link",
    classNameBindings: ["visible"],
    link: null,
    visible: null,

    sources: function sources() {
      return _sharing.default.activeSources(this.siteSettings.share_links);
    },
    shareTitle: function shareTitle(type, postNumber) {
      if (type === "topic") {
        return I18n.t("share.topic");
      }
      if (postNumber) {
        return I18n.t("share.post", { postNumber: postNumber });
      }
      return I18n.t("share.topic");
    },
    displayDate: function displayDate(date) {
      return (0, _formatter.longDateNoYear)(new Date(date));
    },
    _focusUrl: function _focusUrl() {
      var link = this.link;
      if (!this.capabilities.touch) {
        var $linkInput = $("#share-link input");
        $linkInput.val(link);

        // Wait for the fade-in transition to finish before selecting the link:
        window.setTimeout(function () {
          return $linkInput.select().focus();
        }, 160);
      } else {
        var $linkForTouch = $("#share-link .share-for-touch a");
        $linkForTouch.attr("href", link);
        $linkForTouch.text(link);
        var range = window.document.createRange();
        range.selectNode($linkForTouch[0]);
        window.getSelection().addRange(range);
      }
    },
    _showUrl: function _showUrl($target, url) {
      var $currentTargetOffset = $target.offset();
      var $this = $(this.element);

      if ((0, _utils.isEmpty)(url)) {
        return;
      }

      // Relative urls
      if (url.indexOf("/") === 0) {
        url = window.location.protocol + "//" + window.location.host + url;
      }

      var shareLinkWidth = $this.width();
      var x = $currentTargetOffset.left - shareLinkWidth / 2;
      if (x < 25) {
        x = 25;
      }
      if (x + shareLinkWidth > $(window).width()) {
        x -= shareLinkWidth / 2;
      }

      var header = $(".d-header");
      var y = $currentTargetOffset.top - ($this.height() + 20);
      if (y < header.offset().top + header.height()) {
        y = $currentTargetOffset.top + 10;
      }

      $this.css({ top: "" + y + "px" });

      if (!this.site.mobileView) {
        $this.css({ left: "" + x + "px" });
      }
      this.set("link", url);
      this.set("visible", true);

      (0, _runloop.scheduleOnce)("afterRender", this, this._focusUrl);
    },
    _mouseDownHandler: function _mouseDownHandler(event) {
      if (!this.element || this.isDestroying || this.isDestroyed) {
        return;
      }

      // Use mousedown instead of click so this event is handled before routing occurs when a
      // link is clicked (which is a click event) while the share dialog is showing.
      if ($(this.element).has(event.target).length !== 0) {
        return;
      }

      this.send("close");

      return true;
    },
    _clickHandler: function _clickHandler(event) {
      var _this = this;

      if (!this.element || this.isDestroying || this.isDestroyed) {
        return;
      }

      // if they want to open in a new tab, let it so
      if ((0, _interceptClick.wantsNewWindow)(event)) {
        return true;
      }

      event.preventDefault();

      var $currentTarget = $(event.currentTarget);
      var url = $currentTarget.data("share-url");
      var postNumber = $currentTarget.data("post-number");
      var postId = $currentTarget.closest("article").data("post-id");
      var date = $currentTarget.children().data("time");

      this.setProperties({ postNumber: postNumber, date: date, postId: postId });

      // use native webshare only when the user clicks on the "chain" icon
      if (!$currentTarget.hasClass("post-date")) {
        (0, _pwaUtils.nativeShare)({ url: url }).then(null, function () {
          return _this._showUrl($currentTarget, url);
        });
      } else {
        this._showUrl($currentTarget, url);
      }

      return false;
    },
    _keydownHandler: function _keydownHandler(event) {
      if (!this.element || this.isDestroying || this.isDestroyed) {
        return;
      }

      if (event.keyCode === 27) {
        this.send("close");
      }
    },
    _shareUrlHandler: function _shareUrlHandler(url, $target) {
      this._showUrl($target, url);
    },
    _setupHandlers: function _setupHandlers() {
      this._boundMouseDownHandler = (0, _runloop.bind)(this, this._mouseDownHandler);
      this._boundClickHandler = (0, _runloop.bind)(this, this._clickHandler);
      this._boundKeydownHandler = (0, _runloop.bind)(this, this._keydownHandler);
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      $("html").on("mousedown.outside-share-link", this._boundMouseDownHandler).on("click.discourse-share-link", "button[data-share-url], .post-info .post-date[data-share-url]", this._boundClickHandler).on("keydown.share-view", this._boundKeydownHandler);

      this.appEvents.on("share:url", this, "_shareUrlHandler");
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      $("html").off("click.discourse-share-link", this._boundClickHandler).off("mousedown.outside-share-link", this._boundMouseDownHandler).off("keydown.share-view", this._boundKeydownHandler);

      this.appEvents.off("share:url", this, "_shareUrlHandler");
    },


    actions: {
      replyAsNewTopic: function replyAsNewTopic() {
        var postStream = this.get("topic.postStream");
        var postId = this.postId || postStream.findPostIdForPostNumber(1);
        var post = postStream.findLoadedPost(postId);
        this.replyAsNewTopic(post);
        this.send("close");
      },
      close: function close() {
        this.setProperties({
          link: null,
          postNumber: null,
          postId: null,
          visible: false
        });
      },
      share: function share(source) {
        _sharing.default.shareSource(source, {
          url: this.link,
          title: this.get("topic.title")
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "sources", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "sources"), _obj), _applyDecoratedDescriptor(_obj, "shareTitle", [_dec], Object.getOwnPropertyDescriptor(_obj, "shareTitle"), _obj), _applyDecoratedDescriptor(_obj, "displayDate", [_dec2], Object.getOwnPropertyDescriptor(_obj, "displayDate"), _obj), _applyDecoratedDescriptor(_obj, "_setupHandlers", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_setupHandlers"), _obj)), _obj)));
});
define("discourse/components/share-source", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNameBindings: [":social-link"],

    actions: {
      share: function share(source) {
        this.action(source);
      }
    }
  });
});
define("discourse/components/shared-draft-controls", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("topic.destination_category_id"), (_obj = {
    tagName: "",
    publishing: false,

    validCategory: function validCategory(destCatId) {
      return destCatId && destCatId !== this.site.shared_drafts_category_id;
    },


    actions: {
      updateDestinationCategory: function updateDestinationCategory(categoryId) {
        return this.topic.updateDestinationCategory(categoryId);
      },
      publish: function publish() {
        var _this = this;

        bootbox.confirm(I18n.t("shared_drafts.confirm_publish"), function (result) {
          if (result) {
            _this.set("publishing", true);
            var destId = _this.get("topic.destination_category_id");
            _this.topic.publish().then(function () {
              _this.set("topic.category_id", destId);
            }).finally(function () {
              _this.set("publishing", false);
            });
          }
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "validCategory", [_dec], Object.getOwnPropertyDescriptor(_obj, "validCategory"), _obj)), _obj)));
});
define("discourse/components/signup-cta", ["exports", "@ember/runloop", "@ember/component", "@ember/object/evented"], function (exports, _runloop, _component, _evented) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    action: "showCreateAccount",

    actions: {
      neverShow: function neverShow() {
        this.keyValueStore.setItem("anon-cta-never", "t");
        this.session.set("showSignupCta", false);
      },
      hideForSession: function hideForSession() {
        var _this = this;

        this.session.set("hideSignupCta", true);
        this.keyValueStore.setItem("anon-cta-hidden", new Date().getTime());
        (0, _runloop.later)(function () {
          return _this.session.set("showSignupCta", false);
        }, 20 * 1000);
      }
    },

    _turnOffIfHidden: (0, _evented.on)("willDestroyElement", function () {
      if (this.session.get("hideSignupCta")) {
        this.session.set("showSignupCta", false);
      }
    })
  });
});
define("discourse/components/suggested-topics", ["exports", "discourse-common/utils/decorators", "@ember/object", "@ember/component", "discourse/helpers/category-link", "discourse/models/site"], function (exports, _decorators, _object, _component, _categoryLink, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("topic", "topicTrackingState.messageCount"), (_obj = {
    elementId: "suggested-topics",
    classNames: ["suggested-topics"],

    suggestedTitleLabel: (0, _object.computed)("topic", function () {
      var href = this.currentUser && this.currentUser.pmPath(this.topic);
      if (this.topic.get("isPrivateMessage") && href) {
        return "suggested_topics.pm_title";
      } else {
        return "suggested_topics.title";
      }
    }),

    browseMoreMessage: function browseMoreMessage(topic) {
      // TODO decide what to show for pms
      if (topic.get("isPrivateMessage")) {
        return;
      }

      var opts = {
        latestLink: "<a href=\"" + Discourse.getURL("/latest") + "\">" + I18n.t("topic.view_latest_topics") + "</a>"
      };
      var category = topic.get("category");

      if (category && (0, _object.get)(category, "id") === _site.default.currentProp("uncategorized_category_id")) {
        category = null;
      }

      if (category) {
        opts.catLink = (0, _categoryLink.categoryBadgeHTML)(category);
      } else {
        opts.catLink = '<a href="' + Discourse.getURL("/categories") + '">' + I18n.t("topic.browse_all_categories") + "</a>";
      }

      var unreadTopics = this.topicTrackingState.countUnread();
      var newTopics = this.currentUser ? this.topicTrackingState.countNew() : 0;

      if (newTopics + unreadTopics > 0) {
        var hasBoth = unreadTopics > 0 && newTopics > 0;

        return I18n.messageFormat("topic.read_more_MF", {
          BOTH: hasBoth,
          UNREAD: unreadTopics,
          NEW: newTopics,
          CATEGORY: category ? true : false,
          latestLink: opts.latestLink,
          catLink: opts.catLink,
          basePath: ""
        });
      } else if (category) {
        return I18n.t("topic.read_more_in_category", opts);
      } else {
        return I18n.t("topic.read_more", opts);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "browseMoreMessage", [_dec], Object.getOwnPropertyDescriptor(_obj, "browseMoreMessage"), _obj)), _obj)));
});
define("discourse/components/tag-drop-link", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/lib/url"], function (exports, _decorators, _component, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("tagId", "category"), _dec2 = (0, _decorators.default)("tagId"), (_obj = {
    tagName: "a",
    classNameBindings: [":tag-badge-wrapper", ":badge-wrapper", ":bullet", "tagClass"],
    attributeBindings: ["href"],

    href: function href(tagId, category) {
      if (category) {
        return "/tags" + category.url + "/" + tagId;
      } else {
        return "/tag/" + tagId;
      }
    },
    tagClass: function tagClass(tagId) {
      return "tag-" + tagId;
    },
    click: function click(e) {
      e.preventDefault();
      _url.default.routeTo(this.href);
      return true;
    }
  }, (_applyDecoratedDescriptor(_obj, "href", [_dec], Object.getOwnPropertyDescriptor(_obj, "href"), _obj), _applyDecoratedDescriptor(_obj, "tagClass", [_dec2], Object.getOwnPropertyDescriptor(_obj, "tagClass"), _obj)), _obj)));
});
define("discourse/components/tag-groups-form", ["exports", "discourse-common/utils/decorators", "@ember/utils", "@ember/component", "discourse/mixins/buffered-content", "discourse/models/permission-type"], function (exports, _decorators, _utils, _component, _bufferedContent, _permissionType) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((0, _bufferedContent.bufferedProperty)("model"), (_dec = (0, _decorators.default)("buffered.isSaving", "buffered.name", "buffered.tag_names"), (_obj = {
    tagName: "",

    savingDisabled: function savingDisabled(isSaving, name, tagNames) {
      return isSaving || (0, _utils.isEmpty)(name) || (0, _utils.isEmpty)(tagNames);
    },


    actions: {
      setPermissions: function setPermissions(permissionName) {
        if (permissionName === "private") {
          this.buffered.set("permissions", {
            staff: _permissionType.default.FULL
          });
        } else if (permissionName === "visible") {
          this.buffered.set("permissions", {
            staff: _permissionType.default.FULL,
            everyone: _permissionType.default.READONLY
          });
        } else {
          this.buffered.set("permissions", {
            everyone: _permissionType.default.FULL
          });
        }
      },
      save: function save() {
        var _this = this;

        var attrs = this.buffered.getProperties("name", "tag_names", "parent_tag_name", "one_per_topic", "permissions");

        this.model.save(attrs).then(function () {
          _this.commitBuffer();

          if (_this.onSave) {
            _this.onSave();
          }
        });
      },
      destroy: function destroy() {
        var _this2 = this;

        return bootbox.confirm(I18n.t("tagging.groups.confirm_delete"), I18n.t("no_value"), I18n.t("yes_value"), function (destroy) {
          if (!destroy) {
            return;
          }

          _this2.model.destroyRecord().then(function () {
            if (_this2.onDestroy) {
              _this2.onDestroy();
            }
          });
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "savingDisabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "savingDisabled"), _obj)), _obj)));
});
define("discourse/components/tag-info", ["exports", "discourse/lib/ajax", "discourse/lib/ajax-error", "discourse/lib/show-modal", "discourse-common/utils/decorators", "@ember/component", "@ember/object/computed", "@ember/utils"], function (exports, _ajax, _ajaxError, _showModal, _decorators, _component, _computed, _utils) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("tagInfo.tag_group_names"), _dec2 = (0, _decorators.default)("tagInfo.categories"), _dec3 = (0, _decorators.default)("tagInfo.tag_group_names", "tagInfo.categories", "tagInfo.synonyms"), (_obj = {
    tagName: "",
    loading: false,
    tagInfo: null,
    newSynonyms: null,
    showEditControls: false,
    canAdminTag: (0, _computed.reads)("currentUser.staff"),
    editSynonymsMode: (0, _computed.and)("canAdminTag", "showEditControls"),

    tagGroupsInfo: function tagGroupsInfo(tagGroupNames) {
      return I18n.t("tagging.tag_groups_info", {
        count: tagGroupNames.length,
        tag_groups: tagGroupNames.join(", ")
      });
    },
    categoriesInfo: function categoriesInfo(categories) {
      return I18n.t("tagging.category_restrictions", {
        count: categories.length
      });
    },
    nothingToShow: function nothingToShow(tagGroupNames, categories, synonyms) {
      return (0, _utils.isEmpty)(tagGroupNames) && (0, _utils.isEmpty)(categories) && (0, _utils.isEmpty)(synonyms);
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      this.loadTagInfo();
    },
    loadTagInfo: function loadTagInfo() {
      var _this = this;

      if (this.loading) {
        return;
      }
      this.set("loading", true);
      return this.store.find("tag-info", this.tag.id).then(function (result) {
        _this.set("tagInfo", result);
        _this.set("tagInfo.synonyms", result.synonyms.map(function (s) {
          return _this.store.createRecord("tag", s);
        }));
      }).finally(function () {
        return _this.set("loading", false);
      }).catch(_ajaxError.popupAjaxError);
    },


    actions: {
      toggleEditControls: function toggleEditControls() {
        this.toggleProperty("showEditControls");
      },
      renameTag: function renameTag() {
        (0, _showModal.default)("rename-tag", { model: this.tag });
      },
      deleteTag: function deleteTag() {
        this.sendAction("deleteAction", this.tagInfo);
      },
      unlinkSynonym: function unlinkSynonym(tag) {
        var _this2 = this;

        (0, _ajax.ajax)("/tag/" + this.tagInfo.name + "/synonyms/" + tag.id, {
          type: "DELETE"
        }).then(function () {
          return _this2.tagInfo.synonyms.removeObject(tag);
        }).catch(_ajaxError.popupAjaxError);
      },
      deleteSynonym: function deleteSynonym(tag) {
        var _this3 = this;

        bootbox.confirm(I18n.t("tagging.delete_synonym_confirm", { tag_name: tag.text }), function (result) {
          if (!result) return;

          tag.destroyRecord().then(function () {
            return _this3.tagInfo.synonyms.removeObject(tag);
          }).catch(_ajaxError.popupAjaxError);
        });
      },
      addSynonyms: function addSynonyms() {
        var _this4 = this;

        bootbox.confirm(I18n.t("tagging.add_synonyms_explanation", {
          count: this.newSynonyms.length,
          tag_name: this.tagInfo.name
        }), function (result) {
          if (!result) return;

          (0, _ajax.ajax)("/tag/" + _this4.tagInfo.name + "/synonyms", {
            type: "POST",
            data: {
              synonyms: _this4.newSynonyms
            }
          }).then(function (response) {
            if (response.success) {
              _this4.set("newSynonyms", null);
              _this4.loadTagInfo();
            } else if (response.failed_tags) {
              bootbox.alert(I18n.t("tagging.add_synonyms_failed", {
                tag_names: Object.keys(response.failed_tags).join(", ")
              }));
            } else {
              bootbox.alert(I18n.t("generic_error"));
            }
          }).catch(_ajaxError.popupAjaxError);
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "tagGroupsInfo", [_dec], Object.getOwnPropertyDescriptor(_obj, "tagGroupsInfo"), _obj), _applyDecoratedDescriptor(_obj, "categoriesInfo", [_dec2], Object.getOwnPropertyDescriptor(_obj, "categoriesInfo"), _obj), _applyDecoratedDescriptor(_obj, "nothingToShow", [_dec3], Object.getOwnPropertyDescriptor(_obj, "nothingToShow"), _obj)), _obj)));
});
define("discourse/components/tag-list", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component", "discourse/models/category"], function (exports, _decorators, _computed, _component, _category) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("titleKey"), _dec2 = (0, _decorators.default)("categoryId"), _dec3 = (0, _decorators.default)("category.fullSlug"), _dec4 = (0, _decorators.default)("tagGroupName"), (_obj = {
    classNameBindings: [":tags-list", ":tag-list", "categoryClass", "tagGroupNameClass"],

    isPrivateMessage: false,
    sortedTags: (0, _computed.sort)("tags", "sortProperties"),

    title: function title(titleKey) {
      return titleKey && I18n.t(titleKey);
    },
    category: function category(categoryId) {
      return categoryId && _category.default.findById(categoryId);
    },
    categoryClass: function categoryClass(slug) {
      return slug && "tag-list-" + slug;
    },
    tagGroupNameClass: function tagGroupNameClass(groupName) {
      if (groupName) {
        groupName = groupName.replace(/\s+/g, "-").replace(/[!\"#$%&'\(\)\*\+,\.\/:;<=>\?\@\[\\\]\^`\{\|\}~]/g, "").toLowerCase();
        return groupName && "tag-group-" + groupName;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "title", [_dec], Object.getOwnPropertyDescriptor(_obj, "title"), _obj), _applyDecoratedDescriptor(_obj, "category", [_dec2], Object.getOwnPropertyDescriptor(_obj, "category"), _obj), _applyDecoratedDescriptor(_obj, "categoryClass", [_dec3], Object.getOwnPropertyDescriptor(_obj, "categoryClass"), _obj), _applyDecoratedDescriptor(_obj, "tagGroupNameClass", [_dec4], Object.getOwnPropertyDescriptor(_obj, "tagGroupNameClass"), _obj)), _obj)));
});
define("discourse/components/tags-admin-dropdown", ["exports", "select-kit/components/dropdown-select-box", "@ember/object"], function (exports, _dropdownSelectBox, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _dropdownSelectBox.default.extend({
    pluginApiIdentifiers: ["tags-admin-dropdown"],
    classNames: ["tags-admin-dropdown"],
    actionsMapping: null,

    selectKitOptions: {
      icons: ["bars", "caret-down"],
      showFullTitle: false
    },

    content: (0, _object.computed)(function () {
      return [{
        id: "manageGroups",
        name: I18n.t("tagging.manage_groups"),
        description: I18n.t("tagging.manage_groups_description"),
        icon: "wrench"
      }, {
        id: "uploadTags",
        name: I18n.t("tagging.upload"),
        description: I18n.t("tagging.upload_description"),
        icon: "upload"
      }, {
        id: "deleteUnusedTags",
        name: I18n.t("tagging.delete_unused"),
        description: I18n.t("tagging.delete_unused_description"),
        icon: "trash-alt"
      }];
    }),

    actions: {
      onChange: function onChange(id) {
        var action = this.actionsMapping[id];

        if (action) {
          action();
        }
      }
    }
  });
});
define("discourse/components/tap-tile-grid", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["tap-tile-grid"],
    activeTile: null
  });
});
define("discourse/components/tap-tile", ["exports", "@ember/component", "discourse/lib/computed"], function (exports, _component, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["tap-tile"],
    classNameBindings: ["active"],
    click: function click() {
      this.onSelect(this.tileId);
    },


    active: (0, _computed.propertyEqual)("activeTile", "tileId")
  });
});
define("discourse/components/text-overflow", ["exports", "@ember/runloop", "@ember/component"], function (exports, _runloop, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    didInsertElement: function didInsertElement() {
      var _this = this;

      this._super.apply(this, arguments);
      (0, _runloop.next)(null, function () {
        var $this = $(_this.element);

        if ($this) {
          $this.find("br").replaceWith(" ");
          $this.find("hr").remove();
          $this.ellipsis();
        }
      });
    }
  });
});
define("discourse/components/time-input", ["exports", "@ember/object/computed", "@ember/runloop", "@ember/component", "discourse/lib/utilities"], function (exports, _computed, _runloop, _component, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["d-time-input"],
    hours: null,
    minutes: null,
    _hours: (0, _computed.oneWay)("hours"),
    _minutes: (0, _computed.oneWay)("minutes"),
    isSafari: (0, _computed.oneWay)("capabilities.isSafari"),
    isMobile: (0, _computed.oneWay)("site.mobileView"),
    nativePicker: (0, _computed.or)("isSafari", "isMobile"),

    actions: {
      onInput: function onInput(options, event) {
        event.preventDefault();

        if (this.onChange) {
          var value = event.target.value;

          if (!(0, _utilities.isNumeric)(value)) {
            value = 0;
          } else {
            value = parseInt(value, 10);
          }

          if (options.prop === "hours") {
            value = Math.max(0, Math.min(value, 23)).toString().padStart(2, "0");
            this._processHoursChange(value);
          } else {
            value = Math.max(0, Math.min(value, 59)).toString().padStart(2, "0");
            this._processMinutesChange(value);
          }

          (0, _runloop.schedule)("afterRender", function () {
            return event.target.value = value;
          });
        }
      },
      onFocusIn: function onFocusIn(value, event) {
        if (value && event.target) {
          event.target.select();
        }
      },
      onChangeTime: function onChangeTime(event) {
        var time = event.target.value;

        if (time && this.onChange) {
          this.onChange({
            hours: time.split(":")[0],
            minutes: time.split(":")[1]
          });
        }
      }
    },

    _processHoursChange: function _processHoursChange(hours) {
      this.onChange({
        hours: hours,
        minutes: this._minutes || "00"
      });
    },
    _processMinutesChange: function _processMinutesChange(minutes) {
      this.onChange({
        hours: this._hours || "00",
        minutes: minutes
      });
    }
  });
});
define("discourse/components/top-period-buttons", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("period"), (_obj = {
    classNames: ["top-title-buttons"],

    periods: function periods(period) {
      return this.site.get("periods").filter(function (p) {
        return p !== period;
      });
    },


    actions: {
      changePeriod: function changePeriod(p) {
        this.action(p);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "periods", [_dec], Object.getOwnPropertyDescriptor(_obj, "periods"), _obj)), _obj)));
});
define("discourse/components/topic-admin-menu-button", ["exports", "discourse/components/mount-widget"], function (exports, _mountWidget) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _mountWidget.default.extend({
    classNames: "topic-admin-menu-button-container",
    tagName: "span",
    widget: "topic-admin-menu-button",

    buildArgs: function buildArgs() {
      return this.getProperties("topic", "fixed", "openUpwards", "rightSide");
    }
  });
});
define("discourse/components/topic-category", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend();
});
define("discourse/components/topic-entrance", ["exports", "discourse-common/utils/decorators", "@ember/runloop", "@ember/component", "discourse/lib/url", "discourse/mixins/cleans-up"], function (exports, _decorators, _runloop, _component, _url, _cleansUp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj, _init, _init2, _init3, _init4;

  function entranceDate(dt, showTime) {
    var today = new Date();

    if (dt.toDateString() === today.toDateString()) {
      return moment(dt).format(I18n.t("dates.time"));
    }

    if (dt.getYear() === today.getYear()) {
      // No year
      return moment(dt).format(showTime ? I18n.t("dates.long_date_without_year_with_linebreak") : I18n.t("dates.long_no_year_no_time"));
    }

    return moment(dt).format(showTime ? I18n.t("dates.long_date_with_year_with_linebreak") : I18n.t("dates.long_date_with_year_without_time"));
  }

  exports.default = _component.default.extend(_cleansUp.default, (_dec = (0, _decorators.default)("topic.created_at"), _dec2 = (0, _decorators.default)("topic.bumped_at"), _dec3 = (0, _decorators.default)("createdDate", "bumpedDate"), _dec4 = (0, _decorators.default)("createdDate", "showTime"), _dec5 = (0, _decorators.default)("bumpedDate", "showTime"), (_obj = {
    elementId: "topic-entrance",
    classNameBindings: ["visible::hidden"],
    _position: null,
    topic: null,
    visible: null,

    createdDate: function createdDate(createdAt) {
      return new Date(createdAt);
    },

    bumpedDate: function bumpedDate(bumpedAt) {
      return new Date(bumpedAt);
    },

    showTime: function showTime(createdDate, bumpedDate) {
      return bumpedDate.getTime() - createdDate.getTime() < 1000 * 60 * 60 * 24 * 2;
    },

    topDate: function topDate(createdDate, showTime) {
      return entranceDate(createdDate, showTime);
    },

    bottomDate: function bottomDate(bumpedDate, showTime) {
      return entranceDate(bumpedDate, showTime);
    },

    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      this.appEvents.on("topic-entrance:show", this, "_show");
    },
    _setCSS: function _setCSS() {
      var pos = this._position;
      var $self = $(this.element);
      var width = $self.width();
      var height = $self.height();
      pos.left = parseInt(pos.left, 10) - width / 2;
      pos.top = parseInt(pos.top, 10) - height / 2;

      var windowWidth = $(window).width();
      if (pos.left + width > windowWidth) {
        pos.left = windowWidth - width - 15;
      }
      $self.css(pos);
    },
    _show: function _show(data) {
      var _this = this;

      this._position = data.position;

      this.setProperties({ topic: data.topic, visible: true });

      (0, _runloop.scheduleOnce)("afterRender", this, this._setCSS);

      $("html").off("mousedown.topic-entrance").on("mousedown.topic-entrance", function (e) {
        var $target = $(e.target);
        if ($target.prop("id") === "topic-entrance" || $(_this.element).has($target).length !== 0) {
          return;
        }
        _this.cleanUp();
      });
    },
    cleanUp: function cleanUp() {
      this.setProperties({ topic: null, visible: false });
      $("html").off("mousedown.topic-entrance");
    },
    willDestroyElement: function willDestroyElement() {
      this.appEvents.off("topic-entrance:show", this, "_show");
    },
    _jumpTo: function _jumpTo(destination) {
      this.cleanUp();
      _url.default.routeTo(destination);
    },


    actions: {
      enterTop: function enterTop() {
        this._jumpTo(this.get("topic.url"));
      },
      enterBottom: function enterBottom() {
        this._jumpTo(this.get("topic.lastPostUrl"));
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "createdDate", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "createdDate"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "bumpedDate", [_dec2], (_init2 = Object.getOwnPropertyDescriptor(_obj, "bumpedDate"), _init2 = _init2 ? _init2.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init2;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "showTime", [_dec3], Object.getOwnPropertyDescriptor(_obj, "showTime"), _obj), _applyDecoratedDescriptor(_obj, "topDate", [_dec4], (_init3 = Object.getOwnPropertyDescriptor(_obj, "topDate"), _init3 = _init3 ? _init3.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init3;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "bottomDate", [_dec5], (_init4 = Object.getOwnPropertyDescriptor(_obj, "bottomDate"), _init4 = _init4 ? _init4.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init4;
    }
  }), _obj)), _obj)));
});
define("discourse/components/topic-footer-buttons", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component", "discourse/lib/register-topic-footer-button"], function (exports, _decorators, _computed, _component, _registerTopicFooterButton) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _obj, _init, _init2, _init3;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("topic.isPrivateMessage"), _dec2 = (0, _decorators.default)("buttons.[]"), _dec3 = (0, _decorators.default)("buttons.[]", "topic.assigned_to_user"), _dec4 = (0, _decorators.default)("topic.isPrivateMessage"), _dec5 = (0, _decorators.default)("topic.message_archived"), _dec6 = (0, _decorators.default)("topic.message_archived"), _dec7 = (0, _decorators.default)("topic.message_archived"), (_obj = {
    elementId: "topic-footer-buttons",

    // Allow us to extend it
    layoutName: "components/topic-footer-buttons",

    canArchive: function canArchive(isPM) {
      return this.siteSettings.enable_personal_messages && isPM;
    },


    buttons: (0, _registerTopicFooterButton.getTopicFooterButtons)(),

    inlineButtons: function inlineButtons(buttons) {
      return buttons.filter(function (button) {
        return !button.dropdown;
      });
    },
    dropdownButtons: function dropdownButtons(buttons) {
      return buttons.filter(function (button) {
        return button.dropdown;
      });
    },
    showNotificationsButton: function showNotificationsButton(isPM) {
      return !isPM || this.siteSettings.enable_personal_messages;
    },


    canInviteTo: (0, _computed.alias)("topic.details.can_invite_to"),

    canDefer: (0, _computed.alias)("currentUser.enable_defer"),

    inviteDisabled: (0, _computed.or)("topic.archived", "topic.closed", "topic.deleted"),

    showEditOnFooter: (0, _computed.and)("topic.isPrivateMessage", "site.can_tag_pms"),

    archiveIcon: function archiveIcon(archived) {
      return archived ? "envelope" : "folder";
    },

    archiveTitle: function archiveTitle(archived) {
      return archived ? "topic.move_to_inbox.help" : "topic.archive_message.help";
    },

    archiveLabel: function archiveLabel(archived) {
      return archived ? "topic.move_to_inbox.title" : "topic.archive_message.title";
    }
  }, (_applyDecoratedDescriptor(_obj, "canArchive", [_dec], Object.getOwnPropertyDescriptor(_obj, "canArchive"), _obj), _applyDecoratedDescriptor(_obj, "inlineButtons", [_dec2], Object.getOwnPropertyDescriptor(_obj, "inlineButtons"), _obj), _applyDecoratedDescriptor(_obj, "dropdownButtons", [_dec3], Object.getOwnPropertyDescriptor(_obj, "dropdownButtons"), _obj), _applyDecoratedDescriptor(_obj, "showNotificationsButton", [_dec4], Object.getOwnPropertyDescriptor(_obj, "showNotificationsButton"), _obj), _applyDecoratedDescriptor(_obj, "archiveIcon", [_dec5], (_init = Object.getOwnPropertyDescriptor(_obj, "archiveIcon"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "archiveTitle", [_dec6], (_init2 = Object.getOwnPropertyDescriptor(_obj, "archiveTitle"), _init2 = _init2 ? _init2.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init2;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "archiveLabel", [_dec7], (_init3 = Object.getOwnPropertyDescriptor(_obj, "archiveLabel"), _init3 = _init3 ? _init3.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init3;
    }
  }), _obj)), _obj)));
});
define("discourse/components/topic-join-group-notice", ["exports", "@ember/component", "discourse-common/utils/decorators"], function (exports, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("model.group.{full_name,name,allow_membership_requests}"), _dec2 = (0, _decorators.default)("model.group.allow_membership_requests"), (_obj = {
    classNames: ["topic-notice"],

    accessViaGroupText: function accessViaGroupText(group) {
      var name = group.full_name || group.name;
      var suffix = group.allow_membership_requests ? "request" : "join";
      return I18n.t("topic.group_" + suffix, { name: name });
    },
    accessViaGroupButtonText: function accessViaGroupButtonText(allowRequest) {
      return "groups." + (allowRequest ? "request" : "join");
    }
  }, (_applyDecoratedDescriptor(_obj, "accessViaGroupText", [_dec], Object.getOwnPropertyDescriptor(_obj, "accessViaGroupText"), _obj), _applyDecoratedDescriptor(_obj, "accessViaGroupButtonText", [_dec2], Object.getOwnPropertyDescriptor(_obj, "accessViaGroupButtonText"), _obj)), _obj)));
});
define("discourse/components/topic-list-item", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component", "@ember/runloop", "discourse/lib/url", "discourse/lib/raw-templates", "discourse/lib/intercept-click", "@ember/object/evented"], function (exports, _decorators, _computed, _component, _runloop, _url, _rawTemplates, _interceptClick, _evented) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.showEntrance = showEntrance;
  exports.navigateToTopic = navigateToTopic;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj, _init;

  function showEntrance(e) {
    var target = $(e.target);

    if (target.hasClass("posts-map") || target.parents(".posts-map").length > 0) {
      if (target.prop("tagName") !== "A") {
        target = target.find("a");
        if (target.length === 0) {
          target = target.end();
        }
      }

      this.appEvents.trigger("topic-entrance:show", {
        topic: this.topic,
        position: target.offset()
      });
      return false;
    }
  }

  function navigateToTopic(topic, href) {
    this.appEvents.trigger("header:update-topic", topic);
    _url.default.routeTo(href || topic.get("url"));
    return false;
  }

  exports.default = _component.default.extend((_dec = (0, _decorators.observes)("topic.pinned"), _dec2 = (0, _decorators.default)("topic.id"), _dec3 = (0, _decorators.default)("topic.unread_by_group_member"), _dec4 = (0, _decorators.default)("topic.unread_by_group_member"), _dec5 = (0, _decorators.default)("topic", "lastVisitedTopic"), (_obj = {
    tagName: "tr",
    classNameBindings: [":topic-list-item", "unboundClassNames", "topic.visited"],
    attributeBindings: ["data-topic-id"],
    "data-topic-id": (0, _computed.alias)("topic.id"),

    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);
      this.renderTopicListItem();
    },
    renderTopicListItem: function renderTopicListItem() {
      var template = (0, _rawTemplates.findRawTemplate)("list/topic-list-item");
      if (template) {
        this.set("topicListItemContents", template(this).htmlSafe());
      }
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      if (this.includeUnreadIndicator) {
        this.messageBus.subscribe(this.unreadIndicatorChannel, function (data) {
          var nodeClassList = document.querySelector(".indicator-topic-" + data.topic_id).classList;

          if (data.show_indicator) {
            nodeClassList.remove("read");
          } else {
            nodeClassList.add("read");
          }
        });
      }
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      if (this.includeUnreadIndicator) {
        this.messageBus.unsubscribe(this.unreadIndicatorChannel);
      }
    },
    unreadIndicatorChannel: function unreadIndicatorChannel(topicId) {
      return "/private-messages/unread-indicator/" + topicId;
    },
    unreadClass: function unreadClass(unreadByGroupMember) {
      return unreadByGroupMember ? "" : "read";
    },
    includeUnreadIndicator: function includeUnreadIndicator(unreadByGroupMember) {
      return typeof unreadByGroupMember !== "undefined";
    },
    newDotText: function newDotText() {
      return this.currentUser && this.currentUser.trust_level > 0 ? "" : I18n.t("filters.new.lower_title");
    },
    unboundClassNames: function unboundClassNames(topic, lastVisitedTopic) {
      var classes = [];

      if (topic.get("category")) {
        classes.push("category-" + topic.get("category.fullSlug"));
      }

      if (topic.get("tags")) {
        topic.get("tags").forEach(function (tagName) {
          return classes.push("tag-" + tagName);
        });
      }

      if (topic.get("hasExcerpt")) {
        classes.push("has-excerpt");
      }

      if (topic.get("unseen")) {
        classes.push("unseen-topic");
      }

      if (topic.get("displayNewPosts")) {
        classes.push("new-posts");
      }

      ["liked", "archived", "bookmarked", "pinned", "closed"].forEach(function (name) {
        if (topic.get(name)) {
          classes.push(name);
        }
      });

      if (topic === lastVisitedTopic) {
        classes.push("last-visit");
      }

      return classes.join(" ");
    },


    hasLikes: function hasLikes() {
      return this.get("topic.like_count") > 0;
    },

    hasOpLikes: function hasOpLikes() {
      return this.get("topic.op_like_count") > 0;
    },

    expandPinned: function expandPinned() {
      var pinned = this.get("topic.pinned");
      if (!pinned) {
        return false;
      }

      if (this.site.mobileView) {
        if (!this.siteSettings.show_pinned_excerpt_mobile) {
          return false;
        }
      } else {
        if (!this.siteSettings.show_pinned_excerpt_desktop) {
          return false;
        }
      }

      if (this.expandGloballyPinned && this.get("topic.pinned_globally")) {
        return true;
      }

      if (this.expandAllPinned) {
        return true;
      }

      return false;
    },

    showEntrance: showEntrance,

    click: function click(e) {
      var result = this.showEntrance(e);
      if (result === false) {
        return result;
      }

      var topic = this.topic;
      var target = $(e.target);
      if (target.hasClass("bulk-select")) {
        var selected = this.selected;

        if (target.is(":checked")) {
          selected.addObject(topic);
        } else {
          selected.removeObject(topic);
        }
      }

      if (target.hasClass("raw-topic-link")) {
        if ((0, _interceptClick.wantsNewWindow)(e)) {
          return true;
        }
        return this.navigateToTopic(topic, target.attr("href"));
      }

      if (target.closest("a.topic-status").length === 1) {
        this.topic.togglePinnedForUser();
        return false;
      }

      return this.unhandledRowClick(e, topic);
    },


    actions: {
      toggleBookmark: function toggleBookmark() {
        var _this = this;

        this.topic.toggleBookmark().finally(function () {
          return _this.renderTopicListItem();
        });
      }
    },

    unhandledRowClick: function unhandledRowClick() {},


    navigateToTopic: navigateToTopic,

    highlight: function highlight() {
      var _this2 = this;

      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { isLastViewedTopic: false };

      (0, _runloop.schedule)("afterRender", function () {
        if (!_this2.element || _this2.isDestroying || _this2.isDestroyed) {
          return;
        }

        var $topic = $(_this2.element);
        $topic.addClass("highlighted").attr("data-islastviewedtopic", opts.isLastViewedTopic);

        $topic.on("animationend", function () {
          return $topic.removeClass("highlighted");
        });
      });
    },


    _highlightIfNeeded: (0, _evented.on)("didInsertElement", function () {
      // highlight the last topic viewed
      if (this.session.get("lastTopicIdViewed") === this.get("topic.id")) {
        this.session.set("lastTopicIdViewed", null);
        this.highlight({ isLastViewedTopic: true });
      } else if (this.get("topic.highlight")) {
        // highlight new topics that have been loaded from the server or the one we just created
        this.set("topic.highlight", false);
        this.highlight();
      }
    })
  }, (_applyDecoratedDescriptor(_obj, "renderTopicListItem", [_dec], Object.getOwnPropertyDescriptor(_obj, "renderTopicListItem"), _obj), _applyDecoratedDescriptor(_obj, "unreadIndicatorChannel", [_dec2], Object.getOwnPropertyDescriptor(_obj, "unreadIndicatorChannel"), _obj), _applyDecoratedDescriptor(_obj, "unreadClass", [_dec3], Object.getOwnPropertyDescriptor(_obj, "unreadClass"), _obj), _applyDecoratedDescriptor(_obj, "includeUnreadIndicator", [_dec4], Object.getOwnPropertyDescriptor(_obj, "includeUnreadIndicator"), _obj), _applyDecoratedDescriptor(_obj, "newDotText", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "newDotText"), _obj), _applyDecoratedDescriptor(_obj, "unboundClassNames", [_dec5], Object.getOwnPropertyDescriptor(_obj, "unboundClassNames"), _obj), _applyDecoratedDescriptor(_obj, "expandPinned", [_decorators.default], (_init = Object.getOwnPropertyDescriptor(_obj, "expandPinned"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/components/topic-list", ["exports", "@ember/object/computed", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators", "discourse/mixins/load-more", "@ember/object/evented"], function (exports, _computed, _runloop, _component, _decorators, _loadMore, _evented) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _desc, _value, _obj;

  exports.default = _component.default.extend(_loadMore.default, (_dec = (0, _decorators.default)("bulkSelectEnabled"), _dec2 = (0, _decorators.default)("order"), _dec3 = (0, _decorators.default)("order"), _dec4 = (0, _decorators.observes)("topics.[]"), _dec5 = (0, _decorators.observes)("topics", "order", "ascending", "category", "top"), (_obj = {
    tagName: "table",
    classNames: ["topic-list"],
    showTopicPostBadges: true,
    listTitle: "topic.title",

    // Overwrite this to perform client side filtering of topics, if desired
    filteredTopics: (0, _computed.alias)("topics"),

    _init: (0, _evented.on)("init", function () {
      this.addObserver("hideCategory", this.rerender);
      this.addObserver("order", this.rerender);
      this.addObserver("ascending", this.rerender);
      this.refreshLastVisited();
    }),

    toggleInTitle: function toggleInTitle(bulkSelectEnabled) {
      return !bulkSelectEnabled && this.canBulkSelect;
    },
    sortable: function sortable() {
      return !!this.changeSort;
    },


    skipHeader: (0, _computed.reads)("site.mobileView"),

    showLikes: function showLikes(order) {
      return order === "likes";
    },
    showOpLikes: function showOpLikes(order) {
      return order === "op_likes";
    },
    topicsAdded: function topicsAdded() {
      // special case so we don't keep scanning huge lists
      if (!this.lastVisitedTopic) {
        this.refreshLastVisited();
      }
    },
    lastVisitedTopicChanged: function lastVisitedTopicChanged() {
      this.refreshLastVisited();
    },
    scrolled: function scrolled() {
      this._super.apply(this, arguments);
      var onScroll = this.onScroll;
      if (!onScroll) return;

      onScroll.call(this);
    },
    scrollToLastPosition: function scrollToLastPosition() {
      if (!this.scrollOnLoad) return;

      var scrollTo = this.session.get("topicListScrollPosition");
      if (scrollTo && scrollTo >= 0) {
        (0, _runloop.schedule)("afterRender", function () {
          return $(window).scrollTop(scrollTo + 1);
        });
      }
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);
      this.scrollToLastPosition();
    },
    _updateLastVisitedTopic: function _updateLastVisitedTopic(topics, order, ascending, top) {
      this.set("lastVisitedTopic", null);

      if (!this.highlightLastVisited) {
        return;
      }

      if (order !== "default" && order !== "activity") {
        return;
      }

      if (top) {
        return;
      }

      if (!topics || topics.length === 1) {
        return;
      }

      if (ascending) {
        return;
      }

      var user = this.currentUser;
      if (!user || !user.previous_visit_at) {
        return;
      }

      var lastVisitedTopic = void 0,
          topic = void 0;

      var prevVisit = user.get("previousVisitAt");

      // this is more efficient cause we keep appending to list
      // work backwards
      var start = 0;
      while (topics[start] && topics[start].get("pinned")) {
        start++;
      }

      var i = void 0;
      for (i = topics.length - 1; i >= start; i--) {
        if (topics[i].get("bumpedAt") > prevVisit) {
          lastVisitedTopic = topics[i];
          break;
        }
        topic = topics[i];
      }

      if (!lastVisitedTopic || !topic) {
        return;
      }

      // end of list that was scanned
      if (topic.get("bumpedAt") > prevVisit) {
        return;
      }

      this.set("lastVisitedTopic", lastVisitedTopic);
    },
    refreshLastVisited: function refreshLastVisited() {
      this._updateLastVisitedTopic(this.topics, this.order, this.ascending, this.top);
    },
    click: function click(e) {
      var self = this;
      var onClick = function onClick(sel, callback) {
        var target = $(e.target).closest(sel);

        if (target.length === 1) {
          callback.apply(self, [target]);
        }
      };

      onClick("button.bulk-select", function () {
        this.toggleBulkSelect();
        this.rerender();
      });

      onClick("button.bulk-select-all", function () {
        $("input.bulk-select:not(:checked)").click();
      });

      onClick("button.bulk-clear-all", function () {
        $("input.bulk-select:checked").click();
      });

      onClick("th.sortable", function (e2) {
        this.changeSort(e2.data("sort-order"));
        this.rerender();
      });
    }
  }, (_applyDecoratedDescriptor(_obj, "toggleInTitle", [_dec], Object.getOwnPropertyDescriptor(_obj, "toggleInTitle"), _obj), _applyDecoratedDescriptor(_obj, "sortable", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "sortable"), _obj), _applyDecoratedDescriptor(_obj, "showLikes", [_dec2], Object.getOwnPropertyDescriptor(_obj, "showLikes"), _obj), _applyDecoratedDescriptor(_obj, "showOpLikes", [_dec3], Object.getOwnPropertyDescriptor(_obj, "showOpLikes"), _obj), _applyDecoratedDescriptor(_obj, "topicsAdded", [_dec4], Object.getOwnPropertyDescriptor(_obj, "topicsAdded"), _obj), _applyDecoratedDescriptor(_obj, "lastVisitedTopicChanged", [_dec5], Object.getOwnPropertyDescriptor(_obj, "lastVisitedTopicChanged"), _obj)), _obj)));
});
define("discourse/components/topic-navigation", ["exports", "@ember/object", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators", "discourse/lib/show-modal", "discourse/mixins/pan-events"], function (exports, _object, _runloop, _component, _decorators, _showModal, _panEvents) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  var MIN_WIDTH_TIMELINE = 924;

  exports.default = _component.default.extend(_panEvents.default, (_dec = (0, _decorators.observes)("info.topicProgressExpanded"), (_obj = {
    composerOpen: null,
    info: null,
    isPanning: false,

    init: function init() {
      this._super.apply(this, arguments);
      this.set("info", _object.default.create());
    },
    _performCheckSize: function _performCheckSize() {
      if (!this.element || this.isDestroying || this.isDestroyed) {
        return;
      }

      var info = this.info;

      if (info.get("topicProgressExpanded")) {
        info.setProperties({
          renderTimeline: true,
          renderAdminMenuButton: true
        });
      } else {
        var renderTimeline = !this.site.mobileView;

        if (renderTimeline) {
          var width = window.innerWidth,
              composer = document.getElementById("reply-control"),
              timelineContainer = document.querySelector(".timeline-container"),
              headerContainer = document.querySelector(".d-header"),
              headerHeight = headerContainer && headerContainer.offsetHeight || 0;

          if (timelineContainer && composer) {
            renderTimeline = width > MIN_WIDTH_TIMELINE && window.innerHeight - composer.offsetHeight - headerHeight > timelineContainer.offsetHeight;
          }
        }

        info.setProperties({
          renderTimeline: renderTimeline,
          renderAdminMenuButton: !renderTimeline
        });
      }
    },
    _checkSize: function _checkSize() {
      (0, _runloop.debounce)(this, this._performCheckSize, 300, true);
    },


    // we need to store this so topic progress has something to init with
    _topicScrolled: function _topicScrolled(event) {
      this.set("info.prevEvent", event);
    },
    _expanded: function _expanded() {
      var _this = this;

      if (this.get("info.topicProgressExpanded")) {
        $(window).on("click.hide-fullscreen", function (e) {
          var $target = $(e.target);
          var $parents = $target.parents();
          if (!$target.is(".widget-button") && !$parents.is(".widget-button") && !$parents.is(".dropdown-menu") && !$parents.is("#discourse-modal") && !$target.is("#discourse-modal") && !$parents.is(".modal-footer") && ($target.is(".topic-timeline") || !$parents.is("#topic-progress-wrapper"))) {
            _this._collapseFullscreen();
          }
        });
      } else {
        $(window).off("click.hide-fullscreen");
      }
      this._checkSize();
    },
    composerOpened: function composerOpened() {
      this.set("composerOpen", true);
      this._checkSize();
    },
    composerClosed: function composerClosed() {
      this.set("composerOpen", false);
      this._checkSize();
    },
    _collapseFullscreen: function _collapseFullscreen() {
      var _this2 = this;

      if (this.get("info.topicProgressExpanded")) {
        $(".timeline-fullscreen").removeClass("show");
        (0, _runloop.later)(function () {
          if (!_this2.element || _this2.isDestroying || _this2.isDestroyed) {
            return;
          }

          _this2.set("info.topicProgressExpanded", false);
          _this2._checkSize();
        }, 500);
      }
    },
    keyboardTrigger: function keyboardTrigger(e) {
      if (e.type === "jump") {
        var controller = (0, _showModal.default)("jump-to-post", {
          modalClass: "jump-to-post-modal"
        });
        controller.setProperties({
          topic: this.topic,
          jumpToIndex: this.attrs.jumpToIndex,
          jumpToDate: this.attrs.jumpToDate
        });
      }
    },
    _handlePanDone: function _handlePanDone(offset, event) {
      var _this3 = this;

      var $timelineContainer = $(".timeline-container");
      var maxOffset = parseInt($timelineContainer.css("height"), 10);

      this._shouldPanClose(event) ? offset += _panEvents.SWIPE_VELOCITY : offset -= _panEvents.SWIPE_VELOCITY;

      $timelineContainer.css("bottom", -offset);
      if (offset > maxOffset) {
        this._collapseFullscreen();
      } else if (offset <= 0) {
        $timelineContainer.css("bottom", "");
      } else {
        (0, _runloop.later)(function () {
          return _this3._handlePanDone(offset, event);
        }, 20);
      }
    },
    _shouldPanClose: function _shouldPanClose(e) {
      return e.deltaY > _panEvents.SWIPE_DISTANCE_THRESHOLD && e.velocityY > -_panEvents.SWIPE_VELOCITY_THRESHOLD || e.velocityY > _panEvents.SWIPE_VELOCITY_THRESHOLD;
    },
    panStart: function panStart(e) {
      e.originalEvent.preventDefault();
      var center = e.center;
      var $centeredElement = $(document.elementFromPoint(center.x, center.y));
      if ($centeredElement.parents(".timeline-scrollarea-wrapper").length) {
        this.isPanning = false;
      } else if (e.direction === "up" || e.direction === "down") {
        this.isPanning = true;
      }
    },
    panEnd: function panEnd(e) {
      if (!this.isPanning) {
        return;
      }
      e.originalEvent.preventDefault();
      this.isPanning = false;
      this._handlePanDone(e.deltaY, e);
    },
    panMove: function panMove(e) {
      if (!this.isPanning) {
        return;
      }
      e.originalEvent.preventDefault();
      $(".timeline-container").css("bottom", Math.min(0, -e.deltaY));
    },
    didInsertElement: function didInsertElement() {
      var _this4 = this;

      this._super.apply(this, arguments);

      this.appEvents.on("topic:current-post-scrolled", this, this._topicScrolled).on("topic:jump-to-post", this, this._collapseFullscreen).on("topic:keyboard-trigger", this, this.keyboardTrigger);

      if (!this.site.mobileView) {
        $(window).on("resize.discourse-topic-navigation", function () {
          return _this4._checkSize();
        });
        this.appEvents.on("composer:opened", this, this.composerOpened);
        this.appEvents.on("composer:resized", this, this.composerOpened);
        this.appEvents.on("composer:closed", this, this.composerClosed);
        $("#reply-control").on("div-resized.discourse-topic-navigation", function () {
          return _this4._checkSize();
        });
      }

      this._checkSize();
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      this.appEvents.off("topic:current-post-scrolled", this, this._topicScrolled).off("topic:jump-to-post", this, this._collapseFullscreen).off("topic:keyboard-trigger", this, this.keyboardTrigger);

      $(window).off("click.hide-fullscreen");

      if (!this.site.mobileView) {
        $(window).off("resize.discourse-topic-navigation");
        this.appEvents.off("composer:opened", this, this.composerOpened);
        this.appEvents.off("composer:resized", this, this.composerOpened);
        this.appEvents.off("composer:closed", this, this.composerClosed);
        $("#reply-control").off("div-resized.discourse-topic-navigation");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_expanded", [_dec], Object.getOwnPropertyDescriptor(_obj, "_expanded"), _obj)), _obj)));
});
define("discourse/components/topic-post-badges", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "span",
    classNameBindings: [":topic-post-badges"],
    rerenderTriggers: ["url", "unread", "newPosts", "unseen"],
    newDotText: null,
    init: function init() {
      this._super.apply(this, arguments);
      this.set("newDotText", this.currentUser && this.currentUser.trust_level > 0 ? " " : I18n.t("filters.new.lower_title"));
    }
  });
});
define("discourse/components/topic-progress", ["exports", "@ember/object/computed", "@ember/runloop", "@ember/component", "discourse-common/utils/decorators"], function (exports, _computed, _runloop, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("progressPosition"), _dec2 = (0, _decorators.default)("postStream.filteredPostsCount", "topic.highest_post_number", "progressPosition"), _dec3 = (0, _decorators.default)("postStream.loaded", "topic.currentPost", "postStream.filteredPostsCount"), _dec4 = (0, _decorators.default)("postStream.filteredPostsCount"), _dec5 = (0, _decorators.default)("hugeNumberOfPosts", "topic.highest_post_number"), _dec6 = (0, _decorators.default)("progressPosition", "topic.last_read_post_id"), _dec7 = (0, _decorators.observes)("postStream.stream.[]"), (_obj = {
    elementId: "topic-progress-wrapper",
    classNameBindings: ["docked"],
    docked: false,
    progressPosition: null,
    postStream: (0, _computed.alias)("topic.postStream"),
    _streamPercentage: null,

    jumpTopDisabled: function jumpTopDisabled(progressPosition) {
      return progressPosition <= 3;
    },
    jumpBottomDisabled: function jumpBottomDisabled(filteredPostsCount, highestPostNumber, progressPosition) {
      return progressPosition >= filteredPostsCount || progressPosition >= highestPostNumber;
    },
    hideProgress: function hideProgress(loaded, currentPost, filteredPostsCount) {
      return !loaded || !currentPost || !this.site.mobileView && filteredPostsCount < 2;
    },
    hugeNumberOfPosts: function hugeNumberOfPosts(filteredPostsCount) {
      return filteredPostsCount >= this.siteSettings.short_progress_text_threshold;
    },
    jumpToBottomTitle: function jumpToBottomTitle(hugeNumberOfPosts, highestPostNumber) {
      if (hugeNumberOfPosts) {
        return I18n.t("topic.progress.jump_bottom_with_number", {
          post_number: highestPostNumber
        });
      } else {
        return I18n.t("topic.progress.jump_bottom");
      }
    },
    showBackButton: function showBackButton(position, lastReadId) {
      if (!lastReadId) {
        return;
      }

      var stream = this.get("postStream.stream");
      var readPos = stream.indexOf(lastReadId) || 0;
      return readPos < stream.length - 1 && readPos > position;
    },
    _updateBar: function _updateBar() {
      (0, _runloop.scheduleOnce)("afterRender", this, this._updateProgressBar);
    },
    _topicScrolled: function _topicScrolled(event) {
      if (this.docked) {
        this.set("progressPosition", this.get("postStream.filteredPostsCount"));
        this._streamPercentage = 1.0;
      } else {
        this.set("progressPosition", event.postIndex);
        this._streamPercentage = event.percent;
      }

      this._updateBar();
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      this.appEvents.on("composer:will-open", this, this._dock).on("composer:resized", this, this._dock).on("composer:closed", this, this._dock).on("topic:scrolled", this, this._dock).on("topic:current-post-scrolled", this, this._topicScrolled);

      var prevEvent = this.prevEvent;
      if (prevEvent) {
        (0, _runloop.scheduleOnce)("afterRender", this, this._topicScrolled, prevEvent);
      } else {
        (0, _runloop.scheduleOnce)("afterRender", this, this._updateProgressBar);
      }
      (0, _runloop.scheduleOnce)("afterRender", this, this._dock);
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      this.appEvents.off("composer:will-open", this, this._dock).off("composer:resized", this, this._dock).off("composer:closed", this, this._dock).off("topic:scrolled", this, this._dock).off("topic:current-post-scrolled", this, this._topicScrolled);
    },
    _updateProgressBar: function _updateProgressBar() {
      if (this.isDestroyed || this.isDestroying) {
        return;
      }

      var $topicProgress = $(this.element.querySelector("#topic-progress"));
      // speeds up stuff, bypass jquery slowness and extra checks
      if (!this._totalWidth) {
        this._totalWidth = $topicProgress[0].offsetWidth;
      }

      // Only show percentage once we have one
      if (!this._streamPercentage) {
        return;
      }

      var totalWidth = this._totalWidth;
      var progressWidth = (this._streamPercentage || 0) * totalWidth;
      var borderSize = progressWidth === totalWidth ? "0px" : "1px";

      var $bg = $topicProgress.find(".bg");
      if ($bg.length === 0) {
        var style = "border-right-width: " + borderSize + "; width: " + progressWidth + "px";
        $topicProgress.append("<div class='bg' style=\"" + style + "\">&nbsp;</div>");
      } else {
        $bg.css("border-right-width", borderSize).width(progressWidth - 2);
      }
    },
    _dock: function _dock() {
      var $wrapper = $(this.element);
      if (!$wrapper || $wrapper.length === 0) return;

      var $html = $("html");
      var offset = window.pageYOffset || $html.scrollTop();
      var progressHeight = this.site.mobileView ? 0 : $("#topic-progress").outerHeight();
      var maximumOffset = $("#topic-bottom").offset().top + progressHeight;
      var windowHeight = $(window).height();
      var composerHeight = $("#reply-control").height() || 0;
      var isDocked = offset >= maximumOffset - windowHeight + composerHeight;
      var bottom = $("body").height() - maximumOffset;

      var $iPadFooterNav = $(".footer-nav-ipad .footer-nav");
      if ($iPadFooterNav && $iPadFooterNav.length > 0) {
        bottom += $iPadFooterNav.outerHeight();
      }
      var wrapperDir = $html.hasClass("rtl") ? "left" : "right";
      var draftComposerHeight = 40;

      if (composerHeight > 0) {
        var $iPhoneFooterNav = $(".footer-nav-visible .footer-nav");
        var $replyDraft = $("#reply-control.draft");
        if ($iPhoneFooterNav.outerHeight() && $replyDraft.outerHeight()) {
          composerHeight = $replyDraft.outerHeight() + $iPhoneFooterNav.outerHeight();
        }
        $wrapper.css("bottom", isDocked ? bottom : composerHeight);
      } else {
        $wrapper.css("bottom", isDocked ? bottom : "");
      }

      this.set("docked", isDocked);

      var $replyArea = $("#reply-control .reply-area");
      if ($replyArea && $replyArea.length > 0 && wrapperDir === "left") {
        $wrapper.css(wrapperDir, $replyArea.offset().left + "px");
      } else {
        $wrapper.css(wrapperDir, "1em");
      }

      $wrapper.css("margin-bottom", !isDocked && composerHeight > draftComposerHeight ? "0px" : "");
    },
    click: function click(e) {
      if ($(e.target).closest("#topic-progress").length) {
        this.send("toggleExpansion");
      }
    },


    actions: {
      toggleExpansion: function toggleExpansion() {
        this.toggleProperty("expanded");
      },
      goBack: function goBack() {
        this.attrs.jumpToPost(this.get("topic.last_read_post_number"));
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "jumpTopDisabled", [_dec], Object.getOwnPropertyDescriptor(_obj, "jumpTopDisabled"), _obj), _applyDecoratedDescriptor(_obj, "jumpBottomDisabled", [_dec2], Object.getOwnPropertyDescriptor(_obj, "jumpBottomDisabled"), _obj), _applyDecoratedDescriptor(_obj, "hideProgress", [_dec3], Object.getOwnPropertyDescriptor(_obj, "hideProgress"), _obj), _applyDecoratedDescriptor(_obj, "hugeNumberOfPosts", [_dec4], Object.getOwnPropertyDescriptor(_obj, "hugeNumberOfPosts"), _obj), _applyDecoratedDescriptor(_obj, "jumpToBottomTitle", [_dec5], Object.getOwnPropertyDescriptor(_obj, "jumpToBottomTitle"), _obj), _applyDecoratedDescriptor(_obj, "showBackButton", [_dec6], Object.getOwnPropertyDescriptor(_obj, "showBackButton"), _obj), _applyDecoratedDescriptor(_obj, "_updateBar", [_dec7], Object.getOwnPropertyDescriptor(_obj, "_updateBar"), _obj)), _obj)));
});
define("discourse/components/topic-status", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse-common/lib/icon-library"], function (exports, _decorators, _component, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("disableActions"), _dec2 = (0, _decorators.default)("topic.closed", "topic.archived"), _dec3 = (0, _decorators.default)("topic.is_warning"), _dec4 = (0, _decorators.default)("topic.pinned"), _dec5 = (0, _decorators.default)("topic.unpinned"), _dec6 = (0, _decorators.default)("topic.invisible"), (_obj = {
    classNames: ["topic-statuses"],

    click: function click(e) {
      // only pin unpin for now
      if (this.canAct && $(e.target).hasClass("d-icon-thumbtack")) {
        var topic = this.topic;
        topic.get("pinned") ? topic.clearPin() : topic.rePin();
      }

      return false;
    },
    canAct: function canAct(disableActions) {
      return this.currentUser && !disableActions;
    },
    topicClosedArchived: function topicClosedArchived(closed, archived) {
      if (closed && archived) {
        this._set("closedArchived", "lock", "locked_and_archived");
        this._reset("closed");
        this._reset("archived");
        return true;
      } else {
        this._reset("closedArchived");
        closed ? this._set("closed", "lock", "locked") : this._reset("closed");
        archived ? this._set("archived", "lock", "archived") : this._reset("archived");
        return false;
      }
    },
    topicWarning: function topicWarning(warning) {
      return warning ? this._set("warning", "envelope", "warning") : this._reset("warning");
    },
    topicPinned: function topicPinned(pinned) {
      return pinned ? this._set("pinned", "thumbtack", "pinned") : this._reset("pinned");
    },
    topicUnpinned: function topicUnpinned(unpinned) {
      return unpinned ? this._set("unpinned", "thumbtack", "unpinned", { class: "unpinned" }) : this._reset("unpinned");
    },
    topicInvisible: function topicInvisible(invisible) {
      return invisible ? this._set("invisible", "far-eye-slash", "unlisted") : this._reset("invisible");
    },
    _set: function _set(name, icon, key) {
      var iconArgs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

      this.set(name + "Icon", (0, _iconLibrary.iconHTML)("" + icon, iconArgs).htmlSafe());
      this.set(name + "Title", I18n.t("topic_statuses." + key + ".help"));
      return true;
    },
    _reset: function _reset(name) {
      this.set(name + "Icon", null);
      this.set(name + "Title", null);
      return false;
    }
  }, (_applyDecoratedDescriptor(_obj, "canAct", [_dec], Object.getOwnPropertyDescriptor(_obj, "canAct"), _obj), _applyDecoratedDescriptor(_obj, "topicClosedArchived", [_dec2], Object.getOwnPropertyDescriptor(_obj, "topicClosedArchived"), _obj), _applyDecoratedDescriptor(_obj, "topicWarning", [_dec3], Object.getOwnPropertyDescriptor(_obj, "topicWarning"), _obj), _applyDecoratedDescriptor(_obj, "topicPinned", [_dec4], Object.getOwnPropertyDescriptor(_obj, "topicPinned"), _obj), _applyDecoratedDescriptor(_obj, "topicUnpinned", [_dec5], Object.getOwnPropertyDescriptor(_obj, "topicUnpinned"), _obj), _applyDecoratedDescriptor(_obj, "topicInvisible", [_dec6], Object.getOwnPropertyDescriptor(_obj, "topicInvisible"), _obj)), _obj)));
});
define("discourse/components/topic-timeline", ["exports", "@ember/runloop", "discourse/components/mount-widget", "discourse/mixins/docking", "discourse-common/utils/decorators", "discourse/lib/optional-service"], function (exports, _runloop, _mountWidget, _docking, _decorators, _optionalService) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  var headerPadding = function headerPadding() {
    var topPadding = parseInt($("#main-outlet").css("padding-top"), 10) + 3;
    var iPadNavHeight = $(".footer-nav-ipad .footer-nav").height();
    if (iPadNavHeight) {
      topPadding += iPadNavHeight;
    }
    return topPadding;
  };

  exports.default = _mountWidget.default.extend(_docking.default, (_dec = (0, _decorators.observes)("topic.highest_post_number", "loading"), _dec2 = (0, _decorators.observes)("topic.details.notification_level"), (_obj = {
    adminTools: (0, _optionalService.default)(),
    widget: "topic-timeline-container",
    dockBottom: null,
    dockAt: null,

    buildArgs: function buildArgs() {
      var attrs = {
        topic: this.topic,
        notificationLevel: this.notificationLevel,
        topicTrackingState: this.topicTrackingState,
        enteredIndex: this.enteredIndex,
        dockAt: this.dockAt,
        dockBottom: this.dockBottom,
        mobileView: this.get("site.mobileView")
      };

      var event = this.prevEvent;
      if (event) {
        attrs.enteredIndex = event.postIndex - 1;
      }

      if (this.fullscreen) {
        attrs.fullScreen = true;
        attrs.addShowClass = this.addShowClass;
      } else {
        attrs.top = this.dockAt || headerPadding();
      }

      return attrs;
    },
    newPostAdded: function newPostAdded() {
      var _this = this;

      this.queueRerender(function () {
        return _this.queueDockCheck();
      });
    },
    _queueRerender: function _queueRerender() {
      this.queueRerender();
    },
    dockCheck: function dockCheck(info) {
      var mainOffset = $("#main").offset();
      var offsetTop = mainOffset ? mainOffset.top : 0;
      var topicTop = $(".container.posts").offset().top - offsetTop;
      var topicBottom = $("#topic-bottom").offset().top - $("#main-outlet").offset().top;
      var timeline = this.element.querySelector(".timeline-container");
      var timelineHeight = timeline && timeline.offsetHeight || 400;
      var footerHeight = $(".timeline-footer-controls").outerHeight(true) || 0;

      var prev = this.dockAt;
      var posTop = headerPadding() + info.offset();
      var pos = posTop + timelineHeight;

      this.dockBottom = false;
      if (posTop < topicTop) {
        this.dockAt = parseInt(topicTop, 10);
      } else if (pos > topicBottom + footerHeight) {
        this.dockAt = parseInt(topicBottom - timelineHeight + footerHeight, 10);
        this.dockBottom = true;
        if (this.dockAt < 0) {
          this.dockAt = 0;
        }
      } else {
        this.dockAt = null;
        this.fastDockAt = parseInt(topicBottom - timelineHeight + footerHeight - offsetTop, 10);
      }

      if (this.dockAt !== prev) {
        this.queueRerender();
      }
    },
    didInsertElement: function didInsertElement() {
      var _this2 = this;

      this._super.apply(this, arguments);

      if (this.fullscreen && !this.addShowClass) {
        (0, _runloop.next)(function () {
          _this2.set("addShowClass", true);
          _this2.queueRerender();
        });
      }

      this.dispatch("topic:current-post-scrolled", "timeline-scrollarea");
      this.dispatch("topic:toggle-actions", "topic-admin-menu-button");
      if (!this.site.mobileView) {
        this.appEvents.on("composer:opened", this, this.queueRerender);
        this.appEvents.on("composer:resized", this, this.queueRerender);
        this.appEvents.on("composer:closed", this, this.queueRerender);
      }
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);

      if (!this.site.mobileView) {
        this.appEvents.off("composer:opened", this, this.queueRerender);
        this.appEvents.off("composer:resized", this, this.queueRerender);
        this.appEvents.off("composer:closed", this, this.queueRerender);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "newPostAdded", [_dec], Object.getOwnPropertyDescriptor(_obj, "newPostAdded"), _obj), _applyDecoratedDescriptor(_obj, "_queueRerender", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_queueRerender"), _obj)), _obj)));
});
define("discourse/components/topic-timer-info", ["exports", "discourse-common/utils/decorators", "@ember/runloop", "@ember/component", "discourse-common/lib/icon-library", "discourse/models/category", "discourse/controllers/edit-topic-timer", "discourse-common/config/environment"], function (exports, _decorators, _runloop, _component, _iconLibrary, _category, _editTopicTimer, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("statusType"), _dec2 = (0, _decorators.default)("canRemoveTimer", "removeTopicTimer"), (_obj = {
    classNames: ["topic-status-info"],
    _delayedRerender: null,
    clockIcon: ("" + (0, _iconLibrary.iconHTML)("far-clock")).htmlSafe(),
    trashCanIcon: ("" + (0, _iconLibrary.iconHTML)("trash-alt")).htmlSafe(),
    trashCanTitle: I18n.t("post.controls.remove_timer"),
    title: null,
    notice: null,
    showTopicTimer: null,

    canRemoveTimer: function canRemoveTimer(type) {
      if (type === _editTopicTimer.REMINDER_TYPE) return true;
      return this.currentUser && this.currentUser.get("canManageTopic");
    },
    showTrashCan: function showTrashCan(canRemoveTimer, removeTopicTimer) {
      return canRemoveTimer && removeTopicTimer;
    },
    renderTopicTimer: function renderTopicTimer() {
      var _this = this;

      if (!this.executeAt || this.executeAt < moment()) {
        this.set("showTopicTimer", null);
        return;
      }

      var topicStatus = this.topicClosed ? "close" : "open";
      var topicStatusKnown = this.topicClosed !== undefined;
      if (topicStatusKnown && topicStatus === this.statusType) return;

      var statusUpdateAt = moment(this.executeAt);
      var duration = moment.duration(statusUpdateAt - moment());
      var minutesLeft = duration.asMinutes();
      if (minutesLeft > 0) {
        var rerenderDelay = 1000;
        if (minutesLeft > 2160) {
          rerenderDelay = 12 * 60 * 60000;
        } else if (minutesLeft > 1410) {
          rerenderDelay = 60 * 60000;
        } else if (minutesLeft > 90) {
          rerenderDelay = 30 * 60000;
        } else if (minutesLeft > 2) {
          rerenderDelay = 60000;
        }
        var autoCloseHours = this.duration || 0;

        var options = {
          timeLeft: duration.humanize(true),
          duration: moment.duration(autoCloseHours, "hours").humanize()
        };

        var categoryId = this.categoryId;
        if (categoryId) {
          var category = _category.default.findById(categoryId);

          options = Object.assign({
            categoryName: category.get("slug"),
            categoryUrl: category.get("url")
          }, options);
        }

        this.setProperties({
          title: ("" + moment(this.executeAt).format("LLLL")).htmlSafe(),
          notice: ("" + I18n.t(this._noticeKey(), options)).htmlSafe(),
          showTopicTimer: true
        });

        // TODO Sam: concerned this can cause a heavy rerender loop
        if (_environment.default.environment !== "test") {
          this._delayedRerender = (0, _runloop.later)(function () {
            _this.renderTopicTimer();
          }, rerenderDelay);
        }
      } else {
        this.set("showTopicTimer", null);
      }
    },
    didReceiveAttrs: function didReceiveAttrs() {
      this._super.apply(this, arguments);
      this.renderTopicTimer();
    },
    didInsertElement: function didInsertElement() {
      this._super.apply(this, arguments);

      if (this.removeTopicTimer) {
        $(this.element).on("click.topic-timer-remove", "button", this.removeTopicTimer);
      }
    },
    willDestroyElement: function willDestroyElement() {
      $(this.element).off("click.topic-timer-remove", this.removeTopicTimer);

      if (this._delayedRerender) {
        (0, _runloop.cancel)(this._delayedRerender);
      }
    },
    _noticeKey: function _noticeKey() {
      var statusType = this.statusType;

      if (this.basedOnLastPost) {
        return "topic.status_update_notice.auto_" + statusType + "_based_on_last_post";
      } else {
        return "topic.status_update_notice.auto_" + statusType;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "canRemoveTimer", [_dec], Object.getOwnPropertyDescriptor(_obj, "canRemoveTimer"), _obj), _applyDecoratedDescriptor(_obj, "showTrashCan", [_dec2], Object.getOwnPropertyDescriptor(_obj, "showTrashCan"), _obj)), _obj)));
});
define("discourse/components/topic-title", ["exports", "@ember/component", "discourse/mixins/key-enter-escape"], function (exports, _component, _keyEnterEscape) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend(_keyEnterEscape.default, {
    elementId: "topic-title"
  });
});
define("discourse/components/track-selected", ["exports", "@ember/component", "discourse-common/utils/decorators"], function (exports, _component, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj, _init;

  exports.default = _component.default.extend((_dec = (0, _decorators.observes)("selected"), (_obj = {
    tagName: "span",

    selectionChanged: function selectionChanged() {
      var selected = this.selected;
      var list = this.selectedList;
      var id = this.selectedId;

      if (selected) {
        list.addObject(id);
      } else {
        list.removeObject(id);
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "selectionChanged", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "selectionChanged"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/components/user-badge", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("count"), _dec2 = (0, _decorators.default)("badge", "user"), (_obj = {
    tagName: "span",

    showGrantCount: function showGrantCount(count) {
      return count && count > 1;
    },
    badgeUrl: function badgeUrl() {
      // NOTE: I tried using a link-to helper here but the queryParams mean it fails
      var username = this.get("user.username_lower") || "";
      username = username !== "" ? "?username=" + username : "";
      return this.get("badge.url") + username;
    }
  }, (_applyDecoratedDescriptor(_obj, "showGrantCount", [_dec], Object.getOwnPropertyDescriptor(_obj, "showGrantCount"), _obj), _applyDecoratedDescriptor(_obj, "badgeUrl", [_dec2], Object.getOwnPropertyDescriptor(_obj, "badgeUrl"), _obj)), _obj)));
});
define("discourse/components/user-card-contents", ["exports", "@ember/utils", "@ember/object/computed", "@ember/object", "@ember/component", "discourse-common/utils/decorators", "discourse/models/user", "discourse/lib/computed", "discourse/lib/formatter", "discourse/mixins/can-check-emails", "discourse/mixins/card-contents-base", "discourse/mixins/cleans-up", "discourse/lib/settings", "@ember/application"], function (exports, _utils, _computed, _object, _component, _decorators, _user, _computed2, _formatter, _canCheckEmails, _cardContentsBase, _cleansUp, _settings, _application) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _desc, _value, _obj, _init, _init2, _init3, _init4;

  exports.default = _component.default.extend(_cardContentsBase.default, _canCheckEmails.default, _cleansUp.default, (_dec = (0, _decorators.default)("user.staff"), _dec2 = (0, _decorators.default)("user.trust_level"), _dec3 = (0, _decorators.default)("user.name"), _dec4 = (0, _decorators.default)("username"), _dec5 = (0, _decorators.default)("username", "topicPostCount"), _dec6 = (0, _decorators.default)("user.user_fields.@each.value"), _dec7 = (0, _decorators.default)("user.trust_level"), _dec8 = (0, _decorators.default)("user.badge_count", "user.featured_user_badges.length"), _dec9 = (0, _decorators.default)("user.time_read", "user.recent_time_read"), _dec10 = (0, _decorators.default)("user.recent_time_read"), _dec11 = (0, _decorators.default)("showRecentTimeRead", "user.time_read", "recentTimeRead"), _dec12 = (0, _decorators.observes)("user.card_background_upload_url"), (_obj = {
    elementId: "user-card",
    classNames: "user-card",
    triggeringLinkClass: "mention",
    classNameBindings: ["visible:show", "showBadges", "user.card_background::no-bg", "isFixed:fixed", "usernameClass"],
    allowBackgrounds: (0, _computed2.setting)("allow_profile_backgrounds"),
    showBadges: (0, _computed2.setting)("enable_badges"),

    postStream: (0, _computed.alias)("topic.postStream"),
    enoughPostsForFiltering: (0, _computed.gte)("topicPostCount", 2),
    showFilter: (0, _computed.and)("viewingTopic", "postStream.hasNoFilters", "enoughPostsForFiltering"),
    showName: (0, _computed2.propertyNotEqual)("user.name", "user.username"),
    hasUserFilters: (0, _computed.gt)("postStream.userFilters.length", 0),
    showMoreBadges: (0, _computed.gt)("moreBadgesCount", 0),
    showDelete: (0, _computed.and)("viewingAdmin", "showName", "user.canBeDeleted"),
    linkWebsite: (0, _computed.not)("user.isBasic"),
    hasLocationOrWebsite: (0, _computed.or)("user.location", "user.website_name"),
    isSuspendedOrHasBio: (0, _computed.or)("user.suspend_reason", "user.bio_cooked"),
    showCheckEmail: (0, _computed.and)("user.staged", "canCheckEmails"),

    user: null,

    // If inside a topic
    topicPostCount: null,

    showFeaturedTopic: (0, _computed.and)("user.featured_topic", "siteSettings.allow_featured_topic_on_user_profiles"),

    staff: function staff(isStaff) {
      return isStaff ? "staff" : "";
    },

    newUser: function newUser(trustLevel) {
      return trustLevel === 0 ? "new-user" : "";
    },

    nameFirst: function nameFirst(name) {
      return (0, _settings.prioritizeNameInUx)(name, this.siteSettings);
    },

    usernameClass: function usernameClass(username) {
      return username ? "user-card-" + username : "";
    },

    togglePostsLabel: function togglePostsLabel(username, count) {
      return I18n.t("topic.filter_to", { username: username, count: count });
    },
    publicUserFields: function publicUserFields() {
      var siteUserFields = this.site.get("user_fields");
      if (!(0, _utils.isEmpty)(siteUserFields)) {
        var userFields = this.get("user.user_fields");
        return siteUserFields.filterBy("show_on_user_card", true).sortBy("position").map(function (field) {
          (0, _object.set)(field, "dasherized_name", field.get("name").dasherize());
          var value = userFields ? userFields[field.get("id")] : null;
          return (0, _utils.isEmpty)(value) ? null : _object.default.create({ value: value, field: field });
        }).compact();
      }
    },
    removeNoFollow: function removeNoFollow(trustLevel) {
      return trustLevel > 2 && !this.siteSettings.tl3_links_no_follow;
    },

    moreBadgesCount: function moreBadgesCount(badgeCount, badgeLength) {
      return badgeCount - badgeLength;
    },

    showRecentTimeRead: function showRecentTimeRead(timeRead, recentTimeRead) {
      return timeRead !== recentTimeRead && recentTimeRead !== 0;
    },
    recentTimeRead: function recentTimeRead(recentTimeReadSeconds) {
      return (0, _formatter.durationTiny)(recentTimeReadSeconds);
    },
    timeReadTooltip: function timeReadTooltip(showRecent, timeRead, recentTimeRead) {
      if (showRecent) {
        return I18n.t("time_read_recently_tooltip", {
          time_read: (0, _formatter.durationTiny)(timeRead),
          recent_time_read: recentTimeRead
        });
      } else {
        return I18n.t("time_read_tooltip", {
          time_read: (0, _formatter.durationTiny)(timeRead)
        });
      }
    },
    addBackground: function addBackground() {
      if (!this.allowBackgrounds) {
        return;
      }

      var thisElem = this.element;
      if (!thisElem) {
        return;
      }

      var url = this.get("user.card_background_upload_url");
      var bg = (0, _utils.isEmpty)(url) ? "" : "url(" + Discourse.getURLWithCDN(url) + ")";
      thisElem.style.backgroundImage = bg;
    },
    _showCallback: function _showCallback(username, $target) {
      var _this = this;

      this._positionCard($target);
      this.setProperties({ visible: true, loading: true });

      var args = {
        forCard: this.siteSettings.enable_new_user_card_route,
        include_post_count_for: this.get("topic.id")
      };

      _user.default.findByUsername(username, args).then(function (user) {
        if (user.topic_post_count) {
          _this.set("topicPostCount", user.topic_post_count[args.include_post_count_for]);
        }
        _this.setProperties({ user: user });
      }).catch(function () {
        return _this._close();
      }).finally(function () {
        return _this.set("loading", null);
      });
    },
    _close: function _close() {
      this._super.apply(this, arguments);

      this.setProperties({
        user: null,
        topicPostCount: null
      });
    },
    cleanUp: function cleanUp() {
      this._close();
    },


    actions: {
      close: function close() {
        this._close();
      },
      composePM: function composePM(user, post) {
        this._close();

        (0, _application.getOwner)(this).lookup("router:main").send("composePrivateMessage", user, post);
      },
      cancelFilter: function cancelFilter() {
        var postStream = this.postStream;
        postStream.cancelFilter();
        postStream.refresh();
        this._close();
      },
      togglePosts: function togglePosts() {
        this.togglePosts(this.user);
        this._close();
      },
      deleteUser: function deleteUser() {
        this.user.delete();
        this._close();
      },
      showUser: function showUser(username) {
        this.showUser(username);
        this._close();
      },
      checkEmail: function checkEmail(user) {
        user.checkEmail();
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "staff", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "staff"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "newUser", [_dec2], (_init2 = Object.getOwnPropertyDescriptor(_obj, "newUser"), _init2 = _init2 ? _init2.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init2;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "nameFirst", [_dec3], Object.getOwnPropertyDescriptor(_obj, "nameFirst"), _obj), _applyDecoratedDescriptor(_obj, "usernameClass", [_dec4], (_init3 = Object.getOwnPropertyDescriptor(_obj, "usernameClass"), _init3 = _init3 ? _init3.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init3;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "togglePostsLabel", [_dec5], Object.getOwnPropertyDescriptor(_obj, "togglePostsLabel"), _obj), _applyDecoratedDescriptor(_obj, "publicUserFields", [_dec6], Object.getOwnPropertyDescriptor(_obj, "publicUserFields"), _obj), _applyDecoratedDescriptor(_obj, "removeNoFollow", [_dec7], Object.getOwnPropertyDescriptor(_obj, "removeNoFollow"), _obj), _applyDecoratedDescriptor(_obj, "moreBadgesCount", [_dec8], (_init4 = Object.getOwnPropertyDescriptor(_obj, "moreBadgesCount"), _init4 = _init4 ? _init4.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init4;
    }
  }), _obj), _applyDecoratedDescriptor(_obj, "showRecentTimeRead", [_dec9], Object.getOwnPropertyDescriptor(_obj, "showRecentTimeRead"), _obj), _applyDecoratedDescriptor(_obj, "recentTimeRead", [_dec10], Object.getOwnPropertyDescriptor(_obj, "recentTimeRead"), _obj), _applyDecoratedDescriptor(_obj, "timeReadTooltip", [_dec11], Object.getOwnPropertyDescriptor(_obj, "timeReadTooltip"), _obj), _applyDecoratedDescriptor(_obj, "addBackground", [_dec12], Object.getOwnPropertyDescriptor(_obj, "addBackground"), _obj)), _obj)));
});
define("discourse/components/user-field", ["exports", "discourse-common/utils/decorators", "@ember/component", "discourse/lib/computed"], function (exports, _decorators, _component, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("field.name"), (_obj = {
    classNameBindings: [":user-field", "field.field_type", "customFieldClass"],
    layoutName: (0, _computed.fmt)("field.field_type", "components/user-fields/%@"),

    noneLabel: function noneLabel() {
      return "user_fields.none";
    },
    customFieldClass: function customFieldClass(fieldName) {
      if (fieldName) {
        fieldName = fieldName.replace(/\s+/g, "-").replace(/[!\"#$%&'\(\)\*\+,\.\/:;<=>\?\@\[\\\]\^`\{\|\}~]/g, "").toLowerCase();
        return fieldName && "user-field-" + fieldName;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "noneLabel", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "noneLabel"), _obj), _applyDecoratedDescriptor(_obj, "customFieldClass", [_dec], Object.getOwnPropertyDescriptor(_obj, "customFieldClass"), _obj)), _obj)));
});
define("discourse/components/user-flag-percentage", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("percentage"), _dec2 = (0, _decorators.default)("agreed", "disagreed", "ignored"), (_obj = {
    tagName: "",

    showPercentage: function showPercentage(percentage) {
      return percentage.total >= 3;
    },
    percentage: function percentage(agreed, disagreed, ignored) {
      var total = agreed + disagreed + ignored;
      var result = { total: total };

      if (total > 0) {
        result.agreed = Math.round(agreed / total * 100);
        result.disagreed = Math.round(disagreed / total * 100);
        result.ignored = Math.round(ignored / total * 100);
      }

      var highest = Math.max(agreed, disagreed, ignored);
      if (highest === agreed) {
        result.icon = "thumbs-up";
        result.className = "agreed";
        result.label = result.agreed + "%";
      } else if (highest === disagreed) {
        result.icon = "thumbs-down";
        result.className = "disagreed";
        result.label = result.disagreed + "%";
      } else {
        result.icon = "external-link-alt";
        result.className = "ignored";
        result.label = result.ignored + "%";
      }

      result.title = I18n.t("review.user_percentage.summary", {
        agreed: I18n.t("review.user_percentage.agreed", {
          count: result.agreed
        }),
        disagreed: I18n.t("review.user_percentage.disagreed", {
          count: result.disagreed
        }),
        ignored: I18n.t("review.user_percentage.ignored", {
          count: result.ignored
        }),
        count: total
      });

      return result;
    }
  }, (_applyDecoratedDescriptor(_obj, "showPercentage", [_dec], Object.getOwnPropertyDescriptor(_obj, "showPercentage"), _obj), _applyDecoratedDescriptor(_obj, "percentage", [_dec2], Object.getOwnPropertyDescriptor(_obj, "percentage"), _obj)), _obj)));
});
define("discourse/components/user-info", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component", "discourse/lib/url"], function (exports, _decorators, _computed, _component, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.normalize = normalize;

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj;

  function normalize(name) {
    return name.replace(/[\-\_ \.]/g, "").toLowerCase();
  }

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("user.username"), _dec2 = (0, _decorators.default)("user.name", "user.username"), (_obj = {
    classNameBindings: [":user-info", "size"],
    attributeBindings: ["data-username"],
    size: "small",

    userPath: function userPath(username) {
      return (0, _url.userPath)(username);
    },


    "data-username": (0, _computed.alias)("user.username"),

    // TODO: In later ember releases `hasBlock` works without this
    hasBlock: (0, _computed.alias)("template"),

    name: function name(_name, username) {
      if (_name && normalize(username) !== normalize(_name)) {
        return _name;
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "userPath", [_dec], Object.getOwnPropertyDescriptor(_obj, "userPath"), _obj), _applyDecoratedDescriptor(_obj, "name", [_dec2], Object.getOwnPropertyDescriptor(_obj, "name"), _obj)), _obj)));
});
define("discourse/components/user-link", ["exports", "@ember/object/computed", "@ember/component"], function (exports, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "a",
    attributeBindings: ["href", "data-user-card"],
    href: (0, _computed.alias)("user.path"),
    "data-user-card": (0, _computed.alias)("user.username")
  });
});
define("discourse/components/user-notifications-large", ["exports", "discourse/components/mount-widget", "discourse-common/utils/decorators"], function (exports, _mountWidget, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _mountWidget.default.extend((_dec = (0, _decorators.observes)("notifications.length", "notifications.@each.read"), (_obj = {
    widget: "user-notifications-large",

    init: function init() {
      this._super.apply(this, arguments);
      this.args = { notifications: this.notifications };
    },
    _triggerRefresh: function _triggerRefresh() {
      this.queueRerender();
    }
  }, (_applyDecoratedDescriptor(_obj, "_triggerRefresh", [_dec], Object.getOwnPropertyDescriptor(_obj, "_triggerRefresh"), _obj)), _obj)));
});
define("discourse/components/user-selector", ["exports", "@ember/utils", "discourse-common/utils/decorators", "discourse/components/text-field", "discourse/lib/user-search", "discourse/lib/raw-templates"], function (exports, _utils, _decorators, _textField, _userSearch, _rawTemplates) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _textField.default.extend((_dec = (0, _decorators.on)("willDestroyElement"), _dec2 = (0, _decorators.on)("didInsertElement"), _dec3 = (0, _decorators.observes)("usernames"), (_obj = {
    autocorrect: false,
    autocapitalize: false,
    name: "user-selector",
    canReceiveUpdates: false,
    single: false,
    fullWidthWrap: false,

    init: function init() {
      var _this = this;

      this._super.apply(this, arguments);

      this._paste = function (e) {
        var pastedText = "";
        if (window.clipboardData && window.clipboardData.getData) {
          // IE
          pastedText = window.clipboardData.getData("Text");
        } else if (e.clipboardData && e.clipboardData.getData) {
          pastedText = e.clipboardData.getData("text/plain");
        }

        if (pastedText.length > 0) {
          _this.importText(pastedText);
          e.preventDefault();
          return false;
        }
      };
    },
    didUpdateAttrs: function didUpdateAttrs() {
      this._super.apply(this, arguments);

      if (this.canReceiveUpdates) {
        this._createAutocompleteInstance({ updateData: true });
      }
    },
    _destroyAutocompleteInstance: function _destroyAutocompleteInstance() {
      $(this.element).autocomplete("destroy");
      this.element.addEventListener("paste", this._paste);
    },
    _createAutocompleteInstance: function _createAutocompleteInstance(opts) {
      var _this2 = this;

      var bool = function bool(n) {
        var val = _this2[n];
        return val === true || val === "true";
      };

      var selected = [],
          groups = [],
          currentUser = this.currentUser,
          includeMentionableGroups = bool("includeMentionableGroups"),
          includeMessageableGroups = bool("includeMessageableGroups"),
          includeGroups = bool("includeGroups"),
          allowedUsers = bool("allowedUsers"),
          excludeCurrentUser = bool("excludeCurrentUser"),
          single = bool("single"),
          allowAny = bool("allowAny"),
          disabled = bool("disabled"),
          allowEmails = bool("allowEmails"),
          fullWidthWrap = bool("fullWidthWrap");

      var allExcludedUsernames = function allExcludedUsernames() {
        // hack works around some issues with allowAny eventing
        var usernames = single ? [] : selected;

        if (currentUser && excludeCurrentUser) {
          usernames.concat([currentUser.username]);
        }

        return usernames.concat(_this2.excludedUsernames || []);
      };

      this.element.addEventListener("paste", this._paste);

      var userSelectorComponent = this;

      $(this.element).val(this.usernames).autocomplete({
        template: (0, _rawTemplates.findRawTemplate)("user-selector-autocomplete"),
        disabled: disabled,
        single: single,
        allowAny: allowAny,
        updateData: opts && opts.updateData ? opts.updateData : false,
        fullWidthWrap: fullWidthWrap,

        dataSource: function dataSource(term) {
          return (0, _userSearch.default)({
            term: term,
            topicId: userSelectorComponent.topicId,
            exclude: allExcludedUsernames(),
            includeGroups: includeGroups,
            allowedUsers: allowedUsers,
            includeMentionableGroups: includeMentionableGroups,
            includeMessageableGroups: includeMessageableGroups,
            groupMembersOf: userSelectorComponent.groupMembersOf,
            allowEmails: allowEmails
          });
        },
        transformComplete: function transformComplete(v) {
          if (v.username || v.name) {
            if (!v.username) {
              groups.push(v.name);
            }
            return v.username || v.name;
          } else {
            var excludes = allExcludedUsernames();
            return v.usernames.filter(function (item) {
              return excludes.indexOf(item) === -1;
            });
          }
        },
        onChangeItems: function onChangeItems(items) {
          var hasGroups = false;
          items = items.map(function (i) {
            if (groups.indexOf(i) > -1) {
              hasGroups = true;
            }
            return i.username ? i.username : i;
          });

          var previouslySelected = [];
          if (Array.isArray(userSelectorComponent.usernames)) {
            previouslySelected = userSelectorComponent.usernames;
          } else {
            if (userSelectorComponent.usernames) {
              previouslySelected = userSelectorComponent.usernames.split(",");
            }
          }

          userSelectorComponent.setProperties({
            usernames: items.join(","),
            hasGroups: hasGroups
          });
          selected = items;

          if (userSelectorComponent.onChangeCallback) {
            userSelectorComponent.onChangeCallback(previouslySelected, selected);
          }
        },
        reverseTransform: function reverseTransform(i) {
          return { username: i };
        }
      });
    },
    importText: function importText(text) {
      var _this3 = this;

      var usernames = [];
      if ((this.usernames || "").length > 0) {
        usernames = this.usernames.split(",");
      }

      (text || "").split(/[, \n]+/).forEach(function (val) {
        val = val.replace(/^@+/, "").trim();
        if (val.length > 0 && (!_this3.excludedUsernames || !_this3.excludedUsernames.includes(val))) {
          usernames.push(val);
        }
      });
      this.set("usernames", usernames.uniq().join(","));

      if (!this.canReceiveUpdates) {
        this._createAutocompleteInstance({ updateData: true });
      }
    },
    _clearInput: function _clearInput() {
      if (arguments.length > 1 && (0, _utils.isEmpty)(this.usernames)) {
        $(this.element).parent().find("a").click();
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_destroyAutocompleteInstance", [_dec], Object.getOwnPropertyDescriptor(_obj, "_destroyAutocompleteInstance"), _obj), _applyDecoratedDescriptor(_obj, "_createAutocompleteInstance", [_dec2], Object.getOwnPropertyDescriptor(_obj, "_createAutocompleteInstance"), _obj), _applyDecoratedDescriptor(_obj, "_clearInput", [_dec3], Object.getOwnPropertyDescriptor(_obj, "_clearInput"), _obj)), _obj)));
});
define("discourse/components/user-stat", ["exports", "@ember/object/computed", "@ember/component"], function (exports, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["user-stat"],
    type: "number",
    isNumber: (0, _computed.equal)("type", "number"),
    isDuration: (0, _computed.equal)("type", "duration")
  });
});
define("discourse/components/user-stream-item", ["exports", "@ember/component", "discourse/lib/computed", "discourse/widgets/post-small-action"], function (exports, _component, _computed, _postSmallAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNameBindings: [":user-stream-item", ":item", // DEPRECATED: 'item' class
    "item.hidden", "item.deleted:deleted", "moderatorAction"],

    moderatorAction: (0, _computed.propertyEqual)("item.post_type", "site.post_types.moderator_action"),
    actionDescription: (0, _postSmallAction.actionDescription)("item.action_code", "item.created_at", "item.action_code_who")
  });
});
define("discourse/components/user-stream", ["exports", "@ember/runloop", "@ember/component", "discourse/mixins/load-more", "discourse/lib/click-track", "discourse/models/post", "discourse/lib/url", "discourse/models/draft", "discourse/lib/ajax-error", "discourse-common/lib/get-owner", "discourse-common/utils/decorators", "@ember/object/evented"], function (exports, _runloop, _component, _loadMore, _clickTrack, _post, _url, _draft, _ajaxError, _getOwner, _decorators, _evented) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj, _init;

  exports.default = _component.default.extend(_loadMore.default, (_dec = (0, _decorators.observes)("stream.user.id"), (_obj = {
    _initialize: (0, _evented.on)("init", function () {
      var filter = this.get("stream.filter");
      if (filter) {
        this.set("classNames", ["user-stream", "filter-" + filter.toString().replace(",", "-")]);
      }
    }),

    loading: false,
    eyelineSelector: ".user-stream .item",
    classNames: ["user-stream"],

    _scrollTopOnModelChange: function _scrollTopOnModelChange() {
      (0, _runloop.schedule)("afterRender", function () {
        return $(document).scrollTop(0);
      });
    },

    _inserted: (0, _evented.on)("didInsertElement", function () {
      var _this = this;

      this.bindScrolling({ name: "user-stream-view" });

      $(window).on("resize.discourse-on-scroll", function () {
        return _this.scrolled();
      });

      $(this.element).on("click.details-disabled", "details.disabled", function () {
        return false;
      });
      $(this.element).on("click.discourse-redirect", ".excerpt a", function (e) {
        return _clickTrack.default.trackClick(e);
      });
    }),

    // This view is being removed. Shut down operations
    _destroyed: (0, _evented.on)("willDestroyElement", function () {
      this.unbindScrolling("user-stream-view");
      $(window).unbind("resize.discourse-on-scroll");
      $(this.element).off("click.details-disabled", "details.disabled");

      // Unbind link tracking
      $(this.element).off("click.discourse-redirect", ".excerpt a");
    }),

    actions: {
      removeBookmark: function removeBookmark(userAction) {
        var stream = this.stream;
        _post.default.updateBookmark(userAction.get("post_id"), false).then(function () {
          stream.remove(userAction);
        }).catch(_ajaxError.popupAjaxError);
      },
      resumeDraft: function resumeDraft(item) {
        var composer = (0, _getOwner.getOwner)(this).lookup("controller:composer");
        if (composer.get("model.viewOpen")) {
          composer.close();
        }
        if (item.get("postUrl")) {
          _url.default.routeTo(item.get("postUrl"));
        } else {
          _draft.default.get(item.draft_key).then(function (d) {
            var draft = d.draft || item.data;
            if (!draft) {
              return;
            }

            composer.open({
              draft: draft,
              draftKey: item.draft_key,
              draftSequence: d.draft_sequence
            });
          }).catch(function (error) {
            (0, _ajaxError.popupAjaxError)(error);
          });
        }
      },
      removeDraft: function removeDraft(draft) {
        var stream = this.stream;
        _draft.default.clear(draft.draft_key, draft.sequence).then(function () {
          stream.remove(draft);
        }).catch(function (error) {
          (0, _ajaxError.popupAjaxError)(error);
        });
      },
      loadMore: function loadMore() {
        var _this2 = this;

        if (this.loading) {
          return;
        }

        this.set("loading", true);
        var stream = this.stream;
        stream.findItems().then(function () {
          _this2.set("loading", false);
          _this2.eyeline.flushRest();
        });
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_scrollTopOnModelChange", [_dec], (_init = Object.getOwnPropertyDescriptor(_obj, "_scrollTopOnModelChange"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/components/user-summary-category-search", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("user", "category"), (_obj = {
    tagName: "",

    searchParams: function searchParams() {
      return "@" + this.get("user.username") + " #" + this.get("category.slug");
    }
  }, (_applyDecoratedDescriptor(_obj, "searchParams", [_dec], Object.getOwnPropertyDescriptor(_obj, "searchParams"), _obj)), _obj)));
});
define("discourse/components/user-summary-section", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    classNames: ["top-sub-section"]
  });
});
define("discourse/components/user-summary-topic", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "li"
  });
});
define("discourse/components/user-summary-topics-list", ["exports", "discourse-common/utils/decorators", "@ember/component"], function (exports, _decorators, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  // should be kept in sync with 'UserSummary::MAX_SUMMARY_RESULTS'
  var MAX_SUMMARY_RESULTS = 6;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("items.length"), (_obj = {
    tagName: "",

    hasMore: function hasMore(length) {
      return length >= MAX_SUMMARY_RESULTS;
    }
  }, (_applyDecoratedDescriptor(_obj, "hasMore", [_dec], Object.getOwnPropertyDescriptor(_obj, "hasMore"), _obj)), _obj)));
});
define("discourse/components/user-summary-user", ["exports", "@ember/component"], function (exports, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    tagName: "li"
  });
});
define("discourse/components/watch-read", ["exports", "@ember/component", "discourse/lib/is-element-in-viewport"], function (exports, _component, _isElementInViewport) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _component.default.extend({
    didInsertElement: function didInsertElement() {
      var _this = this;

      this._super.apply(this, arguments);
      var currentUser = this.currentUser;
      if (!currentUser) {
        return;
      }

      var path = this.path;
      if (path === "faq" || path === "guidelines") {
        $(window).on("load.faq resize.faq scroll.faq", function () {
          var faqUnread = !currentUser.get("read_faq");
          if (faqUnread && (0, _isElementInViewport.default)($(".contents p").last())) {
            _this.action();
          }
        });
      }
    },
    willDestroyElement: function willDestroyElement() {
      this._super.apply(this, arguments);
      $(window).off("load.faq resize.faq scroll.faq");
    }
  });
});
define("discourse/raw-views/list/post-count-or-badges", ["exports", "@ember/object/computed", "@ember/object", "discourse-common/utils/decorators"], function (exports, _computed, _object, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  exports.default = _object.default.extend((_obj = {
    postCountsPresent: (0, _computed.or)("topic.unread", "topic.displayNewPosts"),
    showBadges: (0, _computed.and)("postBadgesEnabled", "postCountsPresent"),

    newDotText: function newDotText() {
      return this.currentUser && this.currentUser.trust_level > 0 ? "" : I18n.t("filters.new.lower_title");
    }
  }, (_applyDecoratedDescriptor(_obj, "newDotText", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "newDotText"), _obj)), _obj));
});
define("discourse/raw-views/list/posts-count-column", ["exports", "discourse-common/utils/decorators", "@ember/object", "discourse/lib/computed"], function (exports, _decorators, _object, _computed) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _desc, _value, _obj;

  exports.default = _object.default.extend((_dec = (0, _decorators.default)("topic.like_count", "topic.posts_count"), _dec2 = (0, _decorators.default)("topic.replyCount", "ratioText"), _dec3 = (0, _decorators.default)("ratio"), (_obj = {
    tagName: "td",

    ratio: function ratio(likeCount, postCount) {
      var likes = parseFloat(likeCount);
      var posts = parseFloat(postCount);

      if (posts < 10) {
        return 0;
      }

      return (likes || 0) / posts;
    },
    title: function title(count, ratio) {
      return I18n.messageFormat("posts_likes_MF", { count: count, ratio: ratio }).trim();
    },
    ratioText: function ratioText(ratio) {
      var settings = this.siteSettings;
      if (ratio > settings.topic_post_like_heat_high) {
        return "high";
      }
      if (ratio > settings.topic_post_like_heat_medium) {
        return "med";
      }
      if (ratio > settings.topic_post_like_heat_low) {
        return "low";
      }
      return "";
    },


    likesHeat: (0, _computed.fmt)("ratioText", "heatmap-%@")
  }, (_applyDecoratedDescriptor(_obj, "ratio", [_dec], Object.getOwnPropertyDescriptor(_obj, "ratio"), _obj), _applyDecoratedDescriptor(_obj, "title", [_dec2], Object.getOwnPropertyDescriptor(_obj, "title"), _obj), _applyDecoratedDescriptor(_obj, "ratioText", [_dec3], Object.getOwnPropertyDescriptor(_obj, "ratioText"), _obj)), _obj)));
});
define("discourse/raw-views/list/visited-line", ["exports", "discourse-common/utils/decorators", "@ember/object"], function (exports, _decorators, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj, _init;

  exports.default = _object.default.extend((_obj = {
    isLastVisited: function isLastVisited() {
      return this.lastVisitedTopic === this.topic;
    }
  }, (_applyDecoratedDescriptor(_obj, "isLastVisited", [_decorators.default], (_init = Object.getOwnPropertyDescriptor(_obj, "isLastVisited"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj));
});
define("discourse/raw-views/topic-list-header-column", ["exports", "@ember/object", "discourse-common/utils/decorators"], function (exports, _object, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _desc, _value, _obj;

  exports.default = _object.default.extend((_obj = {
    localizedName: function localizedName() {
      if (this.forceName) {
        return this.forceName;
      }

      return this.name ? I18n.t(this.name) : "";
    },
    sortIcon: function sortIcon() {
      var asc = this.parent.ascending ? "up" : "down";
      return "chevron-" + asc;
    },
    isSorting: function isSorting() {
      return this.sortable && this.parent.order === this.order;
    },
    className: function className() {
      var name = [];

      if (this.order) {
        name.push(this.order);
      }

      if (this.sortable) {
        name.push("sortable");

        if (this.isSorting) {
          name.push("sorting");
        }
      }

      if (this.number) {
        name.push("num");
      }

      return name.join(" ");
    }
  }, (_applyDecoratedDescriptor(_obj, "localizedName", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "localizedName"), _obj), _applyDecoratedDescriptor(_obj, "sortIcon", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "sortIcon"), _obj), _applyDecoratedDescriptor(_obj, "isSorting", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "isSorting"), _obj), _applyDecoratedDescriptor(_obj, "className", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "className"), _obj)), _obj));
});
define("discourse/raw-views/topic-status", ["exports", "discourse-common/utils/decorators", "@ember/object"], function (exports, _decorators, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _object.default.extend((_dec = (0, _decorators.default)("defaultIcon"), (_obj = {
    showDefault: null,

    renderDiv: function renderDiv(defaultIcon) {
      return (defaultIcon || this.statuses.length > 0) && !this.noDiv;
    },
    statuses: function statuses() {
      var _this = this;

      var topic = this.topic;
      var results = [];

      // TODO, custom statuses? via override?
      if (topic.get("is_warning")) {
        results.push({ icon: "envelope", key: "warning" });
      }

      if (topic.get("bookmarked")) {
        var postNumbers = topic.get("bookmarked_post_numbers");
        var url = topic.get("url");
        var extraClasses = "";
        if (postNumbers && postNumbers[0] > 1) {
          url += "/" + postNumbers[0];
        } else {
          extraClasses = "op-bookmark";
        }

        results.push({
          extraClasses: extraClasses,
          icon: "bookmark",
          key: "bookmarked",
          href: url
        });
      }

      if (topic.get("closed") && topic.get("archived")) {
        results.push({ icon: "lock", key: "locked_and_archived" });
      } else if (topic.get("closed")) {
        results.push({ icon: "lock", key: "locked" });
      } else if (topic.get("archived")) {
        results.push({ icon: "lock", key: "archived" });
      }

      if (topic.get("pinned")) {
        results.push({ icon: "thumbtack", key: "pinned" });
      }

      if (topic.get("unpinned")) {
        results.push({ icon: "thumbtack", key: "unpinned" });
      }

      if (topic.get("invisible")) {
        results.push({ icon: "far-eye-slash", key: "unlisted" });
      }

      results.forEach(function (result) {
        result.title = I18n.t("topic_statuses." + result.key + ".help");
        if (_this.currentUser && (result.key === "pinned" || result.key === "unpinned")) {
          result.openTag = "a href";
          result.closeTag = "a";
        } else {
          result.openTag = "span";
          result.closeTag = "span";
        }
      });

      var defaultIcon = this.defaultIcon;
      if (results.length === 0 && defaultIcon) {
        this.set("showDefault", defaultIcon);
      }
      return results;
    }
  }, (_applyDecoratedDescriptor(_obj, "renderDiv", [_dec], Object.getOwnPropertyDescriptor(_obj, "renderDiv"), _obj), _applyDecoratedDescriptor(_obj, "statuses", [_decorators.default], Object.getOwnPropertyDescriptor(_obj, "statuses"), _obj)), _obj)));
});
define("discourse/helpers/application", ["discourse-common/lib/helpers", "discourse/lib/formatter"], function (_helpers, _formatter) {
  "use strict";

  var safe = Handlebars.SafeString;

  (0, _helpers.registerUnbound)("raw-date", function (dt) {
    return (0, _formatter.longDate)(new Date(dt));
  });

  (0, _helpers.registerUnbound)("age-with-tooltip", function (dt) {
    return new safe((0, _formatter.autoUpdatingRelativeAge)(new Date(dt), { title: true }));
  });

  (0, _helpers.registerUnbound)("number", function (orig, params) {
    orig = Math.round(parseFloat(orig));
    if (isNaN(orig)) {
      orig = 0;
    }

    var title = I18n.toNumber(orig, { precision: 0 });
    if (params.numberKey) {
      title = I18n.t(params.numberKey, {
        number: title,
        count: parseInt(orig, 10)
      });
    }

    var classNames = "number";
    if (params["class"]) {
      classNames += " " + params["class"];
    }

    var result = "<span class='" + classNames + "'";
    var addTitle = params.noTitle ? false : true;

    // Round off the thousands to one decimal place
    var n = (0, _formatter.number)(orig);
    if (n.toString() !== title.toString() && addTitle) {
      result += " title='" + Handlebars.Utils.escapeExpression(title) + "'";
    }
    result += ">" + n + "</span>";

    return new safe(result);
  });
});
define("discourse/helpers/border-color", ["exports", "discourse-common/lib/helpers"], function (exports, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(function (color) {
    return "border-color: #" + color;
  });
});
define("discourse/helpers/bound-avatar-template", ["exports", "@ember/utils", "discourse-common/lib/helpers", "discourse/lib/utilities"], function (exports, _utils, _helpers, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(function (avatarTemplate, size) {
    if ((0, _utils.isEmpty)(avatarTemplate)) {
      return "<div class='avatar-placeholder'></div>";
    } else {
      return (0, _utilities.avatarImg)({ size: size, avatarTemplate: avatarTemplate });
    }
  });
});
define("discourse/helpers/bound-avatar", ["exports", "@ember/object", "@ember/utils", "discourse-common/lib/helpers", "discourse/lib/utilities", "discourse/helpers/user-avatar"], function (exports, _object, _utils, _helpers, _utilities, _userAvatar) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(function (user, size) {
    if ((0, _utils.isEmpty)(user)) {
      return "<div class='avatar-placeholder'></div>";
    }

    var avatarTemplate = (0, _object.get)(user, "avatar_template");
    return (0, _utilities.avatarImg)((0, _userAvatar.addExtraUserClasses)(user, { size: size, avatarTemplate: avatarTemplate }));
  });
});
define("discourse/helpers/bound-category-link", ["exports", "discourse-common/lib/helpers", "discourse/helpers/category-link"], function (exports, _helpers, _categoryLink) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(_categoryLink.categoryLinkHTML);
});
define("discourse/helpers/bound-date", ["exports", "discourse/lib/formatter", "discourse-common/lib/helpers"], function (exports, _formatter, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(function (dt) {
    return (0, _formatter.autoUpdatingRelativeAge)(new Date(dt), { format: "medium", title: true });
  });
});
define("discourse/helpers/capitalize-string", ["exports", "discourse-common/lib/helpers"], function (exports, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(function (str) {
    return str[0].toUpperCase() + str.slice(1);
  });
});
define("discourse/helpers/category-badge", ["discourse/helpers/category-link", "discourse-common/lib/helpers"], function (_categoryLink, _helpers) {
  "use strict";

  (0, _helpers.registerUnbound)("category-badge", function (cat, options) {
    return (0, _categoryLink.categoryLinkHTML)(cat, {
      hideParent: options.hideParent,
      allowUncategorized: options.allowUncategorized,
      categoryStyle: options.categoryStyle,
      link: false
    });
  });
});
define("discourse/helpers/custom-html", ["exports", "preload-store"], function (exports, _preloadStore) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.getCustomHTML = getCustomHTML;
  exports.clearHTMLCache = clearHTMLCache;
  exports.setCustomHTML = setCustomHTML;


  var _customizations = {};

  function getCustomHTML(key) {
    var c = _customizations[key];
    if (c) {
      return new Handlebars.SafeString(c);
    }

    var html = _preloadStore.default.get("customHTML");
    if (html && html[key] && html[key].length) {
      return new Handlebars.SafeString(html[key]);
    }
  }

  function clearHTMLCache() {
    _customizations = {};
  }

  // Set a fragment of HTML by key. It can then be looked up with `getCustomHTML(key)`.
  function setCustomHTML(key, html) {
    _customizations[key] = html;
  }
});
define("discourse/helpers/dash-if-empty", ["exports", "@ember/utils", "discourse-common/lib/helpers"], function (exports, _utils, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(function (str) {
    return (0, _utils.isEmpty)(str) ? "&mdash;" : str;
  });
});
define("discourse/helpers/dasherize", ["exports", "@ember/component/helper"], function (exports, _helper) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function dasherize(_ref) {
    var _ref2 = _slicedToArray(_ref, 1),
        value = _ref2[0];

    return (value || "").replace(".", "-").dasherize();
  }

  exports.default = _helper.default.helper(dasherize);
});
define("discourse/helpers/dir-span", ["exports", "discourse-common/lib/helpers", "discourse/lib/text-direction"], function (exports, _helpers, _textDirection) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  function setDir(text) {
    var content = text ? text : "";
    if (content && Discourse.SiteSettings.support_mixed_text_direction) {
      var textDir = (0, _textDirection.isRTL)(content) ? "rtl" : "ltr";
      return "<span dir=\"" + textDir + "\">" + content + "</span>";
    }
    return content;
  }

  exports.default = (0, _helpers.registerUnbound)("dir-span", function (str) {
    return new Handlebars.SafeString(setDir(str));
  });
});
define("discourse/helpers/discourse-tag", ["exports", "discourse-common/lib/helpers", "discourse/lib/render-tag"], function (exports, _helpers, _renderTag) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.registerUnbound)("discourse-tag", function (name, params) {
    return new Handlebars.SafeString((0, _renderTag.default)(name, params));
  });
});
define("discourse/helpers/discourse-tags", ["exports", "discourse-common/lib/helpers", "discourse/lib/render-tags"], function (exports, _helpers, _renderTags) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.registerUnbound)("discourse-tags", function (topic, params) {
    return new Handlebars.SafeString((0, _renderTags.default)(topic, params));
  });
});
define("discourse/helpers/editable-value", ["exports", "@ember/object", "@ember/component/helper"], function (exports, _object, _helper) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.formatCurrency = formatCurrency;

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  function formatCurrency(_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        reviewable = _ref2[0],
        fieldId = _ref2[1];

    // The field `category_id` corresponds to `category`
    if (fieldId === "category_id") {
      fieldId = "category.id";
    }

    var value = (0, _object.get)(reviewable, fieldId);

    // If it's an array, say tags, make a copy so we aren't mutating the original
    if (Array.isArray(value)) {
      value = value.slice(0);
    }

    return value;
  }

  exports.default = _helper.default.helper(formatCurrency);
});
define("discourse/helpers/fa-icon-node", ["exports", "discourse-common/lib/icon-library"], function (exports, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.iconNode = iconNode;
  function iconNode(id, params) {
    return (0, _iconLibrary.renderIcon)("node", id, params);
  }
});
define("discourse/helpers/float", ["discourse-common/lib/helpers"], function (_helpers) {
  "use strict";

  (0, _helpers.registerUnbound)("float", function (n) {
    return parseFloat(n).toFixed(1);
  });
});
define("discourse/helpers/format-age", ["discourse/lib/formatter", "discourse-common/lib/helpers"], function (_formatter, _helpers) {
  "use strict";

  (0, _helpers.registerUnbound)("format-age", function (dt) {
    dt = new Date(dt);
    return new Handlebars.SafeString((0, _formatter.autoUpdatingRelativeAge)(dt));
  });

  (0, _helpers.registerUnbound)("format-duration", function (seconds) {
    return new Handlebars.SafeString((0, _formatter.durationTiny)(seconds));
  });
});
define("discourse/helpers/format-date", ["discourse-common/lib/helpers", "discourse/lib/formatter"], function (_helpers, _formatter) {
  "use strict";

  /**
    Display logic for dates. It is unbound in Ember but will use jQuery to
    update the dates on a regular interval.
  **/
  (0, _helpers.registerUnbound)("format-date", function (val, params) {
    var leaveAgo,
        format = "medium",
        title = true;

    if (params.leaveAgo) {
      leaveAgo = params.leaveAgo === "true";
    }
    if (params.format) {
      format = params.format;
    }
    if (params.noTitle) {
      title = false;
    }

    if (val) {
      var date = new Date(val);
      return new Handlebars.SafeString((0, _formatter.autoUpdatingRelativeAge)(date, {
        format: format,
        title: title,
        leaveAgo: leaveAgo
      }));
    }
  });
});
define("discourse/helpers/format-username", ["exports", "discourse-common/lib/helpers", "discourse/lib/utilities"], function (exports, _helpers, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.registerUnbound)("format-username", _utilities.formatUsername);
});
define("discourse/helpers/icon-or-image", ["exports", "@ember/utils", "discourse-common/lib/helpers", "discourse-common/lib/icon-library"], function (exports, _utils, _helpers, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(function (_ref) {
    var icon = _ref.icon,
        image = _ref.image;

    if (!(0, _utils.isEmpty)(image)) {
      return "<img src='" + image + "'>";
    }

    if ((0, _utils.isEmpty)(icon)) {
      return "";
    }

    icon = (0, _iconLibrary.convertIconClass)(icon);
    return (0, _iconLibrary.iconHTML)(icon);
  });
});
define("discourse/helpers/inline-date", ["discourse/lib/formatter", "discourse-common/lib/helpers"], function (_formatter, _helpers) {
  "use strict";

  var _slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  (0, _helpers.registerHelper)("inline-date", function (_ref) {
    var _ref2 = _slicedToArray(_ref, 1),
        dt = _ref2[0];

    // TODO: Remove this in 1.13 or greater
    if (dt.value) {
      dt = dt.value();
    }
    return (0, _formatter.relativeAge)(new Date(dt));
  });
});
define("discourse/helpers/node", ["exports", "virtual-dom", "discourse/lib/formatter"], function (exports, _virtualDom, _formatter) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.dateNode = dateNode;
  exports.numberNode = numberNode;
  function dateNode(dt) {
    if (typeof dt === "string") {
      dt = new Date(dt);
    }
    if (dt) {
      var attributes = {
        title: (0, _formatter.longDate)(dt),
        "data-time": dt.getTime(),
        "data-format": "tiny"
      };

      return (0, _virtualDom.h)("span.relative-date", { attributes: attributes }, (0, _formatter.relativeAge)(dt));
    }
  }

  // TODO: Improve how helpers are registered for vdom compliation
  if (typeof Discourse !== "undefined") {
    Discourse.__widget_helpers.dateNode = dateNode;
  }

  function numberNode(num, opts) {
    opts = opts || {};
    num = parseInt(num, 10);
    if (isNaN(num)) {
      num = 0;
    }

    var numString = num.toString();
    var attributes = {};
    var formatted = (0, _formatter.number)(num);
    if (formatted !== numString) {
      attributes.title = numString;
    }

    return (0, _virtualDom.h)("span.number", { className: opts.className, attributes: attributes }, formatted);
  }
});
define("discourse/helpers/period-title", ["exports", "discourse-common/lib/helpers"], function (exports, _helpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var TITLE_SUBS = {
    all: "all_time",
    yearly: "this_year",
    quarterly: "this_quarter",
    monthly: "this_month",
    daily: "today"
  };

  exports.default = (0, _helpers.htmlHelper)(function (period, options) {
    var title = I18n.t("filters.top." + (TITLE_SUBS[period] || "this_week"));
    if (options.hash.showDateRange) {
      var dateString = "";
      var finish = void 0;

      if (options.hash.fullDay) {
        finish = moment().utc().subtract(1, "days");
      } else {
        finish = moment();
      }

      switch (period) {
        case "yearly":
          dateString = finish.clone().subtract(1, "year").format(I18n.t("dates.long_with_year_no_time")) + " - " + finish.format(I18n.t("dates.long_with_year_no_time"));
          break;
        case "quarterly":
          dateString = finish.clone().subtract(3, "month").format(I18n.t("dates.long_no_year_no_time")) + " - " + finish.format(I18n.t("dates.long_no_year_no_time"));
          break;
        case "weekly":
          dateString = finish.clone().subtract(1, "week").format(I18n.t("dates.long_no_year_no_time")) + " - " + finish.format(I18n.t("dates.long_no_year_no_time"));
          break;
        case "monthly":
          dateString = finish.clone().subtract(1, "month").format(I18n.t("dates.long_no_year_no_time")) + " - " + finish.format(I18n.t("dates.long_no_year_no_time"));
          break;
        case "daily":
          dateString = finish.clone().format(I18n.t("dates.full_no_year_no_time"));
          break;
      }

      return "<span class=\"date-section\">" + title + "</span><span class='top-date-string'>" + dateString + "</span>";
    } else {
      return title;
    }
  });
});
define("discourse/helpers/raw-plugin-outlet", ["discourse/lib/plugin-connectors", "discourse-common/lib/raw-handlebars"], function (_pluginConnectors, _rawHandlebars) {
  "use strict";

  _rawHandlebars.default.registerHelper("raw-plugin-outlet", function (args) {
    var _this = this;

    var connectors = (0, _pluginConnectors.rawConnectorsFor)(args.hash.name);
    if (connectors.length) {
      var output = connectors.map(function (c) {
        return c.template({ context: _this });
      });
      return new Handlebars.SafeString(output.join(""));
    }
  });
});
define("discourse/helpers/raw", ["discourse-common/lib/helpers", "discourse/lib/raw-templates"], function (_helpers, _rawTemplates) {
  "use strict";

  var _injections = void 0;

  function renderRaw(ctx, container, template, templateName, params) {
    params = jQuery.extend({}, params);
    params.parent = params.parent || ctx;

    if (!_injections) {
      _injections = {
        siteSettings: container.lookup("site-settings:main"),
        currentUser: container.lookup("current-user:main"),
        site: container.lookup("site:main"),
        session: container.lookup("session:main"),
        topicTrackingState: container.lookup("topic-tracking-state:main")
      };
    }

    if (!params.view) {
      var module = "discourse/raw-views/" + templateName;
      if (requirejs.entries[module]) {
        var viewClass = requirejs(module, null, null, true);
        if (viewClass && viewClass.default) {
          params.view = viewClass.default.create(params, _injections);
        }
      }

      if (!params.view) {
        params = jQuery.extend({}, params, _injections);
      }
    }

    return new Handlebars.SafeString(template(params));
  }

  (0, _helpers.registerUnbound)("raw", function (templateName, params) {
    templateName = templateName.replace(".", "/");

    var container = Discourse.__container__;
    var template = (0, _rawTemplates.findRawTemplate)(templateName);
    if (!template) {
      // eslint-disable-next-line no-console
      console.warn("Could not find raw template: " + templateName);
      return;
    }
    return renderRaw(this, container, template, templateName, params);
  });
});
define("discourse/helpers/replace-emoji", ["discourse-common/lib/helpers", "discourse/lib/text"], function (_helpers, _text) {
  "use strict";

  (0, _helpers.registerUnbound)("replace-emoji", function (text) {
    return new Handlebars.SafeString((0, _text.emojiUnescape)(text));
  });
});
define("discourse/helpers/reviewable-history-description", ["exports", "discourse-common/lib/helpers", "discourse/helpers/reviewable-status", "discourse/models/reviewable-history", "discourse-common/lib/icon-library"], function (exports, _helpers, _reviewableStatus, _reviewableHistory, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(function (rh) {
    switch (rh.reviewable_history_type) {
      case _reviewableHistory.EDITED:
        return (0, _iconLibrary.iconHTML)("pencil-alt") + " " + I18n.t("review.history.edited");
      default:
        return (0, _reviewableStatus.htmlStatus)(rh.status);
    }
  });
});
define("discourse/helpers/reviewable-status", ["exports", "discourse-common/lib/helpers", "discourse-common/lib/icon-library", "discourse/models/reviewable"], function (exports, _helpers, _iconLibrary, _reviewable) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.htmlStatus = htmlStatus;


  function dataFor(status) {
    switch (status) {
      case _reviewable.PENDING:
        return { name: "pending" };
      case _reviewable.APPROVED:
        return { icon: "check", name: "approved" };
      case _reviewable.REJECTED:
        return { icon: "times", name: "rejected" };
      case _reviewable.IGNORED:
        return { icon: "external-link-alt", name: "ignored" };
      case _reviewable.DELETED:
        return { icon: "trash-alt", name: "deleted" };
    }
  }

  function htmlStatus(status) {
    var data = dataFor(status);
    if (!data) {
      return;
    }

    var icon = data.icon ? (0, _iconLibrary.iconHTML)(data.icon) : "";

    return "\n    <span class='status'>\n      <span class=\"" + data.name + "\">\n        " + icon + "\n        " + I18n.t("review.statuses." + data.name + ".title") + "\n      </span>\n    </span>\n  ";
  }

  exports.default = (0, _helpers.htmlHelper)(function (status) {
    return htmlStatus(status);
  });
});
define("discourse/helpers/route-action", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  function _toArray(arr) {
    return Array.isArray(arr) ? arr : Array.from(arr);
  }

  var _Ember = Ember,
      emberArray = _Ember.A,
      Helper = _Ember.Helper,
      assert = _Ember.assert,
      computed = _Ember.computed,
      get = _Ember.get,
      getOwner = _Ember.getOwner,
      run = _Ember.run,
      runInDebug = _Ember.runInDebug;


  function getCurrentRouteInfos(router) {
    var routerLib = router._routerMicrolib || router.router;
    return routerLib.currentRouteInfos;
  }

  function getRoutes(router) {
    return emberArray(getCurrentRouteInfos(router)).mapBy("_route").reverse();
  }

  function getRouteWithAction(router, actionName) {
    var action = void 0;
    var handler = emberArray(getRoutes(router)).find(function (route) {
      var actions = route.actions || route._actions;
      action = actions[actionName];

      return typeof action === "function";
    });

    return { action: action, handler: handler };
  }

  exports.default = Helper.extend({
    router: computed(function () {
      return getOwner(this).lookup("router:main");
    }).readOnly(),

    compute: function compute(_ref) {
      var _ref2 = _toArray(_ref),
          actionName = _ref2[0],
          params = _ref2.slice(1);

      var router = get(this, "router");
      assert("[ember-route-action-helper] Unable to lookup router", router);

      runInDebug(function () {
        var _getRouteWithAction = getRouteWithAction(router, actionName),
            handler = _getRouteWithAction.handler;

        assert("[ember-route-action-helper] Unable to find action " + actionName, handler);
      });

      var routeAction = function routeAction() {
        var _getRouteWithAction2 = getRouteWithAction(router, actionName),
            action = _getRouteWithAction2.action,
            handler = _getRouteWithAction2.handler;

        for (var _len = arguments.length, invocationArgs = Array(_len), _key = 0; _key < _len; _key++) {
          invocationArgs[_key] = arguments[_key];
        }

        var args = params.concat(invocationArgs);
        return run.join.apply(run, [handler, action].concat(_toConsumableArray(args)));
      };

      return routeAction;
    }
  });
});
define("discourse/helpers/shorten-url", ["discourse-common/lib/helpers"], function (_helpers) {
  "use strict";

  (0, _helpers.registerUnbound)("shorten-url", function (url) {
    var matches = url.match(/\//g);

    if (matches && matches.length === 3) {
      url = url.replace(/\/$/, "");
    }
    url = url.replace(/^https?:\/\//, "");
    url = url.replace(/^www\./, "");
    return url.substring(0, 80);
  });
});
define("discourse/helpers/theme-helpers", ["discourse-common/lib/helpers", "discourse-common/lib/deprecated"], function (_helpers, _deprecated) {
  "use strict";

  (0, _helpers.registerUnbound)("theme-i18n", function (themeId, key, params) {
    return I18n.t("theme_translations." + themeId + "." + key, params);
  });

  (0, _helpers.registerUnbound)("theme-prefix", function (themeId, key) {
    return "theme_translations." + themeId + "." + key;
  });

  (0, _helpers.registerUnbound)("theme-setting", function (themeId, key, hash) {
    if (hash.deprecated) {
      (0, _deprecated.default)("The `{{themeSetting.setting_name}}` syntax is deprecated. Use `{{theme-setting 'setting_name'}}` instead", { since: "v2.2.0.beta8", dropFrom: "v2.3.0" });
    }
    return Discourse.__container__.lookup("service:theme-settings").getSetting(themeId, key);
  });
});
define("discourse/helpers/topic-featured-link", ["exports", "discourse-common/lib/helpers", "discourse/lib/render-topic-featured-link"], function (exports, _helpers, _renderTopicFeaturedLink) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.registerUnbound)("topic-featured-link", function (topic, params) {
    return new Handlebars.SafeString((0, _renderTopicFeaturedLink.default)(topic, params));
  });
});
define("discourse/helpers/topic-link", ["discourse-common/lib/helpers"], function (_helpers) {
  "use strict";

  (0, _helpers.registerUnbound)("topic-link", function (topic, args) {
    var title = topic.get("fancyTitle");
    var url = topic.linked_post_number ? topic.urlForPostNumber(topic.linked_post_number) : topic.get("lastUnreadUrl");

    var classes = ["title"];
    if (args.class) {
      args.class.split(" ").forEach(function (c) {
        return classes.push(c);
      });
    }

    var result = "<a href='" + url + "'\n                     class='" + classes.join(" ") + "'\n                     data-topic-id='" + topic.id + "'>" + title + "</a>";
    return new Handlebars.SafeString(result);
  });
});
define("discourse/helpers/topic-status-icons", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }

      return arr2;
    } else {
      return Array.from(arr);
    }
  }

  exports.default = Ember.ArrayProxy.extend({
    render: function render(topic, renderIcon) {
      var renderIconIf = function renderIconIf(conditionProp, name, key) {
        if (!topic.get(conditionProp)) {
          return;
        }
        renderIcon(name, key);
      };

      if (topic.get("closed") && topic.get("archived")) {
        renderIcon("lock", "locked_and_archived");
      } else {
        renderIconIf("closed", "lock", "locked");
        renderIconIf("archived", "lock", "archived");
      }

      this.forEach(function (args) {
        return renderIconIf.apply(undefined, _toConsumableArray(args));
      });
    }
  }).create({
    content: [["is_warning", "envelope", "warning"], ["pinned", "thumbtack", "pinned"], ["unpinned", "thumbtack", "unpinned"], ["invisible", "far-eye-slash", "unlisted"]]
  });
});
define("discourse/helpers/user-status", ["exports", "discourse-common/lib/icon-library", "discourse-common/lib/helpers", "discourse/lib/utilities"], function (exports, _iconLibrary, _helpers, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _helpers.htmlHelper)(function (user, args) {
    if (!user) {
      return;
    }

    var name = (0, _utilities.escapeExpression)(user.get("name"));
    var currentUser = void 0;
    if (args && args.hash) {
      currentUser = args.hash.currentUser;
    }

    if (currentUser && user.get("admin") && currentUser.get("staff")) {
      return (0, _iconLibrary.iconHTML)("shield-alt", {
        label: I18n.t("user.admin", { user: name })
      });
    }
    if (user.get("moderator")) {
      return (0, _iconLibrary.iconHTML)("shield-alt", {
        label: I18n.t("user.moderator", { user: name })
      });
    }
  });
});
Ember.TEMPLATES["about"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"cm\"],\"statements\":[[4,\"d-section\",null,[[\"pageClass\"],[\"about\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"contents clearfix body-page\"],[8],[0,\"\\n\\n      \"],[7,\"ul\",true],[10,\"class\",\"nav-pills\"],[8],[0,\"\\n        \"],[7,\"li\",true],[10,\"class\",\"nav-item-about\"],[8],[4,\"link-to\",null,[[\"class\",\"route\"],[\"active\",\"about\"]],{\"statements\":[[1,[28,\"i18n\",[\"about.simple_title\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"faqOverriden\"]]],null,{\"statements\":[[0,\"          \"],[7,\"li\",true],[10,\"class\",\"nav-item-guidelines\"],[8],[4,\"link-to\",null,[[\"route\"],[\"guidelines\"]],{\"statements\":[[1,[28,\"i18n\",[\"guidelines\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n          \"],[7,\"li\",true],[10,\"class\",\"nav-item-faq\"],[8],[4,\"link-to\",null,[[\"route\"],[\"faq\"]],{\"statements\":[[1,[28,\"i18n\",[\"faq\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"li\",true],[10,\"class\",\"nav-item-faq\"],[8],[4,\"link-to\",null,[[\"route\"],[\"faq\"]],{\"statements\":[[1,[28,\"i18n\",[\"faq\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[7,\"li\",true],[10,\"class\",\"nav-item-tos\"],[8],[4,\"link-to\",null,[[\"route\"],[\"tos\"]],{\"statements\":[[1,[28,\"i18n\",[\"tos\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n        \"],[7,\"li\",true],[10,\"class\",\"nav-item-privacy\"],[8],[4,\"link-to\",null,[[\"route\"],[\"privacy\"]],{\"statements\":[[1,[28,\"i18n\",[\"privacy\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"section\",true],[10,\"class\",\"about description\"],[8],[0,\"\\n        \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"about.title\"],[[\"title\"],[[24,[\"model\",\"title\"]]]]],false],[9],[0,\"\\n        \"],[7,\"p\",true],[8],[1,[24,[\"model\",\"description\"]],false],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"connectorTagName\",\"tagName\",\"args\"],[\"about-after-description\",\"section\",\"\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"admins\"]]],null,{\"statements\":[[0,\"        \"],[7,\"section\",true],[10,\"class\",\"about admins\"],[8],[0,\"\\n          \"],[7,\"h3\",true],[8],[1,[28,\"d-icon\",[\"users\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"about.our_admins\"],null],false],[9],[0,\"\\n\\n          \"],[1,[28,\"about-page-users\",null,[[\"users\"],[[24,[\"model\",\"admins\"]]]]],false],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"connectorTagName\",\"args\"],[\"about-after-admins\",\"section\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"moderators\"]]],null,{\"statements\":[[0,\"        \"],[7,\"section\",true],[10,\"class\",\"about moderators\"],[8],[0,\"\\n          \"],[7,\"h3\",true],[8],[1,[28,\"d-icon\",[\"users\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"about.our_moderators\"],null],false],[9],[0,\"\\n\\n          \"],[7,\"div\",true],[10,\"class\",\"users\"],[8],[0,\"\\n            \"],[1,[28,\"about-page-users\",null,[[\"users\"],[[24,[\"model\",\"moderators\"]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"connectorTagName\",\"args\"],[\"about-after-moderators\",\"section\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"category_moderators\",\"length\"]]],null,{\"statements\":[[4,\"each\",[[24,[\"model\",\"category_moderators\"]]],null,{\"statements\":[[0,\"          \"],[7,\"section\",true],[11,\"class\",[29,[\"about category-moderators moderators-\",[23,1,[\"category\",\"slug\"]]]]],[8],[0,\"\\n            \"],[7,\"h3\",true],[8],[1,[28,\"category-link\",[[23,1,[\"category\"]]],null],false],[1,[28,\"i18n\",[\"about.moderators\"],null],false],[9],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"users\"],[8],[0,\"\\n              \"],[1,[28,\"about-page-users\",null,[[\"users\"],[[23,1,[\"moderators\"]]]]],false],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null]],\"parameters\":[]},null],[0,\"      \"],[7,\"section\",true],[10,\"class\",\"about stats\"],[8],[0,\"\\n        \"],[7,\"h3\",true],[8],[1,[28,\"d-icon\",[\"far-chart-bar\"],null],false],[0,\"  \"],[1,[28,\"i18n\",[\"about.stats\"],null],false],[9],[0,\"\\n\\n        \"],[7,\"table\",true],[10,\"class\",\"table\"],[8],[0,\"\\n          \"],[7,\"tbody\",true],[8],[0,\"\\n            \"],[7,\"tr\",true],[8],[0,\"\\n              \"],[7,\"th\",true],[8],[0,\"\"],[9],[0,\"\\n              \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"about.stat.last_7_days\"],null],false],[9],[0,\"\\n              \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"about.stat.last_30_days\"],null],false],[9],[0,\"\\n              \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"about.stat.all_time\"],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"tr\",true],[8],[0,\"\\n              \"],[7,\"td\",true],[10,\"class\",\"title\"],[8],[1,[28,\"i18n\",[\"about.topic_count\"],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"topics_7_days\"]]],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"topics_30_days\"]]],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"topic_count\"]]],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"tr\",true],[8],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"i18n\",[\"about.post_count\"],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"posts_7_days\"]]],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"posts_30_days\"]]],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"post_count\"]]],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"tr\",true],[8],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"i18n\",[\"about.user_count\"],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"users_7_days\"]]],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"users_30_days\"]]],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"user_count\"]]],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"tr\",true],[8],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"i18n\",[\"about.active_user_count\"],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"active_users_7_days\"]]],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"active_users_30_days\"]]],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[0,\"\"],[9],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"tr\",true],[8],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"i18n\",[\"about.like_count\"],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"likes_7_days\"]]],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"likes_30_days\"]]],null],false],[9],[0,\"\\n              \"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"model\",\"stats\",\"like_count\"]]],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"contactInfo\"]]],null,{\"statements\":[[0,\"        \"],[7,\"section\",true],[10,\"class\",\"about contact\"],[8],[0,\"\\n            \"],[7,\"h3\",true],[8],[1,[28,\"d-icon\",[\"far-envelope\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"about.contact\"],null],false],[9],[0,\"\\n            \"],[7,\"p\",true],[8],[1,[22,\"contactInfo\"],true],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"about"}});
Ember.TEMPLATES["account-created"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"id\",\"simple-container\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"account-created\"],[8],[0,\"\\n    \"],[1,[22,\"outlet\"],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"account-created"}});
Ember.TEMPLATES["account-created/edit-email"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"ac-message\"],[8],[0,\"\\n  \"],[1,[28,\"activation-email-form\",null,[[\"email\"],[[24,[\"newEmail\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"activation-controls\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"disabled\",\"class\"],[[28,\"action\",[[23,0,[]],\"changeEmail\"],null],\"login.submit_new_email\",[24,[\"submitDisabled\"]],\"btn-primary\"]]],false],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"cancel\"],null],\"cancel\",\"edit-cancel\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"account-created/edit-email"}});
Ember.TEMPLATES["account-created/index"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"ac-message\"],[8],[0,\"\\n  \"],[1,[24,[\"accountCreated\",\"message\"]],true],[0,\"\\n\"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"accountCreated\",\"show_controls\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"activation-controls\",null,[[\"sendActivationEmail\",\"editActivationEmail\"],[[28,\"action\",[[23,0,[]],\"sendActivationEmail\"],null],[28,\"action\",[[23,0,[]],\"editActivationEmail\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"account-created/index"}});
Ember.TEMPLATES["account-created/resent"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"ac-message\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"email\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"i18n\",[\"login.sent_activation_email_again\"],[[\"currentEmail\"],[[24,[\"email\"]]]]],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[28,\"i18n\",[\"login.sent_activation_email_again_generic\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"account-created/resent"}});
Ember.TEMPLATES["application"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"plugin-outlet\",null,[[\"name\"],[\"above-site-header\"]]],false],[0,\"\\n\"],[1,[28,\"site-header\",null,[[\"canSignUp\",\"showCreateAccount\",\"showLogin\",\"showKeyboard\",\"toggleMobileView\",\"toggleAnonymous\",\"logout\"],[[24,[\"canSignUp\"]],[28,\"route-action\",[\"showCreateAccount\"],null],[28,\"route-action\",[\"showLogin\"],null],[28,\"route-action\",[\"showKeyboardShortcutsHelp\"],null],[28,\"route-action\",[\"toggleMobileView\"],null],[28,\"route-action\",[\"toggleAnonymous\"],null],[28,\"route-action\",[\"logout\"],null]]]],false],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"below-site-header\",[28,\"hash\",null,[[\"currentPath\"],[[24,[\"router\",\"_router\",\"currentPath\"]]]]]]]],false],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"id\",\"main-outlet\"],[10,\"class\",\"wrap\"],[8],[0,\"\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\"],[\"above-main-container\"]]],false],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"showTop\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"custom-html\",null,[[\"name\"],[\"top\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[1,[22,\"notification-consent-banner\"],false],[0,\"\\n    \"],[1,[22,\"pwa-install-banner\"],false],[0,\"\\n    \"],[1,[22,\"global-notice\"],false],[0,\"\\n    \"],[1,[22,\"create-topics-notice\"],false],[0,\"\\n    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"top-notices\",[28,\"hash\",null,[[\"currentPath\"],[[24,[\"router\",\"_router\",\"currentPath\"]]]]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[1,[22,\"outlet\"],false],[0,\"\\n  \"],[1,[28,\"outlet\",[\"user-card\"],null],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"above-footer\",[28,\"hash\",null,[[\"showFooter\"],[[24,[\"showFooter\"]]]]]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"showFooter\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"custom-html\",null,[[\"name\",\"triggerAppEvent\"],[\"footer\",\"true\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"below-footer\",[28,\"hash\",null,[[\"showFooter\"],[[24,[\"showFooter\"]]]]]]]],false],[0,\"\\n\\n\"],[1,[28,\"outlet\",[\"modal\"],null],false],[0,\"\\n\"],[1,[22,\"topic-entrance\"],false],[0,\"\\n\"],[1,[28,\"outlet\",[\"composer\"],null],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showFooterNav\"]]],null,{\"statements\":[[0,\"  \"],[1,[22,\"footer-nav\"],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"application"}});
Discourse.RAW_TEMPLATES["badge-selector-autocomplete"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "      <li><a href>"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"option.name",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":33}}}))
    + "</a></li>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<div class='autocomplete ac-badge'>\n  <ul>\n"
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"option","in","options",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":5,"column":13}}})) != null ? stack1 : "")
    + "  </ul>\n</div>\n";
},"useData":true});
Ember.TEMPLATES["badges/index"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"bg\",\"b\"],\"statements\":[[4,\"d-section\",null,[[\"pageClass\"],[\"badges\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"container badges\"],[8],[0,\"\\n    \"],[7,\"h1\",true],[8],[1,[28,\"i18n\",[\"badges.title\"],null],false],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"badge-groups\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"badgeGroups\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"badge-grouping\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"title\"],[8],[0,\"\\n            \"],[7,\"h3\",true],[8],[1,[23,1,[\"badgeGrouping\",\"displayName\"]],false],[9],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"badge-group-list\"],[8],[0,\"\\n\"],[4,\"each\",[[23,1,[\"badges\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"badge-card\",null,[[\"badge\",\"username\"],[[23,2,[]],[24,[\"currentUser\",\"username\"]]]]],false],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"badges/index"}});
Ember.TEMPLATES["badges/show"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"ub\"],\"statements\":[[7,\"div\",true],[11,\"class\",[29,[\"container show-badge \",[24,[\"model\",\"slug\"]]]]],[8],[0,\"\\n  \"],[7,\"h1\",true],[8],[0,\"\\n    \"],[4,\"link-to\",null,[[\"route\"],[\"badges.index\"]],{\"statements\":[[1,[28,\"i18n\",[\"badges.title\"],null],false]],\"parameters\":[]},null],[0,\"\\n     /\\n    \"],[1,[24,[\"model\",\"name\"]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"show-badge-details\"],[8],[0,\"\\n    \"],[1,[28,\"badge-card\",null,[[\"badge\",\"size\",\"count\"],[[24,[\"model\"]],\"large\",[24,[\"userBadges\",\"grant_count\"]]]]],false],[0,\"\\n    \"],[7,\"div\",true],[11,\"class\",[29,[\"badge-grant-info \",[28,\"if\",[[24,[\"hiddenSetTitle\"]],\"\",\"hidden\"],null]]]],[8],[0,\"\\n      \"],[7,\"div\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canSelectTitle\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"grant-info-item\"],[8],[0,\"\\n            \"],[1,[28,\"i18n\",[\"badges.allow_title\"],null],false],[0,\"\\n            \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\"],[\"btn-default pad-left\",[28,\"action\",[[23,0,[]],\"toggleSetUserTitle\"],null],\"pencil-alt\"]]],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"multiple_grant\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"grant-info-item\"],[8],[0,\"\\n            \"],[1,[28,\"i18n\",[\"badges.multiple_grant\"],null],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canSelectTitle\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[11,\"class\",[29,[\"badge-set-title \",[28,\"if\",[[24,[\"hiddenSetTitle\"]],\"hidden\",\"\"],null]]]],[8],[0,\"\\n        \"],[1,[28,\"badge-title\",null,[[\"selectableUserBadges\",\"user\"],[[24,[\"selectableUserBadges\"]],[24,[\"user\"]]]]],false],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-default close-btn\",[28,\"action\",[[23,0,[]],\"toggleSetUserTitle\"],null],\"close\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"userBadges\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[11,\"class\",[29,[\"user-badges \",[24,[\"model\",\"slug\"]]]]],[8],[0,\"\\n\"],[4,\"load-more\",null,[[\"selector\",\"action\"],[\".badge-info\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"badges-granted\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"userBadges\"]]],null,{\"statements\":[[4,\"user-info\",null,[[\"user\",\"size\",\"class\",\"date\"],[[23,1,[\"user\"]],\"medium\",\"badge-info\",[23,1,[\"granted_at\"]]]],{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"granted-on\"],[8],[1,[28,\"i18n\",[\"badges.granted_on\"],[[\"date\"],[[28,\"inline-date\",[[23,1,[\"granted_at\"]]],null]]]],false],[9],[0,\"\\n\"],[4,\"if\",[[23,1,[\"post_number\"]]],null,{\"statements\":[[0,\"              \"],[7,\"a\",true],[10,\"class\",\"post-link\"],[11,\"href\",[29,[[28,\"unbound\",[[23,1,[\"topic\",\"url\"]]],null],\"/\",[28,\"unbound\",[[23,1,[\"post_number\"]]],null]]]],[8],[1,[23,1,[\"topic\",\"fancyTitle\"]],true],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[1]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"unless\",[[24,[\"canLoadMore\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"canShowOthers\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[0,\"\\n          \"],[7,\"a\",true],[10,\"class\",\"btn\"],[11,\"href\",[29,[[24,[\"model\",\"url\"]]]]],[8],[1,[28,\"i18n\",[\"badges.others_count\"],[[\"count\"],[[24,[\"othersCount\"]]]]],false],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\\n    \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"canLoadMore\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"badges/show"}});
Ember.TEMPLATES["bulk-tag"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"p\",true],[8],[1,[28,\"i18n\",[[28,\"concat\",[\"topics.bulk.\",[24,[\"title\"]]],null]],null],false],[9],[0,\"\\n\\n\"],[7,\"p\",true],[8],[1,[28,\"tag-chooser\",null,[[\"filterPlaceholder\",\"tags\",\"categoryId\"],[null,[24,[\"tags\"]],[24,[\"categoryId\"]]]]],false],[9],[0,\"\\n\\n\"],[1,[28,\"d-button\",null,[[\"action\",\"disabled\",\"label\"],[[24,[\"action\"]],[24,[\"emptyTags\"]],[28,\"concat\",[\"topics.bulk.\",[24,[\"label\"]]],null]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"bulk-tag"}});
Discourse.RAW_TEMPLATES["category-selector-autocomplete"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "      <li><a href>"
    + container.escapeExpression((helpers["category-link"]||(depth0 && depth0["category-link"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"option",{"name":"category-link","hash":{"link":"false","allowUncategorized":"true"},"hashTypes":{"link":"StringLiteral","allowUncategorized":"StringLiteral"},"hashContexts":{"link":depth0,"allowUncategorized":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":81}}}))
    + "</a></li>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<div class='autocomplete ac-category'>\n  <ul>\n"
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"option","in","options",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":5,"column":13}}})) != null ? stack1 : "")
    + "  </ul>\n</div>\n";
},"useData":true});
Discourse.RAW_TEMPLATES["category-tag-autocomplete"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "      <li>\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"option.model",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(2, data, 0),"inverse":container.program(4, data, 0),"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":5,"column":8},"end":{"line":9,"column":15}}})) != null ? stack1 : "")
    + "      </li>\n";
},"2":function(container,depth0,helpers,partials,data) {
    return "          <a href>"
    + container.escapeExpression((helpers["category-link"]||(depth0 && depth0["category-link"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"option.model",{"name":"category-link","hash":{"link":"false","allowUncategorized":"true"},"hashTypes":{"link":"StringLiteral","allowUncategorized":"StringLiteral"},"hashContexts":{"link":depth0,"allowUncategorized":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":18},"end":{"line":6,"column":87}}}))
    + "</a>\n";
},"4":function(container,depth0,helpers,partials,data) {
    return "          <a href>"
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"tag",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":18},"end":{"line":8,"column":34}}}))
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"option.name",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":34},"end":{"line":8,"column":49}}}))
    + " x "
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"option.count",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":52},"end":{"line":8,"column":68}}}))
    + "</a>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<div class='autocomplete ac-category-or-tag'>\n  <ul>\n"
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"option","in","options",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":11,"column":13}}})) != null ? stack1 : "")
    + "  </ul>\n</div>\n";
},"useData":true});
Ember.TEMPLATES["components/about-page-users"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"userTemplate\"],\"statements\":[[4,\"each\",[[24,[\"usersTemplates\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[11,\"data-username\",[29,[[23,1,[\"username\"]]]]],[10,\"class\",\"user-info small\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"user-image\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"user-image-inner\"],[8],[0,\"\\n        \"],[7,\"a\",true],[11,\"href\",[29,[[23,1,[\"userPath\"]]]]],[11,\"data-user-card\",[29,[[23,1,[\"username\"]]]]],[8],[0,\"\\n          \"],[1,[23,1,[\"avatar\"]],true],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"user-detail\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"name-line\"],[8],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"username\"],[8],[0,\"\\n          \"],[7,\"a\",true],[11,\"href\",[29,[[23,1,[\"userPath\"]]]]],[11,\"data-user-card\",[29,[[23,1,[\"username\"]]]]],[8],[0,\"\\n            \"],[1,[23,1,[\"username\"]],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"name\"],[8],[1,[23,1,[\"name\"]],false],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"title\"],[8],[1,[23,1,[\"title\"]],false],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"components/about-page-users"}});
Ember.TEMPLATES["components/activation-controls"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"unless\",[[24,[\"siteSettings\",\"must_approve_users\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"icon\",\"class\"],[[24,[\"sendActivationEmail\"]],\"login.resend_title\",\"envelope\",\"btn-primary resend\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"icon\",\"class\"],[[24,[\"editActivationEmail\"]],\"login.change_email\",\"pencil-alt\",\"edit-email\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/activation-controls"}});
Ember.TEMPLATES["components/activation-email-form"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"p\",true],[8],[1,[28,\"i18n\",[\"login.provide_new_email\"],null],false],[9],[0,\"\\n\"],[1,[28,\"input\",null,[[\"value\",\"class\"],[[24,[\"email\"]],\"activate-new-email\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/activation-email-form"}});
Ember.TEMPLATES["components/avatar-uploader"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"label\",true],[10,\"class\",\"btn btn-default btn-icon-text\"],[11,\"disabled\",[22,\"uploading\"]],[11,\"title\",[29,[[28,\"i18n\",[\"user.change_avatar.upload_title\"],null]]]],[8],[0,\"\\n  \"],[1,[28,\"d-icon\",[\"far-image\"],null],false],[0,\"\\n\"],[4,\"if\",[[24,[\"uploading\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"i18n\",[\"uploading\"],null],false],[0,\" \"],[1,[22,\"uploadProgress\"],false],[0,\"%\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[1,[28,\"i18n\",[\"upload\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n  \"],[7,\"input\",true],[10,\"class\",\"hidden-upload-field\"],[11,\"disabled\",[22,\"uploading\"]],[10,\"accept\",\"image/*\"],[10,\"type\",\"file\"],[8],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"imageIsNotASquare\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"warning\"],[8],[1,[28,\"i18n\",[\"user.change_avatar.image_is_not_a_square\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/avatar-uploader"}});
Ember.TEMPLATES["components/backup-codes"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"wrapper\"],[8],[0,\"\\n  \"],[7,\"textarea\",true],[10,\"id\",\"backupCodes\"],[10,\"class\",\"backup-codes-area\"],[10,\"rows\",\"10\"],[10,\"readonly\",\"\"],[8],[1,[22,\"formattedBackupCodes\"],false],[9],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\"],[[28,\"action\",[[23,0,[]],\"copyToClipboard\"],null],\"backup-codes-copy-btn\",\"copy\"]]],false],[0,\"\\n  \"],[7,\"a\",true],[10,\"download\",\"backup_codes.txt\"],[10,\"class\",\"btn no-text btn-icon backup-codes-download-btn\"],[10,\"target\",\"_blank\"],[11,\"href\",[29,[\"data:application/octet-stream;charset=utf-8;base64,\",[22,\"base64BackupCode\"]]]],[8],[0,\"\\n    \"],[1,[28,\"d-icon\",[\"download\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/backup-codes"}});
Ember.TEMPLATES["components/backup-uploader"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"label\",true],[10,\"class\",\"btn\"],[11,\"disabled\",[22,\"uploading\"]],[11,\"title\",[29,[[28,\"i18n\",[\"admin.backups.upload.title\"],null]]]],[8],[0,\"\\n  \"],[1,[28,\"d-icon\",[\"upload\"],null],false],[0,\"\"],[1,[22,\"uploadButtonText\"],false],[0,\"\\n  \"],[7,\"input\",true],[10,\"class\",\"hidden-upload-field\"],[11,\"disabled\",[22,\"uploading\"]],[10,\"accept\",\".gz\"],[10,\"type\",\"file\"],[8],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/backup-uploader"}});
Ember.TEMPLATES["components/badge-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[1,[28,\"icon-or-image\",[[24,[\"badge\"]]],null],false],[0,\"\\n\"],[7,\"span\",true],[10,\"class\",\"badge-display-name\"],[8],[1,[24,[\"badge\",\"name\"]],false],[9],[0,\"\\n\"],[14,1],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/badge-button"}});
Ember.TEMPLATES["components/badge-card"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"displayCount\"]]],null,{\"statements\":[[0,\"  \"],[7,\"a\",true],[11,\"href\",[22,\"url\"]],[10,\"class\",\"grant-count\"],[11,\"title\",[28,\"i18n\",[\"badges.granted\"],[[\"count\"],[[24,[\"displayCount\"]]]]]],[8],[1,[22,\"displayCount\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"badge\",\"has_badge\"]]],null,{\"statements\":[[0,\"  \"],[7,\"a\",true],[11,\"href\",[22,\"url\"]],[10,\"class\",\"check-display status-checked\"],[8],[1,[28,\"d-icon\",[\"check\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[7,\"div\",true],[10,\"class\",\"badge-contents\"],[8],[0,\"\\n  \"],[7,\"div\",true],[11,\"class\",[29,[\"badge-icon \",[24,[\"badge\",\"badgeTypeClassName\"]]]]],[8],[0,\"\\n    \"],[7,\"a\",true],[11,\"href\",[22,\"url\"]],[8],[1,[28,\"icon-or-image\",[[24,[\"badge\"]]],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"badge-info\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"badge-info-item\"],[8],[0,\"\\n      \"],[7,\"h3\",true],[8],[7,\"a\",true],[11,\"href\",[22,\"url\"]],[10,\"class\",\"badge-link\"],[8],[1,[24,[\"badge\",\"name\"]],false],[9],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"badge-summary\"],[8],[1,[22,\"summary\"],true],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/badge-card"}});
Ember.TEMPLATES["components/badge-selector"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"input\",true],[10,\"class\",\"ember-text-field badge-names\"],[11,\"placeholder\",[22,\"placeholder\"]],[10,\"name\",\"badges\"],[10,\"type\",\"text\"],[8],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/badge-selector"}});
Ember.TEMPLATES["components/badge-title"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"section\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n  \"],[7,\"form\",true],[10,\"class\",\"form-horizontal\"],[8],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"badges.select_badge_for_title\"],null],false],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"combo-box\",null,[[\"value\",\"nameProperty\",\"content\",\"onChange\"],[[24,[\"selectedUserBadgeId\"]],\"badge.name\",[24,[\"selectableUserBadges\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"selectedUserBadgeId\"]]],null]],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"label\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"save\"],null],[24,[\"saving\"]],[28,\"if\",[[24,[\"saving\"]],\"saving\",\"save\"],null]]]],false],[0,\"\\n        \"],[4,\"if\",[[24,[\"saved\"]]],null,{\"statements\":[[1,[28,\"i18n\",[\"saved\"],null],false]],\"parameters\":[]},null],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/badge-title"}});
Ember.TEMPLATES["components/basic-topic-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"hasIncoming\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"show-mores\"],[8],[0,\"\\n    \"],[7,\"a\",false],[12,\"tabindex\",\"0\"],[12,\"href\",\"\"],[12,\"class\",\"alert alert-info clickable\"],[3,\"action\",[[23,0,[]],[24,[\"showInserted\"]]]],[8],[0,\"\\n      \"],[1,[28,\"count-i18n\",null,[[\"key\",\"suffix\",\"count\"],[\"topic_count_\",\"latest\",2]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"topics\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"topic-list\",null,[[\"showPosters\",\"hideCategory\",\"topics\",\"expandExcerpts\",\"bulkSelectEnabled\",\"canBulkSelect\",\"selected\",\"skipHeader\",\"tagsForUser\",\"onScroll\",\"scrollOnLoad\"],[[24,[\"showPosters\"]],[24,[\"hideCategory\"]],[24,[\"topics\"]],[24,[\"expandExcerpts\"]],[24,[\"bulkSelectEnabled\"]],[24,[\"canBulkSelect\"]],[24,[\"selected\"]],[24,[\"skipHeader\"]],[24,[\"tagsForUser\"]],[24,[\"onScroll\"]],[24,[\"scrollOnLoad\"]]]]],false],[0,\"\\n\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"unless\",[[24,[\"loadingMore\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"alert alert-info\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"choose_topic.none_found\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/basic-topic-list"}});
Ember.TEMPLATES["components/bread-crumbs"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"breadcrumb\"],\"statements\":[[4,\"each\",[[24,[\"categoryBreadcrumbs\"]]],null,{\"statements\":[[4,\"if\",[[23,1,[\"hasOptions\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"category-drop\",null,[[\"category\",\"categories\",\"options\"],[[23,1,[\"category\"]],[23,1,[\"options\"]],[28,\"hash\",null,[[\"parentCategory\",\"subCategory\",\"noSubcategories\",\"autoFilterable\"],[[23,1,[\"parentCategory\"]],[23,1,[\"isSubcategory\"]],[23,1,[\"noSubcategories\"]],true]]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[1]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"tagging_enabled\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"tag-drop\",null,[[\"currentCategory\",\"tagId\"],[[24,[\"category\"]],[24,[\"tagId\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"connectorTagName\",\"tagName\"],[\"bread-crumbs-right\",\"li\",\"\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/bread-crumbs"}});
Ember.TEMPLATES["components/bulk-select-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"selected\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"id\",\"bulk-select\"],[8],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"showBulkActions\"],null],\"wrench\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/bulk-select-button"}});
Ember.TEMPLATES["components/cancel-link"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"link-to\",null,[[\"class\",\"route\",\"model\"],[\"cancel\",[24,[\"route\"]],[24,[\"args\"]]]],{\"statements\":[[0,\"  \"],[1,[28,\"i18n\",[\"cancel\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/cancel-link"}});
Ember.TEMPLATES["components/categories-and-latest-topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"column categories\"],[8],[0,\"\\n  \"],[1,[28,\"categories-only\",null,[[\"categories\"],[[24,[\"categories\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"column\"],[8],[0,\"\\n  \"],[1,[28,\"categories-topic-list\",null,[[\"topics\",\"filter\",\"class\"],[[24,[\"topics\"]],\"latest\",\"latest-topic-list\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/categories-and-latest-topics"}});
Ember.TEMPLATES["components/categories-and-top-topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"column categories\"],[8],[0,\"\\n  \"],[1,[28,\"categories-only\",null,[[\"categories\"],[[24,[\"categories\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"column\"],[8],[0,\"\\n  \"],[1,[28,\"categories-topic-list\",null,[[\"topics\",\"filter\",\"class\"],[[24,[\"topics\"]],\"top\",\"top-topic-list\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/categories-and-top-topics"}});
Ember.TEMPLATES["components/categories-boxes-topic"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"d-icon\",[[24,[\"topicStatusIcon\"]]],null],false],[0,\"\\n\\n\"],[7,\"a\",true],[10,\"class\",\"title\"],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"topic\",\"lastUnreadUrl\"]]],null]]]],[8],[0,\"\\n  \"],[1,[28,\"text-overflow\",null,[[\"class\",\"text\"],[\"overflow\",[24,[\"topic\",\"fancyTitle\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/categories-boxes-topic"}});
Ember.TEMPLATES["components/categories-boxes-with-topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"c\",\"topic\"],\"statements\":[[4,\"each\",[[24,[\"categories\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[11,\"class\",[29,[\"category category-box category-box-\",[28,\"unbound\",[[23,1,[\"slug\"]]],null]]]],[11,\"style\",[28,\"border-color\",[[23,1,[\"color\"]]],null]],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"category-box-inner\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"category-box-heading\"],[8],[0,\"\\n        \"],[7,\"a\",true],[11,\"href\",[23,1,[\"url\"]]],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"uploaded_logo\",\"url\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"cdn-img\",null,[[\"src\",\"class\",\"width\",\"height\"],[[23,1,[\"uploaded_logo\",\"url\"]],\"logo\",[23,1,[\"uploaded_logo\",\"width\"]],[23,1,[\"uploaded_logo\",\"height\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n          \"],[7,\"h3\",true],[8],[0,\"\\n            \"],[1,[28,\"category-title-before\",null,[[\"category\"],[[23,1,[]]]]],false],[0,\"\\n\"],[4,\"if\",[[23,1,[\"read_restricted\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"d-icon\",[\"lock\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[1,[23,1,[\"name\"]],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"featured-topics\"],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"topics\"]]],null,{\"statements\":[[0,\"          \"],[7,\"ul\",true],[8],[0,\"\\n\"],[4,\"each\",[[23,1,[\"topics\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"categories-boxes-topic\",null,[[\"topic\"],[[23,2,[]]]]],false],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"components/categories-boxes-with-topics"}});
Ember.TEMPLATES["components/categories-boxes"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"c\",\"sc\",\"subcategory\",\"subsubcategory\"],\"statements\":[[4,\"each\",[[24,[\"categories\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[11,\"class\",[29,[\"category category-box category-box-\",[28,\"unbound\",[[23,1,[\"slug\"]]],null]]]],[11,\"style\",[28,\"border-color\",[[23,1,[\"color\"]]],null]],[11,\"data-category-id\",[23,1,[\"id\"]]],[11,\"data-notification-level\",[23,1,[\"notificationLevelString\"]]],[11,\"data-url\",[23,1,[\"url\"]]],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"category-box-inner\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"category-logo\"],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"uploaded_logo\",\"url\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"cdn-img\",null,[[\"src\",\"class\",\"width\",\"height\"],[[23,1,[\"uploaded_logo\",\"url\"]],\"logo\",[23,1,[\"uploaded_logo\",\"width\"]],[23,1,[\"uploaded_logo\",\"height\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"category-details\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"category-box-heading\"],[8],[0,\"\\n          \"],[7,\"a\",true],[10,\"class\",\"parent-box-link\"],[11,\"href\",[23,1,[\"url\"]]],[8],[0,\"\\n            \"],[7,\"h3\",true],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"read_restricted\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"d-icon\",[\"lock\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"              \"],[1,[23,1,[\"name\"]],false],[0,\"\\n            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\\n        \"],[7,\"div\",true],[10,\"class\",\"description\"],[8],[0,\"\\n          \"],[1,[28,\"text-overflow\",null,[[\"class\",\"text\"],[\"overflow\",[23,1,[\"description_excerpt\"]]]]],true],[0,\"\\n        \"],[9],[0,\"\\n\"],[4,\"if\",[[23,1,[\"isGrandParent\"]]],null,{\"statements\":[[4,\"each\",[[23,1,[\"subcategories\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[11,\"data-category-id\",[23,3,[\"id\"]]],[11,\"data-notification-level\",[23,3,[\"notificationLevelString\"]]],[11,\"style\",[28,\"border-color\",[[23,3,[\"color\"]]],null]],[11,\"class\",[29,[\"subcategory with-subcategories \",[28,\"if\",[[23,3,[\"uploaded_logo\",\"url\"]],\"has-logo\",\"no-logo\"],null]]]],[8],[0,\"\\n              \"],[7,\"div\",true],[10,\"class\",\"subcategory-box-inner\"],[8],[0,\"\\n                \"],[1,[28,\"category-title-link\",null,[[\"tagName\",\"category\"],[\"h4\",[23,3,[]]]]],false],[0,\"\\n\"],[4,\"if\",[[23,3,[\"subcategories\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"div\",true],[10,\"class\",\"subcategories\"],[8],[0,\"\\n\"],[4,\"each\",[[23,3,[\"subcategories\"]]],null,{\"statements\":[[4,\"unless\",[[23,4,[\"isMuted\"]]],null,{\"statements\":[[0,\"                        \"],[7,\"span\",true],[10,\"class\",\"subcategory\"],[8],[0,\"\\n                          \"],[1,[28,\"category-title-before\",null,[[\"category\"],[[23,4,[]]]]],false],[0,\"\\n                          \"],[1,[28,\"category-link\",[[23,4,[]]],[[\"hideParent\"],[\"true\"]]],false],[0,\"\\n                        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[4]},null],[0,\"                  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n           \"],[9],[0,\"\\n\"]],\"parameters\":[3]},null]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,1,[\"subcategories\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"subcategories\"],[8],[0,\"\\n\"],[4,\"each\",[[23,1,[\"subcategories\"]]],null,{\"statements\":[[0,\"              \"],[7,\"a\",true],[10,\"class\",\"subcategory\"],[11,\"href\",[23,2,[\"url\"]]],[8],[0,\"\\n                \"],[7,\"span\",true],[10,\"class\",\"subcategory-image-placeholder\"],[8],[0,\"\\n                  \"],[1,[28,\"cdn-img\",null,[[\"src\",\"class\",\"width\",\"height\"],[[23,2,[\"uploaded_logo\",\"url\"]],\"logo\",[23,2,[\"uploaded_logo\",\"width\"]],[23,2,[\"uploaded_logo\",\"height\"]]]]],false],[0,\"\\n                \"],[9],[0,\"\\n                \"],[1,[28,\"category-link\",[[23,2,[]]],[[\"hideParent\"],[\"true\"]]],false],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"          \"],[9],[0,\"\\n        \"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"components/categories-boxes"}});
Ember.TEMPLATES["components/categories-only"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"c\",\"t\",\"subcategory\",\"subcategory\",\"subsubcategory\"],\"statements\":[[4,\"if\",[[24,[\"categories\"]]],null,{\"statements\":[[0,\"  \"],[7,\"table\",true],[11,\"class\",[29,[\"category-list \",[28,\"if\",[[24,[\"showTopics\"]],\"with-topics\"],null]]]],[8],[0,\"\\n    \"],[7,\"thead\",true],[8],[0,\"\\n      \"],[7,\"tr\",true],[8],[0,\"\\n        \"],[7,\"th\",true],[10,\"class\",\"category\"],[8],[7,\"span\",true],[10,\"aria-role\",\"heading\"],[10,\"aria-level\",\"2\"],[10,\"id\",\"categories-only-category\"],[8],[1,[28,\"i18n\",[\"categories.category\"],null],false],[9],[9],[0,\"\\n        \"],[7,\"th\",true],[10,\"class\",\"topics\"],[8],[1,[28,\"i18n\",[\"categories.topics\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"showTopics\"]]],null,{\"statements\":[[0,\"          \"],[7,\"th\",true],[10,\"class\",\"latest\"],[8],[1,[28,\"i18n\",[\"categories.latest\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"tbody\",true],[10,\"aria-labelledby\",\"categories-only-category\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"categories\"]]],null,{\"statements\":[[0,\"        \"],[7,\"tr\",true],[11,\"data-category-id\",[23,1,[\"id\"]]],[11,\"data-notification-level\",[23,1,[\"notificationLevelString\"]]],[11,\"class\",[29,[[28,\"if\",[[23,1,[\"description_excerpt\"]],\"has-description\",\"no-description\"],null],\" \",[28,\"if\",[[23,1,[\"uploaded_logo\",\"url\"]],\"has-logo\",\"no-logo\"],null]]]],[8],[0,\"\\n          \"],[7,\"td\",true],[10,\"class\",\"category\"],[11,\"style\",[28,\"border-color\",[[23,1,[\"color\"]]],null]],[8],[0,\"\\n            \"],[1,[28,\"category-title-link\",null,[[\"category\"],[[23,1,[]]]]],false],[0,\"\\n\"],[4,\"if\",[[23,1,[\"description_excerpt\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[10,\"class\",\"category-description\"],[8],[0,\"\\n                \"],[1,[28,\"dir-span\",[[23,1,[\"description_excerpt\"]]],null],true],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[23,1,[\"isGrandParent\"]]],null,{\"statements\":[[0,\"              \"],[7,\"table\",true],[10,\"class\",\"category-list subcategories-with-subcategories\"],[8],[0,\"\\n                \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[23,1,[\"subcategories\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"tr\",true],[11,\"data-category-id\",[23,4,[\"id\"]]],[11,\"data-notification-level\",[23,4,[\"notificationLevelString\"]]],[11,\"class\",[29,[[28,\"if\",[[23,4,[\"description_excerpt\"]],\"has-description\",\"no-description\"],null],\" \",[28,\"if\",[[23,4,[\"uploaded_logo\",\"url\"]],\"has-logo\",\"no-logo\"],null]]]],[8],[0,\"\\n                      \"],[7,\"td\",true],[10,\"class\",\"category\"],[11,\"style\",[28,\"border-color\",[[23,4,[\"color\"]]],null]],[8],[0,\"\\n                        \"],[1,[28,\"category-title-link\",null,[[\"tagName\",\"category\"],[\"h4\",[23,4,[]]]]],false],[0,\"\\n\"],[4,\"if\",[[23,4,[\"description_excerpt\"]]],null,{\"statements\":[[0,\"                          \"],[7,\"div\",true],[10,\"class\",\"category-description subcategory-description\"],[8],[0,\"\\n                            \"],[1,[28,\"dir-span\",[[23,4,[\"description_excerpt\"]]],null],true],[0,\"\\n                          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[23,4,[\"subcategories\"]]],null,{\"statements\":[[0,\"                          \"],[7,\"div\",true],[10,\"class\",\"subcategories\"],[8],[0,\"\\n\"],[4,\"each\",[[23,4,[\"subcategories\"]]],null,{\"statements\":[[4,\"unless\",[[23,5,[\"isMuted\"]]],null,{\"statements\":[[0,\"                                \"],[7,\"span\",true],[10,\"class\",\"subcategory\"],[8],[0,\"\\n                                  \"],[1,[28,\"category-title-before\",null,[[\"category\"],[[23,5,[]]]]],false],[0,\"\\n                                  \"],[1,[28,\"category-link\",[[23,5,[]]],[[\"hideParent\"],[\"true\"]]],false],[0,\"\\n                                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[5]},null],[0,\"                          \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,4,[\"description_excerpt\"]]],null,{\"statements\":[[0,\"                            \"],[7,\"div\",true],[10,\"class\",\"category-description subcategory-description\"],[8],[0,\"\\n                              \"],[1,[28,\"dir-span\",[[23,4,[\"description_excerpt\"]]],null],true],[0,\"\\n                            \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"                      \"],[9],[0,\"\\n                    \"],[9],[0,\"\\n\"]],\"parameters\":[4]},null],[0,\"                \"],[9],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,1,[\"subcategories\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[10,\"class\",\"subcategories\"],[8],[0,\"\\n\"],[4,\"each\",[[23,1,[\"subcategories\"]]],null,{\"statements\":[[4,\"unless\",[[23,3,[\"isMuted\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"span\",true],[10,\"class\",\"subcategory\"],[8],[0,\"\\n                      \"],[1,[28,\"category-title-before\",null,[[\"category\"],[[23,3,[]]]]],false],[0,\"\\n                      \"],[1,[28,\"category-link\",[[23,3,[]]],[[\"hideParent\"],[\"true\"]]],false],[0,\"\\n                      \"],[1,[28,\"category-unread\",null,[[\"category\"],[[23,3,[]]]]],false],[0,\"\\n                    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[3]},null],[0,\"              \"],[9],[0,\"\\n            \"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"          \"],[9],[0,\"\\n          \"],[7,\"td\",true],[10,\"class\",\"topics\"],[8],[0,\"\\n            \"],[7,\"div\",true],[11,\"title\",[23,1,[\"statTitle\"]]],[8],[1,[23,1,[\"stat\"]],true],[9],[0,\"\\n            \"],[1,[28,\"category-unread\",null,[[\"category\",\"tagName\",\"class\"],[[23,1,[]],\"div\",\"unread-new\"]]],false],[0,\"\\n          \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"showTopics\"]]],null,{\"statements\":[[0,\"            \"],[7,\"td\",true],[10,\"class\",\"latest\"],[8],[0,\"\\n\"],[4,\"each\",[[23,1,[\"featuredTopics\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"featured-topic\",null,[[\"topic\",\"latestTopicOnly\"],[[23,2,[]],[24,[\"latestTopicOnly\"]]]]],false],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"            \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/categories-only"}});
Ember.TEMPLATES["components/categories-topic-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"t\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"table-heading\"],[10,\"aria-role\",\"heading\"],[10,\"aria-level\",\"2\"],[8],[0,\"\\n  \"],[1,[28,\"i18n\",[[28,\"concat\",[\"filters.\",[24,[\"filter\"]],\".title\"],null]],null],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"topics\"]]],null,{\"statements\":[[4,\"each\",[[24,[\"topics\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"latest-topic-list-item\",null,[[\"topic\"],[[23,1,[]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[7,\"div\",true],[10,\"class\",\"more-topics\"],[8],[0,\"\\n    \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"get-url\",[[28,\"concat\",[\"/\",[24,[\"filter\"]]],null]],null]]]],[10,\"class\",\"btn btn-default pull-right\"],[8],[1,[28,\"i18n\",[\"more\"],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"no-topics\"],[8],[0,\"\\n    \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[[28,\"concat\",[\"topics.none.\",[24,[\"filter\"]]],null]],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/categories-topic-list"}});
Ember.TEMPLATES["components/categories-with-featured-topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"categories-only\",null,[[\"categories\",\"latestTopicOnly\",\"showTopics\"],[[24,[\"categories\"]],[24,[\"latestTopicOnly\"]],\"true\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/categories-with-featured-topics"}});
Ember.TEMPLATES["components/category-name-fields"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n\"],[4,\"unless\",[[24,[\"category\",\"isUncategorizedCategory\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field-item\"],[8],[0,\"\\n      \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"category.name\"],null],false],[9],[0,\"\\n      \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"maxlength\"],[[24,[\"category\",\"name\"]],\"category.name_placeholder\",\"50\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[7,\"section\",true],[10,\"class\",\"field-item\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"category.slug\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"maxlength\"],[[24,[\"category\",\"slug\"]],\"category.slug_placeholder\",\"255\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/category-name-fields"}});
Ember.TEMPLATES["components/category-title-before"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"plugin-outlet\",null,[[\"name\",\"noTags\",\"args\"],[\"category-title-before\",true,[28,\"hash\",null,[[\"category\"],[[24,[\"category\"]]]]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/category-title-before"}});
Ember.TEMPLATES["components/category-title-link"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",true],[10,\"class\",\"category-title-link\"],[11,\"href\",[24,[\"category\",\"url\"]]],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"category-text-title\"],[8],[0,\"\\n    \"],[1,[28,\"category-title-before\",null,[[\"category\"],[[24,[\"category\"]]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"category\",\"read_restricted\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-icon\",[\"lock\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[7,\"span\",true],[10,\"class\",\"category-name\"],[8],[1,[28,\"dir-span\",[[24,[\"category\",\"name\"]]],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"category\",\"uploaded_logo\",\"url\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"cdn-img\",null,[[\"src\",\"class\",\"width\",\"height\"],[[24,[\"category\",\"uploaded_logo\",\"url\"]],\"category-logo\",[24,[\"category\",\"uploaded_logo\",\"width\"]],[24,[\"category\",\"uploaded_logo\",\"height\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/category-title-link"}});
Ember.TEMPLATES["components/category-unread"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"category\",\"unreadTopics\"]]],null,{\"statements\":[[0,\"  \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"category\",\"unreadUrl\"]]],null]]]],[10,\"class\",\"badge new-posts badge-notification\"],[11,\"title\",[29,[[28,\"i18n\",[\"topic.unread_topics\"],[[\"count\"],[[24,[\"category\",\"unreadTopics\"]]]]]]]],[8],[1,[28,\"i18n\",[\"filters.unread.lower_title_with_count\"],[[\"count\"],[[24,[\"category\",\"unreadTopics\"]]]]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"category\",\"newTopics\"]]],null,{\"statements\":[[0,\"  \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"category\",\"newUrl\"]]],null]]]],[10,\"class\",\"badge new-posts badge-notification\"],[11,\"title\",[29,[[28,\"i18n\",[\"topic.new_topics\"],[[\"count\"],[[24,[\"category\",\"newTopics\"]]]]]]]],[8],[1,[28,\"i18n\",[\"filters.new.lower_title_with_count\"],[[\"count\"],[[24,[\"category\",\"newTopics\"]]]]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/category-unread"}});
Ember.TEMPLATES["components/cdn-img"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"src\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[11,\"class\",[29,[[22,\"class\"],\" aspect-image\"]]],[11,\"style\",[22,\"style\"]],[8],[0,\"\\n    \"],[7,\"img\",true],[11,\"src\",[22,\"cdnSrc\"]],[11,\"width\",[22,\"width\"]],[11,\"height\",[22,\"height\"]],[8],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/cdn-img"}});
Ember.TEMPLATES["components/choose-message"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"m\"],\"statements\":[[7,\"label\",true],[10,\"for\",\"choose-message-title\"],[8],[1,[28,\"i18n\",[\"choose_message.title.search\"],null],false],[9],[0,\"\\n\\n\"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"id\"],[[24,[\"messageTitle\"]],\"choose_message.title.placeholder\",\"choose-message-title\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"loading\"]]],null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"loading\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"noResults\"]]],null,{\"statements\":[[0,\"    \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"choose_message.none_found\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"each\",[[24,[\"messages\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"controls existing-message\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"radio\"],[8],[0,\"\\n          \"],[7,\"input\",false],[12,\"id\",[29,[\"choose-message-\",[28,\"unbound\",[[23,1,[\"id\"]]],null]]]],[12,\"name\",\"choose_message_id\"],[12,\"type\",\"radio\"],[3,\"action\",[[23,0,[]],\"chooseMessage\",[23,1,[]]]],[8],[9],[0,\"\\n          \"],[7,\"span\",true],[10,\"class\",\"message-title\"],[8],[0,\"\\n            \"],[1,[23,1,[\"title\"]],false],[0,\"\\n          \"],[9],[0,\"\\n       \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null]],\"parameters\":[]}]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/choose-message"}});
Ember.TEMPLATES["components/choose-topic"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"t\"],\"statements\":[[7,\"label\",true],[10,\"for\",\"choose-topic-title\"],[8],[1,[28,\"i18n\",[[24,[\"labelText\"]]],null],false],[9],[0,\"\\n\\n\"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"id\"],[[24,[\"topicTitle\"]],\"choose_topic.title.placeholder\",\"choose-topic-title\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"loading\"]]],null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"loading\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"noResults\"]]],null,{\"statements\":[[0,\"    \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"choose_topic.none_found\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"each\",[[24,[\"topics\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"controls existing-topic\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"radio\"],[8],[0,\"\\n          \"],[7,\"input\",false],[12,\"id\",[29,[\"choose-topic-\",[28,\"unbound\",[[23,1,[\"id\"]]],null]]]],[12,\"name\",\"choose_topic_id\"],[12,\"type\",\"radio\"],[3,\"action\",[[23,0,[]],\"chooseTopic\",[23,1,[]]]],[8],[9],[0,\"\\n          \"],[1,[28,\"raw\",[\"topic-status\"],[[\"topic\"],[[23,1,[]]]]],false],[0,\"\\n          \"],[7,\"span\",true],[10,\"class\",\"topic-title\"],[8],[0,\"\\n            \"],[1,[23,1,[\"title\"]],false],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"span\",true],[10,\"class\",\"topic-categories\"],[8],[0,\"\\n            \"],[1,[28,\"bound-category-link\",[[23,1,[\"category\"]]],[[\"recursive\",\"hideParent\"],[true,true]]],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null]],\"parameters\":[]}]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/choose-topic"}});
Ember.TEMPLATES["components/color-input"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"text-field\",null,[[\"class\",\"value\",\"maxlength\"],[\"hex-input\",[24,[\"hexValue\"]],\"6\"]]],false],[0,\" \"],[7,\"input\",true],[10,\"class\",\"picker\"],[10,\"type\",\"input\"],[8],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/color-input"}});
Ember.TEMPLATES["components/color-picker"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"c\"],\"statements\":[[4,\"each\",[[24,[\"colors\"]]],null,{\"statements\":[[4,\"color-picker-choice\",null,[[\"color\",\"usedColors\",\"selectColor\"],[[23,1,[]],[24,[\"usedColors\"]],[28,\"action\",[[23,0,[]],\"selectColor\"],null]]],{\"statements\":[[0,\"    \"],[1,[28,\"d-icon\",[\"check\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"components/color-picker"}});
Ember.TEMPLATES["components/composer-action-title"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"isEditing\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-icon\",[\"pencil-alt\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[1,[28,\"composer-actions\",null,[[\"composerModel\",\"replyOptions\",\"canWhisper\",\"openComposer\",\"closeComposer\",\"action\",\"tabindex\"],[[24,[\"model\"]],[24,[\"model\",\"replyOptions\"]],[24,[\"canWhisper\"]],[24,[\"openComposer\"]],[24,[\"closeComposer\"]],[24,[\"model\",\"action\"]],[24,[\"tabindex\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n\"],[7,\"span\",true],[10,\"class\",\"action-title\"],[8],[0,\"\\n  \"],[1,[22,\"actionTitle\"],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/composer-action-title"}});
Ember.TEMPLATES["components/composer-editor"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"d-editor\",null,[[\"tabindex\",\"value\",\"placeholder\",\"previewUpdated\",\"markdownOptions\",\"extraButtons\",\"importQuote\",\"showUploadModal\",\"togglePreview\",\"validation\",\"loading\",\"forcePreview\",\"showLink\",\"composerEvents\",\"onExpandPopupMenuOptions\",\"onPopupMenuAction\",\"popupMenuOptions\",\"disabled\",\"outletArgs\"],[\"4\",[24,[\"composer\",\"reply\"]],[24,[\"replyPlaceholder\"]],[28,\"action\",[[23,0,[]],\"previewUpdated\"],null],[24,[\"markdownOptions\"]],[28,\"action\",[[23,0,[]],\"extraButtons\"],null],[28,\"action\",[[23,0,[]],\"importQuote\"],null],[24,[\"showUploadModal\"]],[28,\"action\",[[23,0,[]],\"togglePreview\"],null],[24,[\"validation\"]],[24,[\"composer\",\"loading\"]],[24,[\"forcePreview\"]],[24,[\"showLink\"]],true,[28,\"action\",[[23,0,[]],\"onExpandPopupMenuOptions\"],null],[24,[\"onPopupMenuAction\"]],[24,[\"popupMenuOptions\"]],[24,[\"disableTextarea\"]],[28,\"hash\",null,[[\"composer\",\"editorType\"],[[24,[\"composer\"]],\"composer\"]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"  \"],[7,\"input\",true],[10,\"id\",\"mobile-uploader\"],[10,\"multiple\",\"\"],[10,\"type\",\"file\"],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/composer-editor"}});
Ember.TEMPLATES["components/composer-messages"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"message\"],\"statements\":[[4,\"each\",[[24,[\"messages\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"composer-message\",null,[[\"message\",\"closeMessage\"],[[23,1,[]],[28,\"action\",[[23,0,[]],\"closeMessage\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"components/composer-messages"}});
Ember.TEMPLATES["components/composer-title"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"text-field\",null,[[\"value\",\"tabindex\",\"id\",\"maxLength\",\"placeholderKey\",\"disabled\",\"autocomplete\"],[[24,[\"composer\",\"title\"]],\"2\",\"reply-title\",[24,[\"titleMaxLength\"]],[24,[\"composer\",\"titlePlaceholder\"]],[24,[\"disabled\"]],\"discourse\"]]],false],[0,\"\\n\\n\"],[1,[28,\"popup-input-tip\",null,[[\"validation\"],[[24,[\"validation\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/composer-title"}});
Ember.TEMPLATES["components/composer-toggles"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"composer-controls\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"flat-button\",null,[[\"class\",\"icon\",\"action\"],[\"toggle-toolbar\",\"bars\",[24,[\"toggleToolbar\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[1,[28,\"flat-button\",null,[[\"class\",\"icon\",\"action\",\"title\"],[\"toggler\",[24,[\"toggleIcon\"]],[24,[\"toggleComposer\"]],[24,[\"toggleTitle\"]]]]],false],[0,\"\\n\\n\"],[4,\"unless\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"flat-button\",null,[[\"class\",\"icon\",\"action\",\"title\"],[\"toggle-fullscreen\",[24,[\"fullscreenIcon\"]],[24,[\"toggleFullscreen\"]],[24,[\"fullscreenTitle\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/composer-toggles"}});
Ember.TEMPLATES["components/composer-user-selector"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"showSelector\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"user-selector\",null,[[\"topicId\",\"onChangeCallback\",\"id\",\"includeMessageableGroups\",\"placeholderKey\",\"tabindex\",\"usernames\",\"hasGroups\",\"allowEmails\",\"autocomplete\"],[[24,[\"topicId\"]],[28,\"action\",[[23,0,[]],\"triggerResize\"],null],\"private-message-users\",\"true\",\"composer.users_placeholder\",\"1\",[24,[\"usernames\"]],[24,[\"hasGroups\"]],\"true\",\"discourse\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"toggleSelector\"]],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"ac-wrap composer-user-selector-limited\"],[8],[0,\"\\n      \"],[7,\"span\",true],[8],[1,[22,\"limitedUsernames\"],false],[9],[0,\"\\n      \"],[7,\"span\",true],[10,\"class\",\"btn btn-primary\"],[8],[1,[22,\"hiddenUsersCount\"],false],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/composer-user-selector"}});
Ember.TEMPLATES["components/conditional-loading-section"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"if\",[[24,[\"isLoading\"]]],null,{\"statements\":[[0,\"  \"],[7,\"span\",true],[10,\"class\",\"title\"],[8],[1,[22,\"title\"],false],[9],[0,\"\\n  \"],[7,\"div\",true],[11,\"class\",[29,[\"spinner \",[22,\"size\"]]]],[8],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[14,1],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/conditional-loading-section"}});
Ember.TEMPLATES["components/conditional-loading-spinner"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"if\",[[24,[\"condition\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[11,\"class\",[29,[\"spinner \",[22,\"size\"]]]],[8],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[14,1],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/conditional-loading-spinner"}});
Ember.TEMPLATES["components/cook-text"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"cooked\"],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/cook-text"}});
Ember.TEMPLATES["components/count-i18n"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"i18nCount\"],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/count-i18n"}});
Ember.TEMPLATES["components/create-topic-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"canCreateTopic\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"class\",\"id\",\"action\",\"icon\",\"disabled\",\"label\"],[\"btn-default\",\"create-topic\",[24,[\"action\"]],\"plus\",[24,[\"disabled\"]],[24,[\"label\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/create-topic-button"}});
Ember.TEMPLATES["components/create-topics-notice"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"unless\",[[24,[\"hidden\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"alert alert-info alert-too-few-topics\"],[8],[0,\"\\n      \"],[1,[22,\"message\"],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/create-topics-notice"}});
Ember.TEMPLATES["components/csv-uploader"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"label\",true],[10,\"class\",\"btn\"],[11,\"disabled\",[22,\"uploadButtonDisabled\"]],[8],[0,\"\\n  \"],[1,[28,\"d-icon\",[\"upload\"],null],false],[0,\"\"],[1,[22,\"uploadButtonText\"],false],[0,\"\\n  \"],[7,\"input\",true],[10,\"class\",\"hidden-upload-field\"],[11,\"disabled\",[22,\"uploading\"]],[10,\"accept\",\".csv\"],[10,\"type\",\"file\"],[8],[9],[0,\"\\n\"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"uploading\"]]],null,{\"statements\":[[0,\"  \"],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"upload_selector.uploading\"],null],false],[0,\" \"],[1,[22,\"uploadProgress\"],false],[0,\"%\"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/csv-uploader"}});
Ember.TEMPLATES["components/custom-html-container"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"html\"],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/custom-html-container"}});
Ember.TEMPLATES["components/d-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"if\",[[24,[\"icon\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-icon\",[[24,[\"icon\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"translatedLabel\"]]],null,{\"statements\":[[0,\"  \"],[7,\"span\",true],[10,\"class\",\"d-button-label\"],[8],[1,[22,\"translatedLabel\"],true],[4,\"if\",[[24,[\"ellipsis\"]]],null,{\"statements\":[[0,\"\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[14,1],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/d-button"}});
Ember.TEMPLATES["components/d-editor"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"group\",\"b\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"d-editor-container\"],[8],[0,\"\\n  \"],[7,\"div\",true],[11,\"class\",[29,[\"d-editor-textarea-wrapper \",[28,\"if\",[[24,[\"disabled\"]],\"disabled\"],null]]]],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"d-editor-button-bar\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"toolbar\",\"groups\"]]],null,{\"statements\":[[4,\"each\",[[23,1,[\"buttons\"]]],null,{\"statements\":[[4,\"if\",[[23,2,[\"popupMenu\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"toolbar-popup-menu-options\",null,[[\"content\",\"onChange\",\"onExpand\",\"class\",\"options\"],[[24,[\"popupMenuOptions\"]],[24,[\"onPopupMenuAction\"]],[28,\"action\",[[23,0,[]],[23,2,[\"action\"]],[23,2,[]]],null],[23,2,[\"className\"]],[28,\"hash\",null,[[\"popupTitle\",\"icon\"],[[23,2,[\"title\"]],[23,2,[\"icon\"]]]]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[1,[28,\"d-button\",null,[[\"action\",\"type\",\"actionParam\",\"translatedTitle\",\"label\",\"icon\",\"class\"],[[23,2,[\"action\"]],\"button\",[23,2,[]],[23,2,[\"title\"]],[23,2,[\"label\"]],[23,2,[\"icon\"]],[23,2,[\"className\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[2]},null],[0,\"\\n\"],[4,\"unless\",[[23,1,[\"lastGroup\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"d-editor-spacer\"],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n\\n    \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]]],false],[0,\"\\n    \"],[1,[28,\"textarea\",null,[[\"autocomplete\",\"tabindex\",\"value\",\"class\",\"placeholder\",\"disabled\",\"input\"],[\"discourse\",[24,[\"tabindex\"]],[24,[\"value\"]],\"d-editor-input\",[24,[\"placeholderTranslated\"]],[24,[\"disabled\"]],[24,[\"change\"]]]]],false],[0,\"\\n    \"],[1,[28,\"popup-input-tip\",null,[[\"validation\"],[[24,[\"validation\"]]]]],false],[0,\"\\n    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\",\"args\"],[\"after-d-editor\",\"\",[24,[\"outletArgs\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[11,\"class\",[29,[\"d-editor-preview-wrapper \",[28,\"if\",[[24,[\"forcePreview\"]],\"force-preview\"],null]]]],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"d-editor-preview\"],[8],[1,[22,\"preview\"],true],[9],[0,\"\\n    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"classNames\",\"args\"],[\"editor-preview\",\"d-editor-plugin\",[24,[\"outletArgs\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[1,[28,\"emoji-picker\",null,[[\"active\",\"isEditorFocused\",\"emojiSelected\"],[[24,[\"emojiPickerIsActive\"]],[24,[\"isEditorFocused\"]],[28,\"action\",[[23,0,[]],\"emojiSelected\"],null]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/d-editor"}});
Ember.TEMPLATES["components/d-modal-cancel"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"d-modal-cancel\"],[3,\"action\",[[23,0,[]],[24,[\"close\"]]]],[8],[1,[28,\"i18n\",[\"cancel\"],null],false],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/d-modal-cancel"}});
Ember.TEMPLATES["components/d-modal"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"error\",\"panel\",\"&default\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"modal-outer-container\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"modal-middle-container\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"modal-inner-container\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"modal-header\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"dismissable\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"class\"],[\"times\",[28,\"route-action\",[\"closeModal\"],null],\"btn btn-flat modal-close close\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"panels\"]]],null,{\"statements\":[[0,\"          \"],[7,\"ul\",true],[10,\"class\",\"modal-tabs\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"panels\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"modal-tab\",null,[[\"panel\",\"panelsLength\",\"selectedPanel\",\"onSelectPanel\"],[[23,2,[]],[24,[\"panels\",\"length\"]],[24,[\"selectedPanel\"]],[24,[\"onSelectPanel\"]]]]],false],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"          \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"title\"],[8],[0,\"\\n            \"],[7,\"h3\",true],[8],[1,[22,\"title\"],false],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"subtitle\"]]],null,{\"statements\":[[0,\"              \"],[7,\"p\",true],[8],[1,[22,\"subtitle\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"id\",\"modal-alert\"],[8],[9],[0,\"\\n\\n      \"],[14,3],[0,\"\\n\\n\"],[4,\"each\",[[24,[\"errors\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[0,\"\\n          \"],[7,\"button\",true],[10,\"class\",\"close\"],[10,\"data-dismiss\",\"alert\"],[8],[0,\"\"],[9],[0,\"\\n          \"],[1,[23,1,[]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/d-modal"}});
Ember.TEMPLATES["components/d-navigation"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"bread-crumbs\",null,[[\"categories\",\"category\",\"noSubcategories\"],[[24,[\"categories\"]],[24,[\"category\"]],[24,[\"noSubcategories\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showCategoryAdmin\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"categories-admin-dropdown\",null,[[\"onChange\"],[[28,\"action\",[[23,0,[]],\"selectCategoryAdminDropdownAction\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"navigation-bar\",null,[[\"navItems\",\"filterMode\",\"category\"],[[24,[\"navItems\"]],[24,[\"filterMode\"]],[24,[\"category\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showCategoryNotifications\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"category-notifications-button\",null,[[\"value\",\"category\",\"onChange\"],[[24,[\"category\",\"notification_level\"]],[24,[\"category\"]],[28,\"action\",[[23,0,[]],\"changeCategoryNotificationLevel\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"before-create-topic-button\",[28,\"hash\",null,[[\"canCreateTopic\",\"createTopicDisabled\",\"createTopicLabel\"],[[24,[\"canCreateTopic\"]],[24,[\"createTopicDisabled\"]],[24,[\"createTopicLabel\"]]]]]]]],false],[0,\"\\n\\n\"],[1,[28,\"create-topic-button\",null,[[\"canCreateTopic\",\"action\",\"disabled\",\"label\"],[[24,[\"canCreateTopic\"]],[24,[\"createTopic\"]],[24,[\"createTopicDisabled\"]],[24,[\"createTopicLabel\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showCategoryEdit\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-default edit-category\",[24,[\"editCategory\"]],\"wrench\",\"category.edit\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/d-navigation"}});
Ember.TEMPLATES["components/date-input"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"input\",null,[[\"type\",\"class\",\"placeholder\",\"value\",\"input\"],[[24,[\"inputType\"]],\"date-picker\",[24,[\"placeholder\"]],[24,[\"value\"]],[28,\"action\",[[23,0,[]],\"onInput\"],null]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/date-input"}});
Ember.TEMPLATES["components/date-picker"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"input\",null,[[\"type\",\"class\",\"placeholder\",\"value\"],[[24,[\"inputType\"]],\"date-picker\",[24,[\"placeholder\"]],[24,[\"value\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/date-picker"}});
Ember.TEMPLATES["components/date-time-input-range"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"ul\",true],[11,\"class\",[29,[\"panels \",[22,\"currentPanel\"]]]],[8],[0,\"\\n  \"],[7,\"li\",true],[8],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"label\",\"class\",\"action\"],[\"date_time_picker.from\",\"from-panel\",[28,\"action\",[[23,0,[]],\"onChangePanel\",\"from\"],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"li\",true],[8],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"label\",\"class\",\"action\"],[\"date_time_picker.to\",\"to-panel\",[28,\"action\",[[23,0,[]],\"onChangePanel\",\"to\"],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"error\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"alert error\"],[8],[1,[22,\"error\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[11,\"class\",[29,[\"panel from \",[28,\"if\",[[24,[\"fromPanelActive\"]],\"visible\"],null]]]],[8],[0,\"\\n  \"],[1,[28,\"date-time-input\",null,[[\"date\",\"onChange\",\"showTime\"],[[24,[\"from\"]],[28,\"action\",[[23,0,[]],\"_onChange\",[28,\"hash\",null,[[\"prop\"],[\"from\"]]]],null],[24,[\"showFromTime\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[11,\"class\",[29,[\"panel to \",[28,\"if\",[[24,[\"toPanelActive\"]],\"visible\"],null]]]],[8],[0,\"\\n  \"],[1,[28,\"date-time-input\",null,[[\"date\",\"onChange\",\"showTime\"],[[24,[\"to\"]],[28,\"action\",[[23,0,[]],\"_onChange\",[28,\"hash\",null,[[\"prop\"],[\"to\"]]]],null],[24,[\"showToTime\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/date-time-input-range"}});
Ember.TEMPLATES["components/date-time-input"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"date-input\",null,[[\"date\",\"onChange\"],[[24,[\"date\"]],[28,\"action\",[[23,0,[]],\"onChangeDate\"],null]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showTime\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"time-input\",null,[[\"hours\",\"minutes\",\"onChange\"],[[24,[\"_hours\"]],[24,[\"_minutes\"]],[28,\"action\",[[23,0,[]],\"onChangeTime\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/date-time-input"}});
Ember.TEMPLATES["components/desktop-notification-config"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"isNotSupported\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"icon\",\"class\",\"label\",\"disabled\"],[\"bell-slash\",\"btn-default\",\"user.desktop_notifications.not_supported\",\"true\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"isDeniedPermission\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"icon\",\"class\",\"label\",\"action\",\"disabled\"],[\"bell-slash\",\"btn-default\",\"user.desktop_notifications.perm_denied_btn\",[28,\"action\",[[23,0,[]],\"recheckPermission\"],null],\"true\"]]],false],[0,\"\\n  \"],[1,[28,\"i18n\",[\"user.desktop_notifications.perm_denied_expl\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"isEnabled\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"icon\",\"class\",\"label\",\"action\"],[\"far-bell-slash\",\"btn-default\",\"user.desktop_notifications.disable\",[28,\"action\",[[23,0,[]],\"turnoff\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"icon\",\"class\",\"label\",\"action\"],[\"far-bell\",\"btn-default\",\"user.desktop_notifications.enable\",[28,\"action\",[[23,0,[]],\"turnon\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/desktop-notification-config"}});
Ember.TEMPLATES["components/directory-item"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"td\",true],[8],[1,[28,\"user-info\",null,[[\"user\"],[[24,[\"item\",\"user\"]]]]],false],[9],[0,\"\\n\"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"item\",\"likes_received\"]]],null],false],[9],[0,\"\\n\"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"item\",\"likes_given\"]]],null],false],[9],[0,\"\\n\"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"item\",\"topic_count\"]]],null],false],[9],[0,\"\\n\"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"item\",\"post_count\"]]],null],false],[9],[0,\"\\n\"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"item\",\"topics_entered\"]]],null],false],[9],[0,\"\\n\"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"item\",\"posts_read\"]]],null],false],[9],[0,\"\\n\"],[7,\"td\",true],[8],[1,[28,\"number\",[[24,[\"item\",\"days_visited\"]]],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"showTimeRead\"]]],null,{\"statements\":[[0,\"  \"],[7,\"td\",true],[8],[7,\"span\",true],[10,\"class\",\"time-read\"],[8],[1,[28,\"format-duration\",[[24,[\"item\",\"time_read\"]]],null],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/directory-item"}});
Ember.TEMPLATES["components/directory-toggle"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"span\",true],[10,\"class\",\"header-contents\"],[8],[1,[22,\"columnIcon\"],false],[1,[22,\"title\"],false],[1,[22,\"chevronIcon\"],false],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/directory-toggle"}});
Ember.TEMPLATES["components/disabled-icon"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"d-icon\",[[24,[\"icon\"]]],[[\"class\"],[\"fa-stack-1x\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"disabled\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-icon\",[\"ban\"],[[\"class\"],[\"fa-stack-2x\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/disabled-icon"}});
Ember.TEMPLATES["components/discourse-banner"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"visible\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"id\",\"banner\"],[11,\"class\",[22,\"overlay\"]],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"class\",\"title\"],[\"times\",\"dismiss\",\"btn btn-flat close\",\"banner.close\"]]],false],[0,\"\\n      \"],[7,\"div\",true],[10,\"id\",\"banner-content\"],[8],[0,\"\\n        \"],[1,[22,\"content\"],true],[0,\"\\n\"],[4,\"if\",[[24,[\"currentUser\",\"staff\"]]],null,{\"statements\":[[0,\"          \"],[7,\"p\",true],[8],[7,\"a\",true],[11,\"href\",[29,[[24,[\"banner\",\"url\"]]]]],[8],[1,[28,\"i18n\",[\"banner.edit\"],null],true],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/discourse-banner"}});
Ember.TEMPLATES["components/discourse-linked-text"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"translatedText\"],true],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/discourse-linked-text"}});
Ember.TEMPLATES["components/discourse-tag-bound"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[24,[\"tagRecord\",\"id\"]],false]],\"hasEval\":false}","meta":{"moduleName":"components/discourse-tag-bound"}});
Ember.TEMPLATES["components/discovery-topics-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[14,1,[[28,\"hash\",null,[[\"saveScrollPosition\"],[[24,[\"saveScrollPosition\"]]]]]]],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/discovery-topics-list"}});
Ember.TEMPLATES["components/edit-category-general"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"s\"],\"statements\":[[4,\"if\",[[24,[\"category\",\"isUncategorizedCategory\"]]],null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[10,\"class\",\"warning\"],[8],[0,\"\\n    \"],[1,[28,\"d-icon\",[\"exclamation-triangle\"],null],false],[0,\"\\n    \"],[1,[28,\"i18n\",[\"category.uncategorized_general_warning\"],[[\"settingLink\",\"customizeLink\"],[[24,[\"uncategorizedSiteSettingLink\"]],[24,[\"customizeTextContentLink\"]]]]],true],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"form\",true],[8],[0,\"\\n  \"],[1,[28,\"category-name-fields\",null,[[\"category\",\"tagName\"],[[24,[\"category\"]],\"\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canSelectParentCategory\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n      \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"category.parent\"],null],false],[9],[0,\"\\n      \"],[1,[28,\"category-chooser\",null,[[\"rootNone\",\"value\",\"excludeCategoryId\",\"categories\",\"allowSubCategories\",\"allowUncategorized\",\"onChange\"],[true,[24,[\"category\",\"parent_category_id\"]],[24,[\"category\",\"id\"]],[24,[\"parentCategories\"]],true,false,[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"category\",\"parent_category_id\"]]],null]],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"subCategories\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n      \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"categories.subcategories\"],null],false],[9],[0,\"\\n\"],[4,\"each\",[[24,[\"subCategories\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"category-badge\",[[23,1,[]]],[[\"hideParent\"],[\"true\"]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showDescription\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n      \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"category.description\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"category\",\"description\"]]],null,{\"statements\":[[0,\"        \"],[1,[24,[\"category\",\"description\"]],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"category.no_description\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[4,\"if\",[[24,[\"category\",\"topic_url\"]]],null,{\"statements\":[[0,\"        \"],[7,\"br\",true],[8],[9],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-default edit-category-description\",[28,\"action\",[[23,0,[]],\"showCategoryTopic\"],null],\"pencil-alt\",\"category.change_in_category_topic\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"unless\",[[24,[\"noCategoryStyle\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n      \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"category.badge_colors\"],null],false],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"category-color-editor\"],[8],[0,\"\\n        \"],[1,[22,\"categoryBadgePreview\"],true],[0,\"\\n\\n        \"],[7,\"div\",true],[10,\"class\",\"input-prepend input-append\"],[10,\"style\",\"margin-top: 10px;\"],[8],[0,\"\\n          \"],[7,\"span\",true],[10,\"class\",\"color-title\"],[8],[1,[28,\"i18n\",[\"category.background_color\"],null],false],[0,\":\"],[9],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"colorpicker-wrapper\"],[8],[0,\"\\n            \"],[7,\"span\",true],[10,\"class\",\"add-on\"],[8],[0,\"#\"],[9],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"maxlength\"],[[24,[\"category\",\"color\"]],\"category.color_placeholder\",\"6\"]]],false],[0,\"\\n            \"],[1,[28,\"color-picker\",null,[[\"colors\",\"usedColors\",\"value\"],[[24,[\"backgroundColors\"]],[24,[\"usedBackgroundColors\"]],[24,[\"category\",\"color\"]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\\n        \"],[7,\"div\",true],[10,\"class\",\"input-prepend input-append\"],[8],[0,\"\\n          \"],[7,\"span\",true],[10,\"class\",\"color-title\"],[8],[1,[28,\"i18n\",[\"category.foreground_color\"],null],false],[0,\":\"],[9],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"colorpicker-wrapper\"],[8],[0,\"\\n            \"],[7,\"span\",true],[10,\"class\",\"add-on\"],[8],[0,\"#\"],[9],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"maxlength\"],[[24,[\"category\",\"text_color\"]],\"category.color_placeholder\",\"6\"]]],false],[0,\"\\n            \"],[1,[28,\"color-picker\",null,[[\"colors\",\"value\",\"id\"],[[24,[\"foregroundColors\"]],[24,[\"category\",\"text_color\"]],\"edit-text-color\"]]],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/edit-category-general"}});
Ember.TEMPLATES["components/edit-category-images"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n  \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"category.logo\"],null],false],[9],[0,\"\\n  \"],[1,[28,\"image-uploader\",null,[[\"imageUrl\",\"onUploadDone\",\"onUploadDeleted\",\"type\",\"class\"],[[24,[\"logoImageUrl\"]],[28,\"action\",[[23,0,[]],\"logoUploadDone\"],null],[28,\"action\",[[23,0,[]],\"logoUploadDeleted\"],null],\"category_logo\",\"no-repeat contain-image\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n  \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"category.background_image\"],null],false],[9],[0,\"\\n  \"],[1,[28,\"image-uploader\",null,[[\"imageUrl\",\"onUploadDone\",\"onUploadDeleted\",\"type\"],[[24,[\"backgroundImageUrl\"]],[28,\"action\",[[23,0,[]],\"backgroundUploadDone\"],null],[28,\"action\",[[23,0,[]],\"backgroundUploadDeleted\"],null],\"category_background\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/edit-category-images"}});
Ember.TEMPLATES["components/edit-category-panel"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"component\",[[24,[\"customComponent\"]]],[[\"tab\",\"selectedTab\",\"category\"],[[24,[\"tab\"]],[24,[\"selectedTab\"]],[24,[\"category\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/edit-category-panel"}});
Ember.TEMPLATES["components/edit-category-security"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"p\"],\"statements\":[[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"category\",\"is_special\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"category\",\"isUncategorizedCategory\"]]],null,{\"statements\":[[0,\"      \"],[7,\"p\",true],[10,\"class\",\"warning\"],[8],[1,[28,\"i18n\",[\"category.uncategorized_security_warning\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"p\",true],[10,\"class\",\"warning\"],[8],[1,[28,\"i18n\",[\"category.special_warning\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[4,\"unless\",[[24,[\"category\",\"isUncategorizedCategory\"]]],null,{\"statements\":[[0,\"    \"],[7,\"ul\",true],[10,\"class\",\"permission-list\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"category\",\"permissions\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[8],[0,\"\\n          \"],[7,\"span\",true],[10,\"class\",\"name\"],[8],[7,\"span\",true],[10,\"class\",\"badge-group\"],[8],[1,[23,1,[\"group_name\"]],false],[9],[9],[0,\"\\n          \"],[1,[28,\"i18n\",[\"category.can\"],null],true],[0,\"\\n          \"],[7,\"span\",true],[10,\"class\",\"permission\"],[8],[1,[23,1,[\"permission\",\"description\"]],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"editingPermissions\"]]],null,{\"statements\":[[0,\"            \"],[7,\"a\",false],[12,\"class\",\"remove-permission\"],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"removePermission\",[23,1,[]]]],[8],[1,[28,\"d-icon\",[\"times-circle\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"editingPermissions\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"category\",\"availableGroups\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"combo-box\",null,[[\"class\",\"content\",\"onChange\",\"value\",\"valueProperty\",\"nameProperty\"],[\"available-groups\",[24,[\"category\",\"availableGroups\"]],[28,\"action\",[[23,0,[]],\"onSelectGroup\"],null],[24,[\"selectedGroup\"]],null,null]]],false],[0,\"\\n      \"],[1,[28,\"combo-box\",null,[[\"class\",\"nameProperty\",\"content\",\"onChange\",\"value\"],[\"permission-selector\",\"description\",[24,[\"category\",\"availablePermissions\"]],[28,\"action\",[[23,0,[]],\"onSelectPermission\"],null],[24,[\"selectedPermission\"]]]]],false],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\"],[[28,\"action\",[[23,0,[]],\"addPermission\",[24,[\"selectedGroup\"]],[24,[\"selectedPermission\"]]],null],\"btn-primary add-permission\",\"plus\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"showPendingGroupChangesAlert\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"pending-permission-change-alert\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"arrow-div\"],[8],[9],[0,\"\\n          \"],[1,[28,\"i18n\",[\"category.pending_permission_change_alert\"],[[\"group\"],[[24,[\"selectedGroup\"]]]]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[4,\"unless\",[[24,[\"category\",\"is_special\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"editPermissions\"],null],\"btn-default edit-permission\",\"category.edit_permissions\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"connectorTagName\",\"tagName\"],[\"category-custom-security\",[28,\"hash\",null,[[\"category\"],[[24,[\"category\"]]]]],\"\",\"section\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/edit-category-security"}});
Ember.TEMPLATES["components/edit-category-settings"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"section\",true],[8],[0,\"\\n  \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"category.settings_sections.general\"],null],false],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showPositionInput\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field position-fields\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"for\",\"category-position\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"category.position\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n            \"],[1,[28,\"text-field\",null,[[\"value\",\"id\",\"class\",\"type\"],[[24,[\"category\",\"position\"]],\"category-position\",\"position-input\",\"number\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"unless\",[[24,[\"showPositionInput\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.position_disabled\"],null],false],[0,\"\\n      \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"get-url\",[\"/admin/site_settings/category/basic\"],null]]]],[8],[1,[28,\"i18n\",[\"category.position_disabled_click\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"category-number-featured-topics\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"category\",\"parent_category_id\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"category.subcategory_num_featured_topics\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"category.num_featured_topics\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"    \"],[9],[0,\"\\n    \"],[1,[28,\"text-field\",null,[[\"value\",\"id\",\"type\"],[[24,[\"category\",\"num_featured_topics\"]],\"category-number-featured-topics\",\"number\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"category-search-priority\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.search_priority.label\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"id\",\"content\",\"value\",\"onChange\"],[\"value\",\"category-search-priority\",[24,[\"searchPrioritiesOptions\"]],[24,[\"category\",\"search_priority\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"category\",\"search_priority\"]]],null]],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"category\",\"allow_badges\"]]]]],false],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.allow_badges_label\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"topic_featured_link_enabled\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"allowed-topic-featured-link-category\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"checkbox-label\"],[8],[0,\"\\n          \"],[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"category\",\"topic_featured_link_allowed\"]]]]],false],[0,\"\\n          \"],[1,[28,\"i18n\",[\"category.topic_featured_link_allowed\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"category\",\"navigate_to_first_post_after_read\"]]]]],false],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.navigate_to_first_post_after_read\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"category\",\"all_topics_wiki\"]]]]],false],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.all_topics_wiki\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[9],[0,\"\\n\\n\"],[7,\"section\",true],[8],[0,\"\\n\\n  \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"category.settings_sections.moderation\"],null],false],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"enable_category_group_review\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"for\",\"reviewable-by-group\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"category.reviewable_by_group\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[1,[28,\"group-selector\",null,[[\"groupFinder\",\"single\",\"groupNames\",\"placeholderKey\"],[[24,[\"groupFinder\"]],\"true\",[24,[\"category\",\"reviewable_by_group_name\"]],\"category.review_group_name\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"category\",\"custom_fields\",\"require_topic_approval\"]]]]],false],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.require_topic_approval\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"category\",\"custom_fields\",\"require_reply_approval\"]]]]],false],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.require_reply_approval\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"for\",\"topic-auto-close\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"topic.auto_close.label\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[1,[28,\"text-field\",null,[[\"value\",\"id\",\"type\"],[[24,[\"category\",\"auto_close_hours\"]],\"topic-auto-close\",\"number\"]]],false],[0,\"\\n      \"],[7,\"label\",true],[8],[0,\"\\n        \"],[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"category\",\"auto_close_based_on_last_post\"]]]]],false],[0,\"\\n        \"],[1,[28,\"i18n\",[\"topic.auto_close.based_on_last_post\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"tagging_enabled\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field minimum-required-tags\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"for\",\"category-minimum-tags\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"category.minimum_required_tags\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[1,[28,\"text-field\",null,[[\"value\",\"id\",\"type\",\"min\"],[[24,[\"category\",\"minimum_required_tags\"]],\"category-minimum-tags\",\"number\",\"0\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"category-number-daily-bump\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.num_auto_bump_daily\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[1,[28,\"text-field\",null,[[\"value\",\"id\",\"type\"],[[24,[\"category\",\"custom_fields\",\"num_auto_bump_daily\"]],\"category-number-daily-bump\",\"number\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[9],[0,\"\\n\\n\"],[7,\"section\",true],[8],[0,\"\\n\\n  \"],[7,\"h3\",true],[8],[0,\" \"],[1,[28,\"i18n\",[\"category.settings_sections.appearance\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"field default-view-field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"category-default-view\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.default_view\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"id\",\"content\",\"value\"],[\"value\",\"category-default-view\",[24,[\"availableViews\"]],[24,[\"category\",\"default_view\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"field default-top-period-field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"category-default-period\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.default_top_period\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"id\",\"content\",\"value\"],[\"value\",\"category-default-period\",[24,[\"availableTopPeriods\"]],[24,[\"category\",\"default_top_period\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"category-sort-order\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.sort_order\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"none\"],[\"value\",[24,[\"availableSorts\"]],[24,[\"category\",\"sort_order\"]],\"category.sort_options.default\"]]],false],[0,\"\\n\"],[4,\"unless\",[[24,[\"isDefaultSortOrder\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"combo-box\",null,[[\"castBoolean\",\"valueProperty\",\"content\",\"value\",\"none\"],[true,\"value\",[24,[\"sortAscendingOptions\"]],[24,[\"category\",\"sort_ascending\"]],\"category.sort_options.default\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"isParentCategory\"]]],null,{\"statements\":[[0,\"      \"],[7,\"section\",true],[10,\"class\",\"field show-subcategory-list-field\"],[8],[0,\"\\n        \"],[7,\"label\",true],[8],[0,\"\\n          \"],[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"category\",\"show_subcategory_list\"]]]]],false],[0,\"\\n          \"],[1,[28,\"i18n\",[\"category.show_subcategory_list\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showSubcategoryListStyle\"]]],null,{\"statements\":[[0,\"      \"],[7,\"section\",true],[10,\"class\",\"field subcategory-list-style-field\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"for\",\"subcategory-list-style\"],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"category.subcategory_list_style\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n              \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"id\",\"content\",\"value\"],[\"value\",\"subcategory-list-style\",[24,[\"availableSubcategoryListStyles\"]],[24,[\"category\",\"subcategory_list_style\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"section\",true],[8],[0,\"\\n  \"],[7,\"h3\",true],[8],[0,\" \"],[1,[28,\"i18n\",[\"category.settings_sections.email\"],null],false],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"emailInEnabled\"]]],null,{\"statements\":[[0,\"      \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"for\",\"category-email-in\"],[8],[0,\"\\n          \"],[1,[28,\"d-icon\",[\"far-envelope\"],null],false],[0,\"\\n          \"],[1,[28,\"i18n\",[\"category.email_in\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n                \"],[1,[28,\"text-field\",null,[[\"id\",\"class\",\"value\"],[\"category-email-in\",\"email-in\",[24,[\"category\",\"email_in\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n        \"],[7,\"label\",true],[8],[0,\"\\n          \"],[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"category\",\"email_in_allow_strangers\"]]]]],false],[0,\"\\n          \"],[1,[28,\"i18n\",[\"category.email_in_allow_strangers\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n          \"],[7,\"label\",true],[8],[0,\"\\n            \"],[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"category\",\"mailinglist_mirror\"]]]]],false],[0,\"\\n            \"],[1,[28,\"i18n\",[\"category.mailinglist_mirror\"],null],false],[0,\"\\n          \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"category-email-in\",[28,\"hash\",null,[[\"category\"],[[24,[\"category\"]]]]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"unless\",[[24,[\"emailInEnabled\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"category.email_in_disabled\"],null],false],[0,\"\\n      \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"get-url\",[\"/admin/site_settings/category/email\"],null]]]],[8],[1,[28,\"i18n\",[\"category.email_in_disabled_click\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"connectorTagName\",\"tagName\"],[\"category-custom-settings\",[28,\"hash\",null,[[\"category\"],[[24,[\"category\"]]]]],\"\",\"section\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/edit-category-settings"}});
Ember.TEMPLATES["components/edit-category-tab"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",[29,[[28,\"if\",[[24,[\"active\"]],\"active\"],null]]]],[3,\"action\",[[23,0,[]],\"select\"]],[8],[1,[22,\"title\"],false],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/edit-category-tab"}});
Ember.TEMPLATES["components/edit-category-tags"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"for\",\"category-allowed-tags\"],[8],[1,[28,\"i18n\",[\"category.tags_allowed_tags\"],null],false],[9],[0,\"\\n  \"],[1,[28,\"tag-chooser\",null,[[\"id\",\"tags\",\"everyTag\",\"excludeSynonyms\",\"unlimitedTagCount\",\"onChange\",\"options\"],[\"category-allowed-tags\",[24,[\"category\",\"allowed_tags\"]],true,true,true,[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"category\",\"allowed_tags\"]]],null]],null],[28,\"hash\",null,[[\"filterPlaceholder\"],[\"category.tags_placeholder\"]]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"for\",\"category-allowed-tag-groups\"],[8],[1,[28,\"i18n\",[\"category.tags_allowed_tag_groups\"],null],false],[9],[0,\"\\n  \"],[1,[28,\"tag-group-chooser\",null,[[\"id\",\"tagGroups\"],[\"category-allowed-tag-groups\",[24,[\"category\",\"allowed_tag_groups\"]]]]],false],[0,\"\\n  \"],[4,\"link-to\",null,[[\"route\"],[\"tagGroups\"]],{\"statements\":[[1,[28,\"i18n\",[\"category.manage_tag_groups_link\"],null],false]],\"parameters\":[]},null],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n  \"],[7,\"label\",true],[8],[0,\"\\n    \"],[1,[28,\"input\",null,[[\"type\",\"checked\",\"id\",\"disabled\"],[\"checkbox\",[24,[\"category\",\"allow_global_tags\"]],\"allow_global_tags\",[24,[\"disableAllowGlobalTags\"]]]]],false],[0,\"\\n    \"],[1,[28,\"i18n\",[\"category.allow_global_tags_label\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n  \"],[1,[28,\"i18n\",[\"category.tags_tab_description\"],null],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n  \"],[1,[28,\"i18n\",[\"category.required_tag_group_description\"],null],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"section\",true],[10,\"class\",\"field with-items\"],[8],[0,\"\\n  \"],[7,\"section\",true],[10,\"class\",\"field-item\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"category.min_tags_from_required_group_label\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"text-field\",null,[[\"value\",\"id\",\"type\",\"min\"],[[24,[\"category\",\"min_tags_from_required_group\"]],\"category-min-tags-from-group\",\"number\",\"1\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"section\",true],[10,\"class\",\"field-item\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"category.required_tag_group_label\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"tag-group-chooser\",null,[[\"id\",\"tagGroups\",\"options\"],[\"category-required-tag-group\",[24,[\"category\",\"required_tag_groups\"]],[28,\"hash\",null,[[\"maximum\",\"filterPlaceholder\"],[1,\"category.tag_group_selector_placeholder\"]]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/edit-category-tags"}});
Ember.TEMPLATES["components/edit-category-topic-template"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"label\",true],[8],[1,[28,\"i18n\",[\"category.topic_template\"],null],false],[9],[0,\"\\n\"],[1,[28,\"d-editor\",null,[[\"value\"],[[24,[\"category\",\"topic_template\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/edit-category-topic-template"}});
Ember.TEMPLATES["components/edit-topic-timer-form"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"form\",true],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"class\",\"onChange\",\"content\",\"value\"],[\"timer-type\",[24,[\"onChangeStatusType\"]],[24,[\"timerTypes\"]],[24,[\"selection\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"showTimeOnly\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"future-date-input\",null,[[\"input\",\"label\",\"statusType\",\"includeWeekend\",\"basedOnLastPost\",\"onChangeInput\"],[[28,\"readonly\",[[24,[\"topicTimer\",\"updateTime\"]]],null],\"topic.topic_status_update.when\",[24,[\"selection\"]],true,[24,[\"topicTimer\",\"based_on_last_post\"]],[24,[\"onChangeUpdateTime\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"publishToCategory\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"topic.topic_status_update.publish_to\"],null],false],[9],[0,\"\\n        \"],[1,[28,\"category-chooser\",null,[[\"value\",\"excludeCategoryId\",\"onChange\"],[[24,[\"topicTimer\",\"category_id\"]],[24,[\"excludeCategoryId\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"topicTimer\",\"category_id\"]]],null]],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[1,[28,\"future-date-input\",null,[[\"input\",\"label\",\"statusType\",\"includeWeekend\",\"categoryId\",\"basedOnLastPost\",\"onChangeInput\"],[[28,\"readonly\",[[24,[\"topicTimer\",\"updateTime\"]]],null],\"topic.topic_status_update.when\",[24,[\"selection\"]],true,[24,[\"topicTimer\",\"category_id\"]],[24,[\"topicTimer\",\"based_on_last_post\"]],[24,[\"onChangeUpdateTime\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"autoClose\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"future-date-input\",null,[[\"input\",\"label\",\"statusType\",\"includeWeekend\",\"basedOnLastPost\",\"lastPostedAt\",\"onChangeInput\"],[[24,[\"topicTimer\",\"updateTime\"]],\"topic.topic_status_update.when\",[24,[\"selection\"]],true,[24,[\"topicTimer\",\"based_on_last_post\"]],[24,[\"model\",\"last_posted_at\"]],[24,[\"onChangeUpdateTime\"]]]]],false],[0,\"\\n    \"]],\"parameters\":[]},null]],\"parameters\":[]}]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/edit-topic-timer-form"}});
Ember.TEMPLATES["components/emoji-picker"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"emoji-picker\"],[8],[9],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"emoji-picker-modal\"],[8],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/emoji-picker"}});
Ember.TEMPLATES["components/emoji-uploader"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"text-field\",null,[[\"name\",\"placeholderKey\",\"value\"],[\"name\",\"admin.emoji.name\",[24,[\"name\"]]]]],false],[0,\"\\n\\n\"],[7,\"label\",true],[11,\"class\",[29,[\"btn btn-primary \",[28,\"if\",[[24,[\"addDisabled\"]],\"disabled\"],null]]]],[8],[0,\"\\n  \"],[1,[28,\"d-icon\",[\"plus\"],null],false],[0,\"\\n  \"],[1,[28,\"i18n\",[\"admin.emoji.add\"],null],false],[0,\"\\n  \"],[7,\"input\",true],[10,\"class\",\"hidden-upload-field\"],[11,\"disabled\",[22,\"addDisabled\"]],[10,\"accept\",\".png,.gif\"],[10,\"type\",\"file\"],[8],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/emoji-uploader"}});
Ember.TEMPLATES["components/expand-post"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"item\",\"truncated\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"expanded\"]]],null,{\"statements\":[[0,\"    \"],[7,\"a\",true],[10,\"href\",\"\"],[10,\"class\",\"collapse-item\"],[11,\"onclick\",[28,\"action\",[[23,0,[]],\"toggleItem\"],null]],[11,\"title\",[28,\"i18n\",[\"post.expand_collapse\"],null]],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"chevron-up\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"a\",true],[10,\"href\",\"\"],[10,\"class\",\"expand-item\"],[11,\"onclick\",[28,\"action\",[[23,0,[]],\"toggleItem\"],null]],[11,\"title\",[28,\"i18n\",[\"post.expand_collapse\"],null]],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"chevron-down\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/expand-post"}});
Ember.TEMPLATES["components/featured-topic"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"raw\",[\"topic-status\"],[[\"topic\"],[[24,[\"topic\"]]]]],false],[0,\"\\n\"],[7,\"a\",true],[10,\"class\",\"title\"],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"topic\",\"lastUnreadUrl\"]]],null]]]],[8],[1,[28,\"unbound\",[[24,[\"topic\",\"fancyTitle\"]]],null],true],[9],[0,\"\\n\"],[1,[28,\"topic-post-badges\",null,[[\"newPosts\",\"unseen\",\"url\"],[[24,[\"topic\",\"totalUnread\"]],[24,[\"topic\",\"unseen\"]],[24,[\"topic\",\"lastUnreadUrl\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"latestTopicOnly\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"last-user-info\"],[8],[0,\"\\n    \"],[1,[28,\"i18n\",[\"categories.latest_by\"],null],false],[0,\" \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"topic\",\"lastPosterUrl\"]]],null]]]],[8],[1,[28,\"unbound\",[[24,[\"topic\",\"last_poster\",\"username\"]]],null],false],[9],[0,\"\\n    \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"topic\",\"lastPostUrl\"]]],null]]]],[8],[1,[28,\"format-age\",[[24,[\"topic\",\"last_posted_at\"]]],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"topic\",\"lastPostUrl\"]]],null]]]],[10,\"class\",\"last-posted-at\"],[8],[1,[28,\"format-age\",[[24,[\"topic\",\"last_posted_at\"]]],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/featured-topic"}});
Ember.TEMPLATES["components/flag-action-type"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"isNotifyUser\"]]],null,{\"statements\":[[0,\"  \"],[7,\"h3\",true],[8],[1,[22,\"formattedName\"],false],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"radio\"],[8],[0,\"\\n      \"],[7,\"input\",false],[12,\"id\",[29,[\"radio_\",[28,\"unbound\",[[24,[\"flag\",\"name_key\"]]],null]]]],[12,\"name\",\"post_action_type_index\"],[12,\"type\",\"radio\"],[3,\"action\",[[23,0,[]],\"changePostActionType\",[24,[\"flag\"]]]],[8],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"flag-action-type-details\"],[8],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"description\"],[8],[1,[24,[\"flag\",\"description\"]],true],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"showMessageInput\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"textarea\",null,[[\"name\",\"class\",\"placeholder\",\"value\"],[\"message\",\"flag-message\",[24,[\"customPlaceholder\"]],[24,[\"message\"]]]]],false],[0,\"\\n          \"],[7,\"div\",true],[11,\"class\",[29,[\"custom-message-length \",[22,\"customMessageLengthClasses\"]]]],[8],[1,[22,\"customMessageLength\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"staffFlagsAvailable\"]]],null,{\"statements\":[[0,\"    \"],[7,\"hr\",true],[8],[9],[0,\"\\n    \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"flagging.notify_staff\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"div\",true],[11,\"class\",[29,[\"controls \",[24,[\"flag\",\"name_key\"]]]]],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"radio\"],[8],[0,\"\\n      \"],[7,\"input\",false],[12,\"id\",[29,[\"radio_\",[28,\"unbound\",[[24,[\"flag\",\"name_key\"]]],null]]]],[12,\"name\",\"post_action_type_index\"],[12,\"type\",\"radio\"],[3,\"action\",[[23,0,[]],\"changePostActionType\",[24,[\"flag\"]]]],[8],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"flag-action-type-details\"],[8],[0,\"\\n        \"],[7,\"strong\",true],[8],[1,[22,\"formattedName\"],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"showDescription\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"description\"],[8],[1,[22,\"description\"],true],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showMessageInput\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"textarea\",null,[[\"name\",\"class\",\"placeholder\",\"value\"],[\"message\",\"flag-message\",[24,[\"customPlaceholder\"]],[24,[\"message\"]]]]],false],[0,\"\\n          \"],[7,\"div\",true],[11,\"class\",[29,[\"custom-message-length \",[22,\"customMessageLengthClasses\"]]]],[8],[1,[22,\"customMessageLength\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/flag-action-type"}});
Ember.TEMPLATES["components/flag-selection"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"f\",\"&default\"],\"statements\":[[4,\"each\",[[24,[\"flags\"]]],null,{\"statements\":[[0,\"  \"],[14,2,[[23,1,[]]]],[0,\"\\n\"]],\"parameters\":[1]},{\"statements\":[[0,\"  \"],[1,[28,\"i18n\",[\"flagging.cant\"],null],false],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/flag-selection"}});
Ember.TEMPLATES["components/flat-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"d-icon\",[[24,[\"icon\"]]],null],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/flat-button"}});
Ember.TEMPLATES["components/footer-message"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"if\",[[24,[\"education\"]]],null,{\"statements\":[[7,\"div\",true],[10,\"class\",\"education\"],[8],[1,[22,\"education\"],true],[9]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"h3\",true],[8],[0,\"\\n  \"],[1,[22,\"message\"],false],[0,\"\\n  \"],[14,1],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/footer-message"}});
Ember.TEMPLATES["components/future-date-input"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"future-date-input\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[22,\"displayLabel\"],false],[9],[0,\"\\n    \"],[1,[28,\"future-date-input-selector\",null,[[\"minimumResultsForSearch\",\"statusType\",\"value\",\"input\",\"includeDateTime\",\"includeWeekend\",\"includeFarFuture\",\"includeMidFuture\",\"clearable\",\"none\",\"onChangeInput\",\"onChange\"],[-1,[24,[\"statusType\"]],[28,\"readonly\",[[24,[\"selection\"]]],null],[28,\"readonly\",[[24,[\"input\"]]],null],[24,[\"includeDateTime\"]],[24,[\"includeWeekend\"]],[24,[\"includeFarFuture\"]],[24,[\"includeMidFuture\"]],[24,[\"clearable\"]],\"topic.auto_update_input.none\",[24,[\"onChangeInput\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"selection\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"displayDateAndTimePicker\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"calendar-alt\"],null],false],[0,\"\\n      \"],[1,[28,\"date-picker-future\",null,[[\"value\",\"defaultDate\",\"onSelect\"],[[24,[\"date\"]],[24,[\"date\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"date\"]]],null]],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"far-clock\"],null],false],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"placeholder\",\"type\",\"value\",\"disabled\"],[\"--:--\",\"time\",[24,[\"time\"]],[24,[\"timeInputDisabled\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"isBasedOnLastPost\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"topic.topic_status_update.num_of_hours\"],null],false],[0,\"\\n        \"],[1,[28,\"text-field\",null,[[\"value\",\"type\"],[[24,[\"input\"]],\"number\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"willCloseImmediately\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"warning\"],[8],[0,\"\\n        \"],[1,[28,\"d-icon\",[\"exclamation-triangle\"],null],false],[0,\"\\n        \"],[1,[22,\"willCloseI18n\"],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showTopicStatusInfo\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"alert alert-info\"],[8],[0,\"\\n      \"],[1,[28,\"topic-timer-info\",null,[[\"statusType\",\"executeAt\",\"basedOnLastPost\",\"duration\",\"categoryId\"],[[24,[\"statusType\"]],[24,[\"executeAt\"]],[24,[\"basedOnLastPost\"]],[24,[\"duration\"]],[24,[\"categoryId\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/future-date-input"}});
Ember.TEMPLATES["components/generated-invite-link"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"p\",true],[8],[1,[28,\"i18n\",[\"user.invited.link_generated\"],null],false],[9],[0,\"\\n\"],[7,\"p\",true],[8],[0,\"\\n  \"],[7,\"input\",true],[10,\"class\",\"invite-link-input\"],[10,\"style\",\"width: 75%\"],[11,\"value\",[22,\"link\"]],[10,\"type\",\"text\"],[8],[9],[0,\"\\n\"],[9],[0,\"\\n\"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"user.invited.valid_for\"],[[\"email\"],[[24,[\"email\"]]]]],false],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/generated-invite-link"}});
Ember.TEMPLATES["components/global-notice"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"notice\"],\"statements\":[[4,\"each\",[[24,[\"notices\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n    \"],[7,\"div\",true],[11,\"id\",[29,[\"global-notice-\",[23,1,[\"id\"]]]]],[11,\"class\",[29,[\"alert alert-\",[23,1,[\"options\",\"level\"]],\" \",[23,1,[\"id\"]]]]],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"options\",\"html\"]]],null,{\"statements\":[[0,\"        \"],[1,[23,1,[\"options\",\"html\"]],true],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[7,\"span\",true],[10,\"class\",\"text\"],[8],[1,[23,1,[\"text\"]],true],[9],[0,\"\\n\\n\"],[4,\"if\",[[23,1,[\"options\",\"dismissable\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"class\",\"icon\",\"action\",\"actionParam\"],[\"btn-flat close\",\"times\",[28,\"action\",[[23,0,[]],\"dismissNotice\"],null],[23,1,[]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"components/global-notice"}});
Ember.TEMPLATES["components/google-search"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[8],[0,\"\\n  \"],[7,\"form\",true],[10,\"action\",\"//google.com/search\"],[10,\"id\",\"google-search\"],[8],[0,\"\\n    \"],[7,\"input\",true],[10,\"name\",\"q\"],[11,\"value\",[29,[[22,\"searchTerm\"]]]],[10,\"type\",\"text\"],[8],[9],[0,\"\\n    \"],[7,\"input\",true],[10,\"name\",\"as_sitesearch\"],[11,\"value\",[29,[[22,\"siteUrl\"]]]],[10,\"type\",\"hidden\"],[8],[9],[0,\"\\n    \"],[7,\"button\",true],[10,\"class\",\"btn btn-primary\"],[8],[1,[28,\"i18n\",[\"search.search_google_button\"],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/google-search"}});
Ember.TEMPLATES["components/group-activity-filter"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"link-to\",null,[[\"query\",\"route\"],[[28,\"hash\",null,[[\"category_id\"],[[24,[\"categoryId\"]]]]],[28,\"concat\",[\"group.activity.\",[24,[\"filter\"]]],null]]],{\"statements\":[[0,\"  \"],[1,[28,\"i18n\",[[28,\"concat\",[\"groups.\",[24,[\"filter\"]]],null]],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/group-activity-filter"}});
Ember.TEMPLATES["components/group-card-contents"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"user\"],\"statements\":[[4,\"if\",[[24,[\"visible\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"card-content\"],[8],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"card-row first-row\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"group-card-avatar\"],[8],[0,\"\\n        \"],[7,\"a\",false],[12,\"href\",[29,[[22,\"groupPath\"]]]],[12,\"class\",\"card-huge-avatar\"],[3,\"action\",[[23,0,[]],\"showGroup\",[24,[\"group\"]]]],[8],[0,\"\\n          \"],[1,[28,\"avatar-flair\",null,[[\"flairURL\",\"flairBgColor\",\"flairColor\",\"groupName\"],[[24,[\"group\",\"flair_url\"]],[24,[\"group\",\"flair_bg_color\"]],[24,[\"group\",\"flair_color\"]],[24,[\"group\",\"name\"]]]]],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"names\"],[8],[0,\"\\n        \"],[7,\"span\",true],[8],[0,\"\\n          \"],[7,\"h1\",true],[11,\"class\",[29,[[24,[\"group\",\"name\"]]]]],[8],[0,\"\\n            \"],[7,\"a\",false],[12,\"href\",[29,[[22,\"groupPath\"]]]],[12,\"class\",\"group-page-link\"],[3,\"action\",[[23,0,[]],\"showGroup\",[24,[\"group\"]]]],[8],[1,[24,[\"group\",\"name\"]],false],[9],[0,\"\\n          \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"group\",\"full_name\"]]],null,{\"statements\":[[0,\"            \"],[7,\"h2\",true],[10,\"class\",\"full-name\"],[8],[1,[24,[\"group\",\"full_name\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[7,\"h2\",true],[10,\"class\",\"username\"],[8],[1,[24,[\"group\",\"name\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"ul\",true],[10,\"class\",\"usercard-controls group-details-button\"],[8],[0,\"\\n        \"],[7,\"li\",true],[8],[0,\"\\n          \"],[1,[28,\"group-membership-button\",null,[[\"model\",\"showLogin\"],[[24,[\"group\"]],[28,\"route-action\",[\"showLogin\"],null]]]],false],[0,\"\\n        \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"group\",\"messageable\"]]],null,{\"statements\":[[0,\"          \"],[7,\"li\",true],[8],[0,\"\\n            \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"label\"],[[28,\"action\",[[23,0,[]],\"messageGroup\"],null],\"btn-primary group-message-button inline\",\"envelope\",\"groups.message\"]]],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"group\",\"bio_cooked\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"card-row second-row\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"bio\"],[8],[1,[24,[\"group\",\"bio_cooked\"]],true],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"hasMembersOrIsMember\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"card-row third-row\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"metadata\"],[8],[0,\"\\n          \"],[7,\"h3\",true],[8],[0,\"\\n            \"],[7,\"span\",true],[10,\"class\",\"desc\"],[8],[0,\"\\n              \"],[1,[28,\"i18n\",[\"groups.user_count\"],null],false],[0,\"\\n            \"],[9],[0,\"\\n            \"],[1,[24,[\"group\",\"user_count\"]],false],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"h3\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"group\",\"is_group_owner_display\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"groups.index.is_group_owner\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"group\",\"is_group_user\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"groups.index.is_group_user\"],null],false],[0,\"\\n            \"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"group\",\"members\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"card-row fourth-row\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"members metadata\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"group\",\"members\"]]],null,{\"statements\":[[0,\"            \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"card-tiny-avatar\"],[3,\"action\",[[23,0,[]],\"showUser\",[23,1,[]]]],[8],[1,[28,\"bound-avatar\",[[23,1,[]],\"tiny\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[4,\"if\",[[24,[\"showMoreMembers\"]]],null,{\"statements\":[[0,\"            \"],[7,\"a\",false],[12,\"href\",[29,[[22,\"groupPath\"]]]],[12,\"class\",\"more-members-link\"],[3,\"action\",[[23,0,[]],\"showGroup\",[24,[\"group\"]]]],[8],[7,\"span\",true],[10,\"class\",\"more-members-count\"],[8],[0,\"+\"],[1,[22,\"moreMembersCount\"],false],[0,\"\\n                \"],[1,[28,\"i18n\",[\"more\"],null],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/group-card-contents"}});
Ember.TEMPLATES["components/group-flair-inputs"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"flair_url\"],[8],[1,[28,\"i18n\",[\"groups.flair_url\"],null],false],[9],[0,\"\\n\\n  \"],[1,[28,\"text-field\",null,[[\"name\",\"class\",\"value\",\"placeholderKey\"],[\"flair_url\",\"input-xxlarge\",[24,[\"model\",\"flair_url\"]],\"groups.flair_url_placeholder\"]]],false],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"control-instructions\"],[8],[0,\"\\n    \"],[1,[28,\"i18n\",[\"groups.flair_url_description\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"flair_bg_color\"],[8],[1,[28,\"i18n\",[\"groups.flair_bg_color\"],null],false],[9],[0,\"\\n\\n  \"],[1,[28,\"text-field\",null,[[\"name\",\"class\",\"value\",\"placeholderKey\"],[\"flair_bg_color\",\"group-flair-bg-color input-xxlarge\",[24,[\"model\",\"flair_bg_color\"]],\"groups.flair_bg_color_placeholder\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"flairPreviewIcon\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"flair_color\"],[8],[1,[28,\"i18n\",[\"groups.flair_color\"],null],false],[9],[0,\"\\n\\n    \"],[1,[28,\"text-field\",null,[[\"name\",\"class\",\"value\",\"placeholderKey\"],[\"flair_color\",\"group-flair-color input-xxlarge\",[24,[\"model\",\"flair_color\"]],\"groups.flair_color_placeholder\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[22,\"flairPreviewLabel\"],false],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"avatar-flair-preview\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"avatar-wrapper\"],[8],[0,\"\\n      \"],[7,\"img\",true],[10,\"width\",\"45\"],[10,\"height\",\"45\"],[11,\"src\",[29,[[22,\"demoAvatarUrl\"]]]],[10,\"class\",\"avatar actor\"],[8],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"flairPreviewImage\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[11,\"class\",[29,[\"avatar-flair demo \",[22,\"flairPreviewClasses\"]]]],[11,\"style\",[22,\"flairPreviewStyle\"]],[8],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"div\",true],[11,\"class\",[29,[\"avatar-flair demo \",[22,\"flairPreviewClasses\"]]]],[11,\"style\",[22,\"flairPreviewStyle\"]],[8],[0,\"\\n        \"],[1,[28,\"d-icon\",[[24,[\"flairPreviewIconUrl\"]]],null],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/group-flair-inputs"}});
Ember.TEMPLATES["components/group-index-toggle"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"span\",true],[10,\"class\",\"header-contents\"],[8],[1,[28,\"i18n\",[[23,0,[\"i18nKey\"]]],null],false],[1,[22,\"chevronIcon\"],false],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/group-index-toggle"}});
Ember.TEMPLATES["components/group-manage-logs-filter"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"value\"]]],null,{\"statements\":[[4,\"d-button\",null,[[\"class\",\"action\",\"actionParam\"],[\"btn-default group-manage-logs-filter\",[28,\"action\",[[23,0,[]],\"clearFilter\"],null],[24,[\"type\"]]]],{\"statements\":[[0,\"    \"],[7,\"span\",true],[8],[1,[22,\"label\"],false],[9],[0,\": \"],[1,[22,\"filterText\"],false],[0,\"\\n    \"],[1,[28,\"d-icon\",[\"times-circle\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/group-manage-logs-filter"}});
Ember.TEMPLATES["components/group-manage-logs-row"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"tr\",true],[10,\"class\",\"group-manage-logs-row\"],[8],[0,\"\\n  \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"d-button\",null,[[\"class\",\"action\",\"actionParam\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"filter\"],null],[28,\"hash\",null,[[\"value\",\"key\"],[[24,[\"log\",\"action\"]],\"action\"]]]]],{\"statements\":[[0,\"      \"],[1,[24,[\"log\",\"actionTitle\"]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"td\",true],[8],[0,\"\\n    \"],[7,\"span\",true],[8],[1,[28,\"avatar\",[[24,[\"log\",\"acting_user\"]]],[[\"imageSize\"],[\"tiny\"]]],false],[9],[0,\"\\n\\n\"],[4,\"d-button\",null,[[\"class\",\"action\",\"actionParam\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"filter\"],null],[28,\"hash\",null,[[\"value\",\"key\"],[[24,[\"log\",\"acting_user\",\"username\"]],\"acting_user\"]]]]],{\"statements\":[[0,\"      \"],[1,[24,[\"log\",\"acting_user\",\"username\"]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"log\",\"target_user\"]]],null,{\"statements\":[[0,\"      \"],[7,\"span\",true],[8],[1,[28,\"avatar\",[[24,[\"log\",\"target_user\"]]],[[\"imageSize\"],[\"tiny\"]]],false],[9],[0,\"\\n\\n\"],[4,\"d-button\",null,[[\"class\",\"action\",\"actionParam\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"filter\"],null],[28,\"hash\",null,[[\"value\",\"key\"],[[24,[\"log\",\"target_user\",\"username\"]],\"target_user\"]]]]],{\"statements\":[[0,\"        \"],[1,[24,[\"log\",\"target_user\",\"username\"]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"log\",\"subject\"]]],null,{\"statements\":[[4,\"d-button\",null,[[\"class\",\"action\",\"actionParam\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"filter\"],null],[28,\"hash\",null,[[\"value\",\"key\"],[[24,[\"log\",\"subject\"]],\"subject\"]]]]],{\"statements\":[[0,\"        \"],[1,[24,[\"log\",\"subject\"]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"td\",true],[8],[1,[28,\"bound-date\",[[24,[\"log\",\"created_at\"]]],null],false],[9],[0,\"\\n\\n  \"],[7,\"td\",true],[10,\"class\",\"group-manage-logs-expand-details\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"log\",\"prev_value\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\"],[[28,\"action\",[[23,0,[]],\"toggleDetails\"],null],[28,\"if\",[[24,[\"expandDetails\"]],\"angle-up\",\"angle-down\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"expandDetails\"]]],null,{\"statements\":[[0,\"  \"],[7,\"tr\",true],[8],[0,\"\\n    \"],[7,\"td\",true],[10,\"colspan\",\"6\"],[8],[0,\"\\n      \"],[7,\"p\",true],[8],[0,\"\\n        \"],[7,\"strong\",true],[8],[1,[28,\"i18n\",[\"groups.manage.logs.from\"],null],false],[9],[0,\": \"],[7,\"code\",true],[8],[1,[24,[\"log\",\"prev_value\"]],false],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"p\",true],[8],[0,\"\\n        \"],[7,\"strong\",true],[8],[1,[28,\"i18n\",[\"groups.manage.logs.to\"],null],false],[9],[0,\": \"],[7,\"code\",true],[8],[1,[24,[\"log\",\"new_value\"]],false],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/group-manage-logs-row"}});
Ember.TEMPLATES["components/group-manage-save-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group buttons\"],[8],[0,\"\\n\"],[4,\"d-button\",null,[[\"action\",\"disabled\",\"class\"],[[28,\"action\",[[23,0,[]],\"save\"],null],[24,[\"saving\"]],\"btn btn-primary group-manage-save\"]],{\"statements\":[[0,\"\\n      \"],[1,[22,\"savingText\"],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"saved\"]]],null,{\"statements\":[[0,\"    \"],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"saved\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/group-manage-save-button"}});
Ember.TEMPLATES["components/group-member"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",true],[11,\"href\",[24,[\"member\",\"adminPath\"]]],[8],[0,\"\\n  \"],[1,[28,\"avatar\",[[24,[\"member\"]]],[[\"imageSize\"],[\"small\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"],[7,\"span\",true],[8],[1,[24,[\"member\",\"username\"]],false],[9],[0,\"\\n\"],[4,\"unless\",[[24,[\"automatic\"]]],null,{\"statements\":[[0,\"  \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"remove\"],[3,\"action\",[[23,0,[]],\"remove\"]],[8],[0,\"\\n    \"],[1,[28,\"d-icon\",[\"times\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/group-member"}});
Ember.TEMPLATES["components/group-membership-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"if\",[[24,[\"canJoinGroup\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"label\",\"disabled\"],[[28,\"action\",[[23,0,[]],\"joinGroup\"],null],\"group-index-join\",\"user-plus\",\"groups.join\",[24,[\"updatingMembership\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"canLeaveGroup\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"label\",\"disabled\"],[[28,\"action\",[[23,0,[]],\"leaveGroup\"],null],\"btn-danger group-index-leave\",\"user-times\",\"groups.leave\",[24,[\"updatingMembership\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"canRequestMembership\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"disabled\",\"icon\",\"label\"],[[28,\"action\",[[23,0,[]],\"showRequestMembershipForm\"],null],\"group-index-request\",[24,[\"loading\"]],\"user-plus\",\"groups.request\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[14,1],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]}]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/group-membership-button"}});
Ember.TEMPLATES["components/group-navigation"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"tab\"],\"statements\":[[4,\"mobile-nav\",null,[[\"class\",\"desktopClass\",\"currentPath\"],[\"group-nav\",\"nav nav-pills\",[24,[\"currentPath\"]]]],{\"statements\":[[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"    \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"groups.index\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"groups.index.all\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[28,\"group-dropdown\",null,[[\"groups\",\"value\"],[[24,[\"group\",\"extras\",\"visible_group_names\"]],[24,[\"group\",\"name\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n\"],[4,\"each\",[[24,[\"tabs\"]]],null,{\"statements\":[[0,\"    \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"title\",\"class\",\"route\",\"model\"],[[23,1,[\"message\"]],[23,1,[\"name\"]],[23,1,[\"route\"]],[24,[\"group\"]]]],{\"statements\":[[0,\"        \"],[4,\"if\",[[23,1,[\"icon\"]]],null,{\"statements\":[[1,[28,\"d-icon\",[[23,1,[\"icon\"]]],null],false]],\"parameters\":[]},null],[0,\"\\n        \"],[1,[23,1,[\"message\"]],false],[0,\"\\n        \"],[4,\"if\",[[23,1,[\"count\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"count\"],[8],[0,\"(\"],[1,[23,1,[\"count\"]],false],[0,\")\"],[9]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"group-reports-nav-item\",[28,\"hash\",null,[[\"group\"],[[24,[\"group\"]]]]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/group-navigation"}});
Ember.TEMPLATES["components/group-post"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"clearfix info\"],[8],[0,\"\\n    \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"post\",\"user\",\"userUrl\"]]],null]]]],[11,\"data-user-card\",[29,[[28,\"unbound\",[[24,[\"post\",\"user\",\"username\"]]],null]]]],[10,\"class\",\"avatar-link\"],[8],[0,\"\\n      \"],[1,[28,\"avatar\",[[24,[\"post\",\"user\"]]],[[\"imageSize\",\"extraClasses\",\"ignoreTitle\"],[\"large\",\"actor\",\"true\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"span\",true],[10,\"class\",\"time\"],[8],[1,[28,\"format-date\",[[24,[\"post\",\"created_at\"]]],[[\"leaveAgo\"],[\"true\"]]],false],[9],[0,\"\\n    \"],[1,[28,\"expand-post\",null,[[\"item\"],[[24,[\"post\"]]]]],false],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"stream-topic-details\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"stream-topic-title\"],[8],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"title\"],[8],[0,\"\\n          \"],[7,\"a\",true],[11,\"href\",[22,\"postUrl\"]],[8],[1,[24,[\"post\",\"topic\",\"fancyTitle\"]],true],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"group-post-category\"],[8],[1,[28,\"category-link\",[[24,[\"post\",\"category\"]]],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"post\",\"user\",\"name\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"group-member-info\"],[8],[0,\"\\n          \"],[7,\"span\",true],[10,\"class\",\"name\"],[8],[1,[24,[\"post\",\"user\",\"name\"]],false],[9],[0,\"\\n          \"],[4,\"if\",[[24,[\"post\",\"user\",\"title\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"title\"],[8],[0,\", \"],[1,[24,[\"post\",\"user\",\"title\"]],false],[9]],\"parameters\":[]},null],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n  \\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"excerpt\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"post\",\"expandedExcerpt\"]]],null,{\"statements\":[[0,\"    \"],[1,[24,[\"post\",\"expandedExcerpt\"]],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[24,[\"post\",\"excerpt\"]],true],[0,\"\\n\"]],\"parameters\":[]}],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/group-post"}});
Ember.TEMPLATES["components/group-selector"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"input\",true],[10,\"class\",\"group-selector\"],[11,\"placeholder\",[22,\"placeholder\"]],[10,\"name\",\"groups\"],[10,\"type\",\"text\"],[8],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/group-selector"}});
Ember.TEMPLATES["components/groups-form-interaction-fields"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"currentUser\",\"admin\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"admin.groups.manage.interaction.visibility\"],null],false],[9],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"visiblity\"],[8],[1,[28,\"i18n\",[\"admin.groups.manage.interaction.visibility_levels.title\"],null],false],[9],[0,\"\\n\\n    \"],[1,[28,\"combo-box\",null,[[\"name\",\"valueProperty\",\"value\",\"content\",\"castInteger\",\"class\",\"onChange\"],[\"alias\",\"value\",[24,[\"model\",\"visibility_level\"]],[24,[\"visibilityLevelOptions\"]],true,\"groups-form-visibility-level\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"visibility_level\"]]],null]],null]]]],false],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-instructions\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"admin.groups.manage.interaction.visibility_levels.description\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"visiblity\"],[8],[1,[28,\"i18n\",[\"admin.groups.manage.interaction.members_visibility_levels.title\"],null],false],[9],[0,\"\\n\\n    \"],[1,[28,\"combo-box\",null,[[\"name\",\"valueProperty\",\"value\",\"content\",\"castInteger\",\"class\"],[\"alias\",\"value\",[24,[\"model\",\"members_visibility_level\"]],[24,[\"visibilityLevelOptions\"]],true,\"groups-form-members-visibility-level\"]]],false],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-instructions\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"admin.groups.manage.interaction.members_visibility_levels.description\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"groups.manage.interaction.posting\"],null],false],[9],[0,\"\\n  \"],[7,\"label\",true],[10,\"for\",\"alias\"],[8],[1,[28,\"i18n\",[\"groups.alias_levels.mentionable\"],null],false],[9],[0,\"\\n\\n  \"],[1,[28,\"combo-box\",null,[[\"name\",\"valueProperty\",\"value\",\"content\",\"class\",\"onChange\"],[\"alias\",\"value\",[24,[\"model\",\"mentionable_level\"]],[24,[\"aliasLevelOptions\"]],\"groups-form-mentionable-level\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"mentionable_level\"]]],null]],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"for\",\"alias\"],[8],[1,[28,\"i18n\",[\"groups.alias_levels.messageable\"],null],false],[9],[0,\"\\n\\n  \"],[1,[28,\"combo-box\",null,[[\"name\",\"valueProperty\",\"value\",\"content\",\"class\",\"onChange\"],[\"alias\",\"value\",[24,[\"model\",\"messageable_level\"]],[24,[\"aliasLevelOptions\"]],\"groups-form-messageable-level\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"messageable_level\"]]],null]],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n  \"],[7,\"label\",true],[8],[0,\"\\n    \"],[1,[28,\"input\",null,[[\"type\",\"checked\",\"class\"],[\"checkbox\",[24,[\"model\",\"publish_read_state\"]],\"groups-form-publish-read-state\"]]],false],[0,\"\\n\\n    \"],[1,[28,\"i18n\",[\"admin.groups.manage.interaction.publish_read_state\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showEmailSettings\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"admin.groups.manage.interaction.email\"],null],false],[9],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"incoming_email\"],[8],[1,[28,\"i18n\",[\"admin.groups.manage.interaction.incoming_email\"],null],false],[9],[0,\"\\n\\n    \"],[1,[28,\"text-field\",null,[[\"name\",\"class\",\"value\",\"placeholderKey\"],[\"incoming_email\",\"input-xxlarge groups-form-incoming-email\",[24,[\"model\",\"incoming_email\"]],\"admin.groups.manage.interaction.incoming_email_placeholder\"]]],false],[0,\"\\n\\n    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"group-email-in\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"groups.manage.interaction.notification\"],null],false],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n  \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"groups.notification_level\"],null],false],[9],[0,\"\\n\\n  \"],[1,[28,\"notifications-button\",null,[[\"value\",\"class\",\"options\"],[[24,[\"model\",\"default_notification_level\"]],\"groups-form-default-notification-level\",[28,\"hash\",null,[[\"none\",\"i18nPrefix\"],[\"select_kit.default_header_text\",\"groups.notifications\"]]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/groups-form-interaction-fields"}});
Ember.TEMPLATES["components/groups-form-membership-fields"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"currentUser\",\"admin\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"admin.groups.manage.membership.automatic\"],null],false],[9],[0,\"\\n\\n    \"],[7,\"label\",true],[10,\"for\",\"automatic_membership\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"admin.groups.manage.membership.automatic_membership_email_domains\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[1,[28,\"list-setting\",null,[[\"name\",\"class\",\"value\",\"choices\",\"settingName\",\"nameProperty\",\"valueProperty\",\"onChange\",\"options\"],[\"automatic_membership\",\"group-form-automatic-membership-automatic\",[24,[\"emailDomains\"]],[24,[\"emailDomains\"]],\"name\",null,null,[28,\"action\",[[23,0,[]],\"onChangeEmailDomainsSetting\"],null],[28,\"hash\",null,[[\"allowAny\"],[true]]]]]],false],[0,\"\\n\\n    \"],[7,\"label\",true],[8],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"type\",\"checked\",\"class\"],[\"checkbox\",[24,[\"model\",\"automatic_membership_retroactive\"]],\"groups-form-automatic-membership-retroactive\"]]],false],[0,\"\\n\\n      \"],[1,[28,\"i18n\",[\"admin.groups.manage.membership.automatic_membership_retroactive\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"groups-form-membership-below-automatic\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"admin.groups.manage.membership.effects\"],null],false],[9],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"grant_trust_level\"],[8],[1,[28,\"i18n\",[\"admin.groups.manage.membership.trust_levels_title\"],null],false],[9],[0,\"\\n\\n    \"],[1,[28,\"combo-box\",null,[[\"name\",\"valueProperty\",\"value\",\"content\",\"class\",\"onChange\"],[\"grant_trust_level\",\"value\",[24,[\"groupTrustLevel\"]],[24,[\"trustLevelOptions\"]],\"groups-form-grant-trust-level\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"grant_trust_level\"]]],null]],null]]]],false],[0,\"\\n    \"],[7,\"label\",true],[8],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"type\",\"checked\",\"class\"],[\"checkbox\",[24,[\"model\",\"primary_group\"]],\"groups-form-primary-group\"]]],false],[0,\"\\n\\n      \"],[1,[28,\"i18n\",[\"admin.groups.manage.membership.primary_group\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"groups.manage.membership.access\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"label\",true],[8],[0,\"\\n    \"],[1,[28,\"input\",null,[[\"type\",\"class\",\"checked\",\"disabled\"],[\"checkbox\",\"group-form-public-admission\",[24,[\"model\",\"public_admission\"]],[24,[\"disablePublicSetting\"]]]]],false],[0,\"\\n\\n    \"],[1,[28,\"i18n\",[\"groups.public_admission\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"label\",true],[8],[0,\"\\n    \"],[1,[28,\"input\",null,[[\"type\",\"class\",\"checked\"],[\"checkbox\",\"group-form-public-exit\",[24,[\"model\",\"public_exit\"]]]]],false],[0,\"\\n\\n    \"],[1,[28,\"i18n\",[\"groups.public_exit\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"label\",true],[8],[0,\"\\n    \"],[1,[28,\"input\",null,[[\"type\",\"class\",\"checked\",\"disabled\"],[\"checkbox\",\"group-form-allow-membership-requests\",[24,[\"model\",\"allow_membership_requests\"]],[24,[\"disableMembershipRequestSetting\"]]]]],false],[0,\"\\n\\n    \"],[1,[28,\"i18n\",[\"groups.allow_membership_requests\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"allow_membership_requests\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"for\",\"membership-request-template\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"groups.membership_request_template\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[1,[28,\"expanding-text-area\",null,[[\"name\",\"class\",\"value\"],[\"membership-request-template\",\"group-form-membership-request-template input-xxlarge\",[24,[\"model\",\"membership_request_template\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/groups-form-membership-fields"}});
Ember.TEMPLATES["components/groups-form-profile-fields"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"if\",[[24,[\"canEdit\"]]],null,{\"statements\":[[4,\"if\",[[23,0,[\"currentUser\",\"admin\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"name\"],[8],[1,[28,\"i18n\",[\"groups.name\"],null],false],[9],[0,\"\\n\\n      \"],[1,[28,\"text-field\",null,[[\"name\",\"class\",\"value\",\"placeholderKey\"],[\"name\",\"input-xxlarge group-form-name\",[24,[\"nameInput\"]],\"admin.groups.name_placeholder\"]]],false],[0,\"\\n\\n      \"],[1,[28,\"input-tip\",null,[[\"validation\"],[[24,[\"nameValidation\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"full_name\"],[8],[1,[28,\"i18n\",[\"groups.manage.full_name\"],null],false],[9],[0,\"\\n\\n    \"],[1,[28,\"text-field\",null,[[\"name\",\"class\",\"value\"],[\"full_name\",\"input-xxlarge group-form-full-name\",[24,[\"model\",\"full_name\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[23,0,[\"currentUser\",\"admin\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"title\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"admin.groups.default_title\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[1,[28,\"input\",null,[[\"value\",\"name\",\"class\"],[[24,[\"model\",\"title\"]],\"title\",\"input-xxlarge\"]]],false],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"control-instructions\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"admin.groups.default_title_description\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"bio\"],[8],[1,[28,\"i18n\",[\"groups.bio\"],null],false],[9],[0,\"\\n  \"],[1,[28,\"d-editor\",null,[[\"value\",\"class\"],[[24,[\"model\",\"bio_raw\"]],\"group-form-bio input-xxlarge\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canEdit\"]]],null,{\"statements\":[[0,\"  \"],[14,1],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[1,[28,\"group-flair-inputs\",null,[[\"model\"],[[24,[\"model\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"group-edit\",[28,\"hash\",null,[[\"group\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/groups-form-profile-fields"}});
Ember.TEMPLATES["components/groups-info"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"showFullName\"]]],null,{\"statements\":[[0,\"  \"],[7,\"span\",true],[10,\"class\",\"groups-info-name\"],[8],[1,[24,[\"group\",\"full_name\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"span\",true],[10,\"class\",\"groups-info-name\"],[8],[1,[24,[\"group\",\"displayName\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/groups-info"}});
Ember.TEMPLATES["components/ignored-user-list-item"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"ignored-user-list-item\"],[8],[0,\"\\n  \"],[7,\"span\",true],[10,\"class\",\"ignored-user-name\"],[8],[1,[22,\"item\"],false],[9],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\"],[\"remove-ignored-user no-text btn-icon\",[28,\"action\",[[23,0,[]],\"removeIgnoredUser\",[24,[\"item\"]]],null],\"times\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/ignored-user-list-item"}});
Ember.TEMPLATES["components/ignored-user-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"item\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"ignored-list\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"items\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"ignored-user-list-item\",null,[[\"item\",\"onRemoveIgnoredUser\"],[[23,1,[]],[28,\"action\",[[23,0,[]],\"removeIgnoredUser\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[1]},{\"statements\":[[0,\"    \"],[1,[28,\"i18n\",[\"user.user_notifications.ignore_no_users\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[9],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.ignored_users_instructions\"],null],false],[9],[0,\"\\n\"],[7,\"div\",true],[8],[4,\"d-button\",null,[[\"action\",\"class\",\"icon\"],[[28,\"action\",[[23,0,[]],\"newIgnoredUser\"],null],\"btn-default\",\"plus\"]],{\"statements\":[[1,[28,\"i18n\",[\"user.user_notifications.add_ignored_user\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/ignored-user-list"}});
Ember.TEMPLATES["components/image-uploader"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"uploaded-image-preview input-xxlarge\"],[11,\"style\",[22,\"backgroundStyle\"]],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"showingPlaceholder\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"placeholder-overlay\"],[11,\"style\",[22,\"placeholderStyle\"]],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[7,\"div\",true],[10,\"class\",\"image-upload-controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[11,\"class\",[29,[\"btn btn-default pad-left no-text \",[28,\"if\",[[24,[\"uploading\"]],\"disabled\"],null]]]],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"far-image\"],null],false],[0,\"\\n      \"],[7,\"input\",true],[10,\"class\",\"hidden-upload-field\"],[11,\"disabled\",[22,\"uploading\"]],[10,\"accept\",\"image/*\"],[10,\"type\",\"file\"],[8],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"imageUrl\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"type\"],[[28,\"action\",[[23,0,[]],\"trash\"],null],\"btn-danger pad-left no-text\",\"far-trash-alt\",\"button\"]]],false],[0,\"\\n\\n      \"],[1,[28,\"d-button\",null,[[\"icon\",\"title\",\"type\",\"class\",\"action\",\"disabled\"],[\"discourse-expand\",\"expand\",\"button\",\"image-uploader-lightbox-btn no-text\",[28,\"action\",[[23,0,[]],\"toggleLightbox\"],null],[24,[\"loadingLightbox\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"span\",true],[11,\"class\",[29,[\"btn \",[28,\"unless\",[[24,[\"uploading\"]],\"hidden\"],null]]]],[8],[1,[28,\"i18n\",[\"upload_selector.uploading\"],null],false],[0,\" \"],[1,[22,\"uploadProgress\"],false],[0,\"%\"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n\\n\"],[4,\"if\",[[24,[\"imageUrl\"]]],null,{\"statements\":[[0,\"    \"],[7,\"a\",true],[10,\"class\",\"lightbox\"],[11,\"href\",[22,\"imageCDNURL\"]],[11,\"title\",[22,\"imageFilename\"]],[10,\"rel\",\"nofollow ugc noopener\"],[8],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"meta\"],[8],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"informations\"],[8],[0,\"\\n          \"],[1,[22,\"imageWidth\"],false],[0,\"x\"],[1,[22,\"imageHeight\"],false],[0,\" \"],[1,[22,\"imageFilesize\"],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/image-uploader"}});
Ember.TEMPLATES["components/images-uploader"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"label\",true],[10,\"class\",\"btn\"],[11,\"disabled\",[22,\"uploading\"]],[11,\"title\",[29,[[28,\"i18n\",[\"admin.site_settings.uploaded_image_list.upload.title\"],null]]]],[8],[0,\"\\n  \"],[1,[28,\"d-icon\",[\"far-image\"],null],false],[0,\"\"],[1,[22,\"uploadButtonText\"],false],[0,\"\\n  \"],[7,\"input\",true],[10,\"class\",\"hidden-upload-field\"],[11,\"disabled\",[22,\"uploading\"]],[10,\"accept\",\"image/*\"],[10,\"multiple\",\"\"],[10,\"type\",\"file\"],[8],[9],[0,\"\\n\"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"uploading\"]]],null,{\"statements\":[[0,\"  \"],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"upload_selector.uploading\"],null],false],[0,\" \"],[1,[22,\"uploadProgress\"],false],[0,\"%\"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/images-uploader"}});
Ember.TEMPLATES["components/input-tip"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"tipReason\"]]],null,{\"statements\":[[0,\"  \"],[1,[22,\"tipIcon\"],false],[0,\" \"],[1,[22,\"tipReason\"],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/input-tip"}});
Ember.TEMPLATES["components/invite-panel"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"inviteModel\",\"error\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[0,\"\\n    \"],[1,[22,\"errorMessage\"],true],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"body\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"inviteModel\",\"finished\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"inviteModel\",\"inviteLink\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"generated-invite-link\",null,[[\"link\",\"email\"],[[24,[\"inviteModel\",\"inviteLink\"]],[24,[\"emailOrUsername\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"success-message\"],[8],[0,\"\\n        \"],[1,[22,\"successMessage\"],true],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"invite-user-control\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"instructions\"],[8],[1,[22,\"inviteInstructions\"],false],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"invite-user-input-wrapper\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"allowExistingMembers\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"user-selector\",null,[[\"fullWidthWrap\",\"single\",\"allowAny\",\"excludeCurrentUser\",\"includeMessageableGroups\",\"hasGroups\",\"usernames\",\"placeholderKey\",\"allowEmails\",\"class\",\"autocomplete\"],[true,true,true,true,[24,[\"isPM\"]],[24,[\"hasGroups\"]],[24,[\"emailOrUsername\"]],[24,[\"placeholderKey\"]],true,\"invite-user-input\",\"discourse\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[1,[28,\"text-field\",null,[[\"class\",\"value\",\"placeholderKey\"],[\"email-or-username-input\",[24,[\"emailOrUsername\"]],\"topic.invite_reply.email_placeholder\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[4,\"if\",[[24,[\"showContactPicker\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"class\"],[\"address-book\",[28,\"action\",[[23,0,[]],\"searchContact\"],null],\"btn-primary open-contact-picker\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showGroups\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"group-access-control\"],[8],[0,\"\\n        \"],[7,\"label\",true],[11,\"class\",[29,[\"instructions \",[22,\"showGroupsClass\"]]]],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"topic.automatically_add_to_groups\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n        \"],[1,[28,\"group-selector\",null,[[\"fullWidthWrap\",\"groupFinder\",\"groupNames\",\"placeholderKey\"],[true,[24,[\"groupFinder\"]],[24,[\"inviteModel\",\"groupNames\"]],\"topic.invite_private.group_name\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showCustomMessage\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"show-custom-message-control\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n          \"],[1,[28,\"discourse-linked-text\",null,[[\"class\",\"action\",\"text\"],[\"optional\",[28,\"action\",[[23,0,[]],\"showCustomMessageBox\"],null],\"invite.custom_message\"]]],false],[0,\"\\n        \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"hasCustomMessage\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"textarea\",null,[[\"value\",\"placeholder\"],[[24,[\"customMessage\"]],[24,[\"customMessagePlaceholder\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"footer\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"inviteModel\",\"finished\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-primary\",[28,\"route-action\",[\"closeModal\"],null],\"close\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"class\",\"disabled\",\"label\"],[[24,[\"inviteIcon\"]],[28,\"action\",[[23,0,[]],\"createInvite\"],null],\"btn-primary send-invite\",[24,[\"disabled\"]],[24,[\"buttonTitle\"]]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"showCopyInviteButton\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"class\",\"disabled\",\"label\"],[\"link\",[28,\"action\",[[23,0,[]],\"generateInvitelink\"],null],\"btn-primary generate-invite-link\",[24,[\"disabledCopyLink\"]],\"user.invited.generate_link\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/invite-panel"}});
Ember.TEMPLATES["components/ip-lookup"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"a\"],\"statements\":[[4,\"if\",[[24,[\"ip\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"lookup\"],null],\"globe\",\"admin.user.ip_lookup\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"show\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"location-box\"],[8],[0,\"\\n    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"close pull-right\"],[3,\"action\",[[23,0,[]],\"hide\"]],[8],[1,[28,\"d-icon\",[\"times\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"copied\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"icon\",\"label\"],[\"btn-hover pull-right\",\"copy\",\"ip_lookup.copied\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\"],[[28,\"action\",[[23,0,[]],\"copy\"],null],\"pull-right no-text\",\"copy\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"    \"],[7,\"h4\",true],[8],[1,[28,\"i18n\",[\"ip_lookup.title\"],null],false],[9],[0,\"\\n    \"],[7,\"p\",true],[10,\"class\",\"powered-by\"],[8],[1,[28,\"i18n\",[\"ip_lookup.powered_by\"],null],true],[9],[0,\"\\n    \"],[7,\"dl\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"location\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"location\",\"hostname\"]]],null,{\"statements\":[[0,\"          \"],[7,\"dt\",true],[8],[1,[28,\"i18n\",[\"ip_lookup.hostname\"],null],false],[9],[0,\"\\n          \"],[7,\"dd\",true],[8],[1,[24,[\"location\",\"hostname\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n        \"],[7,\"dt\",true],[8],[1,[28,\"i18n\",[\"ip_lookup.location\"],null],false],[9],[0,\"\\n        \"],[7,\"dd\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"location\",\"location\"]]],null,{\"statements\":[[0,\"            \"],[7,\"a\",true],[11,\"href\",[29,[\"https://maps.google.com/maps?q=\",[28,\"unbound\",[[24,[\"location\",\"latitude\"]]],null],\",\",[28,\"unbound\",[[24,[\"location\",\"longitude\"]]],null]]]],[10,\"target\",\"_blank\"],[8],[0,\"\\n              \"],[1,[24,[\"location\",\"location\"]],false],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"ip_lookup.location_not_found\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"location\",\"organization\"]]],null,{\"statements\":[[0,\"          \"],[7,\"dt\",true],[8],[1,[28,\"i18n\",[\"ip_lookup.organisation\"],null],false],[9],[0,\"\\n          \"],[7,\"dd\",true],[8],[1,[24,[\"location\",\"organization\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[1,[28,\"loading-spinner\",null,[[\"size\"],[\"small\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n      \"],[7,\"dt\",true],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"ip_lookup.other_accounts\"],null],false],[0,\"\\n        \"],[7,\"strong\",true],[8],[1,[22,\"totalOthersWithSameIP\"],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"other_accounts\",\"length\"]]],null,{\"statements\":[[4,\"d-button\",null,[[\"class\",\"action\",\"icon\"],[\"btn-danger pull-right\",[28,\"action\",[[23,0,[]],\"deleteOtherAccounts\"],null],\"exclamation-triangle\"]],{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"ip_lookup.delete_other_accounts\"],[[\"count\"],[[24,[\"otherAccountsToDelete\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\\n\"],[4,\"conditional-loading-spinner\",null,[[\"size\",\"condition\"],[\"small\",[24,[\"otherAccountsLoading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"other_accounts\",\"length\"]]],null,{\"statements\":[[0,\"          \"],[7,\"dd\",true],[10,\"class\",\"other-accounts\"],[8],[0,\"\\n            \"],[7,\"table\",true],[10,\"class\",\"table table-condensed table-hover\"],[8],[0,\"\\n              \"],[7,\"thead\",true],[8],[0,\"\\n                \"],[7,\"tr\",true],[8],[0,\"\\n                  \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"ip_lookup.username\"],null],false],[9],[0,\"\\n                  \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"ip_lookup.trust_level\"],null],false],[9],[0,\"\\n                  \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"ip_lookup.read_time\"],null],false],[9],[0,\"\\n                  \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"ip_lookup.topics_entered\"],null],false],[9],[0,\"\\n                  \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"ip_lookup.post_count\"],null],false],[9],[0,\"\\n                \"],[9],[0,\"\\n              \"],[9],[0,\"\\n              \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"other_accounts\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"tr\",true],[8],[0,\"\\n                    \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"adminUser\",[23,1,[]]]],{\"statements\":[[0,\"                        \"],[1,[28,\"avatar\",[[23,1,[]]],[[\"usernamePath\",\"imageSize\"],[\"user.username\",\"small\"]]],false],[0,\"\\n                        \\n                        \"],[7,\"span\",true],[8],[1,[23,1,[\"username\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                    \"],[9],[0,\"\\n                    \"],[7,\"td\",true],[8],[1,[23,1,[\"trustLevel\",\"id\"]],false],[9],[0,\"\\n                    \"],[7,\"td\",true],[8],[1,[23,1,[\"time_read\"]],false],[9],[0,\"\\n                    \"],[7,\"td\",true],[8],[1,[23,1,[\"topics_entered\"]],false],[9],[0,\"\\n                    \"],[7,\"td\",true],[8],[1,[23,1,[\"post_count\"]],false],[9],[0,\"\\n                  \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/ip-lookup"}});
Ember.TEMPLATES["components/latest-topic-list-item"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"topic-poster\"],[8],[0,\"\\n\"],[4,\"user-link\",null,[[\"user\"],[[24,[\"topic\",\"lastPoster\"]]]],{\"statements\":[[0,\"    \"],[1,[28,\"avatar\",[[24,[\"topic\",\"lastPoster\"]]],[[\"imageSize\"],[\"large\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"main-link\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"top-row\"],[8],[0,\"\\n    \"],[1,[28,\"raw\",[\"topic-status\"],[[\"topic\"],[[24,[\"topic\"]]]]],false],[0,\"\\n    \"],[1,[28,\"topic-link\",[[24,[\"topic\"]]],null],false],[0,\"\\n\"],[4,\"if\",[[24,[\"topic\",\"featured_link\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"topic-featured-link\",[[24,[\"topic\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[1,[28,\"topic-post-badges\",null,[[\"newPosts\",\"unseen\",\"url\"],[[24,[\"topic\",\"totalUnread\"]],[24,[\"topic\",\"unseen\"]],[24,[\"topic\",\"lastUnreadUrl\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"bottom-row\"],[8],[0,\"\\n    \"],[1,[28,\"category-link\",[[24,[\"topic\",\"category\"]]],null],false],[0,\"\\n    \"],[1,[28,\"discourse-tags\",[[24,[\"topic\"]]],[[\"mode\"],[\"list\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"topic-stats\"],[8],[0,\"\\n  \"],[1,[28,\"raw\",[\"list/posts-count-column\"],[[\"topic\",\"tagName\"],[[24,[\"topic\"]],\"div\"]]],false],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"topic-last-activity\"],[8],[0,\"\\n    \"],[7,\"a\",true],[11,\"href\",[29,[[24,[\"topic\",\"lastPostUrl\"]]]]],[11,\"title\",[29,[[24,[\"topic\",\"bumpedAtTitle\"]]]]],[8],[1,[28,\"format-date\",[[24,[\"topic\",\"bumpedAt\"]]],[[\"format\",\"noTitle\"],[\"tiny\",\"true\"]]],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/latest-topic-list-item"}});
Ember.TEMPLATES["components/link-to-input"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"if\",[[24,[\"showInput\"]]],null,{\"statements\":[[0,\"  \"],[14,1],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"a\",true],[10,\"href\",\"\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"key\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"i18n\",[[24,[\"key\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"icon\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-icon\",[[24,[\"icon\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/link-to-input"}});
Ember.TEMPLATES["components/login-buttons"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"b\"],\"statements\":[[4,\"each\",[[24,[\"buttons\"]]],null,{\"statements\":[[0,\"  \"],[7,\"button\",false],[12,\"class\",[29,[\"btn btn-social \",[23,1,[\"name\"]]]]],[3,\"action\",[[23,0,[]],[24,[\"externalLogin\"]],[23,1,[]]]],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"isGoogle\"]]],null,{\"statements\":[[0,\"      \"],[7,\"svg\",true],[10,\"class\",\"fa d-icon d-icon-custom-google-oauth2 svg-icon\"],[10,\"xmlns\",\"http://www.w3.org/2000/svg\",\"http://www.w3.org/2000/xmlns/\"],[10,\"xmlns:xlink\",\"http://www.w3.org/1999/xlink\",\"http://www.w3.org/2000/xmlns/\"],[10,\"viewBox\",\"0 0 48 48\"],[8],[7,\"defs\",true],[8],[7,\"path\",true],[10,\"id\",\"a\"],[10,\"d\",\"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z\"],[8],[9],[9],[7,\"clipPath\",true],[10,\"id\",\"b\"],[8],[7,\"use\",true],[10,\"xlink:href\",\"#a\",\"http://www.w3.org/1999/xlink\"],[10,\"overflow\",\"visible\"],[8],[9],[9],[7,\"path\",true],[10,\"clip-path\",\"url(#b)\"],[10,\"fill\",\"#FBBC05\"],[10,\"d\",\"M0 37V11l17 13z\"],[8],[9],[7,\"path\",true],[10,\"clip-path\",\"url(#b)\"],[10,\"fill\",\"#EA4335\"],[10,\"d\",\"M0 11l17 13 7-6.1L48 14V0H0z\"],[8],[9],[7,\"path\",true],[10,\"clip-path\",\"url(#b)\"],[10,\"fill\",\"#34A853\"],[10,\"d\",\"M0 37l30-23 7.9 1L48 0v48H0z\"],[8],[9],[7,\"path\",true],[10,\"clip-path\",\"url(#b)\"],[10,\"fill\",\"#4285F4\"],[10,\"d\",\"M48 48L17 24l-4-3 35-10z\"],[8],[9],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,1,[\"icon\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-icon\",[[23,1,[\"icon\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[1,[28,\"d-icon\",[\"sign-in-alt\"],null],false],[0,\"\\n    \"]],\"parameters\":[]}]],\"parameters\":[]}],[0,\"    \"],[1,[23,1,[\"title\"]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showLoginWithEmailLink\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"disabled\",\"icon\",\"class\"],[[24,[\"emailLogin\"]],\"email_login.button_label\",[24,[\"processingEmailLink\"]],\"far-envelope\",\"login-with-email-button\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/login-buttons"}});
Ember.TEMPLATES["components/mobile-category-topic"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"td\",true],[10,\"class\",\"main-link\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"topic-inset\"],[8],[0,\"\\n    \"],[1,[28,\"raw\",[\"topic-status\"],[[\"topic\"],[[24,[\"topic\"]]]]],false],[0,\"\\n    \"],[1,[28,\"topic-link\",[[24,[\"topic\"]]],null],false],[0,\"\\n\"],[4,\"if\",[[24,[\"topic\",\"unseen\"]]],null,{\"statements\":[[0,\"      \"],[7,\"span\",true],[10,\"class\",\"badge-notification new-topic\"],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[7,\"span\",true],[11,\"class\",[29,[[28,\"cold-age-class\",[[24,[\"topic\",\"last_posted_at\"]]],null]]]],[11,\"title\",[29,[[28,\"raw-date\",[[24,[\"topic\",\"last_posted_at\"]]],null]]]],[8],[1,[28,\"format-age\",[[24,[\"topic\",\"last_posted_at\"]]],null],true],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"],[7,\"td\",true],[10,\"class\",\"num posts\"],[8],[1,[28,\"raw\",[\"list/post-count-or-badges\"],[[\"topic\",\"postBadgesEnabled\"],[[24,[\"topic\"]],\"true\"]]],false],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/mobile-category-topic"}});
Ember.TEMPLATES["components/mobile-nav"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[14,1],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/mobile-nav"}});
Ember.TEMPLATES["components/modal-footer-close"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-primary\",[28,\"route-action\",[\"closeModal\"],null],\"close\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/modal-footer-close"}});
Ember.TEMPLATES["components/modal-panel"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"component\",[[24,[\"panelComponent\"]]],[[\"panel\",\"close\"],[[24,[\"panel\"]],[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/modal-panel"}});
Ember.TEMPLATES["components/modal-tab"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"i18n\",[[24,[\"title\"]]],null],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/modal-tab"}});
Ember.TEMPLATES["components/nav-item"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"routeParam\"]]],null,{\"statements\":[[0,\"  \"],[4,\"link-to\",null,[[\"route\",\"model\"],[[24,[\"route\"]],[24,[\"routeParam\"]]]],{\"statements\":[[1,[22,\"contents\"],false]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"route\"]]],null,{\"statements\":[[0,\"  \"],[4,\"link-to\",null,[[\"route\"],[[24,[\"route\"]]]],{\"statements\":[[1,[22,\"contents\"],false]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"get-url\",[[24,[\"path\"]]],null]]]],[10,\"data-auto-route\",\"true\"],[8],[1,[22,\"contents\"],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/nav-item"}});
Ember.TEMPLATES["components/navigation-bar"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"c\",\"navItem\"],\"statements\":[[4,\"each\",[[24,[\"navItems\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"navigation-item\",null,[[\"content\",\"filterMode\",\"category\"],[[23,2,[]],[24,[\"filterMode\"]],[24,[\"category\"]]]]],false],[0,\"\\n\"]],\"parameters\":[2]},null],[1,[28,\"custom-html\",null,[[\"name\",\"tagName\"],[\"extraNavItem\",\"li\"]]],false],[0,\"\\n\"],[4,\"each\",[[24,[\"connectors\"]]],null,{\"statements\":[[1,[28,\"plugin-connector\",null,[[\"connector\",\"class\",\"tagName\",\"args\"],[[23,1,[]],[23,1,[\"classNames\"]],\"li\",[28,\"hash\",null,[[\"category\",\"filterMode\"],[[24,[\"category\"]],[24,[\"filterMode\"]]]]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"components/navigation-bar"}});
Ember.TEMPLATES["components/navigation-item"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",true],[11,\"href\",[22,\"hrefLink\"]],[11,\"class\",[22,\"activeClass\"]],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"hasIcon\"]]],null,{\"statements\":[[7,\"span\",true],[11,\"class\",[24,[\"content\",\"name\"]]],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null],[1,[24,[\"content\",\"displayName\"]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/navigation-item"}});
Ember.TEMPLATES["components/notification-consent-banner"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"showNotificationPromptBanner\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"consent_banner alert alert-info\"],[8],[0,\"\\n      \"],[7,\"span\",true],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"user.desktop_notifications.consent_prompt\"],null],false],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"display\",\"action\",\"label\"],[\"link\",[28,\"action\",[[23,0,[]],\"turnon\"],null],\"user.desktop_notifications.enable\"]]],false],[0,\"\\n        .\\n      \"],[9],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"class\",\"title\"],[\"times\",\"dismiss\",\"btn btn-flat close\",\"banner.close\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/notification-consent-banner"}});
Ember.TEMPLATES["components/plugin-outlet"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"c\"],\"statements\":[[4,\"each\",[[24,[\"connectors\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"plugin-connector\",null,[[\"connector\",\"args\",\"deprecatedArgs\",\"class\",\"tagName\"],[[23,1,[]],[24,[\"args\"]],[24,[\"deprecatedArgs\"]],[23,1,[\"classNames\"]],[24,[\"connectorTagName\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"components/plugin-outlet"}});
Ember.TEMPLATES["components/popup-input-tip"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"span\",true],[10,\"class\",\"close\"],[8],[1,[22,\"closeIcon\"],false],[9],[1,[22,\"tipReason\"],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/popup-input-tip"}});
Ember.TEMPLATES["components/popup-menu"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[7,\"h3\",true],[8],[1,[28,\"i18n\",[[24,[\"title\"]]],null],false],[9],[0,\"\\n\"],[7,\"ul\",true],[8],[0,\"\\n  \"],[14,1],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/popup-menu"}});
Ember.TEMPLATES["components/preference-checkbox"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"label\",true],[10,\"class\",\"checkbox-label\"],[8],[0,\"\\n  \"],[1,[28,\"input\",null,[[\"type\",\"disabled\",\"checked\"],[\"checkbox\",[24,[\"disabled\"]],[24,[\"checked\"]]]]],false],[0,\"\\n  \"],[1,[22,\"label\"],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/preference-checkbox"}});
Ember.TEMPLATES["components/private-message-glyph"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"href\"]]],null,{\"statements\":[[0,\"  \"],[7,\"a\",true],[11,\"href\",[22,\"href\"]],[11,\"title\",[28,\"i18n\",[[24,[\"title\"]]],null]],[11,\"aria-label\",[28,\"i18n\",[[24,[\"ariaLabel\"]]],null]],[8],[0,\"\\n    \"],[7,\"span\",true],[10,\"class\",\"private-message-glyph-wrapper\"],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"envelope\"],[[\"class\"],[\"private-message-glyph\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"span\",true],[10,\"class\",\"private-message-glyph-wrapper\"],[8],[0,\"\\n    \"],[1,[28,\"d-icon\",[\"envelope\"],[[\"class\"],[\"private-message-glyph\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/private-message-glyph"}});
Ember.TEMPLATES["components/pwa-install-banner"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"showPWAInstallBanner\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"pwa-install-banner alert alert-info\"],[8],[0,\"\\n      \"],[7,\"span\",true],[8],[0,\"\\n        \"],[1,[28,\"discourse-linked-text\",null,[[\"action\",\"translatedText\"],[[28,\"action\",[[23,0,[]],\"turnOn\"],null],[28,\"i18n\",[\"pwa.install_banner\"],[[\"title\"],[[24,[\"siteSettings\",\"title\"]]]]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"class\",\"title\"],[\"times\",\"dismiss\",\"btn btn-flat close\",\"banner.close\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/pwa-install-banner"}});
Ember.TEMPLATES["components/quote-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"d-icon\",[\"quote-left\"],null],false],[0,\" \"],[7,\"span\",true],[10,\"class\",\"quote-label\"],[8],[1,[28,\"i18n\",[\"post.quote_reply\"],null],false],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/quote-button"}});
Ember.TEMPLATES["components/related-messages"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"h3\",true],[10,\"class\",\"suggested-topics-title\"],[8],[0,\"\\n  \"],[1,[28,\"i18n\",[\"related_messages.title\"],null],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"topics\"],[8],[0,\"\\n  \"],[1,[28,\"basic-topic-list\",null,[[\"hideCategory\",\"showPosters\",\"topics\"],[\"true\",\"true\",[24,[\"topic\",\"relatedMessages\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"targetUser\"]]],null,{\"statements\":[[0,\"  \"],[7,\"h3\",true],[10,\"class\",\"see-all-pms-message\"],[8],[1,[28,\"i18n\",[\"related_messages.see_all\"],[[\"path\",\"username\"],[[24,[\"searchLink\"]],[24,[\"targetUser\",\"username\"]]]]],true],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/related-messages"}});
Ember.TEMPLATES["components/reviewable-bundled-action"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"multiple\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"dropdown-select-box\",null,[[\"class\",\"nameProperty\",\"title\",\"content\",\"onChange\",\"options\"],[\"reviewable-action-dropdown\",\"label\",[24,[\"bundle\",\"label\"]],[24,[\"bundle\",\"actions\"]],[28,\"action\",[[23,0,[]],\"performById\"],null],[28,\"hash\",null,[[\"icon\",\"disabled\"],[[24,[\"bundle\",\"icon\"]],[24,[\"reviewableUpdating\"]]]]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"class\",\"icon\",\"action\",\"translatedLabel\",\"disabled\"],[[28,\"concat\",[\"reviewable-action \",[28,\"dasherize\",[[24,[\"first\",\"id\"]]],null],\" \",[24,[\"first\",\"button_class\"]]],null],[24,[\"first\",\"icon\"]],[28,\"action\",[[23,0,[]],\"perform\",[24,[\"first\"]]],null],[24,[\"first\",\"label\"]],[24,[\"reviewableUpdating\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-bundled-action"}});
Ember.TEMPLATES["components/reviewable-claimed-topic"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"enabled\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"reviewable-claimed-topic\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"claimedBy\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"claimed-by\"],[8],[0,\"\\n        \"],[1,[28,\"avatar\",[[24,[\"claimedBy\"]]],[[\"imageSize\"],[\"small\"]]],false],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"claimed-username\"],[8],[1,[24,[\"claimedBy\",\"username\"]],false],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"icon\",\"class\",\"action\",\"disabled\",\"title\"],[\"times\",\"btn-small unclaim\",[28,\"action\",[[23,0,[]],\"unclaim\"],null],[24,[\"unassigning\"]],\"review.unclaim.help\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"icon\",\"class\",\"title\",\"action\"],[\"user-plus\",\"btn-small claim\",\"review.claim.title\",[28,\"action\",[[23,0,[]],\"claim\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-claimed-topic"}});
Ember.TEMPLATES["components/reviewable-conversation-post"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"post\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"reviewable-conversation-post\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"showUsername\"]]],null,{\"statements\":[[0,\"      \"],[4,\"link-to\",null,[[\"class\",\"route\",\"model\"],[\"username\",\"user\",[24,[\"post\",\"user\"]]]],{\"statements\":[[0,\"@\"],[1,[24,[\"post\",\"user\",\"username\"]],false]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[1,[24,[\"post\",\"excerpt\"]],true],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-conversation-post"}});
Ember.TEMPLATES["components/reviewable-created-by-name"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"names\"],[8],[0,\"\\n  \"],[7,\"span\",true],[10,\"class\",\"username\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"user\"]]],null,{\"statements\":[[0,\"      \"],[4,\"user-link\",null,[[\"user\"],[[24,[\"user\"]]]],{\"statements\":[[1,[24,[\"user\",\"username\"]],false]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"silenced\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-icon\",[\"ban\"],[[\"title\"],[\"user.silenced_tooltip\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[1,[28,\"i18n\",[\"review.deleted_user\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-created-by-name"}});
Ember.TEMPLATES["components/reviewable-created-by"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"created-by\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"user\"]]],null,{\"statements\":[[0,\"    \"],[4,\"user-link\",null,[[\"user\"],[[24,[\"user\"]]]],{\"statements\":[[1,[28,\"avatar\",[[24,[\"user\"]]],[[\"imageSize\"],[\"large\"]]],false]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[28,\"d-icon\",[\"far-trash-alt\"],[[\"class\"],[\"deleted-user-avatar\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-created-by"}});
Ember.TEMPLATES["components/reviewable-field-category"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"category-chooser\",null,[[\"value\",\"onChange\"],[[24,[\"value\"]],[24,[\"categoryChanged\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-field-category"}});
Ember.TEMPLATES["components/reviewable-field-editor"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"d-editor\",null,[[\"value\",\"change\"],[[24,[\"value\"]],[24,[\"valueChanged\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-field-editor"}});
Ember.TEMPLATES["components/reviewable-field-tags"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"mini-tag-chooser\",null,[[\"value\",\"onChange\"],[[24,[\"value\"]],[28,\"action\",[[23,0,[]],\"onChange\"],null]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-field-tags"}});
Ember.TEMPLATES["components/reviewable-field-text"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"input\",null,[[\"value\",\"change\",\"class\"],[[24,[\"value\"]],[24,[\"valueChanged\"]],\"reviewable-input-text\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-field-text"}});
Ember.TEMPLATES["components/reviewable-field-textarea"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"textarea\",null,[[\"value\",\"change\",\"class\"],[[24,[\"value\"]],[24,[\"valueChanged\"]],\"reviewable-input-textarea\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-field-textarea"}});
Ember.TEMPLATES["components/reviewable-field"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"value\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[11,\"class\",[22,\"classes\"]],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"name\"],[8],[1,[22,\"name\"],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"value\"],[8],[1,[22,\"value\"],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-field"}});
Ember.TEMPLATES["components/reviewable-flagged-post"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"flagged-post-header\"],[8],[0,\"\\n  \"],[1,[28,\"reviewable-topic-link\",null,[[\"reviewable\",\"tagName\"],[[24,[\"reviewable\"]],\"\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"hasEdits\"]]],null,{\"statements\":[[0,\"    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",[29,[\"has-edits \",[22,\"historyClass\"]]]],[12,\"title\",[29,[[28,\"i18n\",[\"post.last_edited_on\"],null],\" \",[22,\"editedDate\"]]]],[3,\"action\",[[23,0,[]],\"showEditHistory\"]],[8],[0,\"\\n        \"],[1,[28,\"d-icon\",[\"pencil-alt\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"post-contents-wrapper\"],[8],[0,\"\\n  \"],[1,[28,\"reviewable-created-by\",null,[[\"user\",\"tagName\"],[[24,[\"reviewable\",\"target_created_by\"]],\"\"]]],false],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"post-contents\"],[8],[0,\"\\n    \"],[1,[28,\"reviewable-post-header\",null,[[\"reviewable\",\"createdBy\",\"tagName\"],[[24,[\"reviewable\"]],[24,[\"reviewable\",\"target_created_by\"]],\"\"]]],false],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"post-body\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"reviewable\",\"blank_post\"]]],null,{\"statements\":[[0,\"        \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"review.deleted_post\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[1,[24,[\"reviewable\",\"cooked\"]],true],[0,\"\\n\"]],\"parameters\":[]}],[0,\"    \"],[9],[0,\"\\n    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"after-reviewable-flagged-post-body\",[28,\"hash\",null,[[\"model\"],[[24,[\"reviewable\"]]]]]]]],false],[0,\"\\n    \"],[14,1],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-flagged-post"}});
Ember.TEMPLATES["components/reviewable-histories"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"rh\"],\"statements\":[[4,\"if\",[[24,[\"filteredHistories\"]]],null,{\"statements\":[[0,\"  \"],[7,\"table\",true],[10,\"class\",\"reviewable-histories\"],[8],[0,\"\\n    \"],[7,\"thead\",true],[8],[0,\"\\n      \"],[7,\"tr\",true],[8],[0,\"\\n      \"],[7,\"th\",true],[10,\"colspan\",\"3\"],[8],[1,[28,\"i18n\",[\"review.history.title\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"filteredHistories\"]]],null,{\"statements\":[[4,\"unless\",[[23,1,[\"created\"]]],null,{\"statements\":[[0,\"        \"],[7,\"tr\",true],[8],[0,\"\\n          \"],[7,\"td\",true],[8],[0,\"\\n            \"],[1,[28,\"reviewable-history-description\",[[23,1,[]]],null],false],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"user-link\",null,[[\"user\"],[[24,[\"rs\",\"user\"]]]],{\"statements\":[[0,\"              \"],[1,[28,\"avatar\",[[23,1,[\"created_by\"]]],[[\"imageSize\"],[\"tiny\"]]],false],[0,\"\\n              \"],[1,[23,1,[\"created_by\",\"username\"]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[9],[0,\"\\n          \"],[7,\"td\",true],[8],[1,[28,\"format-date\",[[23,1,[\"created_at\"]]],[[\"format\"],[\"medium\"]]],false],[9],[0,\"\\n\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-histories"}});
Ember.TEMPLATES["components/reviewable-item"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"bundle\",\"f\"],\"statements\":[[7,\"div\",true],[11,\"class\",[29,[\"reviewable-item \",[22,\"customClass\"]]]],[11,\"data-reviewable-id\",[24,[\"reviewable\",\"id\"]]],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"reviewable-meta-data\"],[8],[0,\"\\n    \"],[7,\"span\",true],[10,\"class\",\"reviewable-type\"],[8],[1,[24,[\"reviewable\",\"humanType\"]],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"reviewable\",\"reply_count\"]]],null,{\"statements\":[[0,\"      \"],[7,\"span\",true],[10,\"class\",\"reply-count\"],[8],[1,[28,\"i18n\",[\"review.replies\"],[[\"count\"],[[24,[\"reviewable\",\"reply_count\"]]]]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[7,\"span\",true],[10,\"class\",\"created-at\"],[8],[0,\"\\n      \"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"review.show\",[24,[\"reviewable\",\"id\"]]]],{\"statements\":[[1,[28,\"age-with-tooltip\",[[24,[\"reviewable\",\"created_at\"]]],null],false]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"span\",true],[10,\"class\",\"status\"],[8],[0,\"\\n      \"],[1,[28,\"reviewable-status\",[[24,[\"reviewable\",\"status\"]]],null],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"explain\"],[12,\"title\",[28,\"i18n\",[\"review.explain.why\"],null]],[3,\"action\",[[23,0,[]],\"explainReviewable\",[24,[\"reviewable\"]]]],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"question-circle\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"reviewable-contents\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"editing\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"editable-fields\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"reviewable\",\"created_by\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"editable-created-by\"],[8],[0,\"\\n            \"],[1,[28,\"avatar\",[[24,[\"reviewable\",\"created_by\"]]],[[\"imageSize\"],[\"tiny\"]]],false],[0,\"\\n            \"],[1,[28,\"reviewable-created-by-name\",null,[[\"user\",\"tagName\"],[[24,[\"reviewable\",\"created_by\"]],\"\"]]],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"each\",[[24,[\"reviewable\",\"editable_fields\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[11,\"class\",[29,[\"editable-field \",[28,\"dasherize\",[[23,2,[\"id\"]]],null]]]],[8],[0,\"\\n            \"],[1,[28,\"component\",[[28,\"concat\",[\"reviewable-field-\",[23,2,[\"type\"]]],null]],[[\"tagName\",\"value\",\"tagCategoryId\",\"valueChanged\",\"categoryChanged\"],[\"\",[28,\"editable-value\",[[24,[\"reviewable\"]],[23,2,[\"id\"]]],null],[24,[\"reviewable\",\"category\",\"id\"]],[28,\"action\",[[23,0,[]],\"valueChanged\",[23,2,[\"id\"]]],null],[28,\"action\",[[23,0,[]],\"categoryChanged\"],null]]]],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"component\",[[24,[\"reviewableComponent\"]]],[[\"reviewable\",\"tagName\"],[[24,[\"reviewable\"]],\"\"]],{\"statements\":[[0,\"        \"],[1,[28,\"reviewable-scores\",null,[[\"reviewable\",\"tagName\"],[[24,[\"reviewable\"]],\"\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"reviewable-actions\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"claimEnabled\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"claimed-actions\"],[8],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"help\"],[8],[1,[22,\"claimHelp\"],true],[9],[0,\"\\n        \"],[1,[28,\"reviewable-claimed-topic\",null,[[\"topicId\",\"claimedBy\"],[[24,[\"topicId\"]],[24,[\"reviewable\",\"claimed_by\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canPerform\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"editing\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"class\",\"disabled\",\"icon\",\"action\",\"label\"],[\"btn-primary reviewable-action save-edit\",[24,[\"updating\"]],\"check\",[28,\"action\",[[23,0,[]],\"saveEdit\"],null],\"review.save\"]]],false],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"class\",\"disabled\",\"icon\",\"action\",\"label\"],[\"btn-danger reviewable-action cancel-edit\",[24,[\"updating\"]],\"times\",[28,\"action\",[[23,0,[]],\"cancelEdit\"],null],\"review.cancel\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"each\",[[24,[\"reviewable\",\"bundled_actions\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"reviewable-bundled-action\",null,[[\"bundle\",\"performAction\",\"reviewableUpdating\"],[[23,1,[]],[28,\"action\",[[23,0,[]],\"perform\"],null],[24,[\"updating\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"reviewable\",\"can_edit\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"d-button\",null,[[\"class\",\"disabled\",\"icon\",\"action\",\"label\"],[\"reviewable-action edit\",[24,[\"updating\"]],\"pencil-alt\",[28,\"action\",[[23,0,[]],\"edit\"],null],\"review.edit\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-item"}});
Ember.TEMPLATES["components/reviewable-post-header"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"reviewable-post-header\"],[8],[0,\"\\n  \"],[1,[28,\"reviewable-created-by-name\",null,[[\"user\",\"tagName\"],[[24,[\"createdBy\"]],\"\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"reviewable\",\"reply_to_post_number\"]]],null,{\"statements\":[[0,\"    \"],[7,\"a\",true],[11,\"href\",[28,\"concat\",[[24,[\"reviewable\",\"topic_url\"]],\"/\",[24,[\"reviewable\",\"reply_to_post_number\"]]],null]],[10,\"class\",\"reviewable-reply-to\"],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"share\"],null],false],[0,\"\\n      \"],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"review.in_reply_to\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-post-header"}});
Ember.TEMPLATES["components/reviewable-queued-post"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"reviewable-topic-link\",null,[[\"reviewable\",\"tagName\"],[[24,[\"reviewable\"]],\"\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"title-text\"],[8],[0,\"\\n    \"],[1,[28,\"d-icon\",[\"plus-square\"],[[\"title\"],[\"review.new_topic\"]]],false],[0,\"\\n    \"],[1,[24,[\"reviewable\",\"payload\",\"title\"]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[1,[28,\"category-badge\",[[24,[\"reviewable\",\"category\"]]],null],false],[0,\"\\n  \"],[1,[28,\"reviewable-tags\",null,[[\"tags\",\"tagName\"],[[24,[\"reviewable\",\"payload\",\"tags\"]],\"\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"reviewable\",\"payload\",\"via_email\"]]],null,{\"statements\":[[0,\"    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"show-raw-email\"],[3,\"action\",[[23,0,[]],\"showRawEmail\"]],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"far-envelope\"],[[\"title\"],[\"post.via_email\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"post-contents-wrapper\"],[8],[0,\"\\n  \"],[1,[28,\"reviewable-created-by\",null,[[\"user\",\"tagName\"],[[24,[\"reviewable\",\"created_by\"]],\"\"]]],false],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"post-contents\"],[8],[0,\"\\n    \"],[1,[28,\"reviewable-post-header\",null,[[\"reviewable\",\"createdBy\",\"tagName\"],[[24,[\"reviewable\"]],[24,[\"reviewable\",\"created_by\"]],\"\"]]],false],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"post-body\"],[8],[0,\"\\n      \"],[1,[28,\"cook-text\",[[24,[\"reviewable\",\"payload\",\"raw\"]]],null],false],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[14,1],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-queued-post"}});
Ember.TEMPLATES["components/reviewable-score"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"p\",\"index\"],\"statements\":[[7,\"tr\",true],[10,\"class\",\"reviewable-score\"],[8],[0,\"\\n  \"],[7,\"td\",true],[10,\"class\",\"user\"],[8],[0,\"\\n\"],[4,\"user-link\",null,[[\"user\"],[[24,[\"rs\",\"user\"]]]],{\"statements\":[[0,\"      \"],[1,[28,\"avatar\",[[24,[\"rs\",\"user\"]]],[[\"imageSize\"],[\"tiny\"]]],false],[0,\"\\n      \"],[1,[24,[\"rs\",\"user\",\"username\"]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[1,[28,\"user-flag-percentage\",null,[[\"agreed\",\"disagreed\",\"ignored\"],[[24,[\"rs\",\"agree_stats\",\"agreed\"]],[24,[\"rs\",\"agree_stats\",\"disagreed\"]],[24,[\"rs\",\"agree_stats\",\"ignored\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"td\",true],[8],[0,\"\\n    \"],[1,[28,\"d-icon\",[[24,[\"rs\",\"score_type\",\"icon\"]]],null],false],[0,\"\\n    \"],[1,[22,\"title\"],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"td\",true],[8],[0,\"\\n    \"],[1,[28,\"format-date\",[[24,[\"rs\",\"created_at\"]]],[[\"format\"],[\"tiny\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showStatus\"]]],null,{\"statements\":[[0,\"    \"],[7,\"td\",true],[10,\"class\",\"reviewable-score-spacer\"],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"angle-double-right\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"td\",true],[10,\"class\",\"reviewed-by\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"rs\",\"reviewed_by\"]]],null,{\"statements\":[[4,\"user-link\",null,[[\"user\"],[[24,[\"rs\",\"reviewed_by\"]]]],{\"statements\":[[0,\"          \"],[1,[28,\"avatar\",[[24,[\"rs\",\"reviewed_by\"]]],[[\"imageSize\"],[\"tiny\"]]],false],[0,\"\\n          \"],[1,[24,[\"rs\",\"reviewed_by\",\"username\"]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"        \\n\"]],\"parameters\":[]}],[0,\"    \"],[9],[0,\"\\n\\n    \"],[7,\"td\",true],[8],[0,\"\\n      \"],[1,[28,\"reviewable-status\",[[24,[\"rs\",\"status\"]]],null],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"rs\",\"reviewed_by\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"format-date\",[[24,[\"rs\",\"reviewed_at\"]]],[[\"format\"],[\"tiny\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"td\",true],[10,\"colspan\",\"4\"],[8],[9],[0,\"\\n\"]],\"parameters\":[]}],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"rs\",\"reason\"]]],null,{\"statements\":[[0,\"  \"],[7,\"tr\",true],[8],[0,\"\\n    \"],[7,\"td\",true],[10,\"colspan\",\"7\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"reviewable-score-reason\"],[8],[1,[24,[\"rs\",\"reason\"]],true],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"rs\",\"reviewable_conversation\"]]],null,{\"statements\":[[0,\"  \"],[7,\"tr\",true],[8],[0,\"\\n    \"],[7,\"td\",true],[10,\"colspan\",\"7\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"reviewable-conversation\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"rs\",\"reviewable_conversation\",\"conversation_posts\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"reviewable-conversation-post\",null,[[\"post\",\"index\"],[[23,1,[]],[23,2,[]]]]],false],[0,\"\\n\"]],\"parameters\":[1,2]},null],[0,\"        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[7,\"a\",true],[11,\"href\",[24,[\"rs\",\"reviewable_conversation\",\"permalink\"]]],[10,\"class\",\"btn btn-small\"],[8],[0,\"\\n            \"],[1,[28,\"i18n\",[\"review.conversation.view_full\"],null],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-score"}});
define("discourse/templates/components/reviewable-score", ["exports", "discourse-common/utils/decorators", "@ember/object/computed", "@ember/component"], function (exports, _decorators, _computed, _component) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _desc, _value, _obj;

  exports.default = _component.default.extend((_dec = (0, _decorators.default)("rs.score_type.title", "reviewable.target_created_by"), (_obj = {
    tagName: "",

    showStatus: (0, _computed.gt)("rs.status", 0),

    title: function title(_title, targetCreatedBy) {
      if (_title && targetCreatedBy) {
        return _title.replace("{{username}}", targetCreatedBy.username);
      }

      return _title;
    }
  }, (_applyDecoratedDescriptor(_obj, "title", [_dec], Object.getOwnPropertyDescriptor(_obj, "title"), _obj)), _obj)));
});
Ember.TEMPLATES["components/reviewable-scores"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"rs\"],\"statements\":[[4,\"if\",[[24,[\"reviewable\",\"reviewable_scores\"]]],null,{\"statements\":[[0,\"  \"],[7,\"table\",true],[10,\"class\",\"reviewable-scores\"],[8],[0,\"\\n    \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"reviewable\",\"reviewable_scores\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"reviewable-score\",null,[[\"rs\",\"reviewable\"],[[23,1,[]],[24,[\"reviewable\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-scores"}});
Ember.TEMPLATES["components/reviewable-tags"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"t\"],\"statements\":[[4,\"if\",[[24,[\"tags\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"list-tags\"],[8],[0,\"\\n    \"],[4,\"each\",[[24,[\"tags\"]]],null,{\"statements\":[[0,\" \"],[1,[28,\"discourse-tag\",[[23,1,[]]],null],false],[0,\" \"]],\"parameters\":[1]},null],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-tags"}});
Ember.TEMPLATES["components/reviewable-topic-link"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"post-topic\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"reviewable\",\"topic\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"topic-status\",null,[[\"topic\"],[[24,[\"reviewable\",\"topic\"]]]]],false],[0,\"\\n    \"],[7,\"a\",true],[11,\"href\",[24,[\"reviewable\",\"target_url\"]]],[10,\"class\",\"title-text\"],[8],[1,[24,[\"reviewable\",\"topic\",\"title\"]],false],[9],[0,\"\\n    \"],[1,[28,\"category-badge\",[[24,[\"reviewable\",\"category\"]]],null],false],[0,\"\\n    \"],[1,[28,\"reviewable-tags\",null,[[\"tags\",\"tagName\"],[[24,[\"reviewable\",\"topic_tags\"]],\"\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[25,1]],null,{\"statements\":[[0,\"    \"],[14,1],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"span\",true],[10,\"class\",\"title-text\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"review.topics.deleted\"],null],false],[0,\"\\n      \"],[4,\"link-to\",null,[[\"route\",\"models\"],[\"topic\",[28,\"array\",[\"-\",[24,[\"reviewable\",\"removed_topic_id\"]]],null]]],{\"statements\":[[1,[28,\"i18n\",[\"review.topics.original\"],null],false]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n  \"]],\"parameters\":[]}]],\"parameters\":[]}],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-topic-link"}});
Ember.TEMPLATES["components/reviewable-user"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"f\",\"&default\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"reviewable-user-info\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"reviewable-user-fields\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"reviewable-user-details username\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"name\"],[8],[1,[28,\"i18n\",[\"review.user.username\"],null],false],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"value\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"reviewable\",\"link_admin\"]]],null,{\"statements\":[[0,\"          \"],[7,\"a\",true],[11,\"href\",[28,\"get-url\",[[28,\"concat\",[\"/admin/users/\",[24,[\"reviewable\",\"user_id\"]],\"/\",[24,[\"reviewable\",\"payload\",\"username\"]]],null]],null]],[8],[0,\"\\n            \"],[1,[24,[\"reviewable\",\"payload\",\"username\"]],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[1,[24,[\"reviewable\",\"payload\",\"username\"]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[1,[28,\"reviewable-field\",null,[[\"classes\",\"name\",\"value\"],[\"reviewable-user-details name\",[28,\"i18n\",[\"review.user.name\"],null],[24,[\"reviewable\",\"payload\",\"name\"]]]]],false],[0,\"\\n\\n    \"],[1,[28,\"reviewable-field\",null,[[\"classes\",\"name\",\"value\"],[\"reviewable-user-details email\",[28,\"i18n\",[\"review.user.email\"],null],[24,[\"reviewable\",\"payload\",\"email\"]]]]],false],[0,\"\\n\\n    \"],[1,[28,\"reviewable-field\",null,[[\"classes\",\"name\",\"value\"],[\"reviewable-user-details bio\",[28,\"i18n\",[\"review.user.bio\"],null],[24,[\"reviewable\",\"payload\",\"bio\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"reviewable\",\"payload\",\"website\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"reviewable-user-details website\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"name\"],[8],[1,[28,\"i18n\",[\"review.user.website\"],null],false],[9],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"value\"],[8],[0,\"\\n          \"],[7,\"a\",true],[11,\"href\",[24,[\"reviewable\",\"payload\",\"website\"]]],[10,\"target\",\"_blank\"],[10,\"rel\",\"noopener\"],[8],[1,[24,[\"reviewable\",\"payload\",\"website\"]],false],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"each\",[[24,[\"userFields\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"reviewable-field\",null,[[\"classes\",\"name\",\"value\"],[\"reviewable-user-details user-field\",[23,1,[\"name\"]],[23,1,[\"value\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[14,2],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/reviewable-user"}});
Ember.TEMPLATES["components/score-value"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"value\"]]],null,{\"statements\":[[0,\"  \"],[7,\"span\",true],[10,\"class\",\"score-value\"],[8],[0,\"\\n    \"],[7,\"span\",true],[10,\"class\",\"score-number\"],[8],[1,[28,\"float\",[[24,[\"value\"]]],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"label\"]]],null,{\"statements\":[[0,\"      \"],[7,\"span\",true],[10,\"class\",\"score-value-type\"],[11,\"title\",[28,\"i18n\",[[28,\"concat\",[\"review.explain.\",[24,[\"label\"]],\".title\"],null]],null]],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[[28,\"concat\",[\"review.explain.\",[24,[\"label\"]],\".name\"],null]],null],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n  \"],[7,\"span\",true],[10,\"class\",\"op\"],[8],[0,\"+\"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/score-value"}});
Ember.TEMPLATES["components/search-advanced-options"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\"],[\"advanced-search-options-above\",[28,\"hash\",null,[[\"searchedTerms\"],[[24,[\"searchedTerms\"]]]]],\"\"]]],false],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"container advanced-search-posted-by-group\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group pull-left\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"search-posted-by\"],[8],[1,[28,\"i18n\",[\"search.advanced.posted_by.label\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"user-selector\",null,[[\"excludeCurrentUser\",\"usernames\",\"single\",\"canReceiveUpdates\",\"class\"],[false,[24,[\"searchedTerms\",\"username\"]],true,true,\"user-selector\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group pull-left\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"search-in-category\"],[8],[1,[28,\"i18n\",[\"search.advanced.in_category.label\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"search-advanced-category-chooser\",null,[[\"value\",\"onChange\"],[[24,[\"searchedTerms\",\"category\",\"id\"]],[28,\"action\",[[23,0,[]],\"onChangeCategory\"],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[2,\" disable these super-advanced searches for now\\n<div class=\\\"container\\\">\\n  <div class=\\\"control-group pull-left\\\">\\n    <label class=\\\"control-label\\\" for=\\\"search-in-group\\\">{{i18n \\\"search.advanced.in_group.label\\\"}}</label>\\n    <div class=\\\"controls\\\">\\n      {{group-selector groupFinder=groupFinder groupNames=searchedTerms.group single=\\\"true\\\" canReceiveUpdates=\\\"true\\\"}}\\n    </div>\\n  </div>\\n  <div class=\\\"control-group pull-left\\\">\\n    <label class=\\\"control-label\\\" for=\\\"search-with-badge\\\">{{i18n \\\"search.advanced.with_badge.label\\\"}}</label>\\n    <div class=\\\"controls\\\">\\n      {{badge-selector badgeFinder=badgeFinder badgeNames=searchedTerms.badge single=\\\"true\\\" canReceiveUpdates=\\\"true\\\"}}\\n    </div>\\n  </div>\\n</div>\\n\"],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"tagging_enabled\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"container advanced-search-tag-group\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"search-with-tags\"],[8],[1,[28,\"i18n\",[\"search.advanced.with_tags.label\"],null],false],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"tag-chooser\",null,[[\"tags\",\"allowCreate\",\"filterPlaceholder\",\"everyTag\",\"unlimitedTagCount\",\"onChange\"],[[24,[\"searchedTerms\",\"tags\"]],false,null,true,true,[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"searchedTerms\",\"tags\"]]],null]],null]]]],false],[0,\"\\n      \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n          \"],[7,\"label\",true],[8],[1,[28,\"input\",null,[[\"type\",\"class\",\"checked\"],[\"checkbox\",\"all-tags\",[24,[\"searchedTerms\",\"special\",\"all_tags\"]]]]],false],[0,\" \"],[1,[28,\"i18n\",[\"search.advanced.filters.all_tags\"],null],false],[0,\" \"],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"container advanced-search-topics-posts-group\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group pull-left\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"search-in-options\"],[8],[1,[28,\"i18n\",[\"search.advanced.filters.label\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"currentUser\"]]],null,{\"statements\":[[0,\"        \"],[7,\"section\",true],[10,\"class\",\"field\"],[8],[0,\"\\n          \"],[7,\"label\",true],[8],[1,[28,\"input\",null,[[\"type\",\"class\",\"checked\"],[\"checkbox\",\"in-title\",[24,[\"searchedTerms\",\"special\",\"in\",\"title\"]]]]],false],[0,\" \"],[1,[28,\"i18n\",[\"search.advanced.filters.title\"],null],false],[9],[0,\"\\n          \"],[7,\"label\",true],[8],[1,[28,\"input\",null,[[\"type\",\"class\",\"checked\"],[\"checkbox\",\"in-likes\",[24,[\"searchedTerms\",\"special\",\"in\",\"likes\"]]]]],false],[0,\" \"],[1,[28,\"i18n\",[\"search.advanced.filters.likes\"],null],false],[9],[0,\"\\n          \"],[7,\"label\",true],[8],[1,[28,\"input\",null,[[\"type\",\"class\",\"checked\"],[\"checkbox\",\"in-private\",[24,[\"searchedTerms\",\"special\",\"in\",\"personal\"]]]]],false],[0,\" \"],[1,[28,\"i18n\",[\"search.advanced.filters.private\"],null],false],[9],[0,\"\\n          \"],[7,\"label\",true],[8],[1,[28,\"input\",null,[[\"type\",\"class\",\"checked\"],[\"checkbox\",\"in-seen\",[24,[\"searchedTerms\",\"special\",\"in\",\"seen\"]]]]],false],[0,\" \"],[1,[28,\"i18n\",[\"search.advanced.filters.seen\"],null],false],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[1,[28,\"combo-box\",null,[[\"id\",\"valueProperty\",\"content\",\"value\",\"none\",\"onChange\"],[\"in\",\"value\",[24,[\"inOptions\"]],[24,[\"searchedTerms\",\"in\"]],\"user.locale.any\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"searchedTerms\",\"in\"]]],null]],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group pull-left\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"search-status-options\"],[8],[1,[28,\"i18n\",[\"search.advanced.statuses.label\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"combo-box\",null,[[\"id\",\"valueProperty\",\"content\",\"value\",\"none\",\"onChange\"],[\"status\",\"value\",[24,[\"statusOptions\"]],[24,[\"searchedTerms\",\"status\"]],\"user.locale.any\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"searchedTerms\",\"status\"]]],null]],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"container advanced-search-date-count-group\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group pull-left\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"search-post-date\"],[8],[1,[28,\"i18n\",[\"search.advanced.post.time.label\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls full-search-dates\"],[8],[0,\"\\n      \"],[1,[28,\"combo-box\",null,[[\"id\",\"valueProperty\",\"content\",\"value\",\"onChange\"],[\"postTime\",\"value\",[24,[\"postTimeOptions\"]],[24,[\"searchedTerms\",\"time\",\"when\"]],[28,\"action\",[[23,0,[]],\"onChangeWhenTime\"],null]]]],false],[0,\"\\n      \"],[1,[28,\"date-input\",null,[[\"date\",\"onChange\",\"id\"],[[24,[\"searchedTerms\",\"time\",\"days\"]],[28,\"action\",[[23,0,[]],\"onChangeWhenDate\"],null],\"search-post-date\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group pull-left\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"search-min-post-count\"],[8],[1,[28,\"i18n\",[\"search.advanced.post.count.label\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"type\",\"value\",\"class\",\"id\"],[\"number\",[24,[\"searchedTerms\",\"min_post_count\"]],\"input-small\",\"search-min-post-count\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\"],[\"advanced-search-options-below\",[28,\"hash\",null,[[\"searchedTerms\"],[[24,[\"searchedTerms\"]]]]],\"\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/search-advanced-options"}});
Ember.TEMPLATES["components/second-factor-form"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[7,\"div\",true],[10,\"id\",\"second-factor\"],[8],[0,\"\\n  \"],[7,\"h3\",true],[8],[1,[22,\"secondFactorTitle\"],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"optionalText\"]]],null,{\"statements\":[[0,\"    \"],[7,\"p\",true],[8],[1,[22,\"optionalText\"],true],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[7,\"p\",true],[8],[1,[22,\"secondFactorDescription\"],false],[9],[0,\"\\n  \"],[14,1],[0,\"\\n\"],[4,\"if\",[[24,[\"showToggleMethodLink\"]]],null,{\"statements\":[[0,\"    \"],[7,\"p\",true],[8],[0,\"\\n      \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"toggle-second-factor-method\"],[3,\"action\",[[23,0,[]],\"toggleSecondFactorMethod\"]],[8],[1,[28,\"i18n\",[[24,[\"linkText\"]]],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/second-factor-form"}});
Ember.TEMPLATES["components/second-factor-input"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"text-field\",null,[[\"value\",\"type\",\"pattern\",\"maxlength\",\"class\",\"id\",\"autocorrect\",\"autocapitalize\",\"autofocus\",\"placeholder\"],[[24,[\"value\"]],[24,[\"type\"]],[24,[\"pattern\"]],[24,[\"maxlength\"]],\"second-factor-token-input\",[24,[\"inputId\"]],\"off\",\"off\",\"autofocus\",[24,[\"placeholder\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/second-factor-input"}});
Ember.TEMPLATES["components/security-key-form"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"id\",\"security-key\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"id\",\"label\",\"type\",\"class\"],[[24,[\"action\"]],\"key\",\"security-key-authenticate-button\",\"login.security_key_authenticate\",\"button\",\"btn btn-large btn-primary\"]]],false],[0,\"\\n  \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"otherMethodAllowed\"]]],null,{\"statements\":[[0,\"      \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"toggle-second-factor-method\"],[3,\"action\",[[23,0,[]],\"useAnotherMethod\"]],[8],[1,[28,\"i18n\",[\"login.security_key_alternative\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/security-key-form"}});
Ember.TEMPLATES["components/share-panel"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"source\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"header\"],[8],[0,\"\\n  \"],[7,\"h3\",true],[10,\"class\",\"title\"],[8],[1,[22,\"shareTitle\"],true],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"body\"],[8],[0,\"\\n  \"],[1,[28,\"textarea\",null,[[\"value\",\"class\"],[[24,[\"shareUrl\"]],\"topic-share-url\"]]],false],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"topic-share-url-for-touch\"],[8],[7,\"a\",true],[8],[9],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"sources\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"sources\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"share-source\",null,[[\"source\",\"title\",\"action\"],[[23,1,[]],[24,[\"topic\",\"title\"]],[28,\"action\",[[23,0,[]],\"share\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/share-panel"}});
Ember.TEMPLATES["components/share-popup"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"s\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"title\"],[8],[0,\"\\n  \"],[7,\"h3\",true],[8],[1,[22,\"shareTitle\"],true],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"date\"]]],null,{\"statements\":[[0,\"    \"],[7,\"span\",true],[10,\"class\",\"date\"],[8],[1,[22,\"displayDate\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\\n\"],[7,\"div\",true],[8],[0,\"\\n  \"],[7,\"input\",true],[10,\"type\",\"text\"],[8],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"share-for-touch\"],[8],[7,\"div\",true],[10,\"class\",\"overflow-ellipsis\"],[8],[7,\"a\",true],[8],[9],[9],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"actions\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"sources\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"sources\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"share-source\",null,[[\"source\",\"title\",\"action\"],[[23,1,[]],[24,[\"model\",\"title\"]],[28,\"action\",[[23,0,[]],\"share\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"alt-actions\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"topic\",\"details\",\"can_reply_as_new_topic\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"reply-as-new-topic\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"topic\",\"isPrivateMessage\"]]],null,{\"statements\":[[0,\"          \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"new-topic\"],[12,\"aria-label\",[28,\"i18n\",[\"post.reply_as_new_private_message\"],null]],[12,\"title\",[28,\"i18n\",[\"post.reply_as_new_private_message\"],null]],[3,\"action\",[[23,0,[]],\"replyAsNewTopic\"]],[8],[0,\"\\n            \"],[1,[28,\"d-icon\",[\"plus\"],null],false],[0,\"\\n            \"],[1,[28,\"i18n\",[\"user.new_private_message\"],null],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"new-topic\"],[12,\"aria-label\",[28,\"i18n\",[\"post.reply_as_new_topic\"],null]],[12,\"title\",[28,\"i18n\",[\"post.reply_as_new_topic\"],null]],[3,\"action\",[[23,0,[]],\"replyAsNewTopic\"]],[8],[0,\"\\n            \"],[1,[28,\"d-icon\",[\"plus\"],null],false],[0,\"\\n            \"],[1,[28,\"i18n\",[\"topic.create\"],null],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\\n    \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"aria-label\",\"title\"],[\"close\",\"btn btn-flat close\",\"times\",\"share.close\",\"share.close\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/share-popup"}});
Ember.TEMPLATES["components/share-source"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",false],[12,\"href\",\"\"],[12,\"title\",[29,[[28,\"unbound\",[[24,[\"source\",\"title\"]]],null]]]],[12,\"aria-label\",[29,[[28,\"unbound\",[[24,[\"source\",\"title\"]]],null]]]],[3,\"action\",[[23,0,[]],\"share\",[24,[\"source\"]]]],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"source\",\"icon\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-icon\",[[24,[\"source\",\"icon\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[24,[\"source\",\"htmlIcon\"]],true],[0,\"\\n\"]],\"parameters\":[]}],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/share-source"}});
Ember.TEMPLATES["components/shared-draft-controls"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"shared-draft-controls\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"publishing\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"i18n\",[\"shared_drafts.publishing\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[28,\"i18n\",[\"shared_drafts.notice\"],[[\"category\"],[[24,[\"topic\",\"category\",\"name\"]]]]],true],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"publish-field\"],[8],[0,\"\\n      \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"shared_drafts.destination_category\"],null],false],[9],[0,\"\\n      \"],[1,[28,\"category-chooser\",null,[[\"value\",\"onChange\"],[[24,[\"topic\",\"destination_category_id\"]],[28,\"action\",[[23,0,[]],\"updateDestinationCategory\"],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"publish-field\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"validCategory\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"class\",\"icon\"],[[28,\"action\",[[23,0,[]],\"publish\"],null],\"shared_drafts.publish\",\"btn-primary publish-shared-draft\",\"far-clipboard\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/shared-draft-controls"}});
Ember.TEMPLATES["components/signup-cta"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"signup-cta alert alert-info\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"session\",\"hideSignupCta\"]]],null,{\"statements\":[[0,\"    \"],[7,\"p\",true],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"signup_cta.hidden_for_session\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"p\",true],[8],[1,[28,\"replace-emoji\",[[28,\"i18n\",[\"signup_cta.intro\"],null]],null],false],[9],[0,\"\\n    \"],[7,\"p\",true],[8],[1,[28,\"replace-emoji\",[[28,\"i18n\",[\"signup_cta.value_prop\"],null]],null],false],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"buttons\"],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"icon\",\"class\"],[[28,\"route-action\",[\"showCreateAccount\"],null],\"signup_cta.sign_up\",\"check\",\"btn-primary\"]]],false],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"hideForSession\"],null],\"signup_cta.hide_session\",\"no-icon\"]]],false],[0,\"\\n      \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"neverShow\"]],[8],[1,[28,\"i18n\",[\"signup_cta.hide_forever\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/signup-cta"}});
Ember.TEMPLATES["components/suggested-topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"h3\",true],[10,\"class\",\"suggested-topics-title\"],[8],[0,\"\\n  \"],[1,[28,\"i18n\",[[24,[\"suggestedTitleLabel\"]]],null],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"topics\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"topic\",\"isPrivateMessage\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"basic-topic-list\",null,[[\"hideCategory\",\"showPosters\",\"topics\"],[\"true\",\"true\",[24,[\"topic\",\"suggestedTopics\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[28,\"basic-topic-list\",null,[[\"topics\"],[[24,[\"topic\",\"suggestedTopics\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}],[9],[0,\"\\n\\n\"],[7,\"h3\",true],[10,\"class\",\"suggested-topics-message\"],[8],[1,[22,\"browseMoreMessage\"],true],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/suggested-topics"}});
Ember.TEMPLATES["components/tag-drop-link"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"tagId\"],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/tag-drop-link"}});
Ember.TEMPLATES["components/tag-groups-form"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"tag-group-content\"],[8],[0,\"\\n  \"],[7,\"h1\",true],[8],[1,[28,\"text-field\",null,[[\"value\"],[[24,[\"buffered\",\"name\"]]]]],false],[9],[0,\"\\n  \"],[7,\"br\",true],[8],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"group-tags-list\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"tagging.groups.tags_label\"],null],false],[9],[7,\"br\",true],[8],[9],[0,\"\\n    \"],[1,[28,\"tag-chooser\",null,[[\"tags\",\"everyTag\",\"allowCreate\",\"filterPlaceholder\",\"unlimitedTagCount\",\"excludeSynonyms\"],[[24,[\"buffered\",\"tag_names\"]],true,true,\"tagging.groups.tags_placeholder\",true,true]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"parent-tag-section\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"tagging.groups.parent_tag_label\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"tag-chooser\",null,[[\"tags\",\"everyTag\",\"maximum\",\"allowCreate\",\"excludeSynonyms\",\"filterPlaceholder\"],[[24,[\"buffered\",\"parent_tag_name\"]],true,1,true,true,\"tagging.groups.parent_tag_placeholder\"]]],false],[0,\"\\n    \"],[7,\"span\",true],[10,\"class\",\"description\"],[8],[1,[28,\"i18n\",[\"tagging.groups.parent_tag_description\"],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"group-one-per-topic\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"type\",\"checked\",\"name\"],[\"checkbox\",[24,[\"buffered\",\"one_per_topic\"]],\"onepertopic\"]]],false],[0,\"\\n      \"],[1,[28,\"i18n\",[\"tagging.groups.one_per_topic_label\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"group-visibility\"],[8],[0,\"\\n    \"],[7,\"div\",true],[8],[0,\"\\n      \"],[1,[28,\"radio-button\",null,[[\"class\",\"name\",\"value\",\"id\",\"selection\",\"onChange\"],[\"tag-permissions-choice\",\"tag-permissions-choice\",\"public\",\"public-permission\",[24,[\"buffered\",\"permissionName\"]],[28,\"action\",[[23,0,[]],\"setPermissions\"],null]]]],false],[0,\"\\n\\n      \"],[7,\"label\",true],[10,\"class\",\"radio\"],[10,\"for\",\"public-permission\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"tagging.groups.everyone_can_use\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[8],[0,\"\\n      \"],[1,[28,\"radio-button\",null,[[\"class\",\"name\",\"value\",\"id\",\"selection\",\"onChange\"],[\"tag-permissions-choice\",\"tag-permissions-choice\",\"visible\",\"visible-permission\",[24,[\"buffered\",\"permissionName\"]],[28,\"action\",[[23,0,[]],\"setPermissions\"],null]]]],false],[0,\"\\n\\n      \"],[7,\"label\",true],[10,\"class\",\"radio\"],[10,\"for\",\"visible-permission\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"tagging.groups.usable_only_by_staff\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[8],[0,\"\\n      \"],[1,[28,\"radio-button\",null,[[\"class\",\"name\",\"value\",\"id\",\"selection\",\"onChange\"],[\"tag-permissions-choice\",\"tag-permissions-choice\",\"private\",\"private-permission\",[24,[\"buffered\",\"permissionName\"]],[28,\"action\",[[23,0,[]],\"setPermissions\"],null]]]],false],[0,\"\\n\\n      \"],[7,\"label\",true],[10,\"class\",\"radio\"],[10,\"for\",\"private-permission\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"tagging.groups.visible_only_to_staff\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"label\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"save\"],null],[24,[\"savingDisabled\"]],\"tagging.groups.save\"]]],false],[0,\"\\n\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"icon\",\"label\"],[\"btn-danger\",[28,\"action\",[[23,0,[]],\"destroy\"],null],[24,[\"buffered\",\"isNew\"]],\"far-trash-alt\",\"tagging.groups.delete\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/tag-groups-form"}});
Ember.TEMPLATES["components/tag-info"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"tag\",\"category\"],\"statements\":[[7,\"section\",true],[10,\"class\",\"tag-info\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"tagInfo\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"tag-name\"],[8],[0,\"\\n      \"],[1,[28,\"discourse-tag\",[[24,[\"tagInfo\",\"name\"]]],[[\"tagName\",\"size\"],[\"div\",\"large\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"canAdminTag\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\",\"id\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"renameTag\"],null],\"pencil-alt\",\"tagging.rename_tag\",\"rename-tag\"]]],false],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\",\"id\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"toggleEditControls\"],null],\"cog\",\"tagging.edit_synonyms\",\"edit-synonyms\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"deleteAction\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\",\"id\"],[\"btn-danger delete-tag\",[28,\"action\",[[23,0,[]],\"deleteTag\"],null],\"far-trash-alt\",\"tagging.delete_tag\",\"delete-tag\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"tag-associations\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"tagInfo\",\"tag_group_names\"]]],null,{\"statements\":[[0,\"        \"],[1,[22,\"tagGroupsInfo\"],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"tagInfo\",\"categories\"]]],null,{\"statements\":[[0,\"        \"],[1,[22,\"categoriesInfo\"],false],[0,\"\\n        \"],[7,\"br\",true],[8],[9],[0,\"\\n\"],[4,\"each\",[[24,[\"tagInfo\",\"categories\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"category-link\",[[23,2,[]]],null],false],[0,\"\\n\"]],\"parameters\":[2]},null]],\"parameters\":[]},null],[4,\"if\",[[24,[\"nothingToShow\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"tagInfo\",\"category_restricted\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[\"tagging.category_restricted\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[\"tagging.default_info\"],null],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"tagInfo\",\"synonyms\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"synonyms-list\"],[8],[0,\"\\n        \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"tagging.synonyms\"],null],false],[9],[0,\"\\n        \"],[7,\"div\",true],[8],[1,[28,\"i18n\",[\"tagging.synonyms_description\"],[[\"base_tag_name\"],[[24,[\"tagInfo\",\"name\"]]]]],true],[9],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"tag-list\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"tagInfo\",\"synonyms\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"tag-box\"],[8],[0,\"\\n              \"],[1,[28,\"discourse-tag\",[[23,1,[\"id\"]]],[[\"pmOnly\",\"tagName\"],[[23,1,[\"pmOnly\"]],\"div\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"editSynonymsMode\"]]],null,{\"statements\":[[0,\"                \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"unlink-synonym\"],[3,\"action\",[[23,0,[]],\"unlinkSynonym\",[23,1,[]]]],[8],[0,\"\\n                  \"],[1,[28,\"d-icon\",[\"unlink\"],[[\"title\"],[\"tagging.remove_synonym\"]]],false],[0,\"\\n                \"],[9],[0,\"\\n                \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"delete-synonym\"],[3,\"action\",[[23,0,[]],\"deleteSynonym\",[23,1,[]]]],[8],[0,\"\\n                  \"],[1,[28,\"d-icon\",[\"far-trash-alt\"],[[\"title\"],[\"tagging.delete_tag\"]]],false],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"editSynonymsMode\"]]],null,{\"statements\":[[0,\"      \"],[7,\"section\",true],[10,\"class\",\"add-synonyms field\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"for\",\"add-synonyms\"],[8],[1,[28,\"i18n\",[\"tagging.add_synonyms_label\"],null],false],[9],[0,\"\\n        \"],[1,[28,\"tag-chooser\",null,[[\"id\",\"tags\",\"everyTag\",\"excludeSynonyms\",\"excludeHasSynonyms\",\"unlimitedTagCount\"],[\"add-synonyms\",[24,[\"newSynonyms\"]],true,true,true,true]]],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"label\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"addSynonyms\"],null],[24,[\"addSynonymsDisabled\"]],\"tagging.add_synonyms\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[4,\"if\",[[24,[\"loading\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[8],[1,[28,\"i18n\",[\"loading\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/tag-info"}});
Ember.TEMPLATES["components/tag-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"tag\"],\"statements\":[[4,\"if\",[[24,[\"title\"]]],null,{\"statements\":[[0,\"  \"],[7,\"h3\",true],[8],[1,[22,\"title\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"category\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"category-title-link\",null,[[\"category\"],[[24,[\"category\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"tagGroupName\"]]],null,{\"statements\":[[0,\"  \"],[7,\"h3\",true],[8],[1,[22,\"tagGroupName\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"each\",[[24,[\"sortedTags\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"tag-box\"],[8],[0,\"\\n    \"],[1,[28,\"discourse-tag\",[[23,1,[\"id\"]]],[[\"isPrivateMessage\",\"pmOnly\",\"tagsForUser\"],[[24,[\"isPrivateMessage\"]],[23,1,[\"pmOnly\"]],[24,[\"tagsForUser\"]]]]],false],[0,\" \"],[4,\"if\",[[23,1,[\"pmOnly\"]]],null,{\"statements\":[[1,[28,\"d-icon\",[\"far-envelope\"],null],false]],\"parameters\":[]},null],[4,\"if\",[[23,1,[\"totalCount\"]]],null,{\"statements\":[[0,\" \"],[7,\"span\",true],[10,\"class\",\"tag-count\"],[8],[0,\"x \"],[1,[23,1,[\"totalCount\"]],false],[9]],\"parameters\":[]},null],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/tag-list"}});
Ember.TEMPLATES["components/text-overflow"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"text\"],true],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/text-overflow"}});
Ember.TEMPLATES["components/time-input"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"fields\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"nativePicker\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"input\",null,[[\"class\",\"type\",\"value\",\"change\"],[\"field time\",\"time\",[28,\"concat\",[[24,[\"_hours\"]],\":\",[24,[\"_minutes\"]]],null],[28,\"action\",[[23,0,[]],\"onChangeTime\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[28,\"input\",null,[[\"class\",\"type\",\"title\",\"minlength\",\"maxlength\",\"max\",\"min\",\"placeholder\",\"value\",\"input\",\"focus-in\"],[\"field hours\",\"number\",\"Hours\",2,2,\"23\",\"0\",\"00\",[24,[\"_hours\"]],[28,\"action\",[[23,0,[]],\"onInput\",[28,\"hash\",null,[[\"prop\"],[\"hours\"]]]],null],[28,\"action\",[[23,0,[]],\"onFocusIn\"],null]]]],false],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"separator\"],[8],[0,\":\"],[9],[0,\"\\n\\n    \"],[1,[28,\"input\",null,[[\"class\",\"title\",\"type\",\"minlength\",\"maxlength\",\"max\",\"min\",\"placeholder\",\"value\",\"input\",\"focus-in\"],[\"field minutes\",\"Minutes\",\"number\",2,2,\"59\",\"0\",\"00\",[24,[\"_minutes\"]],[28,\"action\",[[23,0,[]],\"onInput\",[28,\"hash\",null,[[\"prop\"],[\"minutes\"]]]],null],[28,\"action\",[[23,0,[]],\"onFocusIn\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]}],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/time-input"}});
Ember.TEMPLATES["components/top-period-buttons"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"p\"],\"statements\":[[4,\"each\",[[24,[\"periods\"]]],null,{\"statements\":[[4,\"d-button\",null,[[\"action\",\"class\",\"actionParam\"],[[28,\"action\",[[23,0,[]],\"changePeriod\"],null],\"btn-default\",[23,1,[]]]],{\"statements\":[[0,\"    \"],[1,[28,\"period-title\",[[23,1,[]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"components/top-period-buttons"}});
Ember.TEMPLATES["components/topic-category"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"unless\",[[24,[\"topic\",\"isPrivateMessage\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"bound-category-link\",[[24,[\"topic\",\"category\"]]],[[\"recursive\",\"hideParent\"],[true,true]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[7,\"div\",true],[10,\"class\",\"topic-header-extra\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"tagging_enabled\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"list-tags\"],[8],[0,\"\\n      \"],[1,[28,\"discourse-tags\",[[24,[\"topic\"]]],[[\"mode\",\"tags\"],[\"list\",[24,[\"topic\",\"tags\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"siteSettings\",\"topic_featured_link_enabled\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"topic-featured-link\",[[24,[\"topic\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"topic-category\",[28,\"hash\",null,[[\"topic\",\"category\"],[[24,[\"topic\"]],[24,[\"topic\",\"category\"]]]]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/topic-category"}});
Ember.TEMPLATES["components/topic-entrance"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-button\",null,[[\"action\",\"class\"],[[28,\"action\",[[23,0,[]],\"enterTop\"],null],\"full jump-top\"]],{\"statements\":[[0,\"  \"],[1,[28,\"d-icon\",[\"step-backward\"],null],false],[0,\" \"],[1,[22,\"topDate\"],true],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"d-button\",null,[[\"action\",\"class\"],[[28,\"action\",[[23,0,[]],\"enterBottom\"],null],\"full jump-bottom\"]],{\"statements\":[[0,\"  \"],[1,[22,\"bottomDate\"],true],[0,\" \"],[1,[28,\"d-icon\",[\"step-forward\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/topic-entrance"}});
Ember.TEMPLATES["components/topic-footer-buttons"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"button\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"topic-footer-main-buttons\"],[8],[0,\"\\n  \"],[1,[28,\"topic-admin-menu-button\",null,[[\"topic\",\"openUpwards\",\"toggleMultiSelect\",\"deleteTopic\",\"recoverTopic\",\"toggleFeaturedOnProfile\",\"toggleClosed\",\"toggleArchived\",\"toggleVisibility\",\"showTopicStatusUpdate\",\"showFeatureTopic\",\"showChangeTimestamp\",\"resetBumpDate\",\"convertToPublicTopic\",\"convertToPrivateMessage\"],[[24,[\"topic\"]],\"true\",[24,[\"toggleMultiSelect\"]],[24,[\"deleteTopic\"]],[24,[\"recoverTopic\"]],[24,[\"toggleFeaturedOnProfile\"]],[24,[\"toggleClosed\"]],[24,[\"toggleArchived\"]],[24,[\"toggleVisibility\"]],[24,[\"showTopicStatusUpdate\"]],[24,[\"showFeatureTopic\"]],[24,[\"showChangeTimestamp\"]],[24,[\"resetBumpDate\"]],[24,[\"convertToPublicTopic\"]],[24,[\"convertToPrivateMessage\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"topic-footer-mobile-dropdown\",null,[[\"topic\",\"content\"],[[24,[\"topic\"]],[24,[\"dropdownButtons\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"each\",[[24,[\"inlineButtons\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"id\",\"class\",\"action\",\"icon\",\"translatedLabel\",\"translatedTitle\",\"disabled\"],[[28,\"concat\",[\"topic-footer-button-\",[23,1,[\"id\"]]],null],[28,\"concat\",[\"btn-default topic-footer-button \",[23,1,[\"classNames\"]]],null],[23,1,[\"action\"]],[23,1,[\"icon\"]],[23,1,[\"label\"]],[23,1,[\"title\"]],[23,1,[\"disabled\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\",\"connectorTagName\"],[\"topic-footer-main-buttons-before-create\",[28,\"hash\",null,[[\"topic\"],[[24,[\"topic\"]]]]],\"\",\"span\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"topic\",\"details\",\"can_create_post\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"class\",\"icon\",\"action\",\"label\",\"title\"],[\"btn-primary create\",\"reply\",[24,[\"replyToPost\"]],\"topic.reply.title\",\"topic.reply.help\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\",\"connectorTagName\"],[\"after-topic-footer-main-buttons\",[28,\"hash\",null,[[\"topic\"],[[24,[\"topic\"]]]]],\"\",\"span\"]]],false],[0,\"\\n\\n  \"],[1,[28,\"pinned-button\",null,[[\"pinned\",\"topic\"],[[24,[\"topic\",\"pinned\"]],[24,[\"topic\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showNotificationsButton\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"topic-notifications-button\",null,[[\"notificationLevel\",\"topic\"],[[24,[\"topic\",\"details\",\"notification_level\"]],[24,[\"topic\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\",\"connectorTagName\"],[\"after-topic-footer-buttons\",[28,\"hash\",null,[[\"topic\"],[[24,[\"topic\"]]]]],\"\",\"span\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/topic-footer-buttons"}});
Ember.TEMPLATES["components/topic-join-group-notice"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"accessViaGroupText\"],false],[0,\"\\n\"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"label\"],[[24,[\"action\"]],\"btn-primary topic-join-group\",\"user-plus\",[24,[\"accessViaGroupButtonText\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/topic-join-group-notice"}});
Ember.TEMPLATES["components/topic-list-item"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"topicListItemContents\"],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/topic-list-item"}});
Ember.TEMPLATES["components/topic-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"topic\"],\"statements\":[[4,\"unless\",[[24,[\"skipHeader\"]]],null,{\"statements\":[[0,\"  \"],[7,\"thead\",true],[8],[0,\"\\n    \"],[1,[28,\"raw\",[\"topic-list-header\"],[[\"canBulkSelect\",\"toggleInTitle\",\"hideCategory\",\"showPosters\",\"showLikes\",\"showOpLikes\",\"order\",\"ascending\",\"sortable\",\"listTitle\",\"bulkSelectEnabled\"],[[24,[\"canBulkSelect\"]],[24,[\"toggleInTitle\"]],[24,[\"hideCategory\"]],[24,[\"showPosters\"]],[24,[\"showLikes\"]],[24,[\"showOpLikes\"]],[24,[\"order\"]],[24,[\"ascending\"]],[24,[\"sortable\"]],[24,[\"listTitle\"]],[24,[\"bulkSelectEnabled\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\",\"connectorTagName\"],[\"before-topic-list-body\",[28,\"hash\",null,[[\"topics\",\"selected\",\"bulkSelectEnabled\",\"lastVisitedTopic\",\"discoveryList\",\"hideCategory\"],[[24,[\"topics\"]],[24,[\"selected\"]],[24,[\"bulkSelectEnabled\"]],[24,[\"lastVisitedTopic\"]],[24,[\"discoveryList\"]],[24,[\"hideCategory\"]]]]],\"\",\"\"]]],false],[0,\"\\n\\n\"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"filteredTopics\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"topic-list-item\",null,[[\"topic\",\"bulkSelectEnabled\",\"showTopicPostBadges\",\"hideCategory\",\"showPosters\",\"showLikes\",\"showOpLikes\",\"expandGloballyPinned\",\"expandAllPinned\",\"lastVisitedTopic\",\"selected\",\"tagsForUser\"],[[23,1,[]],[24,[\"bulkSelectEnabled\"]],[24,[\"showTopicPostBadges\"]],[24,[\"hideCategory\"]],[24,[\"showPosters\"]],[24,[\"showLikes\"]],[24,[\"showOpLikes\"]],[24,[\"expandGloballyPinned\"]],[24,[\"expandAllPinned\"]],[24,[\"lastVisitedTopic\"]],[24,[\"selected\"]],[24,[\"tagsForUser\"]]]]],false],[0,\"\\n    \"],[1,[28,\"raw\",[\"list/visited-line\"],[[\"lastVisitedTopic\",\"topic\"],[[24,[\"lastVisitedTopic\"]],[23,1,[]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/topic-list"}});
Ember.TEMPLATES["components/topic-navigation"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[14,1,[[24,[\"info\"]]]],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/topic-navigation"}});
Ember.TEMPLATES["components/topic-post-badges"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"unread\"]]],null,{\"statements\":[[0,\"  \"],[7,\"a\",true],[11,\"href\",[29,[[22,\"url\"]]]],[10,\"class\",\"badge badge-notification unread\"],[11,\"title\",[29,[[28,\"i18n\",[\"topic.unread_posts\"],[[\"count\"],[[24,[\"unread\"]]]]]]]],[8],[1,[22,\"unread\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"newPosts\"]]],null,{\"statements\":[[0,\"  \"],[7,\"a\",true],[11,\"href\",[29,[[22,\"url\"]]]],[10,\"class\",\"badge badge-notification new-posts\"],[11,\"title\",[29,[[28,\"i18n\",[\"topic.total_unread_posts\"],[[\"count\"],[[24,[\"newPosts\"]]]]]]]],[8],[1,[22,\"newPosts\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"unseen\"]]],null,{\"statements\":[[0,\"  \"],[7,\"a\",true],[11,\"href\",[29,[[22,\"url\"]]]],[10,\"class\",\"badge badge-notification new-topic\"],[11,\"title\",[29,[[28,\"i18n\",[\"topic.new\"],null]]]],[8],[1,[22,\"newDotText\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/topic-post-badges"}});
Ember.TEMPLATES["components/topic-progress"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"unless\",[[24,[\"hideProgress\"]]],null,{\"statements\":[[0,\"  \"],[14,1],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showBackButton\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"progress-back-container\"],[8],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"label\",\"class\",\"action\",\"icon\"],[\"topic.timeline.back\",\"btn-primary progress-back\",[28,\"action\",[[23,0,[]],\"goBack\"],null],\"arrow-down\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"nav\",true],[10,\"id\",\"topic-progress\"],[11,\"title\",[29,[[28,\"i18n\",[\"topic.progress.title\"],null]]]],[11,\"class\",[29,[[28,\"if\",[[24,[\"hideProgress\"]],\"hidden\"],null]]]],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"nums\"],[8],[0,\"\\n    \"],[7,\"h4\",true],[8],[1,[22,\"progressPosition\"],false],[9],[7,\"span\",true],[11,\"class\",[29,[[28,\"if\",[[24,[\"hugeNumberOfPosts\"]],\"hidden\"],null]]]],[8],[0,\"\\n    \"],[7,\"span\",true],[8],[0,\"/\"],[9],[0,\"\\n    \"],[7,\"h4\",true],[8],[1,[24,[\"postStream\",\"filteredPostsCount\"]],false],[9],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/topic-progress"}});
Ember.TEMPLATES["components/topic-status"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"topicClosedArchived\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"topic-status\"],[11,\"title\",[22,\"closedArchivedTitle\"]],[8],[1,[22,\"closedArchivedIcon\"],false],[9]],\"parameters\":[]},null],[4,\"if\",[[24,[\"closedIcon\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"topic-status\"],[11,\"title\",[22,\"closedTitle\"]],[8],[1,[22,\"closedIcon\"],false],[9]],\"parameters\":[]},null],[4,\"if\",[[24,[\"archivedIcon\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"topic-status\"],[11,\"title\",[22,\"archivedTitle\"]],[8],[1,[22,\"archivedIcon\"],false],[9]],\"parameters\":[]},null],[4,\"if\",[[24,[\"topicWarning\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"topic-status\"],[11,\"title\",[22,\"warningTitle\"]],[8],[1,[22,\"warningIcon\"],false],[9]],\"parameters\":[]},null],[4,\"if\",[[24,[\"topicPinned\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"canAct\"]]],null,{\"statements\":[[7,\"a\",true],[10,\"href\",\"\"],[10,\"class\",\"topic-status\"],[11,\"title\",[22,\"pinnedTitle\"]],[8],[1,[22,\"pinnedIcon\"],false],[9]],\"parameters\":[]},{\"statements\":[[7,\"span\",true],[10,\"class\",\"topic-status\"],[11,\"title\",[22,\"pinnedTitle\"]],[8],[1,[22,\"pinnedIcon\"],false],[9]],\"parameters\":[]}]],\"parameters\":[]},null],[4,\"if\",[[24,[\"topicUnpinned\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"canAct\"]]],null,{\"statements\":[[7,\"a\",true],[10,\"href\",\"\"],[10,\"class\",\"topic-status\"],[11,\"title\",[22,\"unpinnedTitle\"]],[8],[1,[22,\"unpinnedIcon\"],false],[9]],\"parameters\":[]},{\"statements\":[[7,\"span\",true],[10,\"class\",\"topic-status\"],[11,\"title\",[22,\"unpinnedTitle\"]],[8],[1,[22,\"unpinnedIcon\"],false],[9]],\"parameters\":[]}]],\"parameters\":[]},null],[4,\"if\",[[24,[\"topicInvisible\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"topic-status\"],[11,\"title\",[22,\"invisibleTitle\"]],[8],[1,[22,\"invisibleIcon\"],false],[9]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/topic-status"}});
Ember.TEMPLATES["components/topic-timer-info"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"showTopicTimer\"]]],null,{\"statements\":[[0,\"  \"],[7,\"h3\",true],[10,\"class\",\"topic-timer-heading\"],[8],[0,\"\\n    \"],[7,\"span\",true],[11,\"title\",[29,[[22,\"title\"]]]],[8],[0,\"\\n      \"],[1,[22,\"clockIcon\"],false],[0,\" \"],[1,[22,\"notice\"],false],[0,\"\\n    \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"showTrashCan\"]]],null,{\"statements\":[[0,\"      \"],[7,\"button\",true],[10,\"class\",\"btn topic-timer-remove no-text\"],[11,\"title\",[29,[[22,\"trashCanTitle\"]]]],[8],[0,\"\\n        \"],[1,[22,\"trashCanIcon\"],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/topic-timer-info"}});
Ember.TEMPLATES["components/topic-title"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"title-wrapper\"],[8],[0,\"\\n    \"],[14,1],[0,\"\\n  \"],[9],[0,\"\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"topic-title\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/topic-title"}});
Ember.TEMPLATES["components/track-selected"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"input\",null,[[\"type\",\"checked\"],[\"checkbox\",[24,[\"selected\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/track-selected"}});
Ember.TEMPLATES["components/user-badge"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",true],[11,\"href\",[29,[[22,\"badgeUrl\"]]]],[8],[0,\"\\n\"],[4,\"badge-button\",null,[[\"badge\"],[[24,[\"badge\"]]]],{\"statements\":[[4,\"if\",[[24,[\"showGrantCount\"]]],null,{\"statements\":[[0,\"      \"],[7,\"span\",true],[10,\"class\",\"count\"],[8],[0,\"(\"],[1,[22,\"count\"],false],[0,\")\"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/user-badge"}});
Ember.TEMPLATES["components/user-card-contents"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"ub\",\"uf\"],\"statements\":[[4,\"if\",[[24,[\"visible\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"card-content\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"loading\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"card-row first-row\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"user-card-avatar\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"card-avatar-placeholder animated-placeholder placeholder-animation\"],[8],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"card-row second-row\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"animated-placeholder placeholder-animation\"],[8],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"card-row\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"animated-placeholder placeholder-animation\"],[8],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"card-row\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"animated-placeholder placeholder-animation\"],[8],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"card-row\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"animated-placeholder placeholder-animation\"],[8],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"card-row first-row\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"user-card-avatar\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"profile_hidden\"]]],null,{\"statements\":[[0,\"            \"],[7,\"span\",true],[10,\"class\",\"card-huge-avatar\"],[8],[1,[28,\"bound-avatar\",[[24,[\"user\"]],\"huge\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[7,\"a\",false],[12,\"href\",[29,[[24,[\"user\",\"path\"]]]]],[12,\"class\",\"card-huge-avatar\"],[3,\"action\",[[23,0,[]],\"showUser\",[24,[\"user\"]]]],[8],[1,[28,\"bound-avatar\",[[24,[\"user\"]],\"huge\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[4,\"if\",[[24,[\"user\",\"primary_group_name\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"avatar-flair\",null,[[\"flairURL\",\"flairBgColor\",\"flairColor\",\"groupName\"],[[24,[\"user\",\"primary_group_flair_url\"]],[24,[\"user\",\"primary_group_flair_bg_color\"]],[24,[\"user\",\"primary_group_flair_color\"]],[24,[\"user\",\"primary_group_name\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\"],[\"user-card-avatar-flair\",[28,\"hash\",null,[[\"user\"],[[24,[\"user\"]]]]],\"div\"]]],false],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"names\"],[8],[0,\"\\n          \"],[7,\"h1\",true],[11,\"class\",[29,[[22,\"staff\"],\" \",[22,\"newUser\"],\" \",[28,\"if\",[[24,[\"nameFirst\"]],\"full-name\",\"username\"],null]]]],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"profile_hidden\"]]],null,{\"statements\":[[0,\"              \"],[7,\"span\",true],[10,\"class\",\"name-username-wrapper\"],[8],[0,\"\\n                \"],[1,[28,\"if\",[[24,[\"nameFirst\"]],[24,[\"user\",\"name\"]],[28,\"format-username\",[[24,[\"username\"]]],null]],null],false],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"              \"],[7,\"a\",false],[12,\"href\",[29,[[24,[\"user\",\"path\"]]]]],[12,\"class\",\"user-profile-link\"],[3,\"action\",[[23,0,[]],\"showUser\",[24,[\"user\"]]]],[8],[0,\"\\n                \"],[7,\"span\",true],[10,\"class\",\"name-username-wrapper\"],[8],[0,\"\\n                  \"],[1,[28,\"if\",[[24,[\"nameFirst\"]],[24,[\"user\",\"name\"]],[28,\"format-username\",[[24,[\"username\"]]],null]],null],false],[0,\"\\n                \"],[9],[0,\"\\n                \"],[1,[28,\"user-status\",[[24,[\"user\"]]],[[\"currentUser\"],[[24,[\"currentUser\"]]]]],false],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"          \"],[9],[0,\"\\n          \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\"],[\"user-card-after-username\",[28,\"hash\",null,[[\"user\",\"showUser\"],[[24,[\"user\"]],[28,\"action\",[[23,0,[]],\"showUser\",[24,[\"user\"]]],null]]]],\"\"]]],false],[0,\"\\n\"],[4,\"unless\",[[24,[\"nameFirst\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"user\",\"name\"]]],null,{\"statements\":[[0,\"              \"],[7,\"h2\",true],[10,\"class\",\"full-name\"],[8],[1,[24,[\"user\",\"name\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[7,\"h2\",true],[10,\"class\",\"username\"],[8],[1,[22,\"username\"],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[4,\"if\",[[24,[\"user\",\"title\"]]],null,{\"statements\":[[0,\"            \"],[7,\"h2\",true],[8],[1,[24,[\"user\",\"title\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"user\",\"staged\"]]],null,{\"statements\":[[0,\"            \"],[7,\"h2\",true],[10,\"class\",\"staged\"],[8],[1,[28,\"i18n\",[\"user.staged\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\"],[\"user-card-post-names\",[28,\"hash\",null,[[\"user\"],[[24,[\"user\"]]]]],\"div\"]]],false],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"ul\",true],[10,\"class\",\"usercard-controls\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"can_send_private_message_to_user\"]]],null,{\"statements\":[[0,\"            \"],[7,\"li\",true],[10,\"class\",\"compose-pm\"],[8],[0,\"\\n              \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"composePM\",[24,[\"user\"]],[24,[\"post\"]]],null],\"envelope\",\"user.private_message\"]]],false],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showFilter\"]]],null,{\"statements\":[[0,\"            \"],[7,\"li\",true],[8],[0,\"\\n              \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"translatedLabel\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"togglePosts\",[24,[\"user\"]]],null],\"filter\",[24,[\"togglePostsLabel\"]]]]],false],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"hasUserFilters\"]]],null,{\"statements\":[[0,\"            \"],[7,\"li\",true],[8],[0,\"\\n              \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\"],[[28,\"action\",[[23,0,[]],\"cancelFilter\"],null],\"times\",\"topic.filters.cancel\"]]],false],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showDelete\"]]],null,{\"statements\":[[0,\"            \"],[7,\"li\",true],[8],[0,\"\\n              \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"actionParam\",\"icon\",\"label\"],[\"btn-danger\",[28,\"action\",[[23,0,[]],\"deleteUser\"],null],[24,[\"user\"]],\"exclamation-triangle\",\"admin.user.delete\"]]],false],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n        \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\"],[\"user-card-additional-controls\",[28,\"hash\",null,[[\"user\",\"close\"],[[24,[\"user\"]],[28,\"action\",[[23,0,[]],\"close\"],null]]]],\"\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"user\",\"profile_hidden\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"card-row second-row\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"profile-hidden\"],[8],[0,\"\\n            \"],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"user.profile_hidden\"],null],false],[9],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"isSuspendedOrHasBio\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"card-row second-row\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"suspend_reason\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"suspended\"],[8],[0,\"\\n              \"],[7,\"div\",true],[10,\"class\",\"suspension-date\"],[8],[0,\"\\n                \"],[1,[28,\"d-icon\",[\"ban\"],null],false],[0,\"\\n                \"],[1,[28,\"i18n\",[\"user.suspended_notice\"],[[\"date\"],[[24,[\"user\",\"suspendedTillDate\"]]]]],false],[0,\"\\n              \"],[9],[0,\"\\n              \"],[7,\"div\",true],[10,\"class\",\"suspension-reason\"],[8],[0,\"\\n                \"],[7,\"span\",true],[10,\"class\",\"suspension-reason-title\"],[8],[1,[28,\"i18n\",[\"user.suspended_reason\"],null],false],[9],[0,\"\\n                \"],[7,\"span\",true],[10,\"class\",\"suspension-reason-description\"],[8],[1,[24,[\"user\",\"suspend_reason\"]],false],[9],[0,\"\\n              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"user\",\"bio_excerpt\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[10,\"class\",\"bio\"],[8],[1,[28,\"text-overflow\",null,[[\"class\",\"text\"],[\"overflow\",[24,[\"user\",\"bio_excerpt\"]]]]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showFeaturedTopic\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"card-row\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"featured-topic\"],[8],[0,\"\\n            \"],[7,\"span\",true],[10,\"class\",\"desc\"],[8],[1,[28,\"i18n\",[\"user.featured_topic\"],null],false],[9],[0,\"\\n            \"],[4,\"link-to\",null,[[\"route\",\"models\"],[\"topic\",[28,\"array\",[[24,[\"user\",\"featured_topic\",\"slug\"]],[24,[\"user\",\"featured_topic\",\"id\"]]],null]]],{\"statements\":[[1,[24,[\"user\",\"featured_topic\",\"fancy_title\"]],true]],\"parameters\":[]},null],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"hasLocationOrWebsite\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"card-row\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"location-and-website\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"location\"]]],null,{\"statements\":[[0,\"              \"],[7,\"span\",true],[10,\"class\",\"location\"],[8],[1,[28,\"d-icon\",[\"map-marker-alt\"],null],false],[0,\"\\n                \"],[7,\"span\",true],[8],[1,[24,[\"user\",\"location\"]],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"user\",\"website_name\"]]],null,{\"statements\":[[0,\"              \"],[7,\"span\",true],[10,\"class\",\"website-name\"],[8],[0,\"\\n                \"],[1,[28,\"d-icon\",[\"globe\"],null],false],[0,\"\\n\"],[4,\"if\",[[24,[\"linkWebsite\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"a\",true],[11,\"href\",[29,[[24,[\"user\",\"website\"]]]]],[11,\"rel\",[28,\"unless\",[[24,[\"removeNoFollow\"]],\"nofollow ugc noopener\"],null]],[10,\"target\",\"_blank\"],[8],[1,[24,[\"user\",\"website_name\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                  \"],[7,\"span\",true],[11,\"title\",[24,[\"user\",\"website\"]]],[8],[1,[24,[\"user\",\"website_name\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-card-location-and-website\",[28,\"hash\",null,[[\"user\"],[[24,[\"user\"]]]]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"card-row\"],[8],[0,\"\\n\"],[4,\"unless\",[[24,[\"user\",\"profile_hidden\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"metadata\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"last_posted_at\"]]],null,{\"statements\":[[0,\"              \"],[7,\"h3\",true],[8],[7,\"span\",true],[10,\"class\",\"desc\"],[8],[1,[28,\"i18n\",[\"last_post\"],null],false],[9],[0,\"\\n                \"],[1,[28,\"format-date\",[[24,[\"user\",\"last_posted_at\"]]],[[\"leaveAgo\"],[\"true\"]]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[7,\"h3\",true],[8],[7,\"span\",true],[10,\"class\",\"desc\"],[8],[1,[28,\"i18n\",[\"joined\"],null],false],[9],[0,\"\\n              \"],[1,[28,\"format-date\",[[24,[\"user\",\"created_at\"]]],[[\"leaveAgo\"],[\"true\"]]],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"time_read\"]]],null,{\"statements\":[[0,\"              \"],[7,\"h3\",true],[11,\"title\",[29,[[22,\"timeReadTooltip\"]]]],[8],[0,\"\\n                \"],[7,\"span\",true],[10,\"class\",\"desc\"],[8],[1,[28,\"i18n\",[\"time_read\"],null],false],[9],[0,\"\\n                \"],[1,[28,\"format-duration\",[[24,[\"user\",\"time_read\"]]],null],false],[0,\"\\n\"],[4,\"if\",[[24,[\"showRecentTimeRead\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"span\",true],[8],[0,\"(\"],[1,[28,\"i18n\",[\"time_read_recently\"],[[\"time_read\"],[[24,[\"recentTimeRead\"]]]]],false],[0,\")\"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showCheckEmail\"]]],null,{\"statements\":[[0,\"              \"],[7,\"h3\",true],[10,\"class\",\"email\"],[8],[0,\"\\n                \"],[1,[28,\"d-icon\",[\"far-envelope\"],[[\"title\"],[\"user.email.title\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"email\"]]],null,{\"statements\":[[0,\"                  \"],[1,[24,[\"user\",\"email\"]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                  \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"icon\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"checkEmail\"],null],[24,[\"user\"]],\"far-envelope\",\"admin.users.check_email.text\",\"btn-primary\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-card-metadata\",[28,\"hash\",null,[[\"user\"],[[24,[\"user\"]]]]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-card-after-metadata\",[28,\"hash\",null,[[\"user\"],[[24,[\"user\"]]]]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"publicUserFields\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"card-row\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"public-user-fields\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"publicUserFields\"]]],null,{\"statements\":[[4,\"if\",[[23,2,[\"value\"]]],null,{\"statements\":[[0,\"                \"],[7,\"div\",true],[11,\"class\",[29,[\"public-user-field \",[23,2,[\"field\",\"dasherized_name\"]]]]],[8],[0,\"\\n                  \"],[7,\"span\",true],[10,\"class\",\"user-field-name\"],[8],[1,[23,2,[\"field\",\"name\"]],false],[0,\":\"],[9],[0,\"\\n                  \"],[7,\"span\",true],[10,\"class\",\"user-field-value\"],[8],[1,[23,2,[\"value\"]],false],[9],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[2]},null],[0,\"          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-card-before-badges\",[28,\"hash\",null,[[\"user\"],[[24,[\"user\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showBadges\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"card-row\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"featured_user_badges\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"badge-section\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"user\",\"featured_user_badges\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"user-badge\",null,[[\"badge\",\"user\"],[[23,1,[\"badge\"]],[24,[\"user\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[4,\"if\",[[24,[\"showMoreBadges\"]]],null,{\"statements\":[[0,\"                \"],[7,\"span\",true],[10,\"class\",\"more-user-badges\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"user.badges\",[24,[\"user\"]]]],{\"statements\":[[0,\"                    \"],[1,[28,\"i18n\",[\"badges.more_badges\"],[[\"count\"],[[24,[\"moreBadgesCount\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/user-card-contents"}});
Ember.TEMPLATES["components/user-fields/confirm"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"field\",\"name\"]]],null,{\"statements\":[[0,\"  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[11,\"for\",[29,[[28,\"concat\",[\"user-\",[24,[\"elementId\"]]],null]]]],[8],[0,\"\\n    \"],[1,[24,[\"field\",\"name\"]],true],[0,\"   \"],[4,\"if\",[[24,[\"field\",\"required\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"required\"],[8],[0,\"*\"],[9]],\"parameters\":[]},null],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label checkbox-label\"],[8],[0,\"\\n    \"],[1,[28,\"input\",null,[[\"id\",\"checked\",\"type\"],[[28,\"concat\",[\"user-\",[24,[\"elementId\"]]],null],[24,[\"value\"]],\"checkbox\"]]],false],[0,\"\\n    \"],[7,\"span\",true],[8],[0,\"\\n      \"],[1,[24,[\"field\",\"description\"]],true],[0,\"   \"],[4,\"unless\",[[24,[\"field\",\"name\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"field\",\"required\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"required\"],[8],[0,\"*\"],[9]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/user-fields/confirm"}});
Ember.TEMPLATES["components/user-fields/dropdown"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"label\",true],[10,\"class\",\"control-label\"],[11,\"for\",[29,[[28,\"concat\",[\"user-\",[24,[\"elementId\"]]],null]]]],[8],[1,[24,[\"field\",\"name\"]],true],[0,\" \"],[4,\"if\",[[24,[\"field\",\"required\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"required\"],[8],[0,\"*\"],[9]],\"parameters\":[]},null],[0,\"\\n\"],[9],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n  \"],[1,[28,\"combo-box\",null,[[\"id\",\"content\",\"valueProperty\",\"nameProperty\",\"value\",\"none\",\"onChange\"],[[28,\"concat\",[\"user-\",[24,[\"elementId\"]]],null],[24,[\"field\",\"options\"]],null,null,[24,[\"value\"]],[24,[\"noneLabel\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"value\"]]],null]],null]]]],false],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[24,[\"field\",\"description\"]],true],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/user-fields/dropdown"}});
Ember.TEMPLATES["components/user-fields/text"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"label\",true],[10,\"class\",\"control-label\"],[11,\"for\",[29,[[28,\"concat\",[\"user-\",[24,[\"elementId\"]]],null]]]],[8],[1,[24,[\"field\",\"name\"]],true],[0,\" \"],[4,\"if\",[[24,[\"field\",\"required\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"required\"],[8],[0,\"*\"],[9]],\"parameters\":[]},null],[0,\"\\n\"],[9],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n  \"],[1,[28,\"input\",null,[[\"id\",\"value\",\"maxlength\"],[[28,\"concat\",[\"user-\",[24,[\"elementId\"]]],null],[24,[\"value\"]],[24,[\"site\",\"user_field_max_length\"]]]]],false],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[24,[\"field\",\"description\"]],true],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/user-fields/text"}});
Ember.TEMPLATES["components/user-flag-percentage"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"showPercentage\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"user-flag-percentage\"],[11,\"title\",[24,[\"percentage\",\"title\"]]],[8],[0,\"\\n    \"],[7,\"span\",true],[11,\"class\",[29,[\"percentage-label \",[24,[\"percentage\",\"className\"]]]]],[8],[1,[24,[\"percentage\",\"label\"]],false],[9],[0,\"\\n    \"],[1,[28,\"d-icon\",[[24,[\"percentage\",\"icon\"]]],null],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/user-flag-percentage"}});
Ember.TEMPLATES["components/user-info"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"user-image\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"user-image-inner\"],[8],[0,\"\\n    \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"userPath\"]]],null]]]],[11,\"data-user-card\",[29,[[28,\"unbound\",[[24,[\"user\",\"username\"]]],null]]]],[8],[1,[28,\"avatar\",[[24,[\"user\"]]],[[\"imageSize\"],[\"large\"]]],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"primary_group_name\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"avatar-flair\",null,[[\"flairURL\",\"flairBgColor\",\"flairColor\",\"groupName\"],[[24,[\"user\",\"primary_group_flair_url\"]],[24,[\"user\",\"primary_group_flair_bg_color\"]],[24,[\"user\",\"primary_group_flair_color\"]],[24,[\"user\",\"primary_group_name\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"user-detail\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"name-line\"],[8],[0,\"\\n    \"],[7,\"span\",true],[10,\"class\",\"username\"],[8],[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"userPath\"]]],null]]]],[11,\"data-user-card\",[29,[[28,\"unbound\",[[24,[\"user\",\"username\"]]],null]]]],[8],[1,[28,\"format-username\",[[24,[\"user\",\"username\"]]],null],false],[9],[9],[0,\"\\n    \"],[7,\"span\",true],[10,\"class\",\"name\"],[8],[1,[28,\"unbound\",[[24,[\"name\"]]],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"title\"],[8],[1,[28,\"unbound\",[[24,[\"user\",\"title\"]]],null],false],[9],[0,\"\\n\\n\"],[4,\"if\",[[25,1]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"details\"],[8],[0,\"\\n      \"],[14,1],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/user-info"}});
Ember.TEMPLATES["components/user-profile-avatar"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"user-profile-avatar\"],[8],[0,\"\\n  \"],[1,[28,\"bound-avatar\",[[24,[\"user\"]],\"huge\"],null],false],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"primary_group_name\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"avatar-flair\",null,[[\"flairURL\",\"flairBgColor\",\"flairColor\",\"groupName\"],[[24,[\"user\",\"primary_group_flair_url\"]],[24,[\"user\",\"primary_group_flair_bg_color\"]],[24,[\"user\",\"primary_group_flair_color\"]],[24,[\"user\",\"primary_group_name\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\",\"tagName\"],[\"user-profile-avatar-flair\",[28,\"hash\",null,[[\"model\"],[[24,[\"user\"]]]]],\"div\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/user-profile-avatar"}});
Ember.TEMPLATES["components/user-stat"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"span\",true],[10,\"class\",\"value\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"isNumber\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"number\",[[24,[\"value\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"isDuration\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"format-duration\",[[24,[\"value\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[22,\"value\"],false],[0,\"\\n  \"]],\"parameters\":[]}]],\"parameters\":[]}],[9],[0,\"\\n\"],[7,\"span\",true],[10,\"class\",\"label\"],[8],[0,\"\\n  \"],[4,\"if\",[[24,[\"icon\"]]],null,{\"statements\":[[1,[28,\"d-icon\",[[24,[\"icon\"]]],null],false]],\"parameters\":[]},null],[0,\"\\n  \"],[1,[28,\"i18n\",[[24,[\"label\"]]],[[\"count\"],[[24,[\"value\"]]]]],true],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/user-stat"}});
Ember.TEMPLATES["components/user-stream-item"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"child\",\"grandChild\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"clearfix info\"],[8],[0,\"\\n  \"],[7,\"a\",true],[11,\"href\",[24,[\"item\",\"userUrl\"]]],[11,\"data-user-card\",[24,[\"item\",\"username\"]]],[10,\"class\",\"avatar-link\"],[8],[7,\"div\",true],[10,\"class\",\"avatar-wrapper\"],[8],[1,[28,\"avatar\",[[24,[\"item\"]]],[[\"imageSize\",\"extraClasses\",\"ignoreTitle\"],[\"large\",\"actor\",\"true\"]]],false],[9],[9],[0,\"\\n  \"],[7,\"span\",true],[10,\"class\",\"time\"],[8],[1,[28,\"format-date\",[[24,[\"item\",\"created_at\"]]],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"item\",\"draftType\"]]],null,{\"statements\":[[0,\"    \"],[7,\"span\",true],[10,\"class\",\"draft-type\"],[8],[1,[24,[\"item\",\"draftType\"]],true],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[28,\"expand-post\",null,[[\"item\"],[[24,[\"item\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[7,\"div\",true],[10,\"class\",\"stream-topic-details\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"stream-topic-title\"],[8],[0,\"\\n      \"],[1,[28,\"topic-status\",null,[[\"topic\",\"disableActions\"],[[24,[\"item\"]],true]]],false],[0,\"\\n      \"],[7,\"span\",true],[10,\"class\",\"title\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"item\",\"postUrl\"]]],null,{\"statements\":[[0,\"          \"],[7,\"a\",true],[11,\"href\",[24,[\"item\",\"postUrl\"]]],[8],[1,[24,[\"item\",\"title\"]],true],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[1,[24,[\"item\",\"title\"]],true],[0,\"\\n\"]],\"parameters\":[]}],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"category\"],[8],[1,[28,\"category-link\",[[24,[\"item\",\"category\"]]],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"item\",\"deleted_by\"]]],null,{\"statements\":[[0,\"    \"],[7,\"span\",true],[10,\"class\",\"delete-info\"],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"far-trash-alt\"],null],false],[0,\"\\n      \"],[1,[28,\"avatar\",[[24,[\"item\",\"deleted_by\"]]],[[\"imageSize\",\"extraClasses\",\"ignoreTitle\"],[\"tiny\",\"actor\",\"true\"]]],false],[0,\"\\n      \"],[1,[28,\"format-date\",[[24,[\"item\",\"deleted_at\"]]],[[\"leaveAgo\"],[\"true\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-stream-item-header\",[28,\"hash\",null,[[\"item\"],[[24,[\"item\"]]]]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"actionDescription\"]]],null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[10,\"class\",\"excerpt\"],[8],[1,[22,\"actionDescription\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"p\",true],[10,\"class\",\"excerpt\"],[11,\"data-topic-id\",[29,[[24,[\"item\",\"topic_id\"]]]]],[11,\"data-post-id\",[29,[[24,[\"item\",\"post_id\"]]]]],[11,\"data-user-id\",[29,[[24,[\"item\",\"user_id\"]]]]],[8],[4,\"if\",[[24,[\"item\",\"expandedExcerpt\"]]],null,{\"statements\":[[1,[24,[\"item\",\"expandedExcerpt\"]],true]],\"parameters\":[]},{\"statements\":[[1,[24,[\"item\",\"excerpt\"]],true]],\"parameters\":[]}],[9],[0,\"\\n\\n\"],[4,\"each\",[[24,[\"item\",\"children\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"user-stream-item-actions child-actions\"],[8],[0,\"\\n    \"],[1,[28,\"d-icon\",[[23,1,[\"icon\"]]],[[\"class\"],[\"icon\"]]],false],[0,\"\\n\"],[4,\"each\",[[23,1,[\"items\"]]],null,{\"statements\":[[4,\"if\",[[23,2,[\"removableBookmark\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-default remove-bookmark\",[28,\"action\",[[23,0,[]],[24,[\"removeBookmark\"]],[23,2,[]]],null],\"times\",\"bookmarks.remove\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"a\",true],[11,\"href\",[23,2,[\"userUrl\"]]],[11,\"data-user-card\",[23,2,[\"username\"]]],[10,\"class\",\"avatar-link\"],[8],[7,\"div\",true],[10,\"class\",\"avatar-wrapper\"],[8],[1,[28,\"avatar\",[[23,2,[]]],[[\"imageSize\",\"extraClasses\",\"ignoreTitle\",\"avatarTemplatePath\"],[\"tiny\",\"actor\",\"true\",\"acting_avatar_template\"]]],false],[9],[9],[0,\"\\n          \"],[4,\"if\",[[23,2,[\"edit_reason\"]]],null,{\"statements\":[[0,\"  \"],[7,\"span\",true],[10,\"class\",\"edit-reason\"],[8],[1,[23,2,[\"edit_reason\"]],false],[9]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[2]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"item\",\"editableDraft\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"user-stream-item-draft-actions\"],[8],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"icon\",\"label\",\"class\"],[[24,[\"resumeDraft\"]],[24,[\"item\"]],\"pencil-alt\",\"drafts.resume\",\"btn-default resume-draft\"]]],false],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"icon\",\"label\",\"class\"],[[24,[\"removeDraft\"]],[24,[\"item\"]],\"far-trash-alt\",\"drafts.remove\",\"btn-default remove-draft\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/user-stream-item"}});
Ember.TEMPLATES["components/user-stream"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"item\"],\"statements\":[[4,\"each\",[[24,[\"stream\",\"content\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"user-stream-item\",null,[[\"item\",\"removeBookmark\",\"resumeDraft\",\"removeDraft\"],[[23,1,[]],[28,\"action\",[[23,0,[]],\"removeBookmark\"],null],[28,\"action\",[[23,0,[]],\"resumeDraft\"],null],[28,\"action\",[[23,0,[]],\"removeDraft\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null]],\"hasEval\":false}","meta":{"moduleName":"components/user-stream"}});
Ember.TEMPLATES["components/user-summary-category-search"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"count\"]]],null,{\"statements\":[[4,\"link-to\",null,[[\"query\",\"route\"],[[28,\"hash\",null,[[\"q\"],[[24,[\"searchParams\"]]]]],\"full-page-search\"]],{\"statements\":[[0,\"    \"],[1,[22,\"count\"],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"  \\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/user-summary-category-search"}});
Ember.TEMPLATES["components/user-summary-section"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[7,\"h3\",true],[10,\"class\",\"stats-title\"],[8],[1,[28,\"i18n\",[[28,\"concat\",[\"user.summary.\",[24,[\"title\"]]],null]],null],false],[9],[0,\"\\n\"],[14,1],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/user-summary-section"}});
Ember.TEMPLATES["components/user-summary-topic"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"span\",true],[10,\"class\",\"topic-info\"],[8],[0,\"\\n  \"],[1,[28,\"format-date\",[[24,[\"createdAt\"]]],[[\"format\",\"noTitle\"],[\"tiny\",\"true\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"likes\"]]],null,{\"statements\":[[0,\"    \\n    \"],[1,[28,\"d-icon\",[\"heart\"],null],false],[0,\"\"],[7,\"span\",true],[10,\"class\",\"like-count\"],[8],[1,[28,\"number\",[[24,[\"likes\"]]],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"],[7,\"br\",true],[8],[9],[0,\"\\n\"],[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"url\"]]],null]]]],[8],[1,[24,[\"topic\",\"fancyTitle\"]],true],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"components/user-summary-topic"}});
Ember.TEMPLATES["components/user-summary-topics-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"item\",\"&default\"],\"statements\":[[4,\"if\",[[24,[\"items\"]]],null,{\"statements\":[[0,\"  \"],[7,\"ul\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"items\"]]],null,{\"statements\":[[0,\"      \"],[14,2,[[23,1,[]]]],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"hasMore\"]]],null,{\"statements\":[[0,\"    \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"class\",\"route\",\"model\"],[\"more\",[28,\"concat\",[\"userActivity.\",[24,[\"type\"]]],null],[24,[\"user\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[[28,\"concat\",[\"user.summary.more_\",[24,[\"type\"]]],null]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[[28,\"concat\",[\"user.summary.no_\",[24,[\"type\"]]],null]],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/user-summary-topics-list"}});
Ember.TEMPLATES["components/user-summary-user"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"user-info\",null,[[\"user\"],[[24,[\"user\"]]]],{\"statements\":[[0,\"  \"],[1,[28,\"d-icon\",[[24,[\"icon\"]]],null],false],[0,\"\\n  \"],[7,\"span\",true],[11,\"class\",[22,\"countClass\"]],[8],[1,[28,\"number\",[[24,[\"user\",\"count\"]]],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"components/user-summary-user"}});
Ember.TEMPLATES["components/user-summary-users-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"user\",\"&default\"],\"statements\":[[4,\"if\",[[24,[\"users\"]]],null,{\"statements\":[[0,\"  \"],[7,\"ul\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"users\"]]],null,{\"statements\":[[0,\"      \"],[14,2,[[23,1,[]]]],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[[28,\"concat\",[\"user.summary.\",[24,[\"none\"]]],null]],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"components/user-summary-users-list"}});
Ember.TEMPLATES["composer"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"composer-body\",null,[[\"composer\",\"showPreview\",\"openIfDraft\",\"typed\",\"cancelled\",\"save\"],[[24,[\"model\"]],[24,[\"showPreview\"]],[28,\"action\",[[23,0,[]],\"openIfDraft\"],null],[28,\"action\",[[23,0,[]],\"typed\"],null],[28,\"action\",[[23,0,[]],\"cancelled\"],null],[28,\"action\",[[23,0,[]],\"save\"],null]]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"grippie\"],[8],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"visible\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"composer-messages\",null,[[\"composer\",\"messageCount\",\"addLinkLookup\"],[[24,[\"model\"]],[24,[\"messageCount\"]],[28,\"action\",[[23,0,[]],\"addLinkLookup\"],null]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"viewOpenOrFullscreen\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[11,\"class\",[29,[\"reply-area \",[28,\"if\",[[24,[\"canEditTags\"]],\"with-tags\"],null]]]],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"composer-fields\"],[8],[0,\"\\n            \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"composer-open\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"reply-to\"],[8],[0,\"\\n\"],[4,\"unless\",[[24,[\"model\",\"viewFullscreen\"]]],null,{\"statements\":[[0,\"                \"],[7,\"div\",true],[10,\"class\",\"reply-details\"],[8],[0,\"\\n                  \"],[1,[28,\"composer-action-title\",null,[[\"model\",\"openComposer\",\"closeComposer\",\"canWhisper\",\"tabindex\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"openComposer\"],null],[28,\"action\",[[23,0,[]],\"closeComposer\"],null],[24,[\"canWhisper\"]],8]]],false],[0,\"\\n                  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"noTags\",\"args\"],[\"composer-action-after\",true,[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"unless\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"isWhispering\"]]],null,{\"statements\":[[0,\"                      \"],[7,\"span\",true],[10,\"class\",\"whisper\"],[8],[1,[28,\"d-icon\",[\"far-eye-slash\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"unlistTopic\"]]],null,{\"statements\":[[0,\"                      \"],[7,\"span\",true],[10,\"class\",\"whisper\"],[8],[0,\"(\"],[1,[28,\"i18n\",[\"composer.unlist\"],null],false],[0,\")\"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"noBump\"]]],null,{\"statements\":[[0,\"                      \"],[7,\"span\",true],[10,\"class\",\"no-bump\"],[8],[1,[28,\"d-icon\",[\"anchor\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canEdit\"]]],null,{\"statements\":[[4,\"link-to-input\",null,[[\"onClick\",\"showInput\",\"icon\",\"class\"],[[28,\"action\",[[23,0,[]],\"displayEditReason\"],null],[24,[\"showEditReason\"]],\"info-circle\",\"display-edit-reason\"]],{\"statements\":[[0,\"                      \"],[1,[28,\"text-field\",null,[[\"value\",\"tabindex\",\"id\",\"maxlength\",\"placeholderKey\"],[[24,[\"editReason\"]],\"7\",\"edit-reason\",\"255\",\"composer.edit_reason_placeholder\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"              \"],[1,[28,\"composer-toggles\",null,[[\"composeState\",\"toggleComposer\",\"toggleToolbar\",\"toggleFullscreen\"],[[24,[\"model\",\"composeState\"]],[28,\"action\",[[23,0,[]],\"toggle\"],null],[28,\"action\",[[23,0,[]],\"toggleToolbar\"],null],[28,\"action\",[[23,0,[]],\"fullscreenComposer\"],null]]]],false],[0,\"\\n            \"],[9],[0,\"\\n\"],[4,\"unless\",[[24,[\"model\",\"viewFullscreen\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"model\",\"canEditTitle\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"model\",\"creatingPrivateMessage\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"div\",true],[10,\"class\",\"user-selector\"],[8],[0,\"\\n                    \"],[1,[28,\"composer-user-selector\",null,[[\"topicId\",\"usernames\",\"hasGroups\",\"focusTarget\",\"class\"],[[24,[\"topicModel\",\"id\"]],[24,[\"model\",\"targetRecipients\"]],[24,[\"model\",\"hasTargetGroups\"]],[24,[\"focusTarget\"]],\"users-input\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"showWarning\"]]],null,{\"statements\":[[0,\"                      \"],[7,\"label\",true],[10,\"class\",\"add-warning\"],[8],[0,\"\\n                        \"],[1,[28,\"input\",null,[[\"type\",\"checked\",\"tabindex\"],[\"checkbox\",[24,[\"model\",\"isWarning\"]],\"3\"]]],false],[0,\"\\n                        \"],[1,[28,\"i18n\",[\"composer.add_warning\"],null],false],[0,\"\\n                      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n                \"],[7,\"div\",true],[11,\"class\",[29,[\"title-and-category \",[28,\"if\",[[24,[\"showPreview\"]],\"with-preview\"],null]]]],[8],[0,\"\\n\\n                  \"],[1,[28,\"composer-title\",null,[[\"composer\",\"lastValidatedAt\",\"focusTarget\"],[[24,[\"model\"]],[24,[\"lastValidatedAt\"]],[24,[\"focusTarget\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"showCategoryChooser\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"div\",true],[10,\"class\",\"category-input\"],[8],[0,\"\\n                      \"],[1,[28,\"category-chooser\",null,[[\"value\",\"tabindex\",\"onChange\",\"isDisabled\",\"options\"],[[24,[\"model\",\"categoryId\"]],\"3\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"categoryId\"]]],null]],null],[24,[\"disableCategoryChooser\"]],[28,\"hash\",null,[[\"scopedCategoryId\"],[[24,[\"scopedCategoryId\"]]]]]]]],false],[0,\"\\n                      \"],[1,[28,\"popup-input-tip\",null,[[\"validation\"],[[24,[\"categoryValidation\"]]]]],false],[0,\"\\n                    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"canEditTags\"]]],null,{\"statements\":[[0,\"                    \"],[1,[28,\"mini-tag-chooser\",null,[[\"value\",\"tabindex\",\"isDisabled\",\"onChange\",\"options\"],[[24,[\"model\",\"tags\"]],4,[24,[\"disableTagsChooser\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"tags\"]]],null]],null],[28,\"hash\",null,[[\"categoryId\",\"minimum\"],[[24,[\"model\",\"categoryId\"]],[24,[\"model\",\"minimumRequiredTags\"]]]]]]]],false],[0,\"\\n                    \"],[1,[28,\"popup-input-tip\",null,[[\"validation\"],[[24,[\"tagValidation\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n              \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"composer-fields\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n          \"],[9],[0,\"\\n\\n          \"],[1,[28,\"composer-editor\",null,[[\"topic\",\"composer\",\"lastValidatedAt\",\"canWhisper\",\"storeToolbarState\",\"onPopupMenuAction\",\"showUploadModal\",\"popupMenuOptions\",\"draftStatus\",\"isUploading\",\"allowUpload\",\"uploadIcon\",\"isCancellable\",\"uploadProgress\",\"groupsMentioned\",\"cannotSeeMention\",\"importQuote\",\"togglePreview\",\"showToolbar\",\"afterRefresh\",\"focusTarget\"],[[24,[\"topic\"]],[24,[\"model\"]],[24,[\"lastValidatedAt\"]],[24,[\"canWhisper\"]],[28,\"action\",[[23,0,[]],\"storeToolbarState\"],null],[28,\"action\",[[23,0,[]],\"onPopupMenuAction\"],null],[28,\"route-action\",[\"showUploadSelector\"],null],[24,[\"popupMenuOptions\"]],[24,[\"model\",\"draftStatus\"]],[24,[\"isUploading\"]],[24,[\"allowUpload\"]],[24,[\"uploadIcon\"]],[24,[\"isCancellable\"]],[24,[\"uploadProgress\"]],[28,\"action\",[[23,0,[]],\"groupsMentioned\"],null],[28,\"action\",[[23,0,[]],\"cannotSeeMention\"],null],[28,\"action\",[[23,0,[]],\"importQuote\"],null],[28,\"action\",[[23,0,[]],\"togglePreview\"],null],[24,[\"showToolbar\"]],[28,\"action\",[[23,0,[]],\"afterRefresh\"],null],[24,[\"focusTarget\"]]]]],false],[0,\"\\n\\n          \"],[7,\"div\",true],[10,\"class\",\"submit-panel\"],[8],[0,\"\\n            \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"composer-fields-below\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n            \"],[7,\"div\",true],[10,\"class\",\"save-or-cancel\"],[8],[0,\"\\n\"],[4,\"unless\",[[24,[\"model\",\"viewFullscreen\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"composer-save-button\",null,[[\"action\",\"icon\",\"label\",\"disableSubmit\"],[[28,\"action\",[[23,0,[]],\"save\"],null],[24,[\"saveIcon\"]],[24,[\"saveLabel\"]],[24,[\"disableSubmit\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"                \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"cancel\"],[12,\"tabindex\",\"6\"],[12,\"title\",[29,[[28,\"i18n\",[\"cancel\"],null]]]],[3,\"action\",[[23,0,[]],\"cancel\"]],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canEdit\"]]],null,{\"statements\":[[0,\"                    \"],[1,[28,\"d-icon\",[\"times\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                    \"],[1,[28,\"d-icon\",[\"far-trash-alt\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"cancel\"],[12,\"tabindex\",\"6\"],[3,\"action\",[[23,0,[]],\"cancel\"]],[8],[1,[28,\"i18n\",[\"cancel\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"whisperOrUnlistTopic\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"span\",true],[10,\"class\",\"whisper\"],[8],[0,\"\\n                    \"],[1,[28,\"d-icon\",[\"far-eye-slash\"],null],false],[0,\"\\n                  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"noBump\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"span\",true],[10,\"class\",\"no-bump\"],[8],[1,[28,\"d-icon\",[\"anchor\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"isUploading\"]]],null,{\"statements\":[[0,\"                \"],[7,\"div\",true],[10,\"id\",\"file-uploading\"],[8],[0,\"\\n                  \"],[1,[28,\"loading-spinner\",null,[[\"size\"],[\"small\"]]],false],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"upload_selector.uploading\"],null],false],[0,\" \"],[1,[22,\"uploadProgress\"],false],[0,\"%\"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"isCancellable\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"id\",\"cancel-file-upload\"],[3,\"action\",[[23,0,[]],\"cancelUpload\"]],[8],[1,[28,\"d-icon\",[\"times\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"              \"],[7,\"div\",true],[10,\"id\",\"draft-status\"],[11,\"class\",[29,[[28,\"if\",[[24,[\"isUploading\"]],\"hidden\"],null]]]],[8],[0,\"\\n                \"],[4,\"if\",[[24,[\"model\",\"draftSaving\"]]],null,{\"statements\":[[7,\"div\",true],[10,\"class\",\"spinner small\"],[8],[9]],\"parameters\":[]},null],[0,\"\\n                \"],[4,\"if\",[[24,[\"model\",\"draftSaved\"]]],null,{\"statements\":[[1,[28,\"d-icon\",[\"check\"],[[\"class\"],[\"save-animation\"]]],false]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"draftStatus\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"span\",true],[11,\"title\",[29,[[24,[\"model\",\"draftStatus\"]]]]],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"draftConflictUser\"]]],null,{\"statements\":[[0,\"                      \"],[1,[28,\"avatar\",[[24,[\"model\",\"draftConflictUser\"]]],[[\"imageSize\"],[\"small\"]]],false],[0,\" \"],[1,[28,\"d-icon\",[\"user-edit\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                      \"],[1,[28,\"d-icon\",[\"sync-alt\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[4,\"unless\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"                      \"],[1,[24,[\"model\",\"draftStatus\"]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"allowUpload\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"a\",true],[11,\"class\",[29,[\"btn btn-default no-text mobile-file-upload \",[28,\"if\",[[24,[\"isUploading\"]],\"hidden\"],null]]]],[8],[0,\"\\n                    \"],[1,[28,\"d-icon\",[[24,[\"uploadIcon\"]]],null],false],[0,\"\\n                  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n                \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"btn btn-default no-text mobile-preview\"],[12,\"title\",[29,[[28,\"i18n\",[\"composer.show_preview\"],null]]]],[3,\"action\",[[23,0,[]],\"togglePreview\"]],[8],[0,\"\\n                  \"],[1,[28,\"d-icon\",[\"desktop\"],null],false],[0,\"\\n                \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showPreview\"]]],null,{\"statements\":[[0,\"                  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"togglePreview\"],null],\"hide-preview\",\"composer.hide_preview\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"                \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"toggle-preview\"],[3,\"action\",[[23,0,[]],\"togglePreview\"]],[8],[1,[22,\"toggleText\"],true],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"saving-text\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"createdPost\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"composer.saved\"],null],false],[0,\" \"],[7,\"a\",false],[12,\"class\",\"permalink\"],[12,\"href\",[29,[[28,\"unbound\",[[24,[\"createdPost\",\"url\"]]],null]]]],[3,\"action\",[[23,0,[]],\"viewNewReply\"]],[8],[1,[28,\"i18n\",[\"composer.view_new_post\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"composer.saving\"],null],false],[0,\" \"],[1,[28,\"loading-spinner\",null,[[\"size\"],[\"small\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[9],[0,\"\\n\\n        \"],[7,\"div\",true],[10,\"class\",\"draft-text\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"topic\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"d-icon\",[\"share\"],null],false],[0,\" \"],[1,[22,\"draftTitle\"],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"composer.saved_draft\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[9],[0,\"\\n\\n        \"],[1,[28,\"composer-toggles\",null,[[\"composeState\",\"toggleFullscreen\",\"toggleComposer\",\"toggleToolbar\"],[[24,[\"model\",\"composeState\"]],[28,\"action\",[[23,0,[]],\"openIfDraft\"],null],[28,\"action\",[[23,0,[]],\"toggle\"],null],[28,\"action\",[[23,0,[]],\"toggleToolbar\"],null]]]],false],[0,\"\\n\\n\"]],\"parameters\":[]}],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"composer"}});
Ember.TEMPLATES["composer/custom-body"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"close\"],[3,\"action\",[[23,0,[]],\"closeMessage\"]],[8],[1,[28,\"d-icon\",[\"times\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"message\",\"title\"]]],null,{\"statements\":[[7,\"h3\",true],[8],[1,[24,[\"message\",\"title\"]],false],[9]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"p\",true],[8],[1,[24,[\"message\",\"body\"]],true],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"composer/custom-body"}});
Ember.TEMPLATES["composer/education"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"close\"],[3,\"action\",[[23,0,[]],\"closeMessage\"]],[8],[1,[28,\"d-icon\",[\"times\"],null],false],[9],[0,\"\\n\"],[1,[24,[\"message\",\"body\"]],true],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"composer/education"}});
Ember.TEMPLATES["composer/group-mentioned"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"close\"],[3,\"action\",[[23,0,[]],\"closeMessage\"]],[8],[1,[28,\"d-icon\",[\"times\"],null],false],[9],[0,\"\\n\"],[1,[24,[\"message\",\"body\"]],true],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"composer/group-mentioned"}});
Ember.TEMPLATES["composer/similar-topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"close\"],[3,\"action\",[[23,0,[]],\"closeMessage\"]],[8],[1,[28,\"d-icon\",[\"times\"],null],false],[9],[0,\"\\n\"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"composer.similar_topics\"],null],false],[9],[0,\"\\n\\n\"],[7,\"ul\",true],[10,\"class\",\"topics\"],[8],[0,\"\\n  \"],[1,[28,\"mount-widget\",null,[[\"widget\",\"args\"],[\"search-result-topic\",[28,\"hash\",null,[[\"results\"],[[24,[\"message\",\"similarTopics\"]]]]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"composer/similar-topics"}});
Ember.TEMPLATES["discovery"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"errorHtml\"]]],null,{\"statements\":[[0,\"  \"],[1,[22,\"errorHtml\"],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n    \"],[1,[28,\"discourse-banner\",null,[[\"user\",\"banner\"],[[24,[\"currentUser\"]],[24,[\"site\",\"banner\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"list-controls\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n      \"],[1,[28,\"outlet\",[\"navigation-bar\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]]],false],[0,\"\\n\\n  \"],[7,\"div\",true],[11,\"class\",[29,[\"container list-container \",[28,\"if\",[[24,[\"loading\"]],\"hidden\"],null]]]],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"full-width\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"id\",\"header-list-area\"],[8],[0,\"\\n          \"],[1,[28,\"outlet\",[\"header-list-container\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"full-width\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"id\",\"list-area\"],[8],[0,\"\\n          \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"discovery-list-container-top\",[28,\"hash\",null,[[\"category\",\"listLoading\"],[[24,[\"category\"]],[24,[\"loading\"]]]]]]]],false],[0,\"\\n          \"],[1,[28,\"outlet\",[\"list-container\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\"],[\"discovery-below\"]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"discovery"}});
Ember.TEMPLATES["discovery/categories"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"discovery-categories\",null,[[\"refresh\"],[[28,\"action\",[[23,0,[]],\"refresh\"],null]]],{\"statements\":[[0,\"  \"],[1,[28,\"component\",[[24,[\"categoryPageStyle\"]]],[[\"categories\",\"latestTopicOnly\",\"topics\"],[[24,[\"model\",\"categories\"]],[24,[\"latestTopicOnly\"]],[24,[\"model\",\"topics\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"discovery/categories"}});
Ember.TEMPLATES["discovery/topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"discoveryTopicList\"],\"statements\":[[4,\"if\",[[24,[\"redirectedReason\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"alert alert-info\"],[8],[1,[22,\"redirectedReason\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showDismissAtTop\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"showDismissRead\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"id\",\"action\",\"title\",\"label\"],[\"btn-default dismiss-read\",\"dismiss-topics-top\",[28,\"action\",[[23,0,[]],\"dismissReadPosts\"],null],\"topics.bulk.dismiss_tooltip\",\"topics.bulk.dismiss_button\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showResetNew\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"id\",\"action\",\"icon\",\"label\"],[\"btn-default dismiss-read\",\"dismiss-new-top\",[28,\"action\",[[23,0,[]],\"resetNew\"],null],\"check\",\"topics.bulk.dismiss_new\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"sharedDrafts\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"topic-list\",null,[[\"class\",\"listTitle\",\"top\",\"hideCategory\",\"category\",\"topics\",\"discoveryList\"],[\"shared-drafts\",\"shared_drafts.title\",[24,[\"top\"]],\"true\",[24,[\"category\"]],[24,[\"model\",\"sharedDrafts\"]],true]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"bulk-select-button\",null,[[\"selected\",\"action\",\"category\"],[[24,[\"selected\"]],[28,\"action\",[[23,0,[]],\"refresh\"],null],[24,[\"category\"]]]]],false],[0,\"\\n\\n\"],[4,\"discovery-topics-list\",null,[[\"model\",\"refresh\",\"incomingCount\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"refresh\"],null],[24,[\"topicTrackingState\",\"incomingCount\"]]]],{\"statements\":[[4,\"if\",[[24,[\"top\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"top-lists\"],[8],[0,\"\\n      \"],[1,[28,\"period-chooser\",null,[[\"period\",\"action\"],[[24,[\"period\"]],[28,\"action\",[[23,0,[]],\"changePeriod\"],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"topicTrackingState\",\"hasIncoming\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[11,\"class\",[29,[\"show-more \",[28,\"if\",[[24,[\"hasTopics\"]],\"has-topics\"],null]]]],[8],[0,\"\\n        \"],[7,\"a\",false],[12,\"class\",\"alert alert-info clickable\"],[12,\"tabindex\",\"0\"],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"showInserted\"]],[8],[0,\"\\n          \"],[1,[28,\"count-i18n\",null,[[\"key\",\"suffix\",\"count\"],[\"topic_count_\",[24,[\"topicTrackingState\",\"filter\"]],[24,[\"topicTrackingState\",\"incomingCount\"]]]]],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"\\n\"],[4,\"if\",[[24,[\"hasTopics\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"topic-list\",null,[[\"highlightLastVisited\",\"top\",\"showTopicPostBadges\",\"showPosters\",\"canBulkSelect\",\"changeSort\",\"toggleBulkSelect\",\"hideCategory\",\"order\",\"ascending\",\"bulkSelectEnabled\",\"selected\",\"expandGloballyPinned\",\"expandAllPinned\",\"category\",\"topics\",\"discoveryList\",\"scrollOnLoad\",\"onScroll\"],[true,[24,[\"top\"]],[24,[\"showTopicPostBadges\"]],true,[24,[\"canBulkSelect\"]],[28,\"action\",[[23,0,[]],\"changeSort\"],null],[28,\"action\",[[23,0,[]],\"toggleBulkSelect\"],null],[24,[\"model\",\"hideCategory\"]],[24,[\"order\"]],[24,[\"ascending\"]],[24,[\"bulkSelectEnabled\"]],[24,[\"selected\"]],[24,[\"expandGloballyPinned\"]],[24,[\"expandAllPinned\"]],[24,[\"category\"]],[24,[\"model\",\"topics\"]],true,true,[23,1,[\"saveScrollPosition\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[1]},null],[0,\"\\n\"],[7,\"footer\",true],[10,\"class\",\"topic-list-bottom\"],[8],[0,\"\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loadingMore\"]]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"allLoaded\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"showDismissRead\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"id\",\"action\",\"title\",\"label\"],[\"btn-default dismiss-read\",\"dismiss-topics\",[28,\"action\",[[23,0,[]],\"dismissReadPosts\"],null],\"topics.bulk.dismiss_tooltip\",\"topics.bulk.dismiss_button\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showResetNew\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"id\",\"icon\",\"label\"],[\"btn-default dismiss-read\",[28,\"action\",[[23,0,[]],\"resetNew\"],null],\"dismiss-new\",\"check\",\"topics.bulk.dismiss_new\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"footer-message\",null,[[\"education\",\"message\"],[[24,[\"footerEducation\"]],[24,[\"footerMessage\"]]]],{\"statements\":[[4,\"if\",[[24,[\"latest\"]]],null,{\"statements\":[[0,\"        \"],[4,\"if\",[[24,[\"canCreateTopicOnCategory\"]]],null,{\"statements\":[[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"createTopic\"]],[8],[1,[28,\"i18n\",[\"topic.suggest_create_topic\"],null],false],[9]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"top\"]]],null,{\"statements\":[[0,\"        \"],[4,\"link-to\",null,[[\"route\"],[\"discovery.categories\"]],{\"statements\":[[1,[28,\"i18n\",[\"topic.browse_all_categories\"],null],false]],\"parameters\":[]},null],[0,\", \"],[4,\"link-to\",null,[[\"route\"],[\"discovery.latest\"]],{\"statements\":[[1,[28,\"i18n\",[\"topic.view_latest_topics\"],null],false]],\"parameters\":[]},null],[0,\" \"],[1,[28,\"i18n\",[\"or\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"filters.top.other_periods\"],null],false],[0,\"\\n        \"],[1,[28,\"top-period-buttons\",null,[[\"period\",\"action\"],[[24,[\"period\"]],[28,\"action\",[[23,0,[]],\"changePeriod\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[4,\"link-to\",null,[[\"route\"],[\"discovery.categories\"]],{\"statements\":[[0,\" \"],[1,[28,\"i18n\",[\"topic.browse_all_categories\"],null],false]],\"parameters\":[]},null],[0,\" \"],[1,[28,\"i18n\",[\"or\"],null],false],[0,\" \"],[4,\"link-to\",null,[[\"route\"],[\"discovery.latest\"]],{\"statements\":[[1,[28,\"i18n\",[\"topic.view_latest_topics\"],null],false]],\"parameters\":[]},null],[0,\"\\n      \"]],\"parameters\":[]}]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"discovery/topics"}});
Ember.TEMPLATES["email-login"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"container email-login clearfix\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"pull-left col-image\"],[8],[0,\"\\n    \"],[7,\"img\",true],[11,\"src\",[22,\"lockImageUrl\"]],[10,\"class\",\"password-reset-img\"],[8],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"pull-left col-form\"],[8],[0,\"\\n    \"],[7,\"form\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"error\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[0,\"\\n          \"],[1,[24,[\"model\",\"error\"]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"can_login\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"secondFactorRequired\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"model\",\"security_key_required\"]]],null,{\"statements\":[[4,\"security-key-form\",null,[[\"allowedCredentialIds\",\"challenge\",\"showSecurityKey\",\"showSecondFactor\",\"secondFactorMethod\",\"otherMethodAllowed\",\"action\"],[[24,[\"model\",\"allowed_credential_ids\"]],[24,[\"model\",\"security_key_challenge\"]],[24,[\"model\",\"security_key_required\"]],false,[24,[\"secondFactorMethod\"]],[24,[\"secondFactorRequired\"]],[28,\"action\",[[23,0,[]],\"authenticateSecurityKey\"],null]]],{\"statements\":[],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[4,\"second-factor-form\",null,[[\"secondFactorMethod\",\"secondFactorToken\",\"backupEnabled\",\"isLogin\"],[[24,[\"secondFactorMethod\"]],[24,[\"secondFactorToken\"]],[24,[\"model\",\"backup_codes_enabled\"]],true]],{\"statements\":[[0,\"              \"],[1,[28,\"second-factor-input\",null,[[\"value\",\"secondFactorMethod\",\"backupEnabled\"],[[24,[\"secondFactorToken\"]],[24,[\"secondFactorMethod\"]],[24,[\"backupEnabled\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"email_login.confirm_title\"],[[\"site_name\"],[[24,[\"siteSettings\",\"title\"]]]]],false],[9],[0,\"\\n          \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"email_login.logging_in_as\"],[[\"email\"],[[24,[\"model\",\"token_email\"]]]]],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n\"],[4,\"unless\",[[24,[\"model\",\"security_key_required\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"d-button\",null,[[\"label\",\"action\",\"type\",\"class\"],[\"email_login.confirm_button\",[28,\"action\",[[23,0,[]],\"finishLogin\"],null],\"submit\",\"btn-primary\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"email-login"}});
Discourse.RAW_TEMPLATES["emoji-picker-recent"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "  <button style=\"background-image: url('"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji.src",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":40},"end":{"line":2,"column":53}}}))
    + "')\" type=\"button\" class=\"emoji\" tabindex=\"-1\" title=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji.code",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":106},"end":{"line":2,"column":120}}}))
    + "\"></button>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji","in","recentEmojis",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":3,"column":9}}})) != null ? stack1 : "");
},"useData":true});
Discourse.RAW_TEMPLATES["emoji-picker"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "      <div class='section' data-section='ungrouped'>\n        <div class='section-header'>\n          <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.custom",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3463,"column":30},"end":{"line":3463,"column":60}}}))
    + "</span>\n        </div>\n        <div class='section-group'>\n"
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji","in","customEmojis",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(2, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":3466,"column":10},"end":{"line":3468,"column":19}}})) != null ? stack1 : "")
    + "        </div>\n      </div>\n";
},"2":function(container,depth0,helpers,partials,data) {
    return "            <button style=\"background-url: url(\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji.src",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3467,"column":48},"end":{"line":3467,"column":61}}}))
    + "\")\" type=\"button\" class=\"emoji\" tabindex=\"-1\" title=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji.code",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3467,"column":114},"end":{"line":3467,"column":128}}}))
    + "\"></button>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<div class='categories-column'>\n  <div class='category-icon'>\n    <button type=\"button\" class=\"emoji\" tabindex=\"-1\" title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.recent",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3,"column":61},"end":{"line":3,"column":91}}}))
    + "\" data-section=\"recent\" data-tabicon=\"star\"></button>\n  </div>\n\n  \n    <div class='category-icon'>\n    <button type=\"button\" class=\"emoji\" tabindex=\"-1\" data-tabicon=\"grinning\" data-section=\"smileys_&_emotion\" title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.smileys_&_emotion",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":118},"end":{"line":8,"column":159}}}))
    + "\"></button>\n    </div>\n  \n    <div class='category-icon'>\n    <button type=\"button\" class=\"emoji\" tabindex=\"-1\" data-tabicon=\"wave\" data-section=\"people_&_body\" title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.people_&_body",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":12,"column":110},"end":{"line":12,"column":147}}}))
    + "\"></button>\n    </div>\n  \n    <div class='category-icon'>\n    <button type=\"button\" class=\"emoji\" tabindex=\"-1\" data-tabicon=\"evergreen_tree\" data-section=\"animals_&_nature\" title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.animals_&_nature",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":16,"column":123},"end":{"line":16,"column":163}}}))
    + "\"></button>\n    </div>\n  \n    <div class='category-icon'>\n    <button type=\"button\" class=\"emoji\" tabindex=\"-1\" data-tabicon=\"hamburger\" data-section=\"food_&_drink\" title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.food_&_drink",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":20,"column":114},"end":{"line":20,"column":150}}}))
    + "\"></button>\n    </div>\n  \n    <div class='category-icon'>\n    <button type=\"button\" class=\"emoji\" tabindex=\"-1\" data-tabicon=\"airplane\" data-section=\"travel_&_places\" title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.travel_&_places",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":24,"column":116},"end":{"line":24,"column":155}}}))
    + "\"></button>\n    </div>\n  \n    <div class='category-icon'>\n    <button type=\"button\" class=\"emoji\" tabindex=\"-1\" data-tabicon=\"soccer\" data-section=\"activities\" title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.activities",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":28,"column":109},"end":{"line":28,"column":143}}}))
    + "\"></button>\n    </div>\n  \n    <div class='category-icon'>\n    <button type=\"button\" class=\"emoji\" tabindex=\"-1\" data-tabicon=\"eyeglasses\" data-section=\"objects\" title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.objects",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":32,"column":110},"end":{"line":32,"column":141}}}))
    + "\"></button>\n    </div>\n  \n    <div class='category-icon'>\n    <button type=\"button\" class=\"emoji\" tabindex=\"-1\" data-tabicon=\"white_check_mark\" data-section=\"symbols\" title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.symbols",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":36,"column":116},"end":{"line":36,"column":147}}}))
    + "\"></button>\n    </div>\n  \n    <div class='category-icon'>\n    <button type=\"button\" class=\"emoji\" tabindex=\"-1\" data-tabicon=\"checkered_flag\" data-section=\"flags\" title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.flags",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":40,"column":112},"end":{"line":40,"column":141}}}))
    + "\"></button>\n    </div>\n  \n\n  \n</div>\n\n<div class='main-column'>\n  <div class='filter'>\n    "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"search",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":23}}}))
    + "\n    <input type='text' name=\"filter\" placeholder=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.filter_placeholder",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":50,"column":50},"end":{"line":50,"column":92}}}))
    + "\" autocomplete=\"discourse\"/>\n    <button class='clear-filter'>\n      "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"times",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":52,"column":6},"end":{"line":52,"column":24}}}))
    + "\n    </button>\n  </div>\n\n  <div class='results'></div>\n\n  <div class='list'>\n    <div class='section' data-section='recent'>\n      <div class='section-header'>\n        <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.recent",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":61,"column":28},"end":{"line":61,"column":58}}}))
    + "</span>\n        <a href='#' class='clear-recent'>"
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"trash-alt",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":62,"column":41},"end":{"line":62,"column":63}}}))
    + "</a>\n      </div>\n      <div class='section-group'></div>\n    </div>\n\n    \n      <div class='section' data-section='smileys_&_emotion'>\n        <div class='section-header'>\n          <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.smileys_&_emotion",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":70,"column":30},"end":{"line":70,"column":71}}}))
    + "</span>\n        </div>\n        <div class='section-group'>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"grinning\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"smiley\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"smile\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"grin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"laughing\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sweat_smile\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rofl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"joy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"slightly_smiling_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"upside_down_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wink\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"blush\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"innocent\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"smiling_face_with_three_hearts\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heart_eyes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"star_struck\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kissing_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kissing\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"relaxed\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kissing_closed_eyes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kissing_smiling_eyes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"yum\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stuck_out_tongue\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stuck_out_tongue_winking_eye\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"crazy_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stuck_out_tongue_closed_eyes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"money_mouth_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hugs\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"face_with_hand_over_mouth\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shushing_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"thinking\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"zipper_mouth_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"face_with_raised_eyebrow\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"neutral_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"expressionless\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"no_mouth\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"smirk\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"unamused\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"roll_eyes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"grimacing\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lying_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"relieved\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pensive\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sleepy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"drooling_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sleeping\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mask\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"face_with_thermometer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"face_with_head_bandage\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"nauseated_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"face_vomiting\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sneezing_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hot_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cold_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woozy_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dizzy_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"exploding_head\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cowboy_hat_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"partying_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sunglasses\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"nerd_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"face_with_monocle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"confused\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"worried\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"slightly_frowning_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"frowning_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"open_mouth\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hushed\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"astonished\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"flushed\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pleading_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"frowning\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"anguished\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fearful\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cold_sweat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"disappointed_relieved\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cry\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sob\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"scream\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"confounded\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"persevere\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"disappointed\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sweat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"weary\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tired_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"yawning_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"triumph\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rage\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"angry\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"face_with_symbols_over_mouth\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"smiling_imp\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"imp\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"skull\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"skull_and_crossbones\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"poop\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clown_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"japanese_ogre\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"japanese_goblin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ghost\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"alien\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"space_invader\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"robot\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"smiley_cat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"smile_cat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"joy_cat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heart_eyes_cat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"smirk_cat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kissing_cat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"scream_cat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"crying_cat_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pouting_cat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"see_no_evil\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hear_no_evil\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"speak_no_evil\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kiss\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"love_letter\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cupid\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gift_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sparkling_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heartpulse\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heartbeat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"revolving_hearts\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"two_hearts\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heart_decoration\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heavy_heart_exclamation\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"broken_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"orange_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"yellow_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"green_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"blue_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"purple_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"brown_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"black_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"white_heart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"100\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"anger\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"boom\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dizzy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sweat_drops\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dash\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hole\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bomb\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"speech_balloon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"left_speech_bubble\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"right_anger_bubble\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"thought_balloon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"zzz\"></button>\n          \n        </div>\n      </div>\n    \n      <div class='section' data-section='people_&_body'>\n        <div class='section-header'>\n          <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.people_&_body",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":375,"column":30},"end":{"line":375,"column":67}}}))
    + "</span>\n        </div>\n        <div class='section-group'>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"wave\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"raised_back_of_hand\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"raised_hand_with_fingers_splayed\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"raised_hand\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"vulcan_salute\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"ok_hand\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pinching_hand\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"v\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"crossed_fingers\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"love_you_gesture\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"metal\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"call_me_hand\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"point_left\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"point_right\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"point_up_2\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"fu\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"point_down\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"point_up\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"+1\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"-1\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"fist\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"facepunch\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"fist_left\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"fist_right\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"clap\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"raised_hands\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"open_hands\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"palms_up_together\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"handshake\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"pray\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"writing_hand\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"nail_care\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"selfie\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"muscle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mechanical_arm\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mechanical_leg\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"leg\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"foot\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"ear\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hear_with_hearing_aid\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"nose\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"brain\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tooth\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bone\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"eyes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"eye\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tongue\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lips\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"baby\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"child\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"boy\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"girl\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"adult\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"blonde_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"bearded_person\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_red_haired\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_curly_haired\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_white_haired\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_bald\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_red_haired\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_curly_haired\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_white_haired\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_bald\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"blonde_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"older_adult\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"older_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"older_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"frowning_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"frowning_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"pouting_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"pouting_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"no_good_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"no_good_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"ok_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"ok_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"tipping_hand_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"tipping_hand_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"raising_hand_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"raising_hand_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"deaf_man\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"deaf_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"bowing_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"bowing_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_facepalming\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_facepalming\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_shrugging\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_shrugging\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_health_worker\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_health_worker\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_student\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_student\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_teacher\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_teacher\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_judge\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_judge\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_farmer\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_farmer\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_cook\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_cook\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_mechanic\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_mechanic\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_factory_worker\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_factory_worker\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_office_worker\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_office_worker\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_scientist\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_scientist\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_technologist\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_technologist\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_singer\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_singer\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_artist\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_artist\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_pilot\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_pilot\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_astronaut\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_astronaut\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_firefighter\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_firefighter\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"policeman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"policewoman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"male_detective\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"female_detective\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"guardsman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"guardswoman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"construction_worker_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"construction_worker_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"prince\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"princess\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_with_turban\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_with_turban\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_with_gua_pi_mao\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_with_headscarf\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_in_tuxedo\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"bride_with_veil\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"pregnant_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"breast_feeding\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"angel\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"santa\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"mrs_claus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"superhero\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_superhero\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_superhero\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"supervillain\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_supervillain\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_supervillain\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"mage\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_mage\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"fairy\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"vampire\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"mermaid\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"merman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"elf\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"genie\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_genie\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"zombie\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_zombie\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"massage_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"massage_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"haircut_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"haircut_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"walking_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"walking_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_standing\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_standing\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_kneeling\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_kneeling\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_with_probing_cane\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_with_probing_cane\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_in_motorized_wheelchair\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_in_motorized_wheelchair\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"man_in_manual_wheelchair\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"woman_in_manual_wheelchair\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"running_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"running_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"dancer\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_dancing\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"business_suit_levitating\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dancing_women\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dancing_men\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"person_in_steamy_room\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_in_steamy_room\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"person_climbing\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_climbing\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"person_fencing\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"horse_racing\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"skier\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"snowboarder\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"golfing_man\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"golfing_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"surfing_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"surfing_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"rowing_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"rowing_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"swimming_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"swimming_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"basketball_man\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"basketball_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"weight_lifting_man\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"weight_lifting_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"biking_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"biking_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"mountain_biking_man\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"mountain_biking_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_cartwheeling\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_cartwheeling\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"men_wrestling\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"women_wrestling\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_playing_water_polo\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_playing_water_polo\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_playing_handball\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_playing_handball\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"man_juggling\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_juggling\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"person_in_lotus_position\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"woman_in_lotus_position\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"bath\"></button>\n          \n            <button type=\"button\" class=\"emoji diversity\" tabindex=\"-1\" title=\"sleeping_bed\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"people_holding_hands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"two_women_holding_hands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"couple\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"two_men_holding_hands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"couplekiss_man_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"couplekiss_man_man\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"couplekiss_woman_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"couple_with_heart_woman_man\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"couple_with_heart_man_man\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"couple_with_heart_woman_woman\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_woman_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_woman_girl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_woman_girl_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_woman_boy_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_woman_girl_girl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_man_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_man_girl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_man_girl_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_man_boy_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_man_girl_girl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_woman_woman_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_woman_woman_girl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_woman_woman_girl_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_woman_woman_boy_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_woman_woman_girl_girl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_boy_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_girl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_girl_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_man_girl_girl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_woman_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_woman_boy_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_woman_girl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_woman_girl_boy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"family_woman_girl_girl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"speaking_head\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bust_in_silhouette\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"busts_in_silhouette\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"footprints\"></button>\n          \n        </div>\n      </div>\n    \n      <div class='section' data-section='animals_&_nature'>\n        <div class='section-header'>\n          <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.animals_&_nature",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":902,"column":30},"end":{"line":902,"column":70}}}))
    + "</span>\n        </div>\n        <div class='section-group'>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"monkey_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"monkey\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gorilla\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"orangutan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dog\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dog2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"guide_dog\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"service_dog\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"poodle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wolf\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fox_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"raccoon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cat2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lion\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tiger\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tiger2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"leopard\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"horse\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"racehorse\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"unicorn\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"zebra\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"deer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cow\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ox\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"water_buffalo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cow2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pig\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pig2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"boar\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pig_nose\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ram\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sheep\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"goat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dromedary_camel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"camel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"llama\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"giraffe\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"elephant\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rhinoceros\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hippopotamus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mouse\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mouse2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hamster\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rabbit\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rabbit2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chipmunk\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hedgehog\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bear\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"koala\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"panda_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sloth\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"otter\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"skunk\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kangaroo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"badger\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"paw_prints\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"turkey\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chicken\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rooster\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hatching_chick\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"baby_chick\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hatched_chick\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bird\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"penguin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dove\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"eagle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"duck\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"swan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"owl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"flamingo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"peacock\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"parrot\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"frog\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"crocodile\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"turtle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lizard\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"snake\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dragon_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dragon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sauropod\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"t_rex\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"whale\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"whale2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dolphin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fish\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tropical_fish\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"blowfish\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shark\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"octopus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shell\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"snail\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"butterfly\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bug\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ant\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"honeybee\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"beetle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cricket\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"spider\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"spider_web\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"scorpion\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mosquito\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"microbe\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bouquet\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cherry_blossom\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"white_flower\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rosette\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rose\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wilted_flower\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hibiscus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sunflower\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"blossom\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tulip\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"seedling\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"evergreen_tree\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"deciduous_tree\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"palm_tree\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cactus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ear_of_rice\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"herb\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shamrock\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"four_leaf_clover\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"maple_leaf\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fallen_leaf\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"leaves\"></button>\n          \n        </div>\n      </div>\n    \n      <div class='section' data-section='food_&_drink'>\n        <div class='section-header'>\n          <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.food_&_drink",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1165,"column":30},"end":{"line":1165,"column":66}}}))
    + "</span>\n        </div>\n        <div class='section-group'>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"grapes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"melon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"watermelon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tangerine\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lemon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"banana\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pineapple\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mango\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"apple\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"green_apple\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pear\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"peach\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cherries\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"strawberry\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kiwi_fruit\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tomato\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"coconut\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"avocado\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"eggplant\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"potato\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"carrot\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"corn\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hot_pepper\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cucumber\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"leafy_green\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"broccoli\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"garlic\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"onion\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mushroom\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"peanuts\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chestnut\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bread\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"croissant\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"baguette_bread\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pretzel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bagel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pancakes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"waffle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cheese\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"meat_on_bone\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"poultry_leg\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cut_of_meat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bacon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hamburger\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fries\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pizza\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hotdog\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sandwich\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"taco\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"burrito\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stuffed_flatbread\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"falafel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"egg\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fried_egg\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shallow_pan_of_food\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stew\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bowl_with_spoon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"green_salad\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"popcorn\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"butter\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"salt\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"canned_food\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bento\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rice_cracker\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rice_ball\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rice\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"curry\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ramen\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"spaghetti\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sweet_potato\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"oden\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sushi\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fried_shrimp\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fish_cake\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"moon_cake\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dango\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dumpling\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fortune_cookie\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"takeout_box\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"crab\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lobster\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shrimp\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"squid\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"oyster\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"icecream\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shaved_ice\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ice_cream\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"doughnut\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cookie\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"birthday\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cake\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cupcake\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pie\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chocolate_bar\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"candy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lollipop\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"custard\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"honey_pot\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"baby_bottle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"milk_glass\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"coffee\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tea\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sake\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"champagne\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wine_glass\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cocktail\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tropical_drink\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"beer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"beers\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clinking_glasses\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tumbler_glass\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cup_with_straw\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"beverage_box\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ice_cube\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chopsticks\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"plate_with_cutlery\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fork_and_knife\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"spoon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hocho\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"amphora\"></button>\n          \n        </div>\n      </div>\n    \n      <div class='section' data-section='travel_&_places'>\n        <div class='section-header'>\n          <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.travel_&_places",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1416,"column":30},"end":{"line":1416,"column":69}}}))
    + "</span>\n        </div>\n        <div class='section-group'>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"earth_africa\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"earth_americas\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"earth_asia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"globe_with_meridians\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"world_map\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"japan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"compass\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mountain_snow\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mountain\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"volcano\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mount_fuji\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"camping\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"beach_umbrella\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"desert\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"desert_island\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"national_park\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stadium\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"classical_building\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"building_construction\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"brick\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"houses\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"derelict_house\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"house\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"house_with_garden\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"office\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"post_office\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"european_post_office\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hospital\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bank\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hotel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"love_hotel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"convenience_store\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"school\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"department_store\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"factory\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"japanese_castle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"european_castle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wedding\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tokyo_tower\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"statue_of_liberty\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"church\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mosque\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hindu_temple\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"synagogue\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shinto_shrine\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kaaba\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fountain\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tent\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"foggy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"night_with_stars\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cityscape\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sunrise_over_mountains\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sunrise\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"city_sunset\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"city_sunrise\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bridge_at_night\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hotsprings\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"carousel_horse\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ferris_wheel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"roller_coaster\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"barber\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"circus_tent\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"steam_locomotive\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"railway_car\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bullettrain_side\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bullettrain_front\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"train2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"metro\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"light_rail\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"station\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tram\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"monorail\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mountain_railway\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"train\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"oncoming_bus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"trolleybus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"minibus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ambulance\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fire_engine\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"police_car\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"oncoming_police_car\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"taxi\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"oncoming_taxi\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"red_car\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"oncoming_automobile\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"blue_car\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"truck\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"articulated_lorry\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tractor\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"racing_car\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"motorcycle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"motor_scooter\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"manual_wheelchair\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"motorized_wheelchair\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"auto_rickshaw\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bike\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kick_scooter\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"skateboard\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"busstop\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"motorway\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"railway_track\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"oil_drum\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fuelpump\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rotating_light\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"traffic_light\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"vertical_traffic_light\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stop_sign\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"construction\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"anchor\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sailboat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"canoe\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"speedboat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"passenger_ship\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ferry\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"motor_boat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ship\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"airplane\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"small_airplane\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"flight_departure\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"flight_arrival\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"parachute\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"seat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"helicopter\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"suspension_railway\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mountain_cableway\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"aerial_tramway\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"artificial_satellite\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rocket\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"flying_saucer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bellhop_bell\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"luggage\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hourglass\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hourglass_flowing_sand\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"watch\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"alarm_clock\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stopwatch\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"timer_clock\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mantelpiece_clock\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock12\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock1230\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock1\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock130\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock230\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock3\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock330\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock4\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock430\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock5\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock530\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock6\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock630\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock7\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock730\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock8\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock830\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock9\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock930\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock10\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock1030\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock11\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clock1130\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"new_moon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"waxing_crescent_moon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"first_quarter_moon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"waxing_gibbous_moon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"full_moon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"waning_gibbous_moon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"last_quarter_moon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"waning_crescent_moon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"crescent_moon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"new_moon_with_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"first_quarter_moon_with_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"last_quarter_moon_with_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"thermometer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sunny\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"full_moon_with_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sun_with_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ringer_planet\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"star\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"star2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stars\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"milky_way\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cloud\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"partly_sunny\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cloud_with_lightning_and_rain\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sun_behind_small_cloud\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sun_behind_large_cloud\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sun_behind_rain_cloud\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cloud_with_rain\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cloud_with_snow\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cloud_with_lightning\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tornado\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fog\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wind_face\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cyclone\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rainbow\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"closed_umbrella\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"open_umbrella\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"umbrella\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"parasol_on_ground\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"zap\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"snowflake\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"snowman_with_snow\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"snowman\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"comet\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fire\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"droplet\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ocean\"></button>\n          \n        </div>\n      </div>\n    \n      <div class='section' data-section='activities'>\n        <div class='section-header'>\n          <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.activities",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1845,"column":30},"end":{"line":1845,"column":64}}}))
    + "</span>\n        </div>\n        <div class='section-group'>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"jack_o_lantern\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"christmas_tree\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fireworks\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sparkler\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"firecracker\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sparkles\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"balloon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tada\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"confetti_ball\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tanabata_tree\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bamboo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dolls\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"flags\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wind_chime\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rice_scene\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"red_gift_envelope\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ribbon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gift\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"reminder_ribbon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tickets\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ticket\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"medal_military\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"trophy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"medal_sports\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"1st_place_medal\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"2nd_place_medal\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"3rd_place_medal\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"soccer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"baseball\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"softball\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"basketball\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"volleyball\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"football\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rugby_football\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tennis\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"flying_disc\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bowling\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cricket_bat_and_ball\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"field_hockey\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ice_hockey\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lacrosse\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ping_pong\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"badminton\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"boxing_glove\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"martial_arts_uniform\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"goal_net\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"golf\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ice_skate\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fishing_pole_and_fish\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"diving_mask\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"running_shirt_with_sash\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ski\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sled\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"curling_stone\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"yo-yo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kite\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"8ball\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"crystal_ball\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"nazar_amulet\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"video_game\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"joystick\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"slot_machine\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"game_die\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"jigsaw\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"teddy_bear\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"spades\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hearts\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"diamonds\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clubs\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chess_pawn\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"black_joker\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mahjong\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"flower_playing_cards\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"performing_arts\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"framed_picture\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"art\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"thread\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"yarn\"></button>\n          \n        </div>\n      </div>\n    \n      <div class='section' data-section='objects'>\n        <div class='section-header'>\n          <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.objects",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2012,"column":30},"end":{"line":2012,"column":61}}}))
    + "</span>\n        </div>\n        <div class='section-group'>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"eyeglasses\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dark_sunglasses\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"goggles\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lab_coat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"safety_vest\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"necktie\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tshirt\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"jeans\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"scarf\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gloves\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"coat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"socks\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dress\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kimono\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sari\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"one_piece_swimsuit\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"briefs\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shorts\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bikini\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"womans_clothes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"purse\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"handbag\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pouch\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shopping\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"school_satchel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mans_shoe\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"athletic_shoe\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hiking_boot\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"flat_shoe\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"high_heel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sandal\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ballet_shoes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"boot\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"crown\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"womans_hat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tophat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mortar_board\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"billed_cap\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rescue_worker_helmet\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"prayer_beads\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lipstick\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ring\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gem\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mute\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"speaker\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sound\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"loud_sound\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"loudspeaker\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mega\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"postal_horn\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bell\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"no_bell\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"musical_score\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"musical_note\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"notes\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"studio_microphone\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"level_slider\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"control_knobs\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"microphone\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"headphones\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"radio\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"saxophone\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"guitar\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"musical_keyboard\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"trumpet\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"violin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"banjo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"drum\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"iphone\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"calling\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"phone\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"telephone_receiver\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pager\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fax\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"battery\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"electric_plug\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"computer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"desktop_computer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"printer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"keyboard\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"computer_mouse\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"trackball\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"minidisc\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"floppy_disk\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cd\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dvd\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"abacus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"movie_camera\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"film_strip\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"film_projector\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clapper\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tv\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"camera\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"camera_flash\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"video_camera\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"vhs\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mag\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mag_right\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"candle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bulb\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"flashlight\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"izakaya_lantern\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"diya_lamp\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"notebook_with_decorative_cover\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"closed_book\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"open_book\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"green_book\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"blue_book\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"orange_book\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"books\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"notebook\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ledger\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"page_with_curl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"scroll\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"page_facing_up\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"newspaper\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"newspaper_roll\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bookmark_tabs\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bookmark\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"label\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"moneybag\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"yen\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dollar\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"euro\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pound\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"money_with_wings\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"credit_card\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"receipt\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"currency_exchange\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heavy_dollar_sign\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"email\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"e-mail\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"incoming_envelope\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"envelope_with_arrow\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"outbox_tray\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"inbox_tray\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"package\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mailbox\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mailbox_closed\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mailbox_with_mail\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mailbox_with_no_mail\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"postbox\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ballot_box\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pencil2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"black_nib\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fountain_pen\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pen\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"paintbrush\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"crayon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"memo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"briefcase\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"file_folder\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"open_file_folder\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"card_index_dividers\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"date\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"calendar\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"spiral_notepad\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"spiral_calendar\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"card_index\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chart_with_upwards_trend\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chart_with_downwards_trend\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bar_chart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clipboard\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pushpin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"round_pushpin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"paperclip\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"paperclips\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"straight_ruler\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"triangular_ruler\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"scissors\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"card_file_box\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"file_cabinet\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wastebasket\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lock\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"unlock\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lock_with_ink_pen\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"closed_lock_with_key\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"key\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"old_key\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hammer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"axe\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pick\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hammer_and_pick\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hammer_and_wrench\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dagger\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"crossed_swords\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gun\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bow_and_arrow\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shield\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wrench\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"nut_and_bolt\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gear\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clamp\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"balance_scale\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"probing_cane\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"link\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chains\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"toolbox\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"magnet\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"alembic\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"test_tube\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"petri_dish\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dna\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"microscope\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"telescope\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"satellite\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"syringe\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"drop_of_blood\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pill\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"adhesive_bandage\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stethoscope\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"door\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bed\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"couch_and_lamp\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chair\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"toilet\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shower\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bathtub\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"razor\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lotion_bottle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"safety_pin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"broom\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"basket\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"roll_of_toilet_paper\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"soap\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sponge\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fire_extinguisher\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"shopping_cart\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"smoking\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"coffin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"funeral_urn\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"moyai\"></button>\n          \n        </div>\n      </div>\n    \n      <div class='section' data-section='symbols'>\n        <div class='section-header'>\n          <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.symbols",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2487,"column":30},"end":{"line":2487,"column":61}}}))
    + "</span>\n        </div>\n        <div class='section-group'>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"atm\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"put_litter_in_its_place\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"potable_water\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wheelchair\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mens\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"womens\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"restroom\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"baby_symbol\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wc\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"passport_control\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"customs\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"baggage_claim\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"left_luggage\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"warning\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"children_crossing\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"no_entry\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"no_entry_sign\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"no_bicycles\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"no_smoking\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"do_not_litter\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"non-potable_water\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"no_pedestrians\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"no_mobile_phones\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"underage\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"radioactive\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"biohazard\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_up\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_upper_right\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_right\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_lower_right\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_down\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_lower_left\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_left\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_upper_left\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_up_down\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"left_right_arrow\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"leftwards_arrow_with_hook\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_right_hook\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_heading_up\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_heading_down\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrows_clockwise\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrows_counterclockwise\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"back\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"end\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"on\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"soon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"top\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"place_of_worship\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"atom_symbol\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"om\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"star_of_david\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wheel_of_dharma\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"yin_yang\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"latin_cross\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"orthodox_cross\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"star_and_crescent\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"peace_symbol\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"menorah\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"six_pointed_star\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"aries\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"taurus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gemini\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cancer\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"leo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"virgo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"libra\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"scorpius\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sagittarius\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"capricorn\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"aquarius\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pisces\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ophiuchus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"twisted_rightwards_arrows\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"repeat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"repeat_one\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_forward\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fast_forward\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"next_track_button\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"play_or_pause_button\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_backward\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rewind\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"previous_track_button\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_up_small\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_double_up\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_down_small\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"arrow_double_down\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pause_button\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"stop_button\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"record_button\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cinema\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"low_brightness\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"high_brightness\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"signal_strength\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"vibration_mode\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mobile_phone_off\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"infinity\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"recycle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fleur_de_lis\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"trident\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"name_badge\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"beginner\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"o\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"white_check_mark\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ballot_box_with_check\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heavy_check_mark\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heavy_multiplication_x\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"x\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"negative_squared_cross_mark\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heavy_plus_sign\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heavy_minus_sign\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heavy_division_sign\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"curly_loop\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"loop\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"part_alternation_mark\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"eight_spoked_asterisk\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"eight_pointed_black_star\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sparkle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bangbang\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"interrobang\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"question\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"grey_question\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"grey_exclamation\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"exclamation\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wavy_dash\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"copyright\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"registered\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tm\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hash\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"asterisk\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"zero\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"one\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"two\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"three\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"four\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"five\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"six\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"seven\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"eight\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"nine\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"keycap_ten\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"capital_abcd\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"abcd\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"1234\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"symbols\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"abc\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"a\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ab\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"b\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cl\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cool\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"free\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"information_source\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"id\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"m\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"new\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ng\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"o2\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ok\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"parking\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sos\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"up\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"vs\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"koko\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sa\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u6708\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u6709\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u6307\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ideograph_advantage\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u5272\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u7121\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u7981\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"accept\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u7533\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u5408\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u7a7a\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"congratulations\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"secret\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u55b6\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"u6e80\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"red_circle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"orange_circle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"yellow_circle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"green_circle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"large_blue_circle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"purple_circle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"brown_circle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"black_circle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"white_circle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"red_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"orange_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"yellow_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"green_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"blue_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"purple_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"brown_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"black_large_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"white_large_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"black_medium_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"white_medium_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"black_medium_small_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"white_medium_small_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"black_small_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"white_small_square\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"large_orange_diamond\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"large_blue_diamond\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"small_orange_diamond\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"small_blue_diamond\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"small_red_triangle\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"small_red_triangle_down\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"diamond_shape_with_a_dot_inside\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"radio_button\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"white_square_button\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"black_square_button\"></button>\n          \n        </div>\n      </div>\n    \n      <div class='section' data-section='flags'>\n        <div class='section-header'>\n          <span class=\"title\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.flags",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2922,"column":30},"end":{"line":2922,"column":59}}}))
    + "</span>\n        </div>\n        <div class='section-group'>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"checkered_flag\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"triangular_flag_on_post\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"crossed_flags\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"black_flag\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"white_flag\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rainbow_flag\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pirate_flag\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ascension_island\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"andorra\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"united_arab_emirates\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"afghanistan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"antigua_barbuda\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"anguilla\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"albania\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"armenia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"angola\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"antarctica\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"argentina\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"american_samoa\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"austria\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"australia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"aruba\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"aland_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"azerbaijan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bosnia_herzegovina\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"barbados\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bangladesh\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"belgium\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"burkina_faso\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bulgaria\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bahrain\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"burundi\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"benin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"st_barthelemy\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bermuda\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"brunei\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bolivia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"caribbean_netherlands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"brazil\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bahamas\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bhutan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"bouvet_island\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"botswana\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"belarus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"belize\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"canada\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cocos_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"congo_kinshasa\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"central_african_republic\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"congo_brazzaville\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"switzerland\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cote_divoire\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cook_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chile\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cameroon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cn\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"colombia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"clipperton_island\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"costa_rica\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cuba\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cape_verde\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"curacao\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"christmas_island\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cyprus\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"czech_republic\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"de\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"diego_garcia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"djibouti\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"denmark\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dominica\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"dominican_republic\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"algeria\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ceuta_and_melilla\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ecuador\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"estonia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"egypt\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"western_sahara\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"eritrea\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"es\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ethiopia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"eu\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"finland\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fiji\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"falkland_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"micronesia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"faroe_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"fr\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gabon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"uk\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"grenada\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"georgia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"french_guiana\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"guernsey\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ghana\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gibraltar\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"greenland\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"gambia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"guinea\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"guadeloupe\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"equatorial_guinea\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"greece\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"south_georgia_south_sandwich_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"guatemala\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"guam\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"guinea_bissau\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"guyana\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hong_kong\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"heard_and_mc_donald_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"honduras\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"croatia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"haiti\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"hungary\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"canary_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"indonesia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ireland\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"israel\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"isle_of_man\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"india\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"british_indian_ocean_territory\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"iraq\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"iran\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"iceland\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"it\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"jersey\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"jamaica\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"jordan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"jp\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kenya\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kyrgyzstan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cambodia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kiribati\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"comoros\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"st_kitts_nevis\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"north_korea\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kr\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kuwait\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"cayman_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kazakhstan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"laos\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lebanon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"st_lucia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"liechtenstein\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sri_lanka\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"liberia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lesotho\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"lithuania\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"luxembourg\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"latvia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"libya\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"morocco\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"monaco\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"moldova\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"montenegro\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"st_martin\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"madagascar\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"marshall_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"macedonia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mali\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"myanmar\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mongolia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"macau\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"northern_mariana_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"martinique\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mauritania\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"montserrat\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"malta\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mauritius\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"maldives\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"malawi\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mexico\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"malaysia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mozambique\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"namibia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"new_caledonia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"niger\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"norfolk_island\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"nigeria\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"nicaragua\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"netherlands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"norway\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"nepal\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"nauru\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"niue\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"new_zealand\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"oman\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"panama\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"peru\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"french_polynesia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"papua_new_guinea\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"philippines\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pakistan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"poland\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"st_pierre_miquelon\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"pitcairn_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"puerto_rico\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"palestinian_territories\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"portugal\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"palau\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"paraguay\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"qatar\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"reunion\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"romania\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"serbia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ru\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"rwanda\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"saudi_arabia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"solomon_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"seychelles\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sudan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sweden\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"singapore\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"st_helena\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"slovenia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"svalbard_and_jan_mayen\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"slovakia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sierra_leone\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"san_marino\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"senegal\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"somalia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"suriname\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"south_sudan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sao_tome_principe\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"el_salvador\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"sint_maarten\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"syria\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"swaziland\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tristan_da_cunha\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"turks_caicos_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"chad\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"french_southern_territories\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"togo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"thailand\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tajikistan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tokelau\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"timor_leste\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"turkmenistan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tunisia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tonga\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tr\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"trinidad_tobago\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tuvalu\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"taiwan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"tanzania\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"ukraine\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"uganda\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"us_outlying_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"united_nations\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"us\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"uruguay\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"uzbekistan\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"vatican_city\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"st_vincent_grenadines\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"venezuela\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"british_virgin_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"us_virgin_islands\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"vietnam\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"vanuatu\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"wallis_futuna\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"samoa\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"kosovo\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"yemen\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"mayotte\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"south_africa\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"zambia\"></button>\n          \n            <button type=\"button\" class=\"emoji \" tabindex=\"-1\" title=\"zimbabwe\"></button>\n          \n        </div>\n      </div>\n    \n\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"customEmojis.length",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3460,"column":4},"end":{"line":3471,"column":11}}})) != null ? stack1 : "")
    + "  </div>\n  <div class='footer'>\n    <div class='info'></div>\n    <div class='diversity-picker'>\n      \n        <a href='#' title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.default_tone",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3477,"column":27},"end":{"line":3477,"column":63}}}))
    + "\" class='diversity-scale default' data-level=\"1\">\n          "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"check",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3478,"column":10},"end":{"line":3478,"column":28}}}))
    + "\n        </a>\n      \n        <a href='#' title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.light_tone",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3481,"column":27},"end":{"line":3481,"column":61}}}))
    + "\" class='diversity-scale light' data-level=\"2\">\n          "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"check",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3482,"column":10},"end":{"line":3482,"column":28}}}))
    + "\n        </a>\n      \n        <a href='#' title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.medium_light_tone",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3485,"column":27},"end":{"line":3485,"column":68}}}))
    + "\" class='diversity-scale medium-light' data-level=\"3\">\n          "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"check",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3486,"column":10},"end":{"line":3486,"column":28}}}))
    + "\n        </a>\n      \n        <a href='#' title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.medium_tone",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3489,"column":27},"end":{"line":3489,"column":62}}}))
    + "\" class='diversity-scale medium' data-level=\"4\">\n          "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"check",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3490,"column":10},"end":{"line":3490,"column":28}}}))
    + "\n        </a>\n      \n        <a href='#' title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.medium_dark_tone",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3493,"column":27},"end":{"line":3493,"column":67}}}))
    + "\" class='diversity-scale medium-dark' data-level=\"5\">\n          "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"check",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3494,"column":10},"end":{"line":3494,"column":28}}}))
    + "\n        </a>\n      \n        <a href='#' title=\""
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"emoji_picker.dark_tone",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3497,"column":27},"end":{"line":3497,"column":60}}}))
    + "\" class='diversity-scale dark' data-level=\"6\">\n          "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"check",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3498,"column":10},"end":{"line":3498,"column":28}}}))
    + "\n        </a>\n      \n    </div>\n  </div>\n</div>\n";
},"useData":true});
Discourse.RAW_TEMPLATES["emoji-selector-autocomplete"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "      <li>\n        <a href>\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"option.src",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(2, data, 0),"inverse":container.program(4, data, 0),"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":10},"end":{"line":11,"column":17}}})) != null ? stack1 : "")
    + "        </a>\n      </li>\n";
},"2":function(container,depth0,helpers,partials,data) {
    return "            <img src="
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"option.src",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":7,"column":21},"end":{"line":7,"column":35}}}))
    + " class='emoji'>\n            <span class='emoji-shortname'>"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"option.code",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":42},"end":{"line":8,"column":57}}}))
    + "</span>\n";
},"4":function(container,depth0,helpers,partials,data) {
    return "            "
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"option.label",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":10,"column":12},"end":{"line":10,"column":28}}}))
    + "\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<div class='autocomplete ac-emoji'>\n  <ul>\n"
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"option","in","options",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":14,"column":13}}})) != null ? stack1 : "")
    + "  </ul>\n</div>\n";
},"useData":true});
Ember.TEMPLATES["exception"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"buttonData\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"error-page\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"face\"],[8],[0,\":(\"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"reason\"],[8],[1,[22,\"reason\"],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"url\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"errors.prev_page\"],null],false],[0,\" \"],[7,\"a\",true],[11,\"href\",[22,\"requestUrl\"]],[10,\"data-auto-route\",\"true\"],[8],[1,[22,\"requestUrl\"],false],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"desc\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"networkFixed\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-icon\",[\"check-circle\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[1,[22,\"desc\"],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"buttons\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"enabledButtons\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"label\",\"class\"],[[23,1,[\"icon\"]],[23,1,[\"action\"]],[23,1,[\"key\"]],[23,1,[\"classes\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"      \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"exception"}});
Discourse.RAW_TEMPLATES["flat-button"] = requirejs('discourse-common/lib/raw-handlebars').template({"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    return "<button class='btn-flat "
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"class",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":24},"end":{"line":1,"column":33}}}))
    + "' title='"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topics.bulk.toggle",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":42},"end":{"line":1,"column":71}}}))
    + "'>\n  "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"icon",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":2},"end":{"line":2,"column":17}}}))
    + "\n</button>\n";
},"useData":true});
Ember.TEMPLATES["full-page-search"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"result\",\"tag\"],\"statements\":[[4,\"d-section\",null,[[\"pageClass\",\"class\"],[\"search\",\"search-container\"]],{\"statements\":[[0,\"  \"],[1,[28,\"scroll-tracker\",null,[[\"name\",\"tag\",\"class\"],[\"full-page-search\",[24,[\"searchTerm\"]],\"hidden\"]]],false],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"search-advanced\"],[8],[0,\"\\n\"],[4,\"unless\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"search-bar\"],[8],[0,\"\\n        \"],[1,[28,\"search-text-field\",null,[[\"value\",\"class\",\"enter\",\"hasAutofocus\"],[[24,[\"searchTerm\"]],\"full-page-search search no-blur search-query\",[28,\"action\",[[23,0,[]],\"search\"],null],[24,[\"hasAutofocus\"]]]]],false],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"class\",\"disabled\"],[[28,\"action\",[[23,0,[]],\"search\"],null],\"search\",\"btn-primary search-cta\",[24,[\"searchButtonDisabled\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"search-notice\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"invalidSearch\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"fps-invalid\"],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"search.too_short\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\\n\"],[0,\"    \"],[7,\"div\",true],[10,\"class\",\"search-context\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"context\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"fps-search-context\"],[8],[0,\"\\n          \"],[7,\"label\",true],[8],[0,\"\\n            \"],[1,[28,\"input\",null,[[\"type\",\"name\",\"checked\"],[\"checkbox\",\"searchContext\",[24,[\"searchContextEnabled\"]]]]],false],[0,\" \"],[1,[22,\"searchContextDescription\"],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"hasResults\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"search-title\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"hasResults\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"create-topic-button\",null,[[\"canCreateTopic\",\"action\"],[[24,[\"canCreateTopic\"]],[28,\"action\",[[23,0,[]],\"createTopic\",[24,[\"searchTerm\"]]],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canBulkSelect\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"d-button\",null,[[\"icon\",\"class\",\"title\",\"action\"],[\"list\",\"btn-default bulk-select\",\"topics.bulk.toggle\",[28,\"action\",[[23,0,[]],\"toggleBulkSelect\"],null]]]],false],[0,\"\\n          \"],[1,[28,\"bulk-select-button\",null,[[\"selected\",\"action\"],[[24,[\"selected\"]],[28,\"action\",[[23,0,[]],\"search\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"bulkSelectEnabled\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"fps-select\"],[8],[0,\"\\n            \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"selectAll\"]],[8],[1,[28,\"i18n\",[\"search.select_all\"],null],false],[9],[0,\"\\n            \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"clearAll\"]],[8],[1,[28,\"i18n\",[\"search.clear_all\"],null],false],[9],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"search-info\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"result-count\"],[8],[0,\"\\n          \"],[1,[22,\"resultCountLabel\"],true],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"sort-by\"],[8],[0,\"\\n          \"],[7,\"span\",true],[10,\"class\",\"desc\"],[8],[0,\"\\n            \"],[1,[28,\"i18n\",[\"search.sort_by\"],null],false],[0,\"\\n          \"],[9],[0,\"\\n          \"],[1,[28,\"combo-box\",null,[[\"value\",\"content\",\"castInteger\",\"onChange\"],[[24,[\"sortOrder\"]],[24,[\"sortOrders\"]],true,[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"sortOrder\"]]],null]],null]]]],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"full-page-search-below-search-info\",[28,\"hash\",null,[[\"search\"],[[24,[\"searchTerm\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"unless\",[[24,[\"searching\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"search-results\"],[8],[0,\"\\n\"],[4,\"load-more\",null,[[\"selector\",\"action\"],[\".fps-result\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[4,\"each\",[[24,[\"model\",\"posts\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"fps-result\"],[8],[0,\"\\n              \"],[7,\"div\",true],[10,\"class\",\"author\"],[8],[0,\"\\n                \"],[7,\"a\",true],[11,\"href\",[23,1,[\"userPath\"]]],[11,\"data-user-card\",[29,[[28,\"unbound\",[[23,1,[\"username\"]]],null]]]],[8],[0,\"\\n                  \"],[1,[28,\"avatar\",[[23,1,[]]],[[\"imageSize\"],[\"large\"]]],false],[0,\"\\n                \"],[9],[0,\"\\n              \"],[9],[0,\"\\n\\n              \"],[7,\"div\",true],[10,\"class\",\"fps-topic\"],[8],[0,\"\\n                \"],[7,\"div\",true],[10,\"class\",\"topic\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"bulkSelectEnabled\"]]],null,{\"statements\":[[0,\"                    \"],[1,[28,\"track-selected\",null,[[\"selectedList\",\"selectedId\"],[[24,[\"selected\"]],[23,1,[\"topic\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n                  \"],[7,\"a\",false],[12,\"class\",\"search-link\"],[12,\"href\",[29,[[28,\"unbound\",[[23,1,[\"url\"]]],null]]]],[3,\"action\",[[23,0,[]],\"logClick\",[23,1,[\"topic_id\"]]]],[8],[0,\"\\n                    \"],[1,[28,\"topic-status\",null,[[\"topic\",\"disableActions\"],[[23,1,[\"topic\"]],true]]],false],[7,\"span\",true],[10,\"class\",\"topic-title\"],[8],[4,\"highlight-text\",null,[[\"highlight\"],[[24,[\"q\"]]]],{\"statements\":[[1,[28,\"unbound\",[[23,1,[\"topic\",\"fancyTitle\"]]],null],true]],\"parameters\":[]},null],[9],[0,\"\\n                  \"],[9],[0,\"\\n\\n                  \"],[7,\"div\",true],[10,\"class\",\"search-category\"],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"topic\",\"category\",\"parentCategory\"]]],null,{\"statements\":[[0,\"                    \"],[1,[28,\"category-link\",[[23,1,[\"topic\",\"category\",\"parentCategory\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                    \"],[1,[28,\"category-link\",[[23,1,[\"topic\",\"category\"]]],[[\"hideParent\"],[true]]],false],[0,\"\\n\"],[4,\"each\",[[23,1,[\"topic\",\"tags\"]]],null,{\"statements\":[[0,\"                      \"],[1,[28,\"discourse-tag\",[[23,2,[]]],[[\"isPrivateMessage\"],[[24,[\"isPrivateMessage\"]]]]],false],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"                    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"full-page-search-category\",[28,\"hash\",null,[[\"result\"],[[23,1,[]]]]]]]],false],[0,\"\\n                  \"],[9],[0,\"\\n                \"],[9],[0,\"\\n\\n                \"],[7,\"div\",true],[10,\"class\",\"blurb container\"],[8],[0,\"\\n                  \"],[7,\"span\",true],[10,\"class\",\"date\"],[8],[0,\"\\n                    \"],[1,[28,\"format-age\",[[23,1,[\"created_at\"]]],null],false],[0,\"\\n\"],[4,\"if\",[[23,1,[\"blurb\"]]],null,{\"statements\":[[0,\"                    -\\n\"]],\"parameters\":[]},null],[0,\"                  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[23,1,[\"blurb\"]]],null,{\"statements\":[[4,\"highlight-text\",null,[[\"highlight\"],[[24,[\"highlightQuery\"]]]],{\"statements\":[[0,\"                      \"],[1,[28,\"unbound\",[[23,1,[\"blurb\"]]],null],true],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"                \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showLikeCount\"]]],null,{\"statements\":[[4,\"if\",[[23,1,[\"like_count\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"span\",true],[10,\"class\",\"like-count\"],[8],[0,\"\\n                      \"],[1,[23,1,[\"like_count\"]],false],[0,\" \"],[1,[28,\"d-icon\",[\"heart\"],null],false],[0,\"\\n                    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n\"],[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]],{\"statements\":[[4,\"unless\",[[24,[\"hasResults\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"searchActive\"]]],null,{\"statements\":[[0,\"                \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"search.no_results\"],null],false],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"grouped_search_result\",\"error\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"div\",true],[10,\"class\",\"warning\"],[8],[0,\"\\n                    \"],[1,[24,[\"model\",\"grouped_search_result\",\"error\"]],false],[0,\"\\n                  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showSuggestion\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"div\",true],[10,\"class\",\"no-results-suggestion\"],[8],[0,\"\\n                    \"],[1,[28,\"i18n\",[\"search.cant_find\"],null],false],[0,\"\\n\"],[4,\"if\",[[24,[\"canCreateTopic\"]]],null,{\"statements\":[[0,\"                      \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"createTopic\",[24,[\"searchTerm\"]]]],[8],[1,[28,\"i18n\",[\"search.start_new_topic\"],null],false],[9],[0,\"\\n\"],[4,\"unless\",[[24,[\"siteSettings\",\"login_required\"]]],null,{\"statements\":[[0,\"                        \"],[1,[28,\"i18n\",[\"search.or_search_google\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"                      \"],[1,[28,\"i18n\",[\"search.search_google\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"                  \"],[9],[0,\"\\n\\n                  \"],[1,[28,\"google-search\",null,[[\"searchTerm\"],[[24,[\"searchTerm\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"hasResults\"]]],null,{\"statements\":[[4,\"unless\",[[24,[\"loading\"]]],null,{\"statements\":[[0,\"                \"],[7,\"h3\",true],[10,\"class\",\"search-footer\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"grouped_search_result\",\"more_full_page_results\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"isLastPage\"]]],null,{\"statements\":[[0,\"                      \"],[1,[28,\"i18n\",[\"search.more_results\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"                    \"],[1,[28,\"i18n\",[\"search.no_more_results\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[1,[28,\"loading-spinner\",null,[[\"size\"],[\"medium\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"search-advanced-sidebar\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"search-bar\"],[8],[0,\"\\n        \"],[1,[28,\"search-text-field\",null,[[\"value\",\"class\",\"enter\",\"hasAutofocus\"],[[24,[\"searchTerm\"]],\"full-page-search search no-blur search-query\",[28,\"action\",[[23,0,[]],\"search\"],null],[24,[\"hasAutofocus\"]]]]],false],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"class\",\"disabled\"],[[28,\"action\",[[23,0,[]],\"search\"],null],\"search\",\"btn-primary search-cta\",[24,[\"searchButtonDisabled\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"search-advanced-title\",[28,\"action\",[[23,0,[]],\"toggleAdvancedSearch\"],null],[28,\"if\",[[24,[\"expanded\"]],\"caret-down\",\"caret-right\"],null],\"search.advanced.title\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"span\",true],[10,\"class\",\"search-advanced-title\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"search.advanced.title\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"expanded\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"search-advanced-filters\"],[8],[0,\"\\n          \"],[1,[28,\"search-advanced-options\",null,[[\"searchTerm\",\"isExpanded\"],[[24,[\"searchTerm\"]],[24,[\"expanded\"]]]]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"search-advanced-filters\"],[8],[0,\"\\n        \"],[1,[28,\"search-advanced-options\",null,[[\"searchTerm\",\"isExpanded\"],[[24,[\"searchTerm\"]],true]]],false],[0,\"\\n\\n        \"],[1,[28,\"d-button\",null,[[\"label\",\"action\",\"icon\",\"class\",\"disabled\"],[\"submit\",[28,\"action\",[[23,0,[]],\"search\"],null],\"search\",\"btn-primary search-cta\",[24,[\"searchButtonDisabled\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"full-page-search"}});
Ember.TEMPLATES["group-activity-posts"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"post\"],\"statements\":[[4,\"load-more\",null,[[\"selector\",\"action\"],[\".user-stream-item\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"user-stream\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"group-post\",null,[[\"post\",\"class\"],[[23,1,[]],\"user-stream-item item\"]]],false],[0,\"\\n\"]],\"parameters\":[1]},{\"statements\":[[0,\"      \"],[7,\"div\",true],[8],[1,[28,\"i18n\",[[24,[\"emptyText\"]]],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"group-activity-posts"}});
Ember.TEMPLATES["group-activity-topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"load-more\",null,[[\"class\",\"selector\",\"action\"],[\"paginated-topics-list\",\".paginated-topics-list .topic-list tr\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"  \"],[1,[28,\"basic-topic-list\",null,[[\"topicList\",\"showPosters\"],[[24,[\"model\"]],true]]],false],[0,\"\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loadingMore\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"group-activity-topics"}});
Ember.TEMPLATES["group-index"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"m\"],\"statements\":[[7,\"section\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"group-members-actions\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"can_see_members\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"autocomplete\",\"class\"],[[24,[\"filterInput\"]],[24,[\"filterPlaceholder\"]],\"discourse\",\"group-username-filter no-blur\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"group-members-manage\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canManageGroup\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"label\",\"class\"],[\"plus\",[28,\"route-action\",[\"showAddMembersModal\"],null],\"groups.add_members.title\",\"group-members-add\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"currentUser\",\"admin\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"label\",\"class\"],[\"plus\",[28,\"route-action\",[\"showBulkAddModal\"],null],\"admin.groups.bulk_add.title\",\"group-bulk-add\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"hasMembers\"]]],null,{\"statements\":[[4,\"load-more\",null,[[\"selector\",\"action\"],[\".group-members tr\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"    \"],[7,\"table\",true],[10,\"class\",\"group-members\"],[8],[0,\"\\n      \"],[7,\"thead\",true],[8],[0,\"\\n        \"],[1,[28,\"group-index-toggle\",null,[[\"order\",\"desc\",\"field\",\"i18nKey\"],[[24,[\"order\"]],[24,[\"desc\"]],\"username_lower\",\"username\"]]],false],[0,\"\\n        \"],[7,\"th\",true],[10,\"class\",\"group-owner\"],[8],[1,[28,\"i18n\",[\"groups.members.owner\"],null],false],[9],[0,\"\\n        \"],[1,[28,\"group-index-toggle\",null,[[\"order\",\"desc\",\"field\",\"i18nKey\"],[[24,[\"order\"]],[24,[\"desc\"]],\"added_at\",\"groups.member_added\"]]],false],[0,\"\\n        \"],[1,[28,\"group-index-toggle\",null,[[\"order\",\"desc\",\"field\",\"i18nKey\"],[[24,[\"order\"]],[24,[\"desc\"]],\"last_posted_at\",\"last_post\"]]],false],[0,\"\\n        \"],[1,[28,\"group-index-toggle\",null,[[\"order\",\"desc\",\"field\",\"i18nKey\"],[[24,[\"order\"]],[24,[\"desc\"]],\"last_seen_at\",\"last_seen\"]]],false],[0,\"\\n        \"],[7,\"th\",true],[8],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"members\"]]],null,{\"statements\":[[0,\"          \"],[7,\"tr\",true],[8],[0,\"\\n            \"],[7,\"td\",true],[10,\"class\",\"avatar\"],[8],[0,\"\\n              \"],[1,[28,\"user-info\",null,[[\"user\",\"skipName\"],[[23,1,[]],[24,[\"skipName\"]]]]],false],[0,\"\\n            \"],[9],[0,\"\\n\\n            \"],[7,\"td\",true],[10,\"class\",\"group-owner\"],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"owner\"]]],null,{\"statements\":[[0,\"                \"],[7,\"strong\",true],[10,\"class\",\"group-owner-label\"],[8],[0,\"\\n                  \"],[1,[28,\"d-icon\",[\"shield-alt\"],null],false],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n            \"],[7,\"td\",true],[8],[0,\"\\n              \"],[7,\"span\",true],[10,\"class\",\"text\"],[8],[1,[28,\"bound-date\",[[23,1,[\"added_at\"]]],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"td\",true],[8],[0,\"\\n              \"],[7,\"span\",true],[10,\"class\",\"text\"],[8],[1,[28,\"bound-date\",[[23,1,[\"last_posted_at\"]]],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"td\",true],[8],[0,\"\\n              \"],[7,\"span\",true],[10,\"class\",\"text\"],[8],[1,[28,\"bound-date\",[[23,1,[\"last_seen_at\"]]],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n\\n            \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canManageGroup\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"group-member-dropdown\",null,[[\"removeMember\",\"makeOwner\",\"removeOwner\",\"member\",\"group\",\"onChange\"],[[28,\"action\",[[23,0,[]],\"removeMember\"],null],[28,\"action\",[[23,0,[]],\"makeOwner\"],null],[28,\"action\",[[23,0,[]],\"removeOwner\"],null],[23,1,[]],[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"actOnGroup\",[23,1,[]]],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"model\",\"can_see_members\"]]],null,{\"statements\":[[0,\"  \"],[7,\"br\",true],[8],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[8],[1,[28,\"i18n\",[\"groups.empty.members\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"br\",true],[8],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[8],[1,[28,\"i18n\",[\"groups.members.forbidden\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]}],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"group-index"}});
Ember.TEMPLATES["group-requests"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"m\"],\"statements\":[[7,\"section\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"group-members-actions\"],[8],[0,\"\\n    \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"class\"],[[24,[\"filterInput\"]],[24,[\"filterPlaceholder\"]],\"group-username-filter no-blur\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"hasRequesters\"]]],null,{\"statements\":[[4,\"load-more\",null,[[\"selector\",\"action\"],[\".group-members tr\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"    \"],[7,\"table\",true],[10,\"class\",\"group-members\"],[8],[0,\"\\n      \"],[7,\"thead\",true],[8],[0,\"\\n        \"],[1,[28,\"group-index-toggle\",null,[[\"order\",\"desc\",\"field\",\"i18nKey\"],[[24,[\"order\"]],[24,[\"desc\"]],\"username_lower\",\"username\"]]],false],[0,\"\\n        \"],[1,[28,\"group-index-toggle\",null,[[\"order\",\"desc\",\"field\",\"i18nKey\"],[[24,[\"order\"]],[24,[\"desc\"]],\"requested_at\",\"groups.member_requested\"]]],false],[0,\"\\n        \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"groups.requests.reason\"],null],false],[9],[0,\"\\n        \"],[7,\"th\",true],[8],[9],[0,\"\\n        \"],[7,\"th\",true],[8],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"requesters\"]]],null,{\"statements\":[[0,\"          \"],[7,\"tr\",true],[8],[0,\"\\n            \"],[7,\"td\",true],[10,\"class\",\"avatar\"],[8],[0,\"\\n              \"],[1,[28,\"user-info\",null,[[\"user\",\"skipName\"],[[23,1,[]],[24,[\"skipName\"]]]]],false],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"td\",true],[8],[0,\"\\n              \"],[7,\"span\",true],[10,\"class\",\"text\"],[8],[1,[28,\"bound-date\",[[23,1,[\"requested_at\"]]],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"td\",true],[8],[1,[23,1,[\"reason\"]],false],[9],[0,\"\\n            \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"request_undone\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"i18n\",[\"groups.requests.undone\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,1,[\"request_accepted\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"i18n\",[\"groups.requests.accepted\"],null],false],[0,\"\\n                \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"label\"],[[28,\"action\",[[23,0,[]],\"undoAcceptRequest\"],null],[23,1,[]],\"undo\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,1,[\"request_denied\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"i18n\",[\"groups.requests.denied\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"acceptRequest\"],null],[23,1,[]],\"groups.requests.accept\",\"btn-primary\"]]],false],[0,\"\\n                \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"denyRequest\"],null],[23,1,[]],\"groups.requests.deny\",\"btn-danger\"]]],false],[0,\"\\n              \"]],\"parameters\":[]}]],\"parameters\":[]}]],\"parameters\":[]}],[0,\"            \"],[9],[0,\"\\n            \"],[7,\"td\",true],[8],[9],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"div\",true],[8],[1,[28,\"i18n\",[\"groups.empty.requests\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"group-requests"}});
Discourse.RAW_TEMPLATES["group-selector-autocomplete"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "      <li><a href>"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"option.name",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":33}}}))
    + "</a></li>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<div class='autocomplete ac-group'>\n  <ul>\n"
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"option","in","options",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":5,"column":13}}})) != null ? stack1 : "")
    + "  </ul>\n</div>\n";
},"useData":true});
Ember.TEMPLATES["group"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"before-group-container\",[28,\"hash\",null,[[\"group\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[7,\"div\",true],[11,\"class\",[29,[\"container group \",[24,[\"model\",\"name\"]]]]],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"group-details-container\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"group-info\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"flair_url\"]]],null,{\"statements\":[[0,\"        \"],[7,\"span\",true],[10,\"class\",\"group-avatar-flair\"],[8],[0,\"\\n          \"],[1,[28,\"avatar-flair\",null,[[\"flairURL\",\"flairBgColor\",\"flairColor\",\"groupName\"],[[24,[\"model\",\"flair_url\"]],[24,[\"model\",\"flair_bg_color\"]],[24,[\"model\",\"flair_color\"]],[24,[\"model\",\"name\"]]]]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[7,\"span\",true],[8],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"group-info-name\"],[8],[1,[22,\"groupName\"],false],[9],[0,\"\\n\\n        \"],[7,\"div\",true],[8],[0,\"\\n          \"],[4,\"if\",[[24,[\"model\",\"full_name\"]]],null,{\"statements\":[[7,\"span\",true],[10,\"class\",\"group-info-full-name\"],[8],[1,[24,[\"model\",\"name\"]],false],[9]],\"parameters\":[]},null],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"bio_cooked\"]]],null,{\"statements\":[[0,\"      \"],[7,\"hr\",true],[8],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"group-bio\"],[8],[0,\"\\n        \"],[7,\"p\",true],[8],[1,[24,[\"model\",\"bio_cooked\"]],true],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"group-details-button\"],[8],[0,\"\\n      \"],[1,[28,\"group-membership-button\",null,[[\"class\",\"model\",\"showLogin\"],[\"inline\",[24,[\"model\"]],[28,\"route-action\",[\"showLogin\"],null]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"displayGroupMessageButton\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"label\"],[[28,\"action\",[[23,0,[]],\"messageGroup\"],null],\"btn-primary group-message-button inline\",\"envelope\",\"groups.message\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"currentUser\",\"admin\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"disabled\",\"icon\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"destroy\"],null],[24,[\"destroying\"]],\"trash-alt\",\"btn-danger\",\"admin.groups.delete\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"user-content-wrapper\"],[8],[0,\"\\n  \"],[7,\"section\",true],[10,\"class\",\"user-primary-navigation\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n      \"],[1,[28,\"group-navigation\",null,[[\"group\",\"currentPath\",\"tabs\"],[[24,[\"model\"]],[24,[\"currentPath\"]],[24,[\"tabs\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n        \"],[1,[22,\"outlet\"],false],[0,\"\\n\"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"group"}});
Ember.TEMPLATES["group/activity"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[0,\"  \"],[7,\"section\",true],[10,\"class\",\"user-secondary-navigation\"],[8],[0,\"\\n\"],[4,\"mobile-nav\",null,[[\"class\",\"desktopClass\",\"currentPath\"],[\"activity-nav\",\"action-list activity-list nav-stacked\",[24,[\"router\",\"_router\",\"currentPath\"]]]],{\"statements\":[[4,\"if\",[[24,[\"model\",\"can_see_members\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"group-activity-filter\",null,[[\"filter\",\"categoryId\"],[\"posts\",[24,[\"category_id\"]]]]],false],[0,\"\\n      \"],[1,[28,\"group-activity-filter\",null,[[\"filter\",\"categoryId\"],[\"topics\",[24,[\"category_id\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"siteSettings\",\"enable_mentions\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"group-activity-filter\",null,[[\"filter\",\"categoryId\"],[\"mentions\",[24,[\"category_id\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\",\"connectorTagName\"],[\"group-activity-bottom\",\"\",\"li\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"],[7,\"section\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n  \"],[1,[22,\"outlet\"],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"group/activity"}});
Ember.TEMPLATES["group/manage"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"tab\"],\"statements\":[[7,\"section\",true],[10,\"class\",\"user-secondary-navigation\"],[8],[0,\"\\n\"],[4,\"mobile-nav\",null,[[\"class\",\"desktopClass\",\"currentPath\"],[\"activity-nav\",\"action-list activity-list nav-stacked\",[24,[\"router\",\"_router\",\"currentPath\"]]]],{\"statements\":[[4,\"each\",[[24,[\"tabs\"]]],null,{\"statements\":[[0,\"      \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[[23,1,[\"route\"]],[24,[\"model\",\"name\"]]]],{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[[23,1,[\"title\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null]],\"parameters\":[]},null],[9],[0,\"\\n\"],[7,\"section\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n  \"],[1,[22,\"outlet\"],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"group/manage"}});
Ember.TEMPLATES["group/manage/interaction"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"form\",true],[10,\"class\",\"groups-form form-vertical\"],[8],[0,\"\\n  \"],[1,[28,\"groups-form-interaction-fields\",null,[[\"model\"],[[24,[\"model\"]]]]],false],[0,\"\\n  \"],[1,[28,\"group-manage-save-button\",null,[[\"model\"],[[24,[\"model\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"group/manage/interaction"}});
Ember.TEMPLATES["group/manage/logs"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"log\"],\"statements\":[[4,\"if\",[[24,[\"model\",\"logs\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"group-manage-logs-controls\"],[8],[0,\"\\n    \"],[1,[28,\"group-manage-logs-filter\",null,[[\"clearFilter\",\"value\",\"type\"],[[28,\"action\",[[23,0,[]],\"clearFilter\"],null],[24,[\"filters\",\"action\"]],\"action\"]]],false],[0,\"\\n    \"],[1,[28,\"group-manage-logs-filter\",null,[[\"clearFilter\",\"value\",\"type\"],[[28,\"action\",[[23,0,[]],\"clearFilter\"],null],[24,[\"filters\",\"acting_user\"]],\"acting_user\"]]],false],[0,\"\\n    \"],[1,[28,\"group-manage-logs-filter\",null,[[\"clearFilter\",\"value\",\"type\"],[[28,\"action\",[[23,0,[]],\"clearFilter\"],null],[24,[\"filters\",\"target_user\"]],\"target_user\"]]],false],[0,\"\\n    \"],[1,[28,\"group-manage-logs-filter\",null,[[\"clearFilter\",\"value\",\"type\"],[[28,\"action\",[[23,0,[]],\"clearFilter\"],null],[24,[\"filters\",\"subject\"]],\"subject\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"load-more\",null,[[\"selector\",\"action\"],[\".group-manage-logs .group-manage-logs-row\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"    \"],[7,\"table\",true],[10,\"class\",\"group-manage-logs\"],[8],[0,\"\\n      \"],[7,\"thead\",true],[8],[0,\"\\n        \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"groups.manage.logs.action\"],null],false],[9],[0,\"\\n        \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"groups.manage.logs.acting_user\"],null],false],[9],[0,\"\\n        \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"groups.manage.logs.target_user\"],null],false],[9],[0,\"\\n        \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"groups.manage.logs.subject\"],null],false],[9],[0,\"\\n        \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"groups.manage.logs.when\"],null],false],[9],[0,\"\\n        \"],[7,\"th\",true],[8],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"logs\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"group-manage-logs-row\",null,[[\"log\",\"filters\"],[[23,1,[]],[24,[\"filters\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"div\",true],[8],[1,[28,\"i18n\",[\"groups.empty.logs\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"group/manage/logs"}});
Ember.TEMPLATES["group/manage/membership"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"form\",true],[10,\"class\",\"groups-form form-vertical\"],[8],[0,\"\\n  \"],[1,[28,\"groups-form-membership-fields\",null,[[\"model\"],[[24,[\"model\"]]]]],false],[0,\"\\n  \"],[1,[28,\"group-manage-save-button\",null,[[\"model\"],[[24,[\"model\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"group/manage/membership"}});
Ember.TEMPLATES["group/manage/profile"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"form\",true],[10,\"class\",\"groups-form form-vertical\"],[8],[0,\"\\n  \"],[1,[28,\"groups-form-profile-fields\",null,[[\"model\",\"disableSave\"],[[24,[\"model\"]],[24,[\"saving\"]]]]],false],[0,\"\\n  \"],[1,[28,\"group-manage-save-button\",null,[[\"model\",\"saving\"],[[24,[\"model\"]],[24,[\"saving\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"group/manage/profile"}});
Ember.TEMPLATES["group/messages"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[0,\"  \"],[7,\"section\",true],[10,\"class\",\"user-secondary-navigation\"],[8],[0,\"\\n\"],[4,\"mobile-nav\",null,[[\"class\",\"desktopClass\",\"currentPath\"],[\"messages-nav\",\"nav-stacked action-list\",[24,[\"router\",\"_router\",\"currentPath\"]]]],{\"statements\":[[0,\"\\n    \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"group.messages.inbox\",[24,[\"model\",\"name\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.messages.inbox\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"group.messages.archive\",[24,[\"model\",\"name\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.messages.archive\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"],[7,\"section\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n    \"],[1,[22,\"outlet\"],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"group/messages"}});
Ember.TEMPLATES["groups/index"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"group\"],\"statements\":[[4,\"d-section\",null,[[\"pageClass\"],[\"groups\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"groups-header\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"currentUser\",\"admin\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"label\"],[[28,\"action\",[[23,0,[]],\"new\"],null],\"btn-default groups-header-new pull-right\",\"plus\",\"admin.groups.new.title\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"groups-header-filters\"],[8],[0,\"\\n      \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"class\"],[[24,[\"filterInput\"]],\"groups.index.all\",\"groups-header-filters-name no-blur\"]]],false],[0,\"\\n\\n      \"],[1,[28,\"combo-box\",null,[[\"value\",\"content\",\"class\",\"onChange\",\"options\"],[[24,[\"type\"]],[24,[\"types\"]],\"groups-header-filters-type\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"type\"]]],null]],null],[28,\"hash\",null,[[\"clearable\",\"none\"],[true,\"groups.index.filter\"]]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\"]]],null,{\"statements\":[[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loading\"]]]],{\"statements\":[[4,\"load-more\",null,[[\"selector\",\"action\"],[\".groups-boxes .group-box\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"groups-boxes\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\"]]],null,{\"statements\":[[4,\"link-to\",null,[[\"class\",\"route\",\"model\"],[\"group-box\",\"group.members\",[23,1,[\"name\"]]]],{\"statements\":[[0,\"                \"],[7,\"div\",true],[10,\"class\",\"group-box-inner\"],[8],[0,\"\\n                  \"],[7,\"div\",true],[10,\"class\",\"group-info-wrapper\"],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"flair_url\"]]],null,{\"statements\":[[0,\"                      \"],[7,\"span\",true],[10,\"class\",\"group-avatar-flair\"],[8],[0,\"\\n                        \"],[1,[28,\"avatar-flair\",null,[[\"flairURL\",\"flairBgColor\",\"flairColor\",\"groupName\"],[[23,1,[\"flair_url\"]],[23,1,[\"flair_bg_color\"]],[23,1,[\"flair_color\"]],[23,1,[\"name\"]]]]],false],[0,\"\\n                      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n                    \"],[7,\"span\",true],[10,\"class\",\"group-info\"],[8],[0,\"\\n                      \"],[1,[28,\"groups-info\",null,[[\"group\"],[[23,1,[]]]]],false],[0,\"\\n\\n                      \"],[7,\"div\",true],[10,\"class\",\"group-user-count\"],[8],[1,[28,\"d-icon\",[\"user\"],null],false],[1,[23,1,[\"user_count\"]],false],[9],[0,\"\\n                    \"],[9],[0,\"\\n                  \"],[9],[0,\"\\n\\n                  \"],[7,\"div\",true],[10,\"class\",\"group-description\"],[8],[1,[23,1,[\"bio_excerpt\"]],true],[9],[0,\"\\n\\n                  \"],[7,\"div\",true],[10,\"class\",\"group-membership\"],[8],[0,\"\\n\"],[4,\"group-membership-button\",null,[[\"tagName\",\"model\",\"showLogin\"],[\"\",[23,1,[]],[28,\"route-action\",[\"showLogin\"],null]]],{\"statements\":[[4,\"if\",[[23,1,[\"is_group_owner\"]]],null,{\"statements\":[[0,\"                      \"],[7,\"span\",true],[10,\"class\",\"is-group-owner\"],[8],[0,\"\\n                        \"],[1,[28,\"d-icon\",[\"shield-alt\"],null],false],[0,\"\\n                        \"],[1,[28,\"i18n\",[\"groups.index.is_group_owner\"],null],false],[0,\"\\n                      \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,1,[\"is_group_user\"]]],null,{\"statements\":[[0,\"                      \"],[7,\"span\",true],[10,\"class\",\"is-group-member\"],[8],[0,\"\\n                        \"],[1,[28,\"d-icon\",[\"check\"],null],false],[0,\"\\n                        \"],[1,[28,\"i18n\",[\"groups.index.is_group_user\"],null],false],[0,\"\\n                      \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,1,[\"public_admission\"]]],null,{\"statements\":[[0,\"                        \"],[1,[28,\"i18n\",[\"groups.index.public\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,1,[\"isPrivate\"]]],null,{\"statements\":[[0,\"                        \"],[1,[28,\"d-icon\",[\"far-eye-slash\"],null],false],[0,\"\\n                        \"],[1,[28,\"i18n\",[\"groups.index.private\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,1,[\"automatic\"]]],null,{\"statements\":[[0,\"                          \"],[1,[28,\"i18n\",[\"groups.index.automatic\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                          \"],[1,[28,\"d-icon\",[\"ban\"],null],false],[0,\"\\n                          \"],[1,[28,\"i18n\",[\"groups.index.closed\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"                      \"]],\"parameters\":[]}]],\"parameters\":[]}]],\"parameters\":[]}]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"                  \"],[9],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[1]},null],[0,\"          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loadingMore\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"groups.index.empty\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"groups/index"}});
Ember.TEMPLATES["groups/new"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-section\",null,[[\"pageClass\"],[\"groups-new\"]],{\"statements\":[[0,\"  \"],[7,\"h1\",true],[8],[1,[28,\"i18n\",[\"admin.groups.new.title\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"hr\",true],[8],[9],[0,\"\\n\\n  \"],[7,\"form\",true],[10,\"class\",\"groups-form form-vertical\"],[8],[0,\"\\n\"],[4,\"groups-form-profile-fields\",null,[[\"model\",\"disableSave\"],[[24,[\"model\"]],[24,[\"saving\"]]]],{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"owner-selector\"],[8],[1,[28,\"i18n\",[\"admin.groups.add_owners\"],null],false],[9],[0,\"\\n\\n        \"],[1,[28,\"user-selector\",null,[[\"usernames\",\"class\",\"placeholderKey\",\"id\"],[[24,[\"model\",\"ownerUsernames\"]],\"input-xxlarge\",\"groups.selector_placeholder\",\"owner-selector\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"member-selector\"],[8],[1,[28,\"i18n\",[\"groups.members.title\"],null],false],[9],[0,\"\\n\\n        \"],[1,[28,\"user-selector\",null,[[\"usernames\",\"class\",\"placeholderKey\",\"id\"],[[24,[\"model\",\"usernames\"]],\"input-xxlarge\",\"groups.selector_placeholder\",\"member-selector\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[1,[28,\"groups-form-membership-fields\",null,[[\"model\"],[[24,[\"model\"]]]]],false],[0,\"\\n    \"],[1,[28,\"groups-form-interaction-fields\",null,[[\"model\"],[[24,[\"model\"]]]]],false],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group buttons\"],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"action\",\"type\",\"disabled\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"save\"],null],\"submit\",[24,[\"saving\"]],\"btn btn-primary group-form-save\",\"admin.groups.new.create\"]]],false],[0,\"\\n\\n\"],[4,\"link-to\",null,[[\"route\"],[\"groups\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"cancel\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"groups/new"}});
Ember.TEMPLATES["hide-modal"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"hide-modal-trigger\"],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"hide-modal"}});
Ember.TEMPLATES["invites"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"outlet\"],false]],\"hasEval\":false}","meta":{"moduleName":"invites"}});
Ember.TEMPLATES["invites/show"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"f\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"container invites-show clearfix\"],[8],[0,\"\\n\\n  \"],[7,\"h2\",true],[8],[1,[22,\"welcomeTitle\"],false],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"two-col\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"col-image\"],[8],[0,\"\\n      \"],[7,\"img\",true],[11,\"src\",[22,\"inviteImageUrl\"]],[8],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"col-form\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"successMessage\"]]],null,{\"statements\":[[0,\"        \"],[7,\"br\",true],[8],[9],[7,\"br\",true],[8],[9],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"alert alert-info\"],[8],[7,\"p\",true],[8],[1,[22,\"successMessage\"],true],[9],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"invites.invited_by\"],null],false],[9],[0,\"\\n        \"],[7,\"p\",true],[8],[1,[28,\"user-info\",null,[[\"user\"],[[24,[\"invitedBy\"]]]]],false],[9],[0,\"\\n\\n        \"],[7,\"p\",true],[8],[1,[22,\"yourEmailMessage\"],true],[0,\"\\n\"],[4,\"if\",[[24,[\"externalAuthsEnabled\"]]],null,{\"statements\":[[0,\"             \"],[1,[28,\"i18n\",[\"invites.social_login_available\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\\n        \"],[7,\"form\",true],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"input username-input\"],[8],[0,\"\\n            \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"user.username.title\"],null],false],[9],[0,\"\\n            \"],[1,[28,\"input\",null,[[\"value\",\"id\",\"name\",\"maxlength\",\"autocomplete\"],[[24,[\"accountUsername\"]],\"new-account-username\",\"username\",[24,[\"maxUsernameLength\"]],\"discourse\"]]],false],[0,\"\\n            \"],[1,[28,\"input-tip\",null,[[\"validation\",\"id\"],[[24,[\"usernameValidation\"]],\"username-validation\"]]],false],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.username.instructions\"],null],false],[9],[0,\"\\n          \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"fullnameRequired\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"input name-input\"],[8],[0,\"\\n              \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"invites.name_label\"],null],false],[9],[0,\"\\n              \"],[1,[28,\"input\",null,[[\"value\",\"id\",\"name\"],[[24,[\"accountName\"]],\"new-account-name\",\"name\"]]],false],[0,\"\\n              \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[22,\"nameInstructions\"],false],[9],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"input password-input\"],[8],[0,\"\\n            \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"invites.password_label\"],null],false],[9],[0,\"\\n            \"],[1,[28,\"password-field\",null,[[\"value\",\"type\",\"id\",\"capsLockOn\"],[[24,[\"accountPassword\"]],\"password\",\"new-account-password\",[24,[\"capsLockOn\"]]]]],false],[0,\"\\n            \"],[1,[28,\"input-tip\",null,[[\"validation\"],[[24,[\"passwordValidation\"]]]]],false],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n              \"],[1,[22,\"passwordInstructions\"],false],[0,\" \"],[1,[28,\"i18n\",[\"invites.optional_description\"],null],false],[0,\"\\n              \"],[7,\"div\",true],[11,\"class\",[29,[\"caps-lock-warning \",[28,\"unless\",[[24,[\"capsLockOn\"]],\"invisible\"],null]]]],[8],[0,\"\\n                \"],[1,[28,\"d-icon\",[\"exclamation-triangle\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"login.caps_lock_warning\"],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"userFields\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"user-fields\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"userFields\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"user-field\",null,[[\"field\",\"value\"],[[23,1,[\"field\"]],[23,1,[\"value\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"            \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n          \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"type\",\"disabled\",\"label\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"submit\"],null],\"submit\",[24,[\"submitDisabled\"]],\"invites.accept_invite\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"errorMessage\"]]],null,{\"statements\":[[0,\"            \"],[7,\"br\",true],[8],[9],[7,\"br\",true],[8],[9],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[1,[22,\"errorMessage\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"invites/show"}});
Discourse.RAW_TEMPLATES["list/action-list"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<div class='post-actions "
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"className",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":25},"end":{"line":2,"column":38}}}))
    + "'>\n  "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"icon",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3,"column":2},"end":{"line":3,"column":17}}}))
    + "\n"
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"postNumber","in","postNumbers",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(2, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":4,"column":2},"end":{"line":6,"column":11}}})) != null ? stack1 : "")
    + "</div>\n";
},"2":function(container,depth0,helpers,partials,data) {
    return "    <a href='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.url",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":5,"column":13},"end":{"line":5,"column":26}}}))
    + "/"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"postNumber",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":5,"column":27},"end":{"line":5,"column":41}}}))
    + "'>#"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"postNumber",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":5,"column":44},"end":{"line":5,"column":58}}}))
    + "</a>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"postNumbers",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":8,"column":7}}})) != null ? stack1 : "");
},"useData":true});
Discourse.RAW_TEMPLATES["list/activity-column"] = requirejs('discourse-common/lib/raw-handlebars').template({"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"tagName",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":1},"end":{"line":1,"column":12}}}))
    + " class=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"class",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":20},"end":{"line":1,"column":29}}}))
    + " "
    + container.escapeExpression((helpers["cold-age-class"]||(depth0 && depth0["cold-age-class"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.createdAt",{"name":"cold-age-class","hash":{"class":"","startDate":"topic.bumpedAt"},"hashTypes":{"class":"StringLiteral","startDate":"PathExpression"},"hashContexts":{"class":depth0,"startDate":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":30},"end":{"line":1,"column":98}}}))
    + " activity\" title=\""
    + ((stack1 = helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.bumpedAtTitle",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":116},"end":{"line":1,"column":141}}})) != null ? stack1 : "")
    + "\">\n  <a class=\"post-activity\" href=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.lastPostUrl",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":33},"end":{"line":2,"column":54}}}))
    + "\">"
    + container.escapeExpression((helpers["raw-plugin-outlet"]||(depth0 && depth0["raw-plugin-outlet"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"raw-plugin-outlet","hash":{"name":"topic-list-before-relative-date"},"hashTypes":{"name":"StringLiteral"},"hashContexts":{"name":depth0},"types":[],"contexts":[],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":66}}}))
    + container.escapeExpression((helpers["format-date"]||(depth0 && depth0["format-date"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.bumpedAt",{"name":"format-date","hash":{"noTitle":"true","format":"tiny"},"hashTypes":{"noTitle":"StringLiteral","format":"StringLiteral"},"hashContexts":{"noTitle":depth0,"format":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":65}}}))
    + "</a>\n</"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"tagName",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":13}}}))
    + ">\n";
},"useData":true});
Discourse.RAW_TEMPLATES["list/category-column"] = requirejs('discourse-common/lib/raw-handlebars').template({"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    return "<td class='category'>"
    + container.escapeExpression((helpers["category-link"]||(depth0 && depth0["category-link"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"category",{"name":"category-link","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":21},"end":{"line":1,"column":47}}}))
    + "</td>\n";
},"useData":true});
Discourse.RAW_TEMPLATES["list/post-count-or-badges"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "  "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-post-badges",{"name":"raw","hash":{"newDotText":"newDotText","url":"topic.lastUnreadUrl","unseen":"topic.unseen","newPosts":"topic.displayNewPosts","unread":"topic.unread"},"hashTypes":{"newDotText":"PathExpression","url":"PathExpression","unseen":"PathExpression","newPosts":"PathExpression","unread":"PathExpression"},"hashContexts":{"newDotText":depth0,"url":depth0,"unseen":depth0,"newPosts":depth0,"unread":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":2},"end":{"line":2,"column":146}}}))
    + "\n";
},"3":function(container,depth0,helpers,partials,data) {
    return "  "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"list.posts-count-column",{"name":"raw","hash":{"tagName":"div","topic":"topic"},"hashTypes":{"tagName":"StringLiteral","topic":"PathExpression"},"hashContexts":{"tagName":depth0,"topic":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":2},"end":{"line":4,"column":61}}}))
    + "\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"view.showBadges",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.program(3, data, 0),"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":5,"column":7}}})) != null ? stack1 : "");
},"useData":true});
Discourse.RAW_TEMPLATES["list/posters-column"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"poster.moreCount",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(2, data, 0),"inverse":container.program(4, data, 0),"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3,"column":2},"end":{"line":7,"column":9}}})) != null ? stack1 : "");
},"2":function(container,depth0,helpers,partials,data) {
    return "    <a class=\"posters-more-count\">"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"poster.moreCount",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":34},"end":{"line":4,"column":54}}}))
    + "</a>\n";
},"4":function(container,depth0,helpers,partials,data) {
    return "    <a href=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"poster.user.path",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":13},"end":{"line":6,"column":33}}}))
    + "\" data-user-card=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"poster.user.username",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":51},"end":{"line":6,"column":75}}}))
    + "\" class=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"poster.extraClasses",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":84},"end":{"line":6,"column":107}}}))
    + "\">"
    + container.escapeExpression((helpers.avatar||(depth0 && depth0.avatar)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"poster",{"name":"avatar","hash":{"imageSize":"small","namePath":"user.name","usernamePath":"user.username","avatarTemplatePath":"user.avatar_template"},"hashTypes":{"imageSize":"StringLiteral","namePath":"StringLiteral","usernamePath":"StringLiteral","avatarTemplatePath":"StringLiteral"},"hashContexts":{"imageSize":depth0,"namePath":depth0,"usernamePath":depth0,"avatarTemplatePath":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":109},"end":{"line":6,"column":236}}}))
    + "</a>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<td class='posters'>\n"
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"poster","in","posters",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":2,"column":0},"end":{"line":8,"column":9}}})) != null ? stack1 : "")
    + "</td>\n";
},"useData":true});
Discourse.RAW_TEMPLATES["list/posts-count-column"] = requirejs('discourse-common/lib/raw-handlebars').template({"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    return "<"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"view.tagName",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":1},"end":{"line":1,"column":17}}}))
    + " class='num posts-map posts "
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"view.likesHeat",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":45},"end":{"line":1,"column":63}}}))
    + "' title='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"view.title",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":72},"end":{"line":1,"column":86}}}))
    + "'>\n  <a href class='posts-map badge-posts "
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"view.likesHeat",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":39},"end":{"line":2,"column":57}}}))
    + "'>\n    "
    + container.escapeExpression((helpers["raw-plugin-outlet"]||(depth0 && depth0["raw-plugin-outlet"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"raw-plugin-outlet","hash":{"name":"topic-list-before-reply-count"},"hashTypes":{"name":"StringLiteral"},"hashContexts":{"name":depth0},"types":[],"contexts":[],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}}}))
    + "\n    "
    + container.escapeExpression((helpers.number||(depth0 && depth0.number)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.replyCount",{"name":"number","hash":{"noTitle":"true"},"hashTypes":{"noTitle":"StringLiteral"},"hashContexts":{"noTitle":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":46}}}))
    + "\n  </a>\n</"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"view.tagName",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":18}}}))
    + ">\n";
},"useData":true});
Discourse.RAW_TEMPLATES["list/topic-excerpt"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "  <div class=\"topic-excerpt\">\n    "
    + ((stack1 = (helpers["dir-span"]||(depth0 && depth0["dir-span"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.escapedExcerpt",{"name":"dir-span","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":39}}})) != null ? stack1 : "")
    + "\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.excerptTruncated",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(2, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":4},"end":{"line":6,"column":11}}})) != null ? stack1 : "")
    + "  </div>\n";
},"2":function(container,depth0,helpers,partials,data) {
    return "      <a href=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.url",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":5,"column":15},"end":{"line":5,"column":28}}}))
    + "\">"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"read_more",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":5,"column":30},"end":{"line":5,"column":50}}}))
    + "</a>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.hasExcerpt",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":8,"column":7}}})) != null ? stack1 : "");
},"useData":true});
Discourse.RAW_TEMPLATES["list/topic-list-item"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "  <td class=\"bulk-select\">\n    <input type=\"checkbox\" class=\"bulk-select\">\n  </td>\n";
},"3":function(container,depth0,helpers,partials,data) {
    return container.escapeExpression((helpers["topic-featured-link"]||(depth0 && depth0["topic-featured-link"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic",{"name":"topic-featured-link","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":34}}}));
},"5":function(container,depth0,helpers,partials,data) {
    return container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-post-badges",{"name":"raw","hash":{"newDotText":"newDotText","url":"topic.lastUnreadUrl","unseen":"topic.unseen","newPosts":"topic.displayNewPosts","unread":"topic.unread"},"hashTypes":{"newDotText":"PathExpression","url":"PathExpression","unseen":"PathExpression","newPosts":"PathExpression","unread":"PathExpression"},"hashContexts":{"newDotText":depth0,"url":depth0,"unseen":depth0,"newPosts":depth0,"unread":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":149}}}));
},"7":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers.unless.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.isPinnedUncategorized",{"name":"unless","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(8, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":32,"column":6},"end":{"line":34,"column":17}}})) != null ? stack1 : "");
},"8":function(container,depth0,helpers,partials,data) {
    return "        "
    + container.escapeExpression((helpers["category-link"]||(depth0 && depth0["category-link"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.category",{"name":"category-link","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":40}}}))
    + "\n";
},"10":function(container,depth0,helpers,partials,data) {
    return "    "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"list.topic-excerpt",{"name":"raw","hash":{"topic":"topic"},"hashTypes":{"topic":"PathExpression"},"hashContexts":{"topic":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":44}}}))
    + "\n";
},"12":function(container,depth0,helpers,partials,data) {
    return "  "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"list.posters-column",{"name":"raw","hash":{"posters":"topic.featuredUsers"},"hashTypes":{"posters":"PathExpression"},"hashContexts":{"posters":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":59}}}))
    + "\n";
},"14":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "  <td class=\"num likes\">\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"hasLikes",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(15, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":52,"column":4},"end":{"line":56,"column":11}}})) != null ? stack1 : "")
    + "  </td>\n";
},"15":function(container,depth0,helpers,partials,data) {
    return "      <a href='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.summaryUrl",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":53,"column":15},"end":{"line":53,"column":35}}}))
    + "'>\n        "
    + container.escapeExpression((helpers.number||(depth0 && depth0.number)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.like_count",{"name":"number","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":54,"column":8},"end":{"line":54,"column":35}}}))
    + " "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"heart",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":54,"column":36},"end":{"line":54,"column":54}}}))
    + "\n      </a>\n";
},"17":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "  <td class=\"num likes\">\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"hasOpLikes",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(18, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":62,"column":4},"end":{"line":66,"column":11}}})) != null ? stack1 : "")
    + "  </td>\n";
},"18":function(container,depth0,helpers,partials,data) {
    return "      <a href='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.summaryUrl",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":63,"column":15},"end":{"line":63,"column":35}}}))
    + "'>\n        "
    + container.escapeExpression((helpers.number||(depth0 && depth0.number)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.op_like_count",{"name":"number","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":64,"column":8},"end":{"line":64,"column":38}}}))
    + " "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"heart",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":64,"column":39},"end":{"line":64,"column":57}}}))
    + "\n      </a>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"bulkSelectEnabled",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":5,"column":7}}})) != null ? stack1 : "")
    + "\n<td class='main-link clearfix' colspan=\"1\">\n  <span class='link-top-line'>"
    + container.escapeExpression((helpers["raw-plugin-outlet"]||(depth0 && depth0["raw-plugin-outlet"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"raw-plugin-outlet","hash":{"name":"topic-list-before-status"},"hashTypes":{"name":"StringLiteral"},"hashContexts":{"name":depth0},"types":[],"contexts":[],"data":data,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":58}}}))
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-status",{"name":"raw","hash":{"topic":"topic"},"hashTypes":{"topic":"PathExpression"},"hashContexts":{"topic":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":39}}}))
    + container.escapeExpression((helpers["topic-link"]||(depth0 && depth0["topic-link"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic",{"name":"topic-link","hash":{"class":"raw-link raw-topic-link"},"hashTypes":{"class":"StringLiteral"},"hashContexts":{"class":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":57}}}))
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.featured_link",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(3, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":19,"column":4},"end":{"line":21,"column":12}}})) != null ? stack1 : "")
    + container.escapeExpression((helpers["raw-plugin-outlet"]||(depth0 && depth0["raw-plugin-outlet"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"raw-plugin-outlet","hash":{"name":"topic-list-after-title"},"hashTypes":{"name":"StringLiteral"},"hashContexts":{"name":depth0},"types":[],"contexts":[],"data":data,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":56}}}))
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"list.unread-indicator",{"name":"raw","hash":{"unreadClass":"unreadClass","topicId":"topic.id","includeUnreadIndicator":"includeUnreadIndicator"},"hashTypes":{"unreadClass":"PathExpression","topicId":"PathExpression","includeUnreadIndicator":"PathExpression"},"hashContexts":{"unreadClass":depth0,"topicId":depth0,"includeUnreadIndicator":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":23,"column":4},"end":{"line":25,"column":61}}}))
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"showTopicPostBadges",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(5, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":26,"column":4},"end":{"line":28,"column":12}}})) != null ? stack1 : "")
    + "  </span>\n  <div class=\"link-bottom-line\">\n"
    + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : (container.nullContext || {}),"hideCategory",{"name":"unless","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(7, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":31,"column":4},"end":{"line":35,"column":15}}})) != null ? stack1 : "")
    + "    "
    + container.escapeExpression((helpers["discourse-tags"]||(depth0 && depth0["discourse-tags"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic",{"name":"discourse-tags","hash":{"tagsForUser":"tagsForUser","mode":"list"},"hashTypes":{"tagsForUser":"PathExpression","mode":"StringLiteral"},"hashContexts":{"tagsForUser":depth0,"mode":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":64}}}))
    + "\n    "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"list.action-list",{"name":"raw","hash":{"icon":"heart","className":"likes","postNumbers":"topic.liked_post_numbers","topic":"topic"},"hashTypes":{"icon":"StringLiteral","className":"StringLiteral","postNumbers":"PathExpression","topic":"PathExpression"},"hashContexts":{"icon":depth0,"className":depth0,"postNumbers":depth0,"topic":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":110}}}))
    + "\n  </div>\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"expandPinned",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(10, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":39,"column":2},"end":{"line":41,"column":9}}})) != null ? stack1 : "")
    + "</td>\n\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"showPosters",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(12, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":44,"column":0},"end":{"line":46,"column":7}}})) != null ? stack1 : "")
    + "\n"
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"list.posts-count-column",{"name":"raw","hash":{"topic":"topic"},"hashTypes":{"topic":"PathExpression"},"hashContexts":{"topic":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":45}}}))
    + "\n\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"showLikes",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(14, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":50,"column":0},"end":{"line":58,"column":7}}})) != null ? stack1 : "")
    + "\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"showOpLikes",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(17, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":60,"column":0},"end":{"line":68,"column":7}}})) != null ? stack1 : "")
    + "\n<td class=\"num views "
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.viewsHeat",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":70,"column":21},"end":{"line":70,"column":40}}}))
    + "\">"
    + container.escapeExpression((helpers.number||(depth0 && depth0.number)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.views",{"name":"number","hash":{"numberKey":"views_long"},"hashTypes":{"numberKey":"StringLiteral"},"hashContexts":{"numberKey":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":70,"column":42},"end":{"line":70,"column":87}}}))
    + "</td>\n\n"
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"list.activity-column",{"name":"raw","hash":{"tagName":"td","class":"num","topic":"topic"},"hashTypes":{"tagName":"StringLiteral","class":"StringLiteral","topic":"PathExpression"},"hashContexts":{"tagName":depth0,"class":depth0,"topic":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":72,"column":0},"end":{"line":72,"column":67}}}))
    + "\n";
},"useData":true});
Discourse.RAW_TEMPLATES["list/unread-indicator"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "&nbsp;<span class='badge badge-notification unread-indicator indicator-topic-"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topicId",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":79},"end":{"line":2,"column":90}}}))
    + " "
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"unreadClass",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":91},"end":{"line":2,"column":106}}}))
    + "' title='"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.unread_indicator",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":115},"end":{"line":2,"column":148}}}))
    + "'>"
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"asterisk",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":26}}}))
    + "\n  </span>";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"includeUnreadIndicator",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":5,"column":8}}})) != null ? stack1 : "");
},"useData":true});
Discourse.RAW_TEMPLATES["list/visited-line"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "  <tr class='topic-list-item-separator'>\n    <td colspan=\"6\">\n      <span>\n        "
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topics.new_messages_marker",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":45}}}))
    + "\n      </span>\n    </td>\n  </tr>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"view.isLastVisited",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":9,"column":7}}})) != null ? stack1 : "");
},"useData":true});
Ember.TEMPLATES["loading"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[22,\"loading-spinner\"],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"loading"}});
Ember.TEMPLATES["login-preferences"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n  \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"login.to_continue\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"p\",true],[10,\"style\",\"margin-top: 1em\"],[8],[1,[28,\"i18n\",[\"login.preferences\"],null],false],[9],[0,\"\\n\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-primary\",[28,\"route-action\",[\"showLogin\"],null],\"log_in\"]]],false],[0,\"\\n\"],[4,\"unless\",[[24,[\"siteSettings\",\"enable_sso\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"action\",\"label\"],[[28,\"route-action\",[\"showForgotPassword\"],null],\"login.forgot\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"login-preferences"}});
Ember.TEMPLATES["mobile/components/basic-topic-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"t\"],\"statements\":[[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"hasIncoming\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"show-mores\"],[8],[0,\"\\n    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"alert alert-info clickable\"],[3,\"action\",[[23,0,[]],[24,[\"showInserted\"]]]],[8],[0,\"\\n      \"],[1,[28,\"count-i18n\",null,[[\"key\",\"suffix\",\"count\"],[\"topic_count_\",\"latest\",[24,[\"incomingCount\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"topics\"]]],null,{\"statements\":[[0,\"    \"],[7,\"table\",true],[10,\"class\",\"topic-list\"],[8],[0,\"\\n      \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"topics\"]]],null,{\"statements\":[[0,\"        \"],[7,\"tr\",true],[11,\"class\",[29,[\"topic-list-item \",[28,\"if\",[[23,1,[\"archived\"]],\"archived\"],null],\" \",[28,\"if\",[[23,1,[\"visited\"]],\"visited\"],null]]]],[11,\"data-topic-id\",[23,1,[\"id\"]]],[8],[0,\"\\n          \"],[7,\"td\",true],[8],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"main-link\"],[8],[0,\"\\n              \"],[1,[28,\"topic-status\",null,[[\"topic\"],[[23,1,[]]]]],false],[0,\"\\n              \"],[1,[28,\"topic-link\",[[23,1,[]]],null],false],[0,\"\\n              \"],[1,[28,\"raw\",[\"list/unread-indicator\"],[[\"includeUnreadIndicator\",\"topicId\",\"unreadClass\"],[[24,[\"showUnreadIndicator\"]],[23,1,[\"id\"]],[28,\"if\",[[23,1,[\"unread_by_group_member\"]],\"\",\"read\"],null]]]],false],[0,\"\\n\"],[4,\"if\",[[23,1,[\"unseen\"]]],null,{\"statements\":[[0,\"                \"],[7,\"span\",true],[10,\"class\",\"badge-notification new-topic\"],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[23,1,[\"hasExcerpt\"]]],null,{\"statements\":[[0,\"                \"],[7,\"div\",true],[10,\"class\",\"topic-excerpt\"],[8],[0,\"\\n                  \"],[1,[23,1,[\"excerpt\"]],true],[0,\"\\n\"],[4,\"if\",[[23,1,[\"excerptTruncated\"]]],null,{\"statements\":[[0,\"                    \"],[4,\"unless\",[[23,1,[\"canClearPin\"]]],null,{\"statements\":[[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[23,1,[\"url\"]]],null]]]],[8],[1,[28,\"i18n\",[\"read_more\"],null],false],[9]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[23,1,[\"canClearPin\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"title\",[29,[[28,\"i18n\",[\"topic.clear_pin.help\"],null]]]],[3,\"action\",[[23,0,[]],\"clearPin\",[23,1,[]]]],[8],[1,[28,\"i18n\",[\"topic.clear_pin.title\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"pull-right\"],[8],[0,\"\\n              \"],[1,[28,\"raw\",[\"list/post-count-or-badges\"],[[\"topic\",\"postBadgesEnabled\"],[[23,1,[]],\"true\"]]],false],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"topic-item-stats clearfix\"],[8],[0,\"\\n              \"],[1,[28,\"discourse-tags\",[[23,1,[]]],[[\"mode\",\"tagsForUser\"],[\"list\",[24,[\"tagsForUser\"]]]]],false],[0,\"\\n              \"],[7,\"div\",true],[10,\"class\",\"pull-right\"],[8],[0,\"\\n                \"],[1,[28,\"raw\",[\"list/activity-column\"],[[\"topic\",\"tagName\",\"class\"],[[23,1,[]],\"div\",\"num activity last\"]]],false],[0,\"\\n                \"],[7,\"a\",true],[11,\"href\",[29,[[23,1,[\"lastPostUrl\"]]]]],[11,\"title\",[29,[[28,\"i18n\",[\"last_post\"],null],\": \",[28,\"raw-date\",[[23,1,[\"bumped_at\"]]],null]]]],[8],[1,[23,1,[\"last_poster_username\"]],false],[9],[0,\"\\n              \"],[9],[0,\"\\n\"],[4,\"unless\",[[24,[\"hideCategory\"]]],null,{\"statements\":[[0,\"                \"],[7,\"div\",true],[10,\"class\",\"category\"],[8],[0,\"\\n                  \"],[1,[28,\"category-link\",[[23,1,[\"category\"]]],null],false],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"              \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"alert alert-info\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"choose_topic.none_found\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"mobile/components/basic-topic-list"}});
Ember.TEMPLATES["mobile/components/categories-only"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"c\",\"subcategory\",\"subcategory\",\"subsubcategory\",\"t\"],\"statements\":[[4,\"if\",[[24,[\"categories\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[11,\"class\",[29,[\"category-list \",[28,\"if\",[[24,[\"showTopics\"]],\"with-topics\"],null]]]],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"categories\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[11,\"data-category-id\",[23,1,[\"id\"]]],[10,\"class\",\"category-list-item category\"],[11,\"style\",[28,\"border-color\",[[23,1,[\"color\"]]],null]],[8],[0,\"\\n        \"],[7,\"table\",true],[10,\"class\",\"topic-list\"],[8],[0,\"\\n          \"],[7,\"tbody\",true],[8],[0,\"\\n            \"],[7,\"tr\",true],[8],[0,\"\\n              \"],[7,\"th\",true],[10,\"class\",\"main-link\"],[8],[0,\"\\n                \"],[1,[28,\"category-title-link\",null,[[\"category\"],[[23,1,[]]]]],false],[0,\"\\n              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[23,1,[\"description_excerpt\"]]],null,{\"statements\":[[0,\"              \"],[7,\"tr\",true],[10,\"class\",\"category-description\"],[8],[0,\"\\n                \"],[7,\"td\",true],[10,\"colspan\",\"3\"],[8],[0,\"\\n                  \"],[1,[23,1,[\"description_excerpt\"]],true],[0,\"\\n                \"],[9],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showTopics\"]]],null,{\"statements\":[[4,\"each\",[[23,1,[\"topics\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"mobile-category-topic\",null,[[\"topic\"],[[23,5,[]]]]],false],[0,\"\\n\"]],\"parameters\":[5]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[23,1,[\"isGrandParent\"]]],null,{\"statements\":[[4,\"each\",[[23,1,[\"subcategories\"]]],null,{\"statements\":[[0,\"                \"],[7,\"tr\",true],[11,\"data-category-id\",[23,1,[\"id\"]]],[10,\"class\",\"subcategory-list-item category\"],[11,\"style\",[28,\"border-color\",[[23,3,[\"color\"]]],null]],[8],[0,\"\\n                  \"],[7,\"td\",true],[8],[0,\"\\n                    \"],[1,[28,\"category-title-link\",null,[[\"tagName\",\"category\"],[\"h4\",[23,3,[]]]]],false],[0,\"\\n\\n                    \"],[7,\"div\",true],[10,\"class\",\"subcategories-list\"],[8],[0,\"\\n\"],[4,\"if\",[[23,3,[\"subcategories\"]]],null,{\"statements\":[[0,\"                        \"],[7,\"div\",true],[10,\"class\",\"subcategories\"],[8],[0,\"\\n\"],[4,\"each\",[[23,3,[\"subcategories\"]]],null,{\"statements\":[[4,\"unless\",[[23,4,[\"isMuted\"]]],null,{\"statements\":[[0,\"                              \"],[1,[28,\"category-link\",[[23,4,[]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[4]},null],[0,\"                        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                    \"],[9],[0,\"\\n                  \"],[9],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[3]},null]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[23,1,[\"subcategories\"]]],null,{\"statements\":[[0,\"              \"],[7,\"tr\",true],[10,\"class\",\"subcategories-list\"],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[0,\"\\n                  \"],[7,\"div\",true],[10,\"class\",\"subcategories\"],[8],[0,\"\\n\"],[4,\"each\",[[23,1,[\"subcategories\"]]],null,{\"statements\":[[4,\"unless\",[[23,2,[\"isMuted\"]]],null,{\"statements\":[[0,\"                        \"],[1,[28,\"category-link\",[[23,2,[]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[2]},null],[0,\"                  \"],[9],[0,\"\\n                \"],[9],[0,\"\\n              \"],[9],[0,\"\\n            \"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"footer\",true],[10,\"class\",\"clearfix\"],[8],[0,\"\\n\\n          \"],[7,\"figure\",true],[11,\"title\",[29,[[28,\"i18n\",[\"all_time_desc\"],null]]]],[8],[1,[28,\"number\",[[23,1,[\"topics_all_time\"]]],null],false],[0,\" \"],[7,\"figcaption\",true],[8],[1,[28,\"i18n\",[\"all_time\"],null],false],[9],[9],[0,\"\\n\\n\"],[4,\"if\",[[23,1,[\"pickMonth\"]]],null,{\"statements\":[[0,\"          \"],[7,\"figure\",true],[11,\"title\",[29,[[28,\"i18n\",[\"month_desc\"],null]]]],[8],[1,[28,\"number\",[[23,1,[\"topics_month\"]]],null],false],[0,\" \"],[7,\"figcaption\",true],[8],[0,\"/ \"],[1,[28,\"i18n\",[\"month\"],null],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[23,1,[\"pickWeek\"]]],null,{\"statements\":[[0,\"            \"],[7,\"figure\",true],[11,\"title\",[29,[[28,\"i18n\",[\"week_desc\"],null]]]],[8],[1,[28,\"number\",[[23,1,[\"topics_week\"]]],null],false],[0,\" \"],[7,\"figcaption\",true],[8],[0,\"/ \"],[1,[28,\"i18n\",[\"week\"],null],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"mobile/components/categories-only"}});
Ember.TEMPLATES["mobile/components/categories-with-featured-topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"categories-only\",null,[[\"categories\",\"latestTopicOnly\",\"showTopics\"],[[24,[\"categories\"]],[24,[\"latestTopicOnly\"]],\"true\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"mobile/components/categories-with-featured-topics"}});
Ember.TEMPLATES["mobile/components/directory-item"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"user-info\",null,[[\"user\"],[[24,[\"item\",\"user\"]]]]],false],[0,\"\\n\"],[1,[28,\"user-stat\",null,[[\"value\",\"label\",\"icon\"],[[24,[\"item\",\"likes_received\"]],\"directory.likes_received\",\"heart\"]]],false],[0,\"\\n\"],[1,[28,\"user-stat\",null,[[\"value\",\"label\",\"icon\"],[[24,[\"item\",\"likes_given\"]],\"directory.likes_given\",\"heart\"]]],false],[0,\"\\n\"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"item\",\"topic_count\"]],\"directory.topic_count\"]]],false],[0,\"\\n\"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"item\",\"post_count\"]],\"directory.post_count\"]]],false],[0,\"\\n\"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"item\",\"topics_entered\"]],\"directory.topics_entered\"]]],false],[0,\"\\n\"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"item\",\"posts_read\"]],\"directory.posts_read\"]]],false],[0,\"\\n\"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"item\",\"days_visited\"]],\"directory.days_visited\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"showTimeRead\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"user-stat\",null,[[\"value\",\"label\",\"type\"],[[24,[\"item\",\"time_read\"]],\"directory.time_read\",\"duration\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"mobile/components/directory-item"}});
Ember.TEMPLATES["mobile/components/mobile-nav"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"&default\"],\"statements\":[[4,\"if\",[[24,[\"selectedHtml\"]]],null,{\"statements\":[[0,\"  \"],[7,\"li\",true],[8],[0,\"\\n    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"expander\"],[3,\"action\",[[23,0,[]],\"toggleExpanded\"]],[8],[0,\"\\n      \"],[7,\"span\",true],[8],[1,[22,\"selectedHtml\"],true],[9],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"caret-down\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[7,\"ul\",true],[11,\"class\",[29,[\"drop \",[28,\"if\",[[24,[\"expanded\"]],\"expanded\"],null]]]],[8],[0,\"\\n\"],[14,1],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"mobile/components/mobile-nav"}});
Ember.TEMPLATES["mobile/components/navigation-bar"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"c\",\"navItem\"],\"statements\":[[7,\"li\",true],[10,\"class\",\"navigation-toggle\"],[8],[0,\"\\n  \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"toggle-link\"],[3,\"action\",[[23,0,[]],\"toggleDrop\"]],[8],[0,\"\\n    \"],[1,[24,[\"selectedNavItem\",\"displayName\"]],false],[0,\"\\n    \"],[1,[28,\"d-icon\",[\"caret-down\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"expanded\"]]],null,{\"statements\":[[7,\"ul\",true],[10,\"class\",\"drop\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"navItems\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"navigation-item\",null,[[\"content\",\"filterMode\",\"category\"],[[23,2,[]],[24,[\"filterMode\"]],[24,[\"category\"]]]]],false],[0,\"\\n\"]],\"parameters\":[2]},null],[4,\"each\",[[24,[\"connectors\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"plugin-connector\",null,[[\"connector\",\"class\",\"tagName\",\"args\"],[[23,1,[]],[23,1,[\"classNames\"]],\"li\",[28,\"hash\",null,[[\"category\",\"filterMode\"],[[24,[\"category\"]],[24,[\"filterMode\"]]]]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"mobile/components/navigation-bar"}});
Ember.TEMPLATES["mobile/discovery/categories"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"discovery-categories\",null,[[\"refresh\"],[[28,\"action\",[[23,0,[]],\"refresh\"],null]]],{\"statements\":[[0,\"  \"],[1,[28,\"component\",[[24,[\"categoryPageStyle\"]]],[[\"categories\",\"latestTopicOnly\",\"topics\"],[[24,[\"model\",\"categories\"]],[24,[\"latestTopicOnly\"]],[24,[\"model\",\"topics\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"mobile/discovery/categories"}});
Ember.TEMPLATES["mobile/discovery/topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"discoveryTopicList\"],\"statements\":[[4,\"discovery-topics-list\",null,[[\"model\",\"refresh\",\"incomingCount\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"refresh\"],null],[24,[\"topicTrackingState\",\"incomingCount\"]]]],{\"statements\":[[4,\"if\",[[24,[\"top\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"top-lists\"],[8],[0,\"\\n      \"],[1,[28,\"period-chooser\",null,[[\"period\",\"action\"],[[24,[\"period\"]],[28,\"action\",[[23,0,[]],\"changePeriod\"],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"topicTrackingState\",\"hasIncoming\"]]],null,{\"statements\":[[0,\"      \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"alert alert-info clickable\"],[3,\"action\",[[23,0,[]],\"showInserted\"]],[8],[0,\"\\n        \"],[1,[28,\"count-i18n\",null,[[\"key\",\"suffix\",\"count\"],[\"topic_count_\",[24,[\"topicTrackingState\",\"filter\"]],[24,[\"topicTrackingState\",\"incomingCount\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"\\n\"],[4,\"if\",[[24,[\"hasTopics\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"topic-list\",null,[[\"highlightLastVisited\",\"showPosters\",\"hideCategory\",\"order\",\"ascending\",\"topics\",\"expandGloballyPinned\",\"expandAllPinned\",\"scrollOnLoad\",\"onScroll\",\"category\"],[true,true,[24,[\"model\",\"hideCategory\"]],[24,[\"order\"]],[24,[\"ascending\"]],[24,[\"model\",\"topics\"]],[24,[\"expandGloballyPinned\"]],[24,[\"expandAllPinned\"]],true,[23,1,[\"saveScrollPosition\"]],[24,[\"category\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[1]},null],[0,\"\\n\"],[7,\"footer\",true],[10,\"class\",\"topic-list-bottom\"],[8],[0,\"\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loadingMore\"]]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"allLoaded\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"showDismissRead\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"id\",\"action\",\"title\",\"label\"],[\"btn-default dismiss-read\",\"dismiss-topics\",[28,\"action\",[[23,0,[]],\"dismissReadPosts\"],null],\"topics.bulk.dismiss_tooltip\",\"topics.bulk.dismiss_button\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showResetNew\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"id\",\"action\",\"icon\",\"label\"],[\"btn-default dismiss-read\",\"dismiss-new\",[28,\"action\",[[23,0,[]],\"resetNew\"],null],\"check\",\"topics.bulk.dismiss_new\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"footer-message\",null,[[\"education\",\"message\"],[[24,[\"footerEducation\"]],[24,[\"footerMessage\"]]]],{\"statements\":[[4,\"if\",[[24,[\"latest\"]]],null,{\"statements\":[[0,\"        \"],[4,\"if\",[[24,[\"canCreateTopicOnCategory\"]]],null,{\"statements\":[[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"createTopic\"]],[8],[1,[28,\"i18n\",[\"topic.suggest_create_topic\"],null],false],[9]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"top\"]]],null,{\"statements\":[[0,\"        \"],[4,\"link-to\",null,[[\"route\"],[\"discovery.categories\"]],{\"statements\":[[1,[28,\"i18n\",[\"topic.browse_all_categories\"],null],false]],\"parameters\":[]},null],[0,\", \"],[4,\"link-to\",null,[[\"route\"],[\"discovery.latest\"]],{\"statements\":[[1,[28,\"i18n\",[\"topic.view_latest_topics\"],null],false]],\"parameters\":[]},null],[0,\" \"],[1,[28,\"i18n\",[\"or\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"filters.top.other_periods\"],null],false],[0,\"\\n        \"],[1,[28,\"top-period-buttons\",null,[[\"period\",\"action\"],[[24,[\"period\"]],[28,\"action\",[[23,0,[]],\"changePeriod\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[4,\"link-to\",null,[[\"route\"],[\"discovery.categories\"]],{\"statements\":[[0,\" \"],[1,[28,\"i18n\",[\"topic.browse_all_categories\"],null],false]],\"parameters\":[]},null],[0,\" \"],[1,[28,\"i18n\",[\"or\"],null],false],[0,\" \"],[4,\"link-to\",null,[[\"route\"],[\"discovery.latest\"]],{\"statements\":[[1,[28,\"i18n\",[\"topic.view_latest_topics\"],null],false]],\"parameters\":[]},null],[0,\"\\n      \"]],\"parameters\":[]}]],\"parameters\":[]}]],\"parameters\":[]},null]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"mobile/discovery/topics"}});
Ember.TEMPLATES["mobile/group-index"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"user\"],\"statements\":[[7,\"section\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n\"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"autocomplete\",\"class\"],[[24,[\"filterInput\"]],[24,[\"filterPlaceholder\"]],\"discourse\",\"group-username-filter no-blur\"]]],false],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"group-members-manage\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canManageGroup\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"currentUser\",\"admin\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"group-members-dropdown\",null,[[\"showAddMembersModal\",\"showBulkAddModal\"],[[28,\"route-action\",[\"showAddMembersModal\"],null],[28,\"route-action\",[\"showBulkAddModal\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"icon\",\"label\",\"class\",\"action\"],[\"plus\",\"groups.add_members.title\",\"group-members-add\",[28,\"route-action\",[\"showAddMembersModal\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"hasMembers\"]]],null,{\"statements\":[[4,\"load-more\",null,[[\"selector\",\"action\"],[\".group-members .user-info\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"group-members\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"members\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"group-member\"],[8],[0,\"\\n\"],[4,\"user-info\",null,[[\"user\",\"skipName\"],[[23,1,[]],[24,[\"skipName\"]]]],{\"statements\":[[0,\"            \"],[4,\"if\",[[23,1,[\"owner\"]]],null,{\"statements\":[[7,\"strong\",true],[10,\"class\",\"group-owner-label\"],[8],[1,[28,\"i18n\",[\"groups.owner\"],null],false],[9]],\"parameters\":[]},null],[0,\"\\n\\n            \"],[7,\"div\",true],[10,\"class\",\"group-member-info\"],[8],[0,\"\\n              \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"last_post\"],null],false],[9],[0,\"\\n              \"],[7,\"span\",true],[10,\"class\",\"text\"],[8],[1,[28,\"bound-date\",[[23,1,[\"last_posted_at\"]]],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n\\n            \"],[7,\"div\",true],[10,\"class\",\"group-member-info\"],[8],[0,\"\\n              \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"last_seen\"],null],false],[9],[0,\"\\n              \"],[7,\"span\",true],[10,\"class\",\"text\"],[8],[1,[28,\"bound-date\",[[23,1,[\"last_seen_at\"]]],null],false],[9],[0,\"\\n            \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canManageGroup\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"group-member-dropdown\",null,[[\"removeMember\",\"makeOwner\",\"removeOwner\",\"member\"],[[28,\"action\",[[23,0,[]],\"removeMember\"],null],[28,\"action\",[[23,0,[]],\"makeOwner\"],null],[28,\"action\",[[23,0,[]],\"removeOwner\"],null],[23,1,[]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"br\",true],[8],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[8],[1,[28,\"i18n\",[\"groups.empty.members\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"mobile/group-index"}});
Discourse.RAW_TEMPLATES["mobile/list/topic-list-item"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "  <div class='pull-left'>\n    <a href=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.lastPostUrl",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":13},"end":{"line":4,"column":34}}}))
    + "\" data-user-card=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.last_poster_username",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":52},"end":{"line":4,"column":82}}}))
    + "\">"
    + container.escapeExpression((helpers.avatar||(depth0 && depth0.avatar)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.lastPoster",{"name":"avatar","hash":{"imageSize":"large"},"hashTypes":{"imageSize":"StringLiteral"},"hashContexts":{"imageSize":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":84},"end":{"line":4,"column":129}}}))
    + "</a>\n  </div>\n  <div class='right'>\n";
},"3":function(container,depth0,helpers,partials,data) {
    return "      <div>\n";
},"5":function(container,depth0,helpers,partials,data) {
    return container.escapeExpression((helpers["topic-featured-link"]||(depth0 && depth0["topic-featured-link"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic",{"name":"topic-featured-link","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":22,"column":10},"end":{"line":22,"column":41}}}));
},"7":function(container,depth0,helpers,partials,data) {
    return "<span class=\"topic-post-badges\">&nbsp;<span class=\"badge-notification new-topic\"></span></span>";
},"9":function(container,depth0,helpers,partials,data) {
    return container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"list.topic-excerpt",{"name":"raw","hash":{"topic":"topic"},"hashTypes":{"topic":"PathExpression"},"hashContexts":{"topic":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":28,"column":10},"end":{"line":28,"column":52}}}));
},"11":function(container,depth0,helpers,partials,data) {
    return "            <div class='category'>\n              "
    + container.escapeExpression((helpers["category-link"]||(depth0 && depth0["category-link"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.category",{"name":"category-link","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":37,"column":14},"end":{"line":37,"column":46}}}))
    + "\n            </div>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<td>"
    + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : (container.nullContext || {}),"expandPinned",{"name":"unless","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.program(3, data, 0),"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":2},"end":{"line":9,"column":20}}})) != null ? stack1 : "")
    + "        <div class='main-link'>"
    + container.escapeExpression((helpers["raw-plugin-outlet"]||(depth0 && depth0["raw-plugin-outlet"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"raw-plugin-outlet","hash":{"name":"topic-list-before-status"},"hashTypes":{"name":"StringLiteral"},"hashContexts":{"name":depth0},"types":[],"contexts":[],"data":data,"loc":{"start":{"line":18,"column":10},"end":{"line":18,"column":64}}}))
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-status",{"name":"raw","hash":{"topic":"topic"},"hashTypes":{"topic":"PathExpression"},"hashContexts":{"topic":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":19,"column":10},"end":{"line":19,"column":46}}}))
    + container.escapeExpression((helpers["topic-link"]||(depth0 && depth0["topic-link"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic",{"name":"topic-link","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":20,"column":10},"end":{"line":20,"column":32}}}))
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.featured_link",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(5, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":21,"column":10},"end":{"line":23,"column":19}}})) != null ? stack1 : "")
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.unseen",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(7, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":24,"column":10},"end":{"line":26,"column":19}}})) != null ? stack1 : "")
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"expandPinned",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(9, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":27,"column":10},"end":{"line":29,"column":19}}})) != null ? stack1 : "")
    + "</div>\n        <div class='pull-right'>\n          "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"list.post-count-or-badges",{"name":"raw","hash":{"postBadgesEnabled":"showTopicPostBadges","topic":"topic"},"hashTypes":{"postBadgesEnabled":"PathExpression","topic":"PathExpression"},"hashContexts":{"postBadgesEnabled":depth0,"topic":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":32,"column":10},"end":{"line":32,"column":95}}}))
    + "\n        </div>\n        <div class=\"topic-item-stats clearfix\">\n"
    + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : (container.nullContext || {}),"hideCategory",{"name":"unless","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(11, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":35,"column":10},"end":{"line":39,"column":21}}})) != null ? stack1 : "")
    + "          "
    + container.escapeExpression((helpers["discourse-tags"]||(depth0 && depth0["discourse-tags"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic",{"name":"discourse-tags","hash":{"mode":"list"},"hashTypes":{"mode":"StringLiteral"},"hashContexts":{"mode":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":40,"column":10},"end":{"line":40,"column":46}}}))
    + "\n          <div class=\"pull-right\">\n            <div class='num activity last'>\n              <span class=\"age activity\" title=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.bumpedAtTitle",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":43,"column":48},"end":{"line":43,"column":71}}}))
    + "\"><a\n                 href=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.lastPostUrl",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":44,"column":23},"end":{"line":44,"column":44}}}))
    + "\">"
    + container.escapeExpression((helpers["format-date"]||(depth0 && depth0["format-date"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.bumpedAt",{"name":"format-date","hash":{"noTitle":"true","format":"tiny"},"hashTypes":{"noTitle":"StringLiteral","format":"StringLiteral"},"hashContexts":{"noTitle":depth0,"format":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":44,"column":46},"end":{"line":44,"column":105}}}))
    + "</a>\n              </span>\n            </div>\n          </div>\n          <div class=\"clearfix\"></div>\n        </div>\n      </div>\n</td>\n";
},"useData":true});
Ember.TEMPLATES["mobile/modal/login"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"login-modal\",null,[[\"screenX\",\"screenY\",\"loginName\",\"loginPassword\",\"secondFactorToken\",\"action\"],[[24,[\"lastX\"]],[24,[\"lastY\"]],[24,[\"loginName\"]],[24,[\"loginPassword\"]],[24,[\"secondFactorToken\"]],[28,\"action\",[[23,0,[]],\"login\"],null]]],{\"statements\":[[0,\"  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\"],[\"login-before-modal-body\",\"\"]]],false],[0,\"\\n\"],[4,\"d-modal-body\",null,[[\"title\",\"class\"],[\"login.title\",[24,[\"modalBodyClasses\"]]]],{\"statements\":[[4,\"if\",[[24,[\"showLoginButtons\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"login-buttons\",null,[[\"showLoginWithEmailLink\",\"processingEmailLink\",\"emailLogin\",\"externalLogin\"],[[24,[\"showLoginWithEmailLink\"]],[24,[\"processingEmailLink\"]],[28,\"action\",[[23,0,[]],\"emailLogin\"],null],[28,\"action\",[[23,0,[]],\"externalLogin\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canLoginLocal\"]]],null,{\"statements\":[[0,\"      \"],[7,\"form\",true],[10,\"id\",\"login-form\"],[10,\"method\",\"post\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"id\",\"credentials\"],[11,\"class\",[22,\"credentialsClass\"]],[8],[0,\"\\n          \"],[7,\"table\",true],[8],[0,\"\\n            \"],[7,\"tbody\",true],[8],[0,\"\\n              \"],[7,\"tr\",true],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[0,\"\\n                  \"],[7,\"label\",true],[10,\"for\",\"login-account-name\"],[8],[1,[28,\"i18n\",[\"login.username\"],null],false],[9],[0,\"\\n                \"],[9],[0,\"\\n                \"],[7,\"td\",true],[8],[0,\"\\n                  \"],[1,[28,\"text-field\",null,[[\"value\",\"type\",\"placeholderKey\",\"id\",\"autocorrect\",\"autocapitalize\",\"disabled\"],[[24,[\"loginName\"]],\"email\",\"login.email_placeholder\",\"login-account-name\",\"off\",\"off\",[24,[\"showSecondFactor\"]]]]],false],[0,\"\\n                \"],[9],[0,\"\\n              \"],[9],[0,\"\\n              \"],[7,\"tr\",true],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[0,\"\\n                  \"],[7,\"label\",true],[10,\"for\",\"login-account-password\"],[8],[1,[28,\"i18n\",[\"login.password\"],null],false],[9],[0,\"\\n                \"],[9],[0,\"\\n                \"],[7,\"td\",true],[8],[0,\"\\n                  \"],[1,[28,\"text-field\",null,[[\"value\",\"type\",\"id\",\"maxlength\",\"disabled\"],[[24,[\"loginPassword\"]],\"password\",\"login-account-password\",\"200\",[24,[\"showSecondFactor\"]]]]],false],[0,\"\\n                \"],[9],[0,\"\\n              \"],[9],[0,\"\\n              \"],[7,\"tr\",true],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[9],[0,\"\\n                \"],[7,\"td\",true],[8],[0,\"\\n                  \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"id\",\"forgot-password-link\"],[3,\"action\",[[23,0,[]],\"showForgotPassword\"]],[8],[1,[28,\"i18n\",[\"forgot_password.action\"],null],false],[9],[0,\"\\n                \"],[9],[0,\"\\n              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"],[4,\"second-factor-form\",null,[[\"secondFactorMethod\",\"secondFactorToken\",\"class\",\"backupEnabled\",\"isLogin\"],[[24,[\"secondFactorMethod\"]],[24,[\"secondFactorToken\"]],[24,[\"secondFactorClass\"]],[24,[\"backupEnabled\"]],true]],{\"statements\":[[4,\"if\",[[24,[\"showSecurityKey\"]]],null,{\"statements\":[[4,\"security-key-form\",null,[[\"allowedCredentialIds\",\"challenge\",\"showSecurityKey\",\"showSecondFactor\",\"secondFactorMethod\",\"otherMethodAllowed\",\"action\"],[[24,[\"securityKeyAllowedCredentialIds\"]],[24,[\"securityKeyChallenge\"]],[24,[\"showSecurityKey\"]],[24,[\"showSecondFactor\"]],[24,[\"secondFactorMethod\"]],[24,[\"otherMethodAllowed\"]],[28,\"action\",[[23,0,[]],\"authenticateSecurityKey\"],null]]],{\"statements\":[],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[1,[28,\"second-factor-input\",null,[[\"value\",\"inputId\",\"secondFactorMethod\",\"backupEnabled\"],[[24,[\"secondFactorToken\"]],\"login-second-factor\",[24,[\"secondFactorMethod\"]],[24,[\"backupEnabled\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canLoginLocal\"]]],null,{\"statements\":[[4,\"unless\",[[24,[\"showSecurityKey\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"disabled\",\"class\"],[[28,\"action\",[[23,0,[]],\"login\"],null],\"unlock\",[24,[\"loginButtonLabel\"]],[24,[\"loginDisabled\"]],\"btn-large btn-primary\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showSignupLink\"]]],null,{\"statements\":[[4,\"d-button\",null,[[\"class\",\"id\",\"action\"],[\"btn-large\",\"new-account-link\",[28,\"route-action\",[\"showCreateAccount\"],null]]],{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[\"create_account.title\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\"],[\"login-after-modal-footer\",\"\"]]],false],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"id\",\"login-alert\"],[11,\"class\",[22,\"alertClass\"]],[8],[1,[22,\"alert\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"mobile/modal/login"}});
Ember.TEMPLATES["mobile/users"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"item\"],\"statements\":[[4,\"load-more\",null,[[\"selector\",\"action\"],[\".directory .user\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"directory\"],[8],[0,\"\\n      \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"connectorTagName\",\"args\"],[\"users-top\",\"div\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"clearfix user-controls\"],[8],[0,\"\\n        \"],[1,[28,\"period-chooser\",null,[[\"period\",\"onChange\"],[[24,[\"period\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"period\"]]],null]],null]]]],false],[0,\"\\n        \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"class\"],[[24,[\"nameInput\"]],\"directory.filter_name\",\"filter-name no-blur\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n\"],[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"model\",\"length\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"total-rows\"],[8],[1,[28,\"i18n\",[\"directory.total_rows\"],[[\"count\"],[[24,[\"model\",\"totalRows\"]]]]],false],[9],[0,\"\\n\"],[4,\"each\",[[24,[\"model\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"directory-item\",null,[[\"tagName\",\"class\",\"item\",\"showTimeRead\"],[\"div\",\"user\",[23,1,[]],[24,[\"showTimeRead\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n          \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loadingMore\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n          \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"directory.no_results\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"mobile/users"}});
Ember.TEMPLATES["modal"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal\",null,[[\"modalClass\",\"title\",\"subtitle\",\"panels\",\"selectedPanel\",\"onSelectPanel\",\"class\",\"errors\",\"closeModal\"],[[24,[\"modalClass\"]],[24,[\"title\"]],[24,[\"subtitle\"]],[24,[\"panels\"]],[24,[\"selectedPanel\"]],[24,[\"onSelectPanel\"]],\"hidden\",[24,[\"errors\"]],[28,\"route-action\",[\"closeModal\"],null]]],{\"statements\":[[0,\"  \"],[1,[28,\"outlet\",[\"modalBody\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal"}});
Ember.TEMPLATES["modal/activation-edit"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[0,\"  \"],[1,[28,\"activation-email-form\",null,[[\"email\"],[[24,[\"newEmail\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"disabled\",\"class\"],[[28,\"action\",[[23,0,[]],\"changeEmail\"],null],\"login.submit_new_email\",[24,[\"submitDisabled\"]],\"btn-primary\"]]],false],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"label\"],[[28,\"route-action\",[\"closeModal\"],null],\"close\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/activation-edit"}});
Ember.TEMPLATES["modal/activation-resent"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[0,\"  \"],[1,[28,\"i18n\",[\"login.sent_activation_email_again\"],[[\"currentEmail\"],[[24,[\"currentEmail\"]]]]],true],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"modal-footer-close\",null,[[\"closeModal\"],[[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/activation-resent"}});
Ember.TEMPLATES["modal/add-post-notice"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\"],[\"post.controls.add_post_notice\"]],{\"statements\":[[0,\"  \"],[7,\"form\",true],[8],[1,[28,\"textarea\",null,[[\"value\"],[[24,[\"notice\"]]]]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"label\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"setNotice\"],null],[24,[\"disabled\"]],[28,\"if\",[[24,[\"saving\"]],\"saving\",\"save\"],null]]]],false],[0,\"\\n  \"],[1,[28,\"d-modal-cancel\",null,[[\"close\"],[[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/add-post-notice"}});
Ember.TEMPLATES["modal/associate-account-confirm"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"rawTitle\"],[[28,\"i18n\",[\"user.associated_accounts.confirm_modal_title\"],[[\"provider\"],[[28,\"i18n\",[[28,\"concat\",[\"login.\",[24,[\"model\",\"provider_name\"]],\".name\"],null]],null]]]]]],{\"statements\":[[4,\"if\",[[24,[\"model\",\"error\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[0,\"\\n      \"],[1,[24,[\"model\",\"error\"]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"account_description\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"i18n\",[\"user.associated_accounts.confirm_description.account_specific\"],[[\"provider\",\"account_description\"],[[28,\"i18n\",[[28,\"concat\",[\"login.\",[24,[\"model\",\"provider_name\"]],\".name\"],null]],null],[24,[\"model\",\"account_description\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[1,[28,\"i18n\",[\"user.associated_accounts.confirm_description.generic\"],[[\"provider\"],[[28,\"i18n\",[[28,\"concat\",[\"login.\",[24,[\"model\",\"provider_name\"]],\".name\"],null]],null]]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"label\",\"action\",\"class\",\"icon\"],[\"user.associated_accounts.connect\",[28,\"action\",[[23,0,[]],\"finishConnect\"],null],\"btn-primary\",\"plug\"]]],false],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"label\",\"action\"],[\"user.associated_accounts.cancel\",[28,\"action\",[[23,0,[]],\"closeModal\"],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/associate-account-confirm"}});
Ember.TEMPLATES["modal/auth-token"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\"],[\"user.auth_tokens.was_this_you\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[8],[0,\"\\n    \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"user.auth_tokens.was_this_you_description\"],null],false],[9],[0,\"\\n    \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"user.second_factor.extended_description\"],null],true],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[8],[0,\"\\n    \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"user.auth_tokens.details\"],null],false],[9],[0,\"\\n    \"],[7,\"ul\",true],[10,\"style\",\"list-style-type:none\"],[8],[0,\"\\n      \"],[7,\"li\",true],[8],[1,[28,\"d-icon\",[\"far-clock\"],null],false],[0,\" \"],[1,[28,\"format-date\",[[24,[\"model\",\"seen_at\"]]],null],false],[9],[0,\"\\n      \"],[7,\"li\",true],[8],[1,[28,\"d-icon\",[\"map-marker-alt\"],null],false],[0,\" \"],[1,[24,[\"model\",\"location\"]],false],[9],[0,\"\\n      \"],[7,\"li\",true],[8],[1,[28,\"d-icon\",[[24,[\"model\",\"icon\"]]],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.auth_tokens.browser_and_device\"],[[\"browser\",\"device\"],[[24,[\"model\",\"browser\"]],[24,[\"model\",\"device\"]]]]],false],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"latest_post\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[8],[0,\"\\n      \"],[7,\"h3\",true],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"user.auth_tokens.latest_post\"],null],false],[0,\"\\n        \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"toggleExpanded\"]],[8],[1,[28,\"d-icon\",[[28,\"if\",[[24,[\"expanded\"]],\"caret-up\",\"caret-down\"],null]],null],false],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"expanded\"]]],null,{\"statements\":[[0,\"        \"],[7,\"blockquote\",true],[8],[1,[24,[\"latest_post\",\"cooked\"]],true],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[7,\"blockquote\",true],[8],[1,[24,[\"latest_post\",\"excerpt\"]],true],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"highlightSecure\"],null],\"lock\",\"user.auth_tokens.secure_account\"]]],false],[0,\"\\n  \"],[1,[28,\"d-modal-cancel\",null,[[\"close\"],[[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/auth-token"}});
Ember.TEMPLATES["modal/avatar-selector"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"avatar\"],\"statements\":[[4,\"d-modal-body\",null,[[\"title\",\"class\"],[\"user.change_avatar.title\",\"avatar-selector\"]],{\"statements\":[[4,\"if\",[[24,[\"siteSettings\",\"selectable_avatars_enabled\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"selectable-avatars\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"selectableAvatars\"]]],null,{\"statements\":[[0,\"        \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"selectable-avatar\"],[3,\"action\",[[23,0,[]],\"selectAvatar\",[23,1,[]]]],[8],[0,\"\\n          \"],[1,[28,\"bound-avatar-template\",[[23,1,[]],\"huge\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"avatar-choice\"],[8],[0,\"\\n      \"],[1,[28,\"radio-button\",null,[[\"id\",\"name\",\"value\",\"selection\"],[\"system-avatar\",\"avatar\",\"system\",[24,[\"selected\"]]]]],false],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"radio\"],[10,\"for\",\"system-avatar\"],[8],[1,[28,\"bound-avatar-template\",[[24,[\"user\",\"system_avatar_template\"]],\"large\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.change_avatar.letter_based\"],null],true],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"avatar-choice\"],[8],[0,\"\\n      \"],[1,[28,\"radio-button\",null,[[\"id\",\"name\",\"value\",\"selection\"],[\"gravatar\",\"avatar\",\"gravatar\",[24,[\"selected\"]]]]],false],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"radio\"],[10,\"for\",\"gravatar\"],[8],[1,[28,\"bound-avatar-template\",[[24,[\"user\",\"gravatar_avatar_template\"]],\"large\"],null],false],[0,\" \"],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"user.change_avatar.gravatar\"],null],true],[0,\" \"],[1,[24,[\"user\",\"email\"]],false],[9],[9],[0,\"\\n\\n      \"],[1,[28,\"d-button\",null,[[\"action\",\"title\",\"disabled\",\"icon\",\"class\"],[[28,\"action\",[[23,0,[]],\"refreshGravatar\"],null],\"user.change_avatar.refresh_gravatar_title\",[24,[\"gravatarRefreshDisabled\"]],\"sync\",\"btn-default avatar-selector-refresh-gravatar\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"gravatarFailed\"]]],null,{\"statements\":[[0,\"        \"],[7,\"p\",true],[10,\"class\",\"error\"],[8],[1,[28,\"I18n\",[\"user.change_avatar.gravatar_failed\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"allowAvatarUpload\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"avatar-choice\"],[8],[0,\"\\n        \"],[1,[28,\"radio-button\",null,[[\"id\",\"name\",\"value\",\"selection\"],[\"uploaded-avatar\",\"avatar\",\"uploaded\",[24,[\"selected\"]]]]],false],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"radio\"],[10,\"for\",\"uploaded-avatar\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"custom_avatar_template\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"bound-avatar-template\",[[24,[\"user\",\"custom_avatar_template\"]],\"large\"],null],false],[0,\"\\n            \"],[1,[28,\"i18n\",[\"user.change_avatar.uploaded_avatar\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"user.change_avatar.uploaded_avatar_empty\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[9],[0,\"\\n        \"],[1,[28,\"avatar-uploader\",null,[[\"user_id\",\"uploadedAvatarTemplate\",\"uploadedAvatarId\",\"uploading\",\"class\",\"done\"],[[24,[\"user\",\"id\"]],[24,[\"user\",\"custom_avatar_template\"]],[24,[\"user\",\"custom_avatar_upload_id\"]],[24,[\"uploading\"]],\"avatar-uploader\",[28,\"action\",[[23,0,[]],\"uploadComplete\"],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"unless\",[[24,[\"siteSettings\",\"selectable_avatars_enabled\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"disabled\",\"label\"],[[28,\"action\",[[23,0,[]],\"saveAvatarSelection\"],null],\"btn-primary\",[24,[\"uploading\"]],\"save\"]]],false],[0,\"\\n    \"],[1,[28,\"d-modal-cancel\",null,[[\"close\"],[[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/avatar-selector"}});
Ember.TEMPLATES["modal/bookmark"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"grid\"],\"statements\":[[4,\"d-modal-body\",null,[[\"id\"],[\"bookmark-reminder-modal\"]],{\"statements\":[[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"errorMessage\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[1,[22,\"errorMessage\"],false],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"name\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"post.bookmarks.name\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[1,[28,\"input\",null,[[\"value\",\"name\",\"class\",\"enter\",\"placeholder\"],[[24,[\"name\"]],\"name\",\"bookmark-name\",[28,\"action\",[[23,0,[]],\"saveAndClose\"],null],[28,\"i18n\",[\"post.bookmarks.name_placeholder\"],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showBookmarkReminderControls\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"for\",\"set_reminder\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"post.bookmarks.set_reminder\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"userHasTimezoneSet\"]]],null,{\"statements\":[[4,\"tap-tile-grid\",null,[[\"activeTile\"],[[24,[\"selectedReminderType\"]]]],{\"statements\":[[4,\"if\",[[24,[\"usingMobileDevice\"]]],null,{\"statements\":[[0,\"            \"],[2,\" {{tap-tile icon=\\\"desktop\\\" text=(i18n \\\"bookmarks.reminders.at_desktop\\\") tileId=reminderTypes.AT_DESKTOP activeTile=grid.activeTile onChange=(action \\\"selectReminderType\\\")}} \"],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showLaterToday\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"tap-tile\",null,[[\"icon\",\"text\",\"tileId\",\"activeTile\",\"onChange\"],[\"far-moon\",[24,[\"laterTodayFormatted\"]],[24,[\"reminderTypes\",\"LATER_TODAY\"]],[23,1,[\"activeTile\"]],[28,\"action\",[[23,0,[]],\"selectReminderType\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[1,[28,\"tap-tile\",null,[[\"icon\",\"text\",\"tileId\",\"activeTile\",\"onChange\"],[\"briefcase\",[24,[\"nextBusinessDayFormatted\"]],[24,[\"reminderTypes\",\"NEXT_BUSINESS_DAY\"]],[23,1,[\"activeTile\"]],[28,\"action\",[[23,0,[]],\"selectReminderType\"],null]]]],false],[0,\"\\n          \"],[1,[28,\"tap-tile\",null,[[\"icon\",\"text\",\"tileId\",\"activeTile\",\"onChange\"],[\"far-sun\",[24,[\"tomorrowFormatted\"]],[24,[\"reminderTypes\",\"TOMORROW\"]],[23,1,[\"activeTile\"]],[28,\"action\",[[23,0,[]],\"selectReminderType\"],null]]]],false],[0,\"\\n          \"],[1,[28,\"tap-tile\",null,[[\"icon\",\"text\",\"tileId\",\"activeTile\",\"onChange\"],[\"far-clock\",[24,[\"nextWeekFormatted\"]],[24,[\"reminderTypes\",\"NEXT_WEEK\"]],[23,1,[\"activeTile\"]],[28,\"action\",[[23,0,[]],\"selectReminderType\"],null]]]],false],[0,\"\\n          \"],[1,[28,\"tap-tile\",null,[[\"icon\",\"text\",\"tileId\",\"activeTile\",\"onChange\"],[\"far-calendar-plus\",[24,[\"nextMonthFormatted\"]],[24,[\"reminderTypes\",\"NEXT_MONTH\"]],[23,1,[\"activeTile\"]],[28,\"action\",[[23,0,[]],\"selectReminderType\"],null]]]],false],[0,\"\\n          \"],[2,\" {{tap-tile icon=\\\"calendar-alt\\\" text=(I18n \\\"bookmarks.reminders.custom\\\") tileId=reminderTypes.CUSTOM activeTile=grid.activeTile onChange=(action \\\"selectReminderType\\\")}} \"],[0,\"\\n\"]],\"parameters\":[1]},null]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"alert alert-info\"],[8],[1,[28,\"i18n\",[\"bookmarks.no_timezone\"],[[\"basePath\"],[[24,[\"basePath\"]]]]],true],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"label\",\"class\",\"action\"],[\"bookmarks.save\",\"btn-primary\",[28,\"action\",[[23,0,[]],\"saveAndClose\"],null]]]],false],[0,\"\\n      \"],[1,[28,\"d-modal-cancel\",null,[[\"close\"],[[28,\"action\",[[23,0,[]],\"closeWithoutSavingBookmark\"],null]]]],false],[0,\"      \\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/bookmark"}});
Ember.TEMPLATES["modal/bulk-actions-buttons"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"button\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"bulk-buttons\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"buttons\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"icon\",\"class\"],[[28,\"action\",[[23,0,[]],[23,1,[\"action\"]]],null],[23,1,[\"label\"]],[23,1,[\"icon\"]],[23,1,[\"class\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/bulk-actions-buttons"}});
Ember.TEMPLATES["modal/bulk-change-category"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"p\",true],[8],[1,[28,\"i18n\",[\"topics.bulk.choose_new_category\"],null],false],[9],[0,\"\\n\\n\"],[7,\"p\",true],[8],[0,\"\\n  \"],[1,[28,\"category-chooser\",null,[[\"value\",\"onChange\"],[[24,[\"newCategoryId\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"newCategoryId\"]]],null]],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]],{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"action\",\"label\"],[[28,\"action\",[[23,0,[]],\"changeCategory\"],null],\"topics.bulk.change_category\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/bulk-change-category"}});
Ember.TEMPLATES["modal/bulk-notification-level"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"level\"],\"statements\":[[4,\"each\",[[24,[\"notificationLevels\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"radio\"],[8],[0,\"\\n      \"],[1,[28,\"radio-button\",null,[[\"value\",\"name\",\"selection\"],[[23,1,[\"id\"]],\"notification_level\",[24,[\"notificationLevelId\"]]]]],false],[0,\" \"],[7,\"strong\",true],[8],[1,[28,\"unbound\",[[23,1,[\"name\"]]],null],false],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"description\"],[8],[1,[28,\"unbound\",[[23,1,[\"description\"]]],null],true],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n\"],[1,[28,\"d-button\",null,[[\"disabled\",\"action\",\"label\"],[[24,[\"disabled\"]],[28,\"action\",[[23,0,[]],\"changeNotificationLevel\"],null],\"topics.bulk.notification_level\"]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/bulk-notification-level"}});
Ember.TEMPLATES["modal/change-owner"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"class\"],[\"change-ownership\"]],{\"statements\":[[0,\"  \"],[7,\"span\",true],[8],[0,\"\\n    \"],[1,[28,\"i18n\",[\"topic.change_owner.instructions\"],[[\"count\",\"old_user\"],[[24,[\"selectedPostsCount\"]],[24,[\"selectedPostsUsername\"]]]]],true],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"form\",true],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[9],[0,\"\\n    \"],[1,[28,\"user-selector\",null,[[\"single\",\"usernames\",\"placeholderKey\",\"autocomplete\"],[\"true\",[24,[\"new_user\"]],\"topic.change_owner.placeholder\",\"discourse\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"label\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"changeOwnershipOfPosts\"],null],[24,[\"buttonDisabled\"]],[28,\"if\",[[24,[\"saving\"]],\"saving\",\"topic.change_owner.action\"],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/change-owner"}});
Ember.TEMPLATES["modal/change-timestamp"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"class\"],[\"change-timestamp\"]],{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[0,\"\\n    \"],[1,[28,\"i18n\",[\"topic.change_timestamp.instructions\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"p\",true],[11,\"class\",[29,[\"alert alert-error \",[28,\"unless\",[[24,[\"validTimestamp\"]],\"hidden\"],null]]]],[8],[0,\"\\n    \"],[1,[28,\"i18n\",[\"topic.change_timestamp.invalid_timestamp\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"form\",true],[8],[0,\"\\n    \"],[1,[28,\"date-picker-past\",null,[[\"value\",\"containerId\",\"onSelect\"],[[28,\"readonly\",[[24,[\"date\"]]],null],\"date-container\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"date\"]]],null]],null]]]],false],[0,\"\\n\\n    \"],[1,[28,\"input\",null,[[\"type\",\"value\"],[\"time\",[24,[\"time\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"id\",\"date-container\"],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer change-timestamp-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"disabled\",\"action\",\"translatedLabel\"],[\"btn-primary\",[24,[\"buttonDisabled\"]],[28,\"action\",[[23,0,[]],\"changeTimestamp\"],null],[24,[\"buttonTitle\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/change-timestamp"}});
Ember.TEMPLATES["modal/convert-to-public-topic"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\"],[\"topic.make_public.title\"]],{\"statements\":[[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n    \"],[1,[28,\"i18n\",[\"topic.make_public.choose_category\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[1,[28,\"category-chooser\",null,[[\"value\",\"onChange\"],[[24,[\"publicCategoryId\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"publicCategoryId\"]]],null]],null]]]],false],[0,\"\\n\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\",\"disabled\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"makePublic\"],null],\"composer.modal_ok\",[24,[\"saving\"]]]]],false],[0,\"\\n  \"],[1,[28,\"d-modal-cancel\",null,[[\"close\"],[[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/convert-to-public-topic"}});
Ember.TEMPLATES["modal/create-account"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"f\"],\"statements\":[[4,\"create-account\",null,[[\"email\",\"disabled\",\"action\"],[[24,[\"accountEmail\"]],[24,[\"submitDisabled\"]],[28,\"action\",[[23,0,[]],\"createAccount\"],null]]],{\"statements\":[[4,\"unless\",[[24,[\"complete\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"plugin-outlet\",null,[[\"name\"],[\"create-account-before-modal-body\"]]],false],[0,\"\\n\"],[4,\"d-modal-body\",null,[[\"title\",\"class\"],[\"create_account.title\",[28,\"concat\",[[28,\"if\",[[24,[\"hasAtLeastOneLoginButton\"]],\"has-alt-auth\"],null],\" \",[28,\"if\",[[24,[\"userFields\"]],\"has-user-fields\"],null]],null]]],{\"statements\":[[0,\"\\n\"],[4,\"unless\",[[24,[\"hasAuthOptions\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"login-buttons\",null,[[\"externalLogin\"],[[28,\"action\",[[23,0,[]],\"externalLogin\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showCreateForm\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"login-form\"],[8],[0,\"\\n          \"],[7,\"form\",true],[8],[0,\"\\n          \"],[7,\"table\",true],[8],[0,\"\\n            \"],[7,\"tbody\",true],[8],[0,\"\\n              \"],[7,\"tr\",true],[10,\"class\",\"input create-account-email\"],[8],[0,\"\\n                    \"],[7,\"td\",true],[10,\"class\",\"label\"],[8],[7,\"label\",true],[10,\"for\",\"new-account-email\"],[8],[1,[28,\"i18n\",[\"user.email.title\"],null],false],[9],[9],[0,\"\\n                    \"],[7,\"td\",true],[8],[0,\"\\n                    \"],[1,[28,\"input\",null,[[\"type\",\"value\",\"id\",\"disabled\",\"name\",\"autofocus\"],[\"email\",[24,[\"accountEmail\"]],\"new-account-email\",[24,[\"emailValidated\"]],\"email\",\"autofocus\"]]],false],[0,\"\\n                    \"],[9],[0,\"\\n              \"],[9],[0,\"\\n\\n              \"],[7,\"tr\",true],[10,\"class\",\"instructions create-account-email\"],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[9],[0,\"\\n                    \"],[1,[28,\"input-tip\",null,[[\"validation\",\"id\"],[[24,[\"emailValidation\"]],\"account-email-validation\"]]],false],[0,\"\\n                    \"],[7,\"td\",true],[8],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"user.email.instructions\"],null],false],[9],[9],[0,\"\\n              \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"usernameRequired\"]]],null,{\"statements\":[[0,\"                \"],[7,\"tr\",true],[10,\"class\",\"input\"],[8],[0,\"\\n                      \"],[7,\"td\",true],[10,\"class\",\"label\"],[8],[7,\"label\",true],[10,\"for\",\"new-account-username\"],[8],[1,[28,\"i18n\",[\"user.username.title\"],null],false],[9],[9],[0,\"\\n                      \"],[7,\"td\",true],[8],[0,\"\\n                      \"],[1,[28,\"input\",null,[[\"value\",\"id\",\"name\",\"maxlength\",\"autocomplete\"],[[24,[\"accountUsername\"]],\"new-account-username\",\"username\",[24,[\"maxUsernameLength\"]],\"discourse\"]]],false],[0,\"\\n                      \"],[9],[0,\"\\n                \"],[9],[0,\"\\n                \"],[7,\"tr\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n                  \"],[7,\"td\",true],[8],[9],[0,\"\\n                  \"],[1,[28,\"input-tip\",null,[[\"validation\",\"id\"],[[24,[\"usernameValidation\"]],\"username-validation\"]]],false],[0,\"\\n                  \"],[7,\"td\",true],[8],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"user.username.instructions\"],null],false],[9],[9],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"fullnameRequired\"]]],null,{\"statements\":[[0,\"                \"],[7,\"tr\",true],[10,\"class\",\"input\"],[8],[0,\"\\n                  \"],[7,\"td\",true],[10,\"class\",\"label\"],[8],[0,\"\\n                    \"],[7,\"label\",true],[10,\"for\",\"new-account-name\"],[8],[1,[28,\"i18n\",[\"user.name.title\"],null],false],[9],[0,\"\\n                  \"],[9],[0,\"\\n                  \"],[7,\"td\",true],[8],[0,\"\\n                    \"],[1,[28,\"text-field\",null,[[\"value\",\"id\"],[[24,[\"accountName\"]],\"new-account-name\"]]],false],[0,\"\\n                  \"],[9],[0,\"\\n                \"],[9],[0,\"\\n                \"],[7,\"tr\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n                  \"],[7,\"td\",true],[8],[9],[0,\"\\n                  \"],[1,[28,\"input-tip\",null,[[\"validation\"],[[24,[\"nameValidation\"]]]]],false],[0,\"\\n                  \"],[7,\"td\",true],[8],[7,\"label\",true],[8],[1,[22,\"nameInstructions\"],false],[9],[9],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n              \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"noTags\",\"args\"],[\"create-account-before-password\",true,[28,\"hash\",null,[[\"accountName\",\"accountUsername\",\"accountPassword\",\"userFields\",\"authOptions\"],[[24,[\"accountName\"]],[24,[\"accountUsername\"]],[24,[\"accountPassword\"]],[24,[\"userFields\"]],[24,[\"authOptions\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"passwordRequired\"]]],null,{\"statements\":[[0,\"                \"],[7,\"tr\",true],[10,\"class\",\"input\"],[8],[0,\"\\n                    \"],[7,\"td\",true],[10,\"class\",\"label\"],[8],[7,\"label\",true],[10,\"for\",\"new-account-password\"],[8],[1,[28,\"i18n\",[\"user.password.title\"],null],false],[9],[9],[0,\"\\n                    \"],[7,\"td\",true],[8],[0,\"\\n                    \"],[1,[28,\"password-field\",null,[[\"value\",\"type\",\"id\",\"capsLockOn\"],[[24,[\"accountPassword\"]],\"password\",\"new-account-password\",[24,[\"capsLockOn\"]]]]],false],[0,\"\\n                    \"],[9],[0,\"\\n                \"],[9],[0,\"\\n                \"],[7,\"tr\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n                  \"],[7,\"td\",true],[8],[9],[0,\"\\n                  \"],[1,[28,\"input-tip\",null,[[\"validation\"],[[24,[\"passwordValidation\"]]]]],false],[0,\"\\n                  \"],[7,\"td\",true],[8],[0,\"\\n                    \"],[7,\"label\",true],[8],[1,[22,\"passwordInstructions\"],false],[9],[0,\"\\n                    \"],[7,\"div\",true],[11,\"class\",[29,[\"caps-lock-warning \",[28,\"unless\",[[24,[\"capsLockOn\"]],\"hidden\"],null]]]],[8],[0,\"\\n                      \"],[1,[28,\"d-icon\",[\"exclamation-triangle\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"login.caps_lock_warning\"],null],false],[9],[0,\"\\n                  \"],[9],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n              \"],[7,\"tr\",true],[10,\"class\",\"password-confirmation\"],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[7,\"label\",true],[10,\"for\",\"new-account-password-confirmation\"],[8],[1,[28,\"i18n\",[\"user.password_confirmation.title\"],null],false],[9],[9],[0,\"\\n                \"],[7,\"td\",true],[8],[0,\"\\n                  \"],[1,[28,\"honeypot-input\",null,[[\"id\",\"autocomplete\",\"value\"],[\"new-account-confirmation\",\"new-password\",[24,[\"accountHoneypot\"]]]]],false],[0,\"\\n                  \"],[1,[28,\"input\",null,[[\"value\",\"id\"],[[24,[\"accountChallenge\"]],\"new-account-challenge\"]]],false],[0,\"\\n                \"],[9],[0,\"\\n              \"],[9],[0,\"\\n\\n              \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"noTags\",\"args\"],[\"create-account-after-password\",true,[28,\"hash\",null,[[\"accountName\",\"accountUsername\",\"accountPassword\",\"userFields\"],[[24,[\"accountName\"]],[24,[\"accountUsername\"]],[24,[\"accountPassword\"]],[24,[\"userFields\"]]]]]]]],false],[0,\"\\n            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"userFields\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"user-fields\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"userFields\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"user-field\",null,[[\"field\",\"value\"],[[23,1,[\"field\"]],[23,1,[\"value\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"            \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showCreateForm\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"label\"],[\"btn-large btn-primary\",[28,\"action\",[[23,0,[]],\"createAccount\"],null],[24,[\"submitDisabled\"]],\"create_account.title\"]]],false],[0,\"\\n\\n\"],[4,\"conditional-loading-spinner\",null,[[\"condition\",\"size\"],[[24,[\"formSubmitted\"]],\"small\"]],{\"statements\":[[4,\"d-button\",null,[[\"class\",\"id\",\"action\"],[\"btn-large\",\"login-link\",[28,\"route-action\",[\"showLogin\"],null]]],{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"log_in\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"disclaimer\"],[8],[1,[22,\"disclaimerHtml\"],true],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\"],[\"create-account-after-modal-footer\",\"\"]]],false],[0,\"\\n\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/create-account"}});
Ember.TEMPLATES["modal/delete-topic-disallowed"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"post.controls.delete_topic_disallowed_modal\"],null],true],[9],[0,\"\\n\"]],\"parameters\":[]},null],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"route-action\",[\"closeModal\"],null],\"btn-primary\",\"close\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/delete-topic-disallowed"}});
Ember.TEMPLATES["modal/dismiss-read"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[0,\"\\n    \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\"],[\"topics.bulk.also_dismiss_topics\",[24,[\"dismissTopics\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-primary\",[28,\"route-action\",[\"dismissReadTopics\",[24,[\"dismissTopics\"]]],null],\"check\",\"topics.bulk.dismiss\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/dismiss-read"}});
Ember.TEMPLATES["modal/edit-category"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"tab\"],\"statements\":[[7,\"div\",true],[8],[0,\"\\n  \"],[7,\"ul\",true],[10,\"class\",\"nav nav-pills\"],[8],[0,\"\\n    \"],[1,[28,\"edit-category-tab\",null,[[\"panels\",\"selectedTab\",\"tab\"],[[24,[\"panels\"]],[24,[\"selectedTab\"]],\"general\"]]],false],[0,\"\\n    \"],[1,[28,\"edit-category-tab\",null,[[\"panels\",\"selectedTab\",\"tab\"],[[24,[\"panels\"]],[24,[\"selectedTab\"]],\"security\"]]],false],[0,\"\\n    \"],[1,[28,\"edit-category-tab\",null,[[\"panels\",\"selectedTab\",\"tab\"],[[24,[\"panels\"]],[24,[\"selectedTab\"]],\"settings\"]]],false],[0,\"\\n    \"],[1,[28,\"edit-category-tab\",null,[[\"panels\",\"selectedTab\",\"tab\"],[[24,[\"panels\"]],[24,[\"selectedTab\"]],\"images\"]]],false],[0,\"\\n    \"],[1,[28,\"edit-category-tab\",null,[[\"panels\",\"selectedTab\",\"tab\"],[[24,[\"panels\"]],[24,[\"selectedTab\"]],\"topic-template\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"tagging_enabled\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"edit-category-tab\",null,[[\"panels\",\"selectedTab\",\"tab\"],[[24,[\"panels\"]],[24,[\"selectedTab\"]],\"tags\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n\"],[4,\"d-modal-body\",null,null,{\"statements\":[[4,\"each\",[[24,[\"panels\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"component\",[[23,1,[]]],[[\"selectedTab\",\"category\",\"registerValidator\"],[[24,[\"selectedTab\"]],[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"registerValidator\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"id\",\"class\",\"disabled\",\"action\",\"label\"],[\"save-category\",\"btn-primary\",[24,[\"disabled\"]],[28,\"action\",[[23,0,[]],\"saveCategory\"],null],[24,[\"saveLabel\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"can_delete\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"disabled\",\"action\",\"icon\",\"label\"],[\"btn-danger pull-right\",[24,[\"deleteDisabled\"]],[28,\"action\",[[23,0,[]],\"deleteCategory\"],null],\"far-trash-alt\",\"category.delete\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"model\",\"id\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"disable_info_wrap\"],[8],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"disabled\",\"class\",\"action\",\"icon\",\"label\"],[[24,[\"deleteDisabled\"]],\"btn-default disable-no-hover\",[28,\"action\",[[23,0,[]],\"toggleDeleteTooltip\"],null],\"question-circle\",\"category.delete\"]]],false],[0,\"\\n\\n        \"],[7,\"div\",true],[11,\"class\",[29,[\"cannot_delete_reason \",[28,\"if\",[[24,[\"hiddenTooltip\"]],\"hidden\",\"\"],null]]]],[8],[0,\"\\n          \"],[1,[24,[\"model\",\"cannot_delete_reason\"]],true],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/edit-category"}});
Ember.TEMPLATES["modal/edit-topic-timer"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\",\"autoFocus\"],[\"topic.topic_status_update.title\",\"false\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"radios\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"public-topic-timer\"],[8],[0,\"\\n      \"],[1,[28,\"radio-button\",null,[[\"id\",\"name\",\"value\",\"selection\"],[\"public-topic-timer\",\"topic-timer\",\"true\",[24,[\"isPublic\"]]]]],false],[0,\"\\n      \"],[7,\"b\",true],[8],[1,[28,\"i18n\",[\"topic.topic_status_update.public_timer_types\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"label\",true],[10,\"for\",\"private-topic-timer\"],[8],[0,\"\\n      \"],[1,[28,\"radio-button\",null,[[\"id\",\"name\",\"value\",\"selection\"],[\"private-topic-timer\",\"topic-timer\",\"false\",[24,[\"isPublic\"]]]]],false],[0,\"\\n      \"],[7,\"b\",true],[8],[1,[28,\"i18n\",[\"topic.topic_status_update.private_timer_types\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[1,[28,\"edit-topic-timer-form\",null,[[\"topic\",\"topicTimer\",\"timerTypes\",\"updateTime\",\"onChangeStatusType\",\"onChangeUpdateTime\"],[[24,[\"model\"]],[24,[\"topicTimer\"]],[24,[\"selections\"]],[24,[\"updateTime\"]],[28,\"action\",[[23,0,[]],\"onChangeStatusType\"],null],[28,\"action\",[[23,0,[]],\"onChangeUpdateTime\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"disabled\",\"label\",\"action\"],[\"btn-primary\",[24,[\"saveDisabled\"]],\"topic.topic_status_update.save\",[28,\"action\",[[23,0,[]],\"saveTimer\"],null]]]],false],[0,\"\\n\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"size\",\"condition\"],[\"small\",[24,[\"loading\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"topicTimer\",\"execute_at\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"pull-right btn-danger\",[28,\"action\",[[23,0,[]],\"removeTimer\"],null],\"topic.topic_status_update.remove\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/edit-topic-timer"}});
Ember.TEMPLATES["modal/explain-reviewable"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"s\"],\"statements\":[[4,\"d-modal-body\",null,[[\"class\"],[\"explain-reviewable\"]],{\"statements\":[[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]],{\"statements\":[[0,\"    \"],[7,\"table\",true],[8],[0,\"\\n      \"],[7,\"tbody\",true],[8],[0,\"\\n        \"],[7,\"tr\",true],[8],[0,\"\\n          \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"review.explain.formula\"],null],false],[9],[0,\"\\n          \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"review.explain.subtotal\"],null],false],[9],[0,\"\\n        \"],[9],[0,\"\\n\"],[4,\"each\",[[24,[\"reviewableExplanation\",\"scores\"]]],null,{\"statements\":[[0,\"          \"],[7,\"tr\",true],[8],[0,\"\\n            \"],[7,\"td\",true],[8],[0,\"\\n              \"],[1,[28,\"score-value\",null,[[\"value\",\"tagName\"],[\"1.0\",\"\"]]],false],[0,\"\\n              \"],[1,[28,\"score-value\",null,[[\"value\",\"label\",\"tagName\"],[[23,1,[\"type_bonus\"]],\"type_bonus\",\"\"]]],false],[0,\"\\n              \"],[1,[28,\"score-value\",null,[[\"value\",\"label\",\"tagName\"],[[23,1,[\"take_action_bonus\"]],\"take_action_bonus\",\"\"]]],false],[0,\"\\n              \"],[1,[28,\"score-value\",null,[[\"value\",\"label\",\"tagName\"],[[23,1,[\"trust_level_bonus\"]],\"trust_level_bonus\",\"\"]]],false],[0,\"\\n              \"],[1,[28,\"score-value\",null,[[\"value\",\"label\",\"tagName\"],[[23,1,[\"user_accuracy_bonus\"]],\"user_accuracy_bonus\",\"\"]]],false],[0,\"\\n            \"],[9],[0,\"\\n            \"],[7,\"td\",true],[10,\"class\",\"sum\"],[8],[1,[28,\"float\",[[23,1,[\"score\"]]],null],false],[9],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"        \"],[7,\"tr\",true],[10,\"class\",\"total\"],[8],[0,\"\\n          \"],[7,\"td\",true],[8],[1,[28,\"i18n\",[\"review.explain.total\"],null],false],[9],[0,\"\\n          \"],[7,\"td\",true],[10,\"class\",\"sum\"],[8],[1,[28,\"float\",[[24,[\"reviewableExplanation\",\"total_score\"]]],null],false],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"table\",true],[10,\"class\",\"thresholds\"],[8],[0,\"\\n      \"],[7,\"tbody\",true],[8],[0,\"\\n        \"],[7,\"tr\",true],[8],[0,\"\\n          \"],[7,\"td\",true],[8],[1,[28,\"i18n\",[\"review.explain.min_score_visibility\"],null],false],[9],[0,\"\\n          \"],[7,\"td\",true],[10,\"class\",\"sum\"],[8],[0,\"\\n            \"],[1,[28,\"float\",[[24,[\"reviewableExplanation\",\"min_score_visibility\"]]],null],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"tr\",true],[8],[0,\"\\n          \"],[7,\"td\",true],[8],[1,[28,\"i18n\",[\"review.explain.score_to_hide\"],null],false],[9],[0,\"\\n          \"],[7,\"td\",true],[10,\"class\",\"sum\"],[8],[0,\"\\n            \"],[1,[28,\"float\",[[24,[\"reviewableExplanation\",\"hide_post_score\"]]],null],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n\"]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"label\"],[[28,\"route-action\",[\"closeModal\"],null],\"close\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/explain-reviewable"}});
Ember.TEMPLATES["modal/feature-topic-on-profile"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"class\",\"id\"],[\"feature-topic-on-profile\",\"choosing-topic\"]],{\"statements\":[[0,\"  \"],[1,[28,\"choose-topic\",null,[[\"currentTopicId\",\"selectedTopicId\",\"additionalFilters\",\"label\",\"topicChangedCallback\",\"loadOnInit\"],[[24,[\"model\",\"featured_topic\",\"id\"]],[24,[\"newFeaturedTopicId\"]],\"status:public\",\"user.feature_topic_on_profile.search_label\",[28,\"action\",[[23,0,[]],\"newTopicSelected\"],null],true]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"disabled\",\"label\"],[[28,\"action\",[[23,0,[]],\"save\"],null],\"btn-primary save-featured-topic-on-profile\",[24,[\"noTopicSelected\"]],\"user.feature_topic_on_profile.save\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/feature-topic-on-profile"}});
Ember.TEMPLATES["modal/feature-topic"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"class\"],[\"feature-topic\"]],{\"statements\":[[4,\"if\",[[24,[\"model\",\"pinned_at\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"feature-section\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"desc\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"pinned_globally\"]]],null,{\"statements\":[[0,\"          \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"conditional-loading-spinner\",null,[[\"size\",\"condition\"],[\"small\",[24,[\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"pinnedGloballyCount\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"i18n\",[\"topic.feature_topic.already_pinned_globally\"],[[\"count\"],[[24,[\"pinnedGloballyCount\"]]]]],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                \"],[1,[28,\"i18n\",[\"topic.feature_topic.not_pinned_globally\"],null],true],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"          \"],[9],[0,\"\\n          \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"topic.feature_topic.global_pin_note\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"conditional-loading-spinner\",null,[[\"size\",\"condition\"],[\"small\",[24,[\"loading\"]]]],{\"statements\":[[0,\"              \"],[1,[22,\"alreadyPinnedMessage\"],true],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[9],[0,\"\\n          \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"topic.feature_topic.pin_note\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[7,\"p\",true],[8],[1,[22,\"unPinMessage\"],true],[9],[0,\"\\n        \"],[7,\"p\",true],[8],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"unpin\"],null],\"thumbtack\",\"topic.feature.unpin\",\"btn-primary\"]]],false],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"feature-section\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"desc\"],[8],[0,\"\\n        \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"conditional-loading-spinner\",null,[[\"size\",\"condition\"],[\"small\",[24,[\"loading\"]]]],{\"statements\":[[0,\"            \"],[1,[22,\"alreadyPinnedMessage\"],true],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n        \"],[7,\"p\",true],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"topic.feature_topic.pin_note\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"site\",\"isMobileDevice\"]]],null,{\"statements\":[[0,\"          \"],[7,\"p\",true],[8],[0,\"\\n            \"],[1,[22,\"pinMessage\"],true],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"p\",true],[10,\"class\",\"with-validation\"],[8],[0,\"\\n            \"],[1,[28,\"future-date-input\",null,[[\"class\",\"includeFarFuture\",\"clearable\",\"input\",\"onChangeInput\"],[\"pin-until\",true,true,[24,[\"model\",\"pinnedInCategoryUntil\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"pinnedInCategoryUntil\"]]],null]],null]]]],false],[0,\"\\n            \"],[1,[28,\"popup-input-tip\",null,[[\"validation\",\"shownAt\"],[[24,[\"pinInCategoryValidation\"]],[24,[\"pinInCategoryTipShownAt\"]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"p\",true],[10,\"class\",\"with-validation\"],[8],[0,\"\\n            \"],[1,[22,\"pinMessage\"],true],[0,\"\\n            \"],[1,[28,\"d-icon\",[\"far-clock\"],null],false],[0,\"\\n            \"],[1,[28,\"future-date-input\",null,[[\"class\",\"includeFarFuture\",\"clearable\",\"input\",\"onChangeInput\"],[\"pin-until\",true,true,[24,[\"model\",\"pinnedInCategoryUntil\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"pinnedInCategoryUntil\"]]],null]],null]]]],false],[0,\"\\n            \"],[1,[28,\"popup-input-tip\",null,[[\"validation\",\"shownAt\"],[[24,[\"pinInCategoryValidation\"]],[24,[\"pinInCategoryTipShownAt\"]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[7,\"p\",true],[8],[0,\"\\n          \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"pin\"],null],\"thumbtack\",\"topic.feature.pin\",\"btn-primary\"]]],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"feature-section\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"desc\"],[8],[0,\"\\n        \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"conditional-loading-spinner\",null,[[\"size\",\"condition\"],[\"small\",[24,[\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"pinnedGloballyCount\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"topic.feature_topic.already_pinned_globally\"],[[\"count\"],[[24,[\"pinnedGloballyCount\"]]]]],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"topic.feature_topic.not_pinned_globally\"],null],true],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n        \"],[7,\"p\",true],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"topic.feature_topic.global_pin_note\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"site\",\"isMobileDevice\"]]],null,{\"statements\":[[0,\"          \"],[7,\"p\",true],[8],[0,\"\\n            \"],[1,[28,\"i18n\",[\"topic.feature_topic.pin_globally\"],null],false],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"p\",true],[10,\"class\",\"with-validation\"],[8],[0,\"\\n            \"],[1,[28,\"future-date-input\",null,[[\"class\",\"includeFarFuture\",\"clearable\",\"input\",\"onChangeInput\"],[\"pin-until\",true,true,[24,[\"model\",\"pinnedGloballyUntil\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"pinnedGloballyUntil\"]]],null]],null]]]],false],[0,\"\\n            \"],[1,[28,\"popup-input-tip\",null,[[\"validation\",\"shownAt\"],[[24,[\"pinGloballyValidation\"]],[24,[\"pinGloballyTipShownAt\"]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"p\",true],[10,\"class\",\"with-validation\"],[8],[0,\"\\n            \"],[1,[28,\"i18n\",[\"topic.feature_topic.pin_globally\"],null],false],[0,\"\\n            \"],[1,[28,\"d-icon\",[\"far-clock\"],null],false],[0,\"\\n            \"],[1,[28,\"future-date-input\",null,[[\"class\",\"includeFarFuture\",\"clearable\",\"input\",\"onChangeInput\"],[\"pin-until\",true,true,[24,[\"model\",\"pinnedGloballyUntil\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"pinnedGloballyUntil\"]]],null]],null]]]],false],[0,\"\\n            \"],[1,[28,\"popup-input-tip\",null,[[\"validation\",\"shownAt\"],[[24,[\"pinGloballyValidation\"]],[24,[\"pinGloballyTipShownAt\"]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[7,\"p\",true],[8],[0,\"\\n          \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"pinGlobally\"],null],\"thumbtack\",\"topic.feature.pin_globally\",\"btn-primary\"]]],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[4,\"if\",[[24,[\"currentUser\",\"staff\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"feature-section\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"desc\"],[8],[0,\"\\n        \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"conditional-loading-spinner\",null,[[\"size\",\"condition\"],[\"small\",[24,[\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"bannerCount\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"topic.feature_topic.banner_exists\"],null],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"topic.feature_topic.no_banner_exists\"],null],true],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n        \"],[7,\"p\",true],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"topic.feature_topic.banner_note\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"isBanner\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"topic.feature_topic.remove_banner\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"topic.feature_topic.make_banner\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[9],[0,\"\\n        \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"isBanner\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"removeBanner\"],null],\"thumbtack\",\"topic.feature.remove_banner\",\"btn-primary\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"makeBanner\"],null],\"thumbtack\",\"topic.feature.make_banner\",\"btn-primary\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-modal-cancel\",null,[[\"close\"],[[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/feature-topic"}});
Ember.TEMPLATES["modal/flag"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"f\"],\"statements\":[[4,\"d-modal-body\",null,[[\"class\",\"title\"],[\"flag-modal\",[24,[\"title\"]]]],{\"statements\":[[0,\"  \"],[7,\"form\",true],[8],[0,\"\\n\"],[4,\"flag-selection\",null,[[\"nameKey\",\"flags\"],[[24,[\"selected\",\"name_key\"]],[24,[\"flagsAvailable\"]]]],{\"statements\":[[0,\"      \"],[1,[28,\"flag-action-type\",null,[[\"flag\",\"message\",\"isWarning\",\"selectedFlag\",\"username\",\"staffFlagsAvailable\",\"changePostActionType\"],[[23,1,[]],[24,[\"message\"]],[24,[\"isWarning\"]],[24,[\"selected\"]],[24,[\"model\",\"username\"]],[24,[\"staffFlagsAvailable\"]],[28,\"action\",[[23,0,[]],\"changePostActionType\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"title\",\"icon\",\"label\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"createFlag\"],null],[24,[\"submitDisabled\"]],\"flagging.submit_tooltip\",[24,[\"submitIcon\"]],[24,[\"submitLabel\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canSendWarning\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"icon\",\"label\"],[\"btn-danger\",[28,\"action\",[[23,0,[]],\"createFlagAsWarning\"],null],[24,[\"submitDisabled\"]],\"exclamation-triangle\",\"flagging.official_warning\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canTakeAction\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"title\",\"icon\",\"label\"],[\"btn-danger\",[28,\"action\",[[23,0,[]],\"takeAction\"],null],[24,[\"submitDisabled\"]],\"flagging.take_action_tooltip\",\"gavel\",\"flagging.take_action\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showDeleteSpammer\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"icon\",\"label\"],[\"btn-danger\",[28,\"action\",[[23,0,[]],\"deleteSpammer\"],null],[24,[\"submitDisabled\"]],\"exclamation-triangle\",\"flagging.delete_spammer\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/flag"}});
Ember.TEMPLATES["modal/forgot-password"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"form\",true],[8],[0,\"\\n\"],[4,\"d-modal-body\",null,[[\"class\"],[\"forgot-password-modal\"]],{\"statements\":[[4,\"if\",[[24,[\"offerHelp\"]]],null,{\"statements\":[[0,\"      \"],[1,[22,\"offerHelp\"],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"label\",true],[10,\"for\",\"username-or-email\"],[8],[1,[28,\"i18n\",[\"forgot_password.invite\"],null],false],[9],[0,\"\\n      \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"id\",\"autocorrect\",\"autocapitalize\"],[[24,[\"accountEmailOrUsername\"]],\"login.email_placeholder\",\"username-or-email\",\"off\",\"off\"]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"  \"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"offerHelp\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"label\",\"type\",\"action\"],[\"btn-large btn-primary\",\"forgot_password.button_ok\",\"submit\",[28,\"action\",[[23,0,[]],\"ok\"],null]]]],false],[0,\"\\n\"],[4,\"unless\",[[24,[\"helpSeen\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"class\",\"label\",\"icon\",\"action\"],[\"btn-large\",\"forgot_password.button_help\",\"question-circle\",[28,\"action\",[[23,0,[]],\"help\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"disabled\",\"class\",\"type\"],[[28,\"action\",[[23,0,[]],\"resetPassword\"],null],\"forgot_password.reset\",[24,[\"submitDisabled\"]],\"btn-primary forgot-password-reset\",\"submit\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/forgot-password"}});
Ember.TEMPLATES["modal/grant-badge"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"class\"],[\"grant-badge\"]],{\"statements\":[[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"noGrantableBadges\"]]],null,{\"statements\":[[0,\"      \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"admin.badges.no_badges\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"p\",true],[8],[0,\"\\n        \"],[1,[28,\"combo-box\",null,[[\"filterable\",\"value\",\"content\",\"none\",\"onChange\"],[true,[24,[\"selectedBadgeId\"]],[24,[\"grantableBadges\"]],\"badges.none\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"selectedBadgeId\"]]],null]],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"disabled\",\"action\",\"label\"],[\"btn-primary\",[24,[\"buttonDisabled\"]],[28,\"action\",[[23,0,[]],\"grantBadge\"],null],\"admin.badges.grant\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/grant-badge"}});
Ember.TEMPLATES["modal/group-add-members"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\"],[\"groups.add_members.title\"]],{\"statements\":[[0,\"  \"],[7,\"form\",true],[10,\"class\",\"form-vertical group-add-members\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"groups.add_members.usernames\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[1,[28,\"user-selector\",null,[[\"class\",\"usernames\",\"placeholderKey\",\"id\"],[\"input-xxlarge\",[24,[\"model\",\"usernames\"]],\"groups.selector_placeholder\",\"group-add-members-user-selector\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"currentUser\",\"admin\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"control-group group-add-members-make-owner\"],[8],[0,\"\\n        \"],[7,\"label\",true],[8],[0,\"\\n          \"],[1,[28,\"input\",null,[[\"type\",\"class\",\"checked\",\"disabled\"],[\"checkbox\",\"inline\",[24,[\"setAsOwner\"]],[24,[\"bulkAdd\"]]]]],false],[0,\"\\n          \"],[1,[28,\"i18n\",[\"admin.groups.add_members.as_owner\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"disabled\",\"label\"],[[28,\"action\",[[23,0,[]],\"addMembers\"],null],\"add btn-primary\",\"plus\",[24,[\"disableAddButton\"]],\"groups.add\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/group-add-members"}});
Ember.TEMPLATES["modal/group-bulk-add"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\"],[\"admin.groups.bulk_add.title\"]],{\"statements\":[[4,\"if\",[[24,[\"result\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"result\",\"message\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"alert alert-success\"],[8],[0,\"\\n        \"],[1,[24,[\"result\",\"message\"]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"result\",\"invalidUsers\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"admin.groups.bulk_add.complete_users_not_added\"],null],false],[0,\"\\n        \"],[1,[24,[\"result\",\"invalidUsers\"]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"\"],[8],[0,\"\\n      \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"cancel\"]],[8],[1,[28,\"i18n\",[\"cancel\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"form\",true],[10,\"class\",\"form-vertical group-bulk-add\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"admin.groups.bulk_add.paste\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n\\n        \"],[1,[28,\"textarea\",null,[[\"value\"],[[24,[\"input\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"disabled\",\"label\"],[[28,\"action\",[[23,0,[]],\"add\"],null],\"add btn-primary\",\"plus\",[24,[\"disableAddButton\"]],\"groups.add\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/group-bulk-add"}});
Ember.TEMPLATES["modal/history"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"t\",\"t\"],\"statements\":[[4,\"d-modal-body\",null,[[\"title\",\"maxHeight\"],[\"history\",\"70%\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"id\",\"revision\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"id\",\"revision-details\"],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"pencil-alt\"],null],false],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"user\",[24,[\"model\",\"username\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"bound-avatar-template\",[[24,[\"model\",\"avatar_template\"]],\"small\"],null],false],[0,\" \"],[1,[24,[\"model\",\"username\"]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[7,\"span\",true],[10,\"class\",\"date\"],[8],[1,[28,\"bound-date\",[[24,[\"model\",\"created_at\"]]],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"edit_reason\"]]],null,{\"statements\":[[0,\"         \"],[7,\"span\",true],[10,\"class\",\"edit-reason\"],[8],[1,[24,[\"model\",\"edit_reason\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"unless\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"model\",\"user_changes\"]]],null,{\"statements\":[[0,\"           \"],[1,[28,\"bound-avatar-template\",[[24,[\"model\",\"user_changes\",\"previous\",\"avatar_template\"]],\"small\"],null],false],[0,\" \"],[1,[24,[\"model\",\"user_changes\",\"previous\",\"username\"]],false],[0,\"\\n           \"],[1,[28,\"bound-avatar-template\",[[24,[\"model\",\"user_changes\",\"current\",\"avatar_template\"]],\"small\"],null],false],[0,\" \"],[1,[24,[\"model\",\"user_changes\",\"current\",\"username\"]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"wiki_changes\"]]],null,{\"statements\":[[0,\"           \"],[1,[28,\"disabled-icon\",null,[[\"icon\",\"disabled\"],[\"far-edit\",[24,[\"wikiDisabled\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"post_type_changes\"]]],null,{\"statements\":[[0,\"           \"],[1,[28,\"disabled-icon\",null,[[\"icon\",\"disabled\"],[\"shield-alt\",[24,[\"postTypeDisabled\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"category_id_changes\"]]],null,{\"statements\":[[0,\"           \"],[1,[22,\"previousCategory\"],true],[0,\"  \"],[1,[22,\"currentCategory\"],true],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"id\",\"display-modes\"],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"title\",\"class\"],[[28,\"action\",[[23,0,[]],\"displayInline\"],null],\"far-square\",\"post.revisions.displays.inline.button\",\"post.revisions.displays.inline.title\",[24,[\"inlineClass\"]]]]],false],[0,\"\\n\"],[4,\"unless\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"title\",\"class\"],[[28,\"action\",[[23,0,[]],\"displaySideBySide\"],null],\"columns\",\"post.revisions.displays.side_by_side.button\",\"post.revisions.displays.side_by_side.title\",[24,[\"sideBySideClass\"]]]]],false],[0,\"\\n\\n        \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"title\",\"class\"],[[28,\"action\",[[23,0,[]],\"displaySideBySideMarkdown\"],null],\"columns\",\"post.revisions.displays.side_by_side_markdown.button\",\"post.revisions.displays.side_by_side_markdown.title\",[24,[\"sideBySideMarkdownClass\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"id\",\"revisions\"],[11,\"data-post-id\",[29,[[24,[\"model\",\"post_id\"]]]]],[11,\"class\",[22,\"hiddenClasses\"]],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"title_changes\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n        \"],[7,\"h2\",true],[8],[1,[22,\"titleDiff\"],true],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"user_changes\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n          \"],[1,[28,\"bound-avatar-template\",[[24,[\"model\",\"user_changes\",\"previous\",\"avatar_template\"]],\"small\"],null],false],[0,\" \"],[1,[24,[\"model\",\"user_changes\",\"previous\",\"username\"]],false],[0,\"\\n           \"],[1,[28,\"bound-avatar-template\",[[24,[\"model\",\"user_changes\",\"current\",\"avatar_template\"]],\"small\"],null],false],[0,\" \"],[1,[24,[\"model\",\"user_changes\",\"current\",\"username\"]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"wiki_changes\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n          \"],[1,[28,\"disabled-icon\",null,[[\"icon\",\"disabled\"],[\"far-edit\",[24,[\"wikiDisabled\"]]]]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"post_type_changes\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n          \"],[1,[28,\"disabled-icon\",null,[[\"icon\",\"disabled\"],[\"shield-alt\",[24,[\"postTypeDisabled\"]]]]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"category_id_changes\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n          \"],[1,[22,\"previousCategory\"],true],[0,\"  \"],[1,[22,\"currentCategory\"],true],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"tags_changes\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"tagging.changed\"],null],false],[0,\"\\n\"],[4,\"each\",[[24,[\"previousTagChanges\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"discourse-tag\",[[23,2,[]]],null],false],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"        \\n        \\n\"],[4,\"each\",[[24,[\"currentTagChanges\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"discourse-tag\",[[23,1,[]]],null],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"featured_link_changes\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n        \"],[1,[24,[\"model\",\"featured_link_changes\",\"previous\"]],false],[0,\"\\n        \\n        \"],[1,[24,[\"model\",\"featured_link_changes\",\"current\"]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"post-revisions\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"links-redirect\",null,[[\"class\"],[\"row\"]],{\"statements\":[[0,\"      \"],[1,[22,\"bodyDiff\"],true],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"topicController\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"id\",\"revision-controls\"],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"title\",\"disabled\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"loadFirstVersion\"],null],\"fast-backward\",\"post.revisions.controls.first\",[24,[\"loadFirstDisabled\"]]]]],false],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"title\",\"disabled\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"loadPreviousVersion\"],null],\"backward\",\"post.revisions.controls.previous\",[24,[\"loadPreviousDisabled\"]]]]],false],[0,\"\\n      \"],[7,\"div\",true],[10,\"id\",\"revision-numbers\"],[11,\"class\",[29,[[28,\"unless\",[[24,[\"displayRevisions\"]],\"invisible\"],null]]]],[8],[0,\"\\n\"],[4,\"conditional-loading-spinner\",null,[[\"condition\",\"size\"],[[24,[\"loading\"]],\"small\"]],{\"statements\":[[0,\"          \"],[1,[22,\"revisionsText\"],true],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"title\",\"disabled\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"loadNextVersion\"],null],\"forward\",\"post.revisions.controls.next\",[24,[\"loadNextDisabled\"]]]]],false],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"title\",\"disabled\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"loadLastVersion\"],null],\"fast-forward\",\"post.revisions.controls.last\",[24,[\"loadLastDisabled\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"id\",\"revision-footer-buttons\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"displayEdit\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"editPost\"],null],\"pencil-alt\",\"btn-default\",[24,[\"editButtonLabel\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"displayRevert\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\",\"disabled\"],[[28,\"action\",[[23,0,[]],\"revertToVersion\"],null],\"undo\",\"post.revisions.controls.revert\",\"btn-danger\",[24,[\"loading\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"displayHide\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\",\"disabled\"],[[28,\"action\",[[23,0,[]],\"hideVersion\"],null],\"far-eye-slash\",\"post.revisions.controls.hide\",\"btn-danger\",[24,[\"loading\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"displayShow\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\",\"disabled\"],[[28,\"action\",[[23,0,[]],\"showVersion\"],null],\"far-eye\",\"post.revisions.controls.show\",\"btn-default\",[24,[\"loading\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/history"}});
Ember.TEMPLATES["modal/ignore-duration-with-username"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\",\"autoFocus\"],[\"user.user_notifications.ignore_duration_title\",\"false\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"d-icon\",[\"far-eye-slash\"],[[\"class\"],[\"icon\"]]],false],[0,\" \"],[1,[28,\"i18n\",[\"user.user_notifications.ignore_duration_username\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"user-selector\",null,[[\"excludeCurrentUser\",\"single\",\"class\",\"usernames\"],[true,true,\"user-selector\",[24,[\"ignoredUsername\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[1,[28,\"future-date-input\",null,[[\"label\",\"input\",\"includeWeekend\",\"includeDateTime\",\"includeMidFuture\",\"includeFarFuture\",\"onChangeInput\"],[\"user.user_notifications.ignore_duration_when\",[28,\"readonly\",[[24,[\"ignoredUntil\"]]],null],true,false,true,false,[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"ignoredUntil\"]]],null]],null]]]],false],[0,\"\\n  \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"user.user_notifications.ignore_duration_note\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"disabled\",\"label\",\"action\"],[\"btn-primary\",[24,[\"saveDisabled\"]],\"user.user_notifications.ignore_duration_save\",[28,\"action\",[[23,0,[]],\"ignore\"],null]]]],false],[0,\"\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"size\",\"condition\"],[\"small\",[24,[\"loading\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/ignore-duration-with-username"}});
Ember.TEMPLATES["modal/ignore-duration"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\",\"autoFocus\"],[\"user.user_notifications.ignore_duration_title\",\"false\"]],{\"statements\":[[0,\"  \"],[1,[28,\"future-date-input\",null,[[\"label\",\"input\",\"includeWeekend\",\"includeDateTime\",\"includeMidFuture\",\"includeFarFuture\",\"onChangeInput\"],[\"user.user_notifications.ignore_duration_when\",[24,[\"ignoredUntil\"]],true,false,true,false,[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"ignoredUntil\"]]],null]],null]]]],false],[0,\"\\n  \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"user.user_notifications.ignore_duration_note\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"disabled\",\"label\",\"action\"],[\"btn-primary\",[24,[\"saveDisabled\"]],\"user.user_notifications.ignore_duration_save\",[28,\"action\",[[23,0,[]],\"ignore\"],null]]]],false],[0,\"\\n\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"size\",\"condition\"],[\"small\",[24,[\"loading\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/ignore-duration"}});
Ember.TEMPLATES["modal/insert-hyperlink"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"result\"],\"statements\":[[4,\"d-modal-body\",null,[[\"title\",\"class\"],[\"composer.link_dialog_title\",\"insert-link\"]],{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"inputs\"],[8],[0,\"\\n      \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"class\",\"key-up\"],[[24,[\"linkUrl\"]],\"composer.link_url_placeholder\",\"link-url\",[28,\"action\",[[23,0,[]],\"search\"],null]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"searchLoading\"]]],null,{\"statements\":[[0,\"        \"],[1,[22,\"loading-spinner\"],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"searchResults\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"internal-link-results\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"searchResults\"]]],null,{\"statements\":[[0,\"            \"],[7,\"a\",true],[10,\"class\",\"search-link\"],[11,\"href\",[29,[[23,1,[\"url\"]]]]],[11,\"onclick\",[28,\"action\",[[23,0,[]],\"linkClick\"],null]],[11,\"data-title\",[29,[[23,1,[\"title\"]]]]],[8],[0,\"\\n              \"],[1,[28,\"topic-status\",null,[[\"topic\",\"disableActions\"],[[23,1,[]],true]]],false],[0,\"\\n              \"],[1,[28,\"replace-emoji\",[[23,1,[\"fancy_title\"]]],null],false],[0,\"\\n              \"],[7,\"div\",true],[10,\"class\",\"search-category\"],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"category\",\"parentCategory\"]]],null,{\"statements\":[[0,\"                  \"],[1,[28,\"category-link\",[[23,1,[\"category\",\"parentCategory\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                \"],[1,[28,\"category-link\",[[23,1,[\"category\"]]],[[\"hideParent\"],[true]]],false],[0,\"\\n                \"],[1,[28,\"discourse-tags\",[[23,1,[]]],null],false],[0,\"\\n              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"inputs\"],[8],[0,\"\\n      \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"class\"],[[24,[\"linkText\"]],\"composer.link_optional_text\",\"link-text\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"label\",\"action\"],[\"btn-primary\",\"composer.modal_ok\",[28,\"action\",[[23,0,[]],\"ok\"],null]]]],false],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"label\",\"action\"],[\"btn-danger\",\"composer.modal_cancel\",[28,\"action\",[[23,0,[]],\"cancel\"],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/insert-hyperlink"}});
Ember.TEMPLATES["modal/jump-to-post"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\"],[\"topic.progress.jump_prompt_long\"]],{\"statements\":[[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"jump-to-post-form\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"jump-to-post-control\"],[8],[0,\"\\n      \"],[7,\"span\",true],[10,\"class\",\"index\"],[8],[0,\"#\"],[9],[0,\"\\n      \"],[1,[28,\"input\",null,[[\"id\",\"type\",\"value\",\"insert-newline\"],[\"post-jump\",\"number\",[24,[\"postNumber\"]],[28,\"action\",[[23,0,[]],\"jump\"],null]]]],false],[0,\"\\n      \"],[7,\"span\",true],[10,\"class\",\"input-hint-text post-number\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"topic.progress.jump_prompt_of\"],[[\"count\"],[[24,[\"filteredPostsCount\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"separator\"],[8],[0,\"\\n      \"],[7,\"span\",true],[10,\"class\",\"text\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"topic.progress.jump_prompt_or\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"hr\",true],[10,\"class\",\"right\"],[8],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"jump-to-date-control\"],[8],[0,\"\\n      \"],[7,\"span\",true],[10,\"class\",\"input-hint-text post-date\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"topic.progress.jump_prompt_to_date\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[1,[28,\"date-picker\",null,[[\"id\",\"class\",\"value\",\"defaultDate\"],[\"post-date\",\"date-input\",[24,[\"postDate\"]],\"YYYY-MM-DD\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"jump\"],null],\"composer.modal_ok\"]]],false],[0,\"\\n  \"],[1,[28,\"d-modal-cancel\",null,[[\"close\"],[[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/jump-to-post"}});
Ember.TEMPLATES["modal/keyboard-shortcuts-help"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"id\"],[\"keyboard-shortcuts-help\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n    \"],[7,\"div\",true],[8],[0,\"\\n      \"],[7,\"h4\",true],[8],[1,[28,\"i18n\",[\"keyboard_shortcuts_help.jump_to.title\"],null],false],[9],[0,\"\\n      \"],[7,\"ul\",true],[8],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"jump_to\",\"home\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"jump_to\",\"latest\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"jump_to\",\"new\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"jump_to\",\"unread\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"jump_to\",\"categories\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"jump_to\",\"top\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"jump_to\",\"bookmarks\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"jump_to\",\"profile\"]],true],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"enable_personal_messages\"]]],null,{\"statements\":[[0,\"          \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"jump_to\",\"messages\"]],true],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"jump_to\",\"drafts\"]],true],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"h4\",true],[8],[1,[28,\"i18n\",[\"keyboard_shortcuts_help.navigation.title\"],null],false],[9],[0,\"\\n      \"],[7,\"ul\",true],[8],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"navigation\",\"back\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"navigation\",\"jump\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"navigation\",\"up_down\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"navigation\",\"open\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"navigation\",\"next_prev\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"navigation\",\"go_to_unread_post\"]],true],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[8],[0,\"\\n      \"],[7,\"h4\",true],[8],[1,[28,\"i18n\",[\"keyboard_shortcuts_help.application.title\"],null],false],[9],[0,\"\\n      \"],[7,\"ul\",true],[8],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"application\",\"hamburger_menu\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"application\",\"user_profile_menu\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"application\",\"show_incoming_updated_topics\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"application\",\"search\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"application\",\"help\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"application\",\"dismiss_new_posts\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"application\",\"dismiss_topics\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"application\",\"log_out\"]],true],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"h4\",true],[8],[1,[28,\"i18n\",[\"keyboard_shortcuts_help.composing.title\"],null],false],[9],[0,\"\\n      \"],[7,\"ul\",true],[8],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"composing\",\"return\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"composing\",\"fullscreen\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"application\",\"create\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"reply_as_new_topic\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"reply_topic\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"reply_post\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"quote_post\"]],true],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[8],[0,\"\\n      \"],[7,\"h4\",true],[8],[1,[28,\"i18n\",[\"keyboard_shortcuts_help.actions.title\"],null],false],[9],[0,\"\\n      \"],[7,\"ul\",true],[8],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"bookmark_topic\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"pin_unpin_topic\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"share_topic\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"share_post\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"like\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"flag\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"bookmark\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"edit\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"delete\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"mark_muted\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"mark_regular\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"mark_tracking\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"mark_watching\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"defer\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"print\"]],true],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[1,[24,[\"shortcuts\",\"actions\",\"topic_admin_actions\"]],true],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/keyboard-shortcuts-help"}});
Ember.TEMPLATES["modal/login"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"login-modal\",null,[[\"screenX\",\"screenY\",\"loginName\",\"loginPassword\",\"secondFactorToken\",\"action\"],[[24,[\"lastX\"]],[24,[\"lastY\"]],[24,[\"loginName\"]],[24,[\"loginPassword\"]],[24,[\"secondFactorToken\"]],[28,\"action\",[[23,0,[]],\"login\"],null]]],{\"statements\":[[0,\"  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\"],[\"login-before-modal-body\",\"\"]]],false],[0,\"\\n\"],[4,\"d-modal-body\",null,[[\"title\",\"class\"],[\"login.title\",[24,[\"modalBodyClasses\"]]]],{\"statements\":[[0,\"\\n\"],[4,\"if\",[[24,[\"canLoginLocal\"]]],null,{\"statements\":[[0,\"      \"],[7,\"form\",true],[10,\"id\",\"login-form\"],[10,\"method\",\"post\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"id\",\"credentials\"],[11,\"class\",[22,\"credentialsClass\"]],[8],[0,\"\\n          \"],[7,\"table\",true],[8],[0,\"\\n            \"],[7,\"tbody\",true],[8],[0,\"\\n              \"],[7,\"tr\",true],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[7,\"label\",true],[10,\"for\",\"login-account-name\"],[8],[1,[28,\"i18n\",[\"login.username\"],null],false],[9],[9],[0,\"\\n                \"],[7,\"td\",true],[8],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"id\",\"autocorrect\",\"autocapitalize\",\"autofocus\",\"disabled\"],[[24,[\"loginName\"]],\"login.email_placeholder\",\"login-account-name\",\"off\",\"off\",\"autofocus\",[24,[\"disableLoginFields\"]]]]],false],[9],[0,\"\\n              \"],[9],[0,\"\\n              \"],[7,\"tr\",true],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[7,\"label\",true],[10,\"for\",\"login-account-password\"],[8],[1,[28,\"i18n\",[\"login.password\"],null],false],[9],[9],[0,\"\\n                \"],[7,\"td\",true],[8],[1,[28,\"password-field\",null,[[\"value\",\"type\",\"id\",\"maxlength\",\"capsLockOn\",\"disabled\"],[[24,[\"loginPassword\"]],\"password\",\"login-account-password\",\"200\",[24,[\"capsLockOn\"]],[24,[\"disableLoginFields\"]]]]],false],[9],[0,\"\\n                \"],[7,\"td\",true],[8],[7,\"a\",false],[12,\"href\",\"\"],[12,\"id\",\"forgot-password-link\"],[3,\"action\",[[23,0,[]],\"forgotPassword\"]],[8],[1,[28,\"i18n\",[\"forgot_password.action\"],null],false],[9],[9],[0,\"\\n              \"],[9],[0,\"\\n              \"],[7,\"tr\",true],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[9],[0,\"\\n                \"],[7,\"td\",true],[8],[7,\"div\",true],[11,\"class\",[29,[\"caps-lock-warning \",[28,\"unless\",[[24,[\"capsLockOn\"]],\"hidden\"],null]]]],[8],[1,[28,\"d-icon\",[\"exclamation-triangle\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"login.caps_lock_warning\"],null],false],[9],[9],[0,\"\\n                \"],[7,\"td\",true],[8],[9],[0,\"\\n              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"],[4,\"second-factor-form\",null,[[\"secondFactorMethod\",\"secondFactorToken\",\"class\",\"backupEnabled\",\"isLogin\"],[[24,[\"secondFactorMethod\"]],[24,[\"secondFactorToken\"]],[24,[\"secondFactorClass\"]],[24,[\"backupEnabled\"]],true]],{\"statements\":[[4,\"if\",[[24,[\"showSecurityKey\"]]],null,{\"statements\":[[4,\"security-key-form\",null,[[\"allowedCredentialIds\",\"challenge\",\"showSecurityKey\",\"showSecondFactor\",\"secondFactorMethod\",\"otherMethodAllowed\",\"action\"],[[24,[\"securityKeyAllowedCredentialIds\"]],[24,[\"securityKeyChallenge\"]],[24,[\"showSecurityKey\"]],[24,[\"showSecondFactor\"]],[24,[\"secondFactorMethod\"]],[24,[\"otherMethodAllowed\"]],[28,\"action\",[[23,0,[]],\"authenticateSecurityKey\"],null]]],{\"statements\":[],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[1,[28,\"second-factor-input\",null,[[\"value\",\"inputId\",\"secondFactorMethod\",\"backupEnabled\"],[[24,[\"secondFactorToken\"]],\"login-second-factor\",[24,[\"secondFactorMethod\"]],[24,[\"backupEnabled\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showLoginButtons\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"login-buttons\",null,[[\"showLoginWithEmailLink\",\"processingEmailLink\",\"emailLogin\",\"externalLogin\"],[[24,[\"showLoginWithEmailLink\"]],[24,[\"processingEmailLink\"]],[28,\"action\",[[23,0,[]],\"emailLogin\"],null],[28,\"action\",[[23,0,[]],\"externalLogin\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canLoginLocal\"]]],null,{\"statements\":[[4,\"unless\",[[24,[\"showSecurityKey\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"id\",\"form\",\"icon\",\"label\",\"disabled\",\"class\"],[[28,\"action\",[[23,0,[]],\"login\"],null],\"login-button\",\"login-form\",\"unlock\",[24,[\"loginButtonLabel\"]],[24,[\"loginDisabled\"]],\"btn btn-large btn-primary\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showSignupLink\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"class\",\"id\",\"action\",\"label\"],[\"btn-large\",\"new-account-link\",[28,\"action\",[[23,0,[]],\"createAccount\"],null],\"create_account.title\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n    \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\",\"size\"],[[24,[\"showSpinner\"]],\"small\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\"],[\"login-after-modal-footer\",\"\"]]],false],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"id\",\"login-alert\"],[11,\"class\",[22,\"alertClass\"]],[8],[1,[22,\"alert\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/login"}});
Ember.TEMPLATES["modal/move-to-topic"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"id\"],[\"choosing-topic\"]],{\"statements\":[[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"isPrivateMessage\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"radios\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canSplitToPM\"]]],null,{\"statements\":[[0,\"        \"],[7,\"label\",true],[10,\"class\",\"radio-label\"],[10,\"for\",\"move-to-new-message\"],[8],[0,\"\\n          \"],[1,[28,\"radio-button\",null,[[\"id\",\"name\",\"value\",\"selection\"],[\"move-to-new-message\",\"move-to-entity\",\"new_message\",[24,[\"selection\"]]]]],false],[0,\"\\n          \"],[7,\"b\",true],[8],[1,[28,\"i18n\",[\"topic.move_to_new_message.radio_label\"],null],false],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"radio-label\"],[10,\"for\",\"move-to-existing-message\"],[8],[0,\"\\n        \"],[1,[28,\"radio-button\",null,[[\"id\",\"name\",\"value\",\"selection\"],[\"move-to-existing-message\",\"move-to-entity\",\"existing_message\",[24,[\"selection\"]]]]],false],[0,\"\\n        \"],[7,\"b\",true],[8],[1,[28,\"i18n\",[\"topic.move_to_existing_message.radio_label\"],null],false],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canSplitTopic\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"newMessage\"]]],null,{\"statements\":[[0,\"        \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"topic.move_to_new_message.instructions\"],[[\"count\"],[[24,[\"selectedPostsCount\"]]]]],true],[9],[0,\"\\n        \"],[7,\"form\",true],[8],[0,\"\\n          \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"topic.move_to_new_message.message_title\"],null],false],[9],[0,\"\\n          \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"elementId\"],[[24,[\"topicName\"]],\"composer.title_placeholder\",\"split-topic-name\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canTagMessages\"]]],null,{\"statements\":[[0,\"            \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"tagging.tags\"],null],false],[9],[0,\"\\n            \"],[1,[28,\"tag-chooser\",null,[[\"tags\",\"filterable\"],[[24,[\"tags\"]],true]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"existingMessage\"]]],null,{\"statements\":[[0,\"      \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"topic.move_to_existing_message.instructions\"],[[\"count\"],[[24,[\"selectedPostsCount\"]]]]],true],[9],[0,\"\\n      \"],[7,\"form\",true],[8],[0,\"\\n        \"],[1,[28,\"choose-message\",null,[[\"currentTopicId\",\"selectedTopicId\"],[[24,[\"model\",\"id\"]],[24,[\"selectedTopicId\"]]]]],false],[0,\"\\n\\n        \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"topic.move_to_new_message.participants\"],null],false],[9],[0,\"\\n        \"],[1,[28,\"user-selector\",null,[[\"usernames\",\"class\"],[[24,[\"participants\"]],\"participant-selector\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"radios\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canSplitTopic\"]]],null,{\"statements\":[[0,\"        \"],[7,\"label\",true],[10,\"class\",\"radio-label\"],[10,\"for\",\"move-to-new-topic\"],[8],[0,\"\\n          \"],[1,[28,\"radio-button\",null,[[\"id\",\"name\",\"value\",\"selection\"],[\"move-to-new-topic\",\"move-to-entity\",\"new_topic\",[24,[\"selection\"]]]]],false],[0,\"\\n          \"],[7,\"b\",true],[8],[1,[28,\"i18n\",[\"topic.split_topic.radio_label\"],null],false],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"radio-label\"],[10,\"for\",\"move-to-existing-topic\"],[8],[0,\"\\n        \"],[1,[28,\"radio-button\",null,[[\"id\",\"name\",\"value\",\"selection\"],[\"move-to-existing-topic\",\"move-to-entity\",\"existing_topic\",[24,[\"selection\"]]]]],false],[0,\"\\n        \"],[7,\"b\",true],[8],[1,[28,\"i18n\",[\"topic.merge_topic.radio_label\"],null],false],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canSplitToPM\"]]],null,{\"statements\":[[0,\"        \"],[7,\"label\",true],[10,\"class\",\"radio-label\"],[10,\"for\",\"move-to-new-message\"],[8],[0,\"\\n          \"],[1,[28,\"radio-button\",null,[[\"id\",\"name\",\"value\",\"selection\"],[\"move-to-new-message\",\"move-to-entity\",\"new_message\",[24,[\"selection\"]]]]],false],[0,\"\\n          \"],[7,\"b\",true],[8],[1,[28,\"i18n\",[\"topic.move_to_new_message.radio_label\"],null],false],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"existingTopic\"]]],null,{\"statements\":[[0,\"      \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"topic.merge_topic.instructions\"],[[\"count\"],[[24,[\"selectedPostsCount\"]]]]],true],[9],[0,\"\\n      \"],[7,\"form\",true],[8],[0,\"\\n        \"],[1,[28,\"choose-topic\",null,[[\"currentTopicId\",\"selectedTopicId\"],[[24,[\"model\",\"id\"]],[24,[\"selectedTopicId\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canSplitTopic\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"newTopic\"]]],null,{\"statements\":[[0,\"        \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"topic.split_topic.instructions\"],[[\"count\"],[[24,[\"selectedPostsCount\"]]]]],true],[9],[0,\"\\n        \"],[7,\"form\",true],[8],[0,\"\\n          \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"topic.split_topic.topic_name\"],null],false],[9],[0,\"\\n          \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"elementId\"],[[24,[\"topicName\"]],\"composer.title_placeholder\",\"split-topic-name\"]]],false],[0,\"\\n\\n          \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"categories.category\"],null],false],[9],[0,\"\\n          \"],[1,[28,\"category-chooser\",null,[[\"value\",\"class\",\"onChange\"],[[24,[\"categoryId\"]],\"small\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"categoryId\"]]],null]],null]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"canAddTags\"]]],null,{\"statements\":[[0,\"            \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"tagging.tags\"],null],false],[9],[0,\"\\n            \"],[1,[28,\"tag-chooser\",null,[[\"tags\",\"filterable\",\"categoryId\"],[[24,[\"tags\"]],true,[24,[\"categoryId\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canSplitTopic\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"newMessage\"]]],null,{\"statements\":[[0,\"        \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"topic.move_to_new_message.instructions\"],[[\"count\"],[[24,[\"selectedPostsCount\"]]]]],true],[9],[0,\"\\n        \"],[7,\"form\",true],[8],[0,\"\\n          \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"topic.move_to_new_message.message_title\"],null],false],[9],[0,\"\\n          \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"elementId\"],[[24,[\"topicName\"]],\"composer.title_placeholder\",\"split-topic-name\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canTagMessages\"]]],null,{\"statements\":[[0,\"            \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"tagging.tags\"],null],false],[9],[0,\"\\n            \"],[1,[28,\"tag-chooser\",null,[[\"tags\",\"filterable\"],[[24,[\"tags\"]],true]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]}],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n\"],[4,\"d-button\",null,[[\"class\",\"disabled\",\"action\"],[\"btn-primary\",[24,[\"buttonDisabled\"]],[28,\"action\",[[23,0,[]],\"performMove\"],null]]],{\"statements\":[[0,\"    \"],[1,[28,\"d-icon\",[\"sign-out-alt\"],null],false],[0,\" \"],[1,[22,\"buttonTitle\"],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/move-to-topic"}});
Ember.TEMPLATES["modal/not-activated"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[0,\"  \"],[1,[28,\"i18n\",[\"login.not_activated\"],[[\"sentTo\"],[[24,[\"sentTo\"]]]]],true],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"activation-controls\",null,[[\"sendActivationEmail\",\"editActivationEmail\"],[[28,\"action\",[[23,0,[]],\"sendActivationEmail\"],null],[28,\"action\",[[23,0,[]],\"editActivationEmail\"],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/not-activated"}});
Ember.TEMPLATES["modal/post-enqueued"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"review.approval.description\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"review.approval.pending_posts\"],[[\"count\"],[[24,[\"model\",\"pending_count\"]]]]],true],[9],[0,\"\\n\"]],\"parameters\":[]},null],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"route-action\",[\"closeModal\"],null],\"btn-primary\",\"review.approval.ok\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/post-enqueued"}});
Ember.TEMPLATES["modal/raw-email"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\",\"class\",\"maxHeight\"],[\"raw_email.title\",\"incoming-email-modal\",\"80%\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"incoming-email-tabs\"],[8],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"title\",\"class\"],[[28,\"action\",[[23,0,[]],\"displayRaw\"],null],\"post.raw_email.displays.raw.button\",\"post.raw_email.displays.raw.title\",[28,\"if\",[[24,[\"showRawEmail\"]],\"active\"],null]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"textPart\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"title\",\"class\"],[[28,\"action\",[[23,0,[]],\"displayTextPart\"],null],\"post.raw_email.displays.text_part.button\",\"post.raw_email.displays.text_part.title\",[28,\"if\",[[24,[\"showTextPart\"]],\"active\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"htmlPart\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"action\",\"label\",\"title\",\"class\"],[[28,\"action\",[[23,0,[]],\"displayHtmlPart\"],null],\"post.raw_email.displays.html_part.button\",\"post.raw_email.displays.html_part.title\",[28,\"if\",[[24,[\"showHtmlPart\"]],\"active\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"incoming-email-content\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"showRawEmail\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"rawEmail\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"textarea\",null,[[\"value\"],[[24,[\"rawEmail\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"raw_email.not_available\"],null],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showTextPart\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"textarea\",null,[[\"value\"],[[24,[\"textPart\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showHtmlPart\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"iframed-html\",null,[[\"html\",\"className\"],[[24,[\"htmlPart\"]],\"incoming-email-html-part\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/raw-email"}});
Ember.TEMPLATES["modal/rename-tag"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\"],[\"tagging.rename_tag\"]],{\"statements\":[[0,\"  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[0,\"\\n    \"],[1,[28,\"i18n\",[\"tagging.rename_instructions\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[1,[28,\"input\",null,[[\"value\",\"maxlength\"],[[24,[\"buffered\",\"id\"]],[24,[\"siteSettings\",\"max_tag_length\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\",\"disabled\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"performRename\"],null],\"tagging.rename_tag\",[24,[\"renameDisabled\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/rename-tag"}});
Ember.TEMPLATES["modal/reorder-categories"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"cat\"],\"statements\":[[4,\"d-modal-body\",null,[[\"class\",\"title\"],[\"reorder-categories full-height-modal\",\"categories.reorder.title\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"id\",\"rc-scroll-anchor\"],[8],[9],[0,\"\\n  \"],[7,\"table\",true],[8],[0,\"\\n    \"],[7,\"thead\",true],[8],[0,\"\\n    \"],[7,\"th\",true],[10,\"class\",\"th-cat\"],[8],[1,[28,\"i18n\",[\"categories.category\"],null],false],[9],[0,\"\\n    \"],[7,\"th\",true],[10,\"class\",\"th-pos\"],[8],[1,[28,\"i18n\",[\"categories.reorder.position\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"categoriesOrdered\"]]],null,{\"statements\":[[0,\"      \"],[7,\"tr\",true],[11,\"data-category-id\",[29,[[23,1,[\"id\"]]]]],[8],[0,\"\\n        \"],[7,\"td\",true],[8],[0,\"\\n          \"],[7,\"div\",true],[11,\"class\",[28,\"concat\",[\"reorder-categories-depth-\",[23,1,[\"depth\"]]],null]],[8],[0,\"\\n            \"],[1,[28,\"category-badge\",[[23,1,[]]],[[\"allowUncategorized\"],[\"true\"]]],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\\n        \"],[7,\"td\",true],[8],[0,\"\\n          \"],[1,[28,\"number-field\",null,[[\"number\",\"change\"],[[28,\"readonly\",[[23,1,[\"position\"]]],null],[28,\"action\",[[23,0,[]],\"change\",[23,1,[]]],null]]]],false],[0,\"\\n          \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"actionParam\",\"icon\"],[\"btn-default no-text\",[28,\"action\",[[23,0,[]],\"moveUp\"],null],[23,1,[]],\"arrow-up\"]]],false],[0,\"\\n          \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"actionParam\",\"icon\"],[\"btn-default no-text\",[28,\"action\",[[23,0,[]],\"moveDown\"],null],[23,1,[]],\"arrow-down\"]]],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"id\",\"rc-scroll-bottom\"],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"save\"],null],\"categories.reorder.save\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/reorder-categories"}});
Ember.TEMPLATES["modal/request-group-membership-form"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"form\",true],[10,\"class\",\"request-group-membership-form\"],[8],[0,\"\\n\"],[4,\"d-modal-body\",null,[[\"rawTitle\"],[[24,[\"title\"]]]],{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"groups.membership_request.reason\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[1,[28,\"expanding-text-area\",null,[[\"value\"],[[24,[\"reason\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"class\",\"disabled\",\"label\",\"action\"],[\"btn-primary\",[24,[\"disableSubmit\"]],\"groups.membership_request.submit\",[28,\"action\",[[23,0,[]],\"requestMember\"],null]]]],false],[0,\"\\n\\n    \"],[1,[28,\"d-modal-cancel\",null,[[\"close\"],[[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n    \"],[1,[28,\"conditional-loading-spinner\",null,[[\"size\",\"condition\"],[\"small\",[24,[\"loading\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/request-group-membership-form"}});
Ember.TEMPLATES["modal/second-factor-add-security-key"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"errorMessage\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[1,[22,\"errorMessage\"],false],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"user.second_factor.enable_security_key_description\"],null],true],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"input\",null,[[\"value\",\"id\",\"placeholder\"],[[24,[\"securityKeyName\"]],\"test\",\"security key name\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n\"],[4,\"unless\",[[24,[\"webauthnUnsupported\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-primary add-totp\",[28,\"action\",[[23,0,[]],\"registerSecurityKey\"],null],\"user.second_factor.security_key.register\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/second-factor-add-security-key"}});
Ember.TEMPLATES["modal/second-factor-add-totp"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"errorMessage\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[1,[22,\"errorMessage\"],false],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"user.second_factor.enable_description\"],null],true],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"qr-code-container\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"qr-code\"],[8],[0,\"\\n            \"],[1,[22,\"secondFactorImage\"],true],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\\n        \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"showSecondFactorKey\"]]],null,{\"statements\":[[0,\"            \"],[1,[22,\"secondFactorKey\"],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"showSecondFactorKey\"]],[8],[1,[28,\"i18n\",[\"user.second_factor.show_key_description\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"control-label input-prepend\"],[8],[1,[28,\"i18n\",[\"user.second_factor.name\"],null],false],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"second-factor-input\",null,[[\"value\",\"inputId\",\"placeholder\"],[[24,[\"secondFactorName\"]],\"second-factor-name\",[28,\"i18n\",[\"user.second_factor.totp.default_name\"],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"label\",true],[10,\"class\",\"control-label input-prepend\"],[8],[1,[28,\"i18n\",[\"user.second_factor.label\"],null],false],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"second-factor-input\",null,[[\"maxlength\",\"value\",\"inputId\",\"placeholder\"],[6,[24,[\"secondFactorToken\"]],\"second-factor-token\",\"123456\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-primary add-totp\",[28,\"action\",[[23,0,[]],\"enableSecondFactor\"],null],\"enable\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/second-factor-add-totp"}});
Ember.TEMPLATES["modal/second-factor-backup-edit"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[7,\"section\",true],[10,\"class\",\"user-preferences solo-preference  second-factor-backup-preferences\"],[8],[0,\"\\n  \"],[7,\"form\",true],[10,\"class\",\"form-horizontal\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"successMessage\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"alert alert-success\"],[8],[0,\"\\n        \"],[1,[22,\"successMessage\"],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"errorMessage\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[0,\"\\n        \"],[1,[22,\"errorMessage\"],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"backupEnabled\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"i18n\",[\"user.second_factor_backup.remaining_codes\"],[[\"count\"],[[24,[\"remainingCodes\"]]]]],true],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"actions\"],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"type\",\"disabled\",\"label\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"generateSecondFactorCodes\"],null],\"submit\",[24,[\"loading\"]],[24,[\"generateBackupCodeBtnLabel\"]]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"backupEnabled\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"label\"],[\"btn-danger\",[28,\"action\",[[23,0,[]],\"disableSecondFactorBackup\"],null],[24,[\"loading\"]],\"user.second_factor_backup.disable\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\\n\"],[4,\"conditional-loading-section\",null,[[\"isLoading\"],[[24,[\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"backupCodes\"]]],null,{\"statements\":[[0,\"        \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"user.second_factor_backup.codes.title\"],null],false],[9],[0,\"\\n\\n        \"],[7,\"p\",true],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"user.second_factor_backup.codes.description\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n\\n        \"],[1,[28,\"backup-codes\",null,[[\"copyBackupCode\",\"backupCodes\"],[[28,\"action\",[[23,0,[]],\"copyBackupCode\"],null],[24,[\"backupCodes\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/second-factor-backup-edit"}});
Ember.TEMPLATES["modal/second-factor-edit-security-key"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"form-horizontal\"],[8],[0,\"\\n  \"],[1,[28,\"input\",null,[[\"type\",\"value\"],[\"text\",[24,[\"model\",\"name\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"second-factor instructions\"],[8],[0,\"\\n    \"],[1,[28,\"i18n\",[\"user.second_factor.security_key.edit_description\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"editSecurityKey\"],null],\"btn-primary\",\"user.second_factor.security_key.edit\"]]],false],[0,\"\\n\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"disableSecurityKey\"],null],\"btn-danger\",\"user.second_factor.security_key.delete\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/second-factor-edit-security-key"}});
Ember.TEMPLATES["modal/second-factor-edit"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"form-horizontal\"],[8],[0,\"\\n  \"],[1,[28,\"input\",null,[[\"type\",\"value\"],[\"text\",[24,[\"model\",\"name\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"second-factor instructions\"],[8],[0,\"\\n    \"],[1,[28,\"i18n\",[\"user.second_factor.edit_description\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"editSecondFactor\"],null],\"btn-primary\",\"user.second_factor.edit\"]]],false],[0,\"\\n\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"disableSecondFactor\"],null],\"btn-danger\",\"user.second_factor.disable\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/second-factor-edit"}});
Ember.TEMPLATES["modal/share-and-invite"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[0,\"  \"],[1,[28,\"modal-panel\",null,[[\"panel\"],[[24,[\"modal\",\"selectedPanel\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/share-and-invite"}});
Ember.TEMPLATES["modal/tag-upload"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\"],[\"tagging.upload\"]],{\"statements\":[[0,\"  \"],[1,[28,\"tags-uploader\",null,[[\"refresh\",\"closeModal\"],[[28,\"route-action\",[\"refresh\"],null],[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/tag-upload"}});
Ember.TEMPLATES["modal/topic-bulk-actions"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"topics.bulk.selected\"],[[\"count\"],[[24,[\"model\",\"topics\",\"length\"]]]]],true],[9],[0,\"\\n  \"],[1,[28,\"outlet\",[\"bulkOutlet\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"modal/topic-bulk-actions"}});
Ember.TEMPLATES["modal/upload-selector"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-modal-body\",null,[[\"title\",\"class\"],[[24,[\"title\"]],\"upload-selector\"]],{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"radios\"],[8],[0,\"\\n    \"],[1,[28,\"radio-button\",null,[[\"name\",\"id\",\"value\",\"selection\"],[\"upload\",\"local\",\"local\",[24,[\"selection\"]]]]],false],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"radio\"],[10,\"for\",\"local\"],[8],[1,[28,\"i18n\",[\"upload_selector.from_my_computer\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"local\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"inputs\"],[8],[0,\"\\n        \"],[7,\"input\",true],[10,\"id\",\"filename-input\"],[10,\"multiple\",\"\"],[10,\"type\",\"file\"],[8],[9],[7,\"br\",true],[8],[9],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"description\"],[8],[1,[22,\"tip\"],false],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"radios\"],[8],[0,\"\\n    \"],[1,[28,\"radio-button\",null,[[\"name\",\"id\",\"value\",\"selection\"],[\"upload\",\"remote\",\"remote\",[24,[\"selection\"]]]]],false],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"radio\"],[10,\"for\",\"remote\"],[8],[1,[28,\"i18n\",[\"upload_selector.from_the_web\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"remote\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"inputs\"],[8],[0,\"\\n        \"],[1,[28,\"input\",null,[[\"value\",\"placeholder\"],[[24,[\"imageUrl\"]],\"http://example.com/image.png\"]]],false],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"description\"],[8],[1,[22,\"tip\"],false],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"radios\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"inputs\"],[8],[0,\"\\n      \"],[7,\"p\",true],[10,\"class\",\"hint\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"capabilities\",\"canPasteImages\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[\"upload_selector.hint\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[\"upload_selector.hint_for_supported_browsers\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"modal-footer\"],[8],[0,\"\\n  \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"label\"],[[28,\"action\",[[23,0,[]],\"upload\"],null],\"btn-primary\",[24,[\"uploadIcon\"]],\"upload\"]]],false],[0,\"\\n  \"],[1,[28,\"d-modal-cancel\",null,[[\"close\"],[[28,\"route-action\",[\"closeModal\"],null]]]],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"modal/upload-selector"}});
Ember.TEMPLATES["navigation/categories"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-section\",null,[[\"bodyClass\",\"class\"],[\"navigation-categories\",\"navigation-container\"]],{\"statements\":[[0,\"  \"],[1,[28,\"d-navigation\",null,[[\"filterType\",\"showCategoryAdmin\",\"createCategory\",\"reorderCategories\",\"canCreateTopic\",\"hasDraft\",\"createTopic\"],[\"categories\",[24,[\"showCategoryAdmin\"]],[28,\"route-action\",[\"createCategory\"],null],[28,\"route-action\",[\"reorderCategories\"],null],[24,[\"canCreateTopic\"]],[24,[\"draft\"]],[28,\"route-action\",[\"createTopic\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"navigation/categories"}});
Ember.TEMPLATES["navigation/category"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-section\",null,[[\"class\"],[\"navigation-container\"]],{\"statements\":[[0,\"  \"],[1,[28,\"add-category-tag-classes\",null,[[\"category\"],[[24,[\"category\"]]]]],false],[0,\"\\n\\n  \"],[7,\"section\",true],[10,\"class\",\"category-heading\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"category\",\"uploaded_logo\",\"url\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"cdn-img\",null,[[\"src\",\"class\",\"width\",\"height\"],[[24,[\"category\",\"uploaded_logo\",\"url\"]],\"category-logo\",[24,[\"category\",\"uploaded_logo\",\"width\"]],[24,[\"category\",\"uploaded_logo\",\"height\"]]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"category\",\"description\"]]],null,{\"statements\":[[0,\"        \"],[7,\"p\",true],[8],[1,[28,\"dir-span\",[[24,[\"category\",\"description\"]]],null],true],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"category-navigation\"],[8],[0,\"\\n    \"],[1,[28,\"d-navigation\",null,[[\"category\",\"filterMode\",\"noSubcategories\",\"canCreateTopic\",\"createTopic\",\"createTopicDisabled\",\"hasDraft\",\"editCategory\"],[[24,[\"category\"]],[24,[\"filterMode\"]],[24,[\"noSubcategories\"]],[24,[\"canCreateTopic\"]],[28,\"route-action\",[\"createTopic\"],null],[24,[\"cannotCreateTopicOnCategory\"]],[24,[\"draft\"]],[28,\"route-action\",[\"editCategory\",[24,[\"category\"]]],null]]]],false],[0,\"\\n\\n    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"category-navigation\",[28,\"hash\",null,[[\"category\"],[[24,[\"category\"]]]]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"navigation/category"}});
Ember.TEMPLATES["navigation/default"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-section\",null,[[\"bodyClass\",\"class\",\"scrollTop\"],[\"navigation-topics\",\"navigation-container\",\"false\"]],{\"statements\":[[0,\"  \"],[1,[28,\"d-navigation\",null,[[\"filterMode\",\"canCreateTopic\",\"hasDraft\",\"createTopic\"],[[24,[\"filterMode\"]],[24,[\"canCreateTopic\"]],[24,[\"draft\"]],[28,\"route-action\",[\"createTopic\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"navigation/default"}});
Ember.TEMPLATES["outlet-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"connector\",null,[[\"templateId\",\"class\",\"tagName\"],[[28,\"unbound\",[[24,[\"templateId\"]]],null],[28,\"unbound\",[[24,[\"outletClasses\"]]],null],[28,\"unbound\",[[24,[\"tagName\"]]],null]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"outlet-list"}});
Ember.TEMPLATES["password-reset"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"container password-reset clearfix\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"pull-left col-image\"],[8],[0,\"\\n    \"],[7,\"img\",true],[11,\"src\",[22,\"lockImageUrl\"]],[10,\"class\",\"password-reset-img\"],[8],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"pull-left col-form\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"successMessage\"]]],null,{\"statements\":[[0,\"      \"],[7,\"p\",true],[8],[1,[22,\"successMessage\"],false],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"requiresApproval\"]]],null,{\"statements\":[[0,\"        \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"login.not_approved\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"unless\",[[24,[\"redirected\"]]],null,{\"statements\":[[0,\"          \"],[7,\"a\",false],[12,\"class\",\"btn\"],[12,\"href\",[29,[[22,\"redirectHref\"]]]],[3,\"action\",[[23,0,[]],\"done\"]],[8],[1,[22,\"continueButtonText\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"form\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"securityKeyOrSecondFactorRequired\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"errorMessage\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[1,[22,\"errorMessage\"],false],[9],[0,\"\\n            \"],[7,\"br\",true],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"securityKeyRequired\"]]],null,{\"statements\":[[4,\"security-key-form\",null,[[\"allowedCredentialIds\",\"challenge\",\"showSecurityKey\",\"showSecondFactor\",\"secondFactorMethod\",\"otherMethodAllowed\",\"action\"],[[24,[\"model\",\"allowed_credential_ids\"]],[24,[\"model\",\"security_key_challenge\"]],[24,[\"model\",\"security_key_required\"]],false,[24,[\"secondFactorMethod\"]],[24,[\"otherMethodAllowed\"]],[28,\"action\",[[23,0,[]],\"authenticateSecurityKey\"],null]]],{\"statements\":[],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[4,\"second-factor-form\",null,[[\"secondFactorMethod\",\"secondFactorToken\",\"backupEnabled\",\"isLogin\"],[[24,[\"secondFactorMethod\"]],[24,[\"secondFactorToken\"]],[24,[\"backupEnabled\"]],false]],{\"statements\":[[0,\"              \"],[1,[28,\"second-factor-input\",null,[[\"value\",\"inputId\",\"secondFactorMethod\",\"backupEnabled\"],[[24,[\"secondFactorToken\"]],\"second-factor\",[24,[\"secondFactorMethod\"]],[24,[\"backupEnabled\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]}],[4,\"unless\",[[24,[\"securityKeyRequired\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\",\"type\"],[[28,\"action\",[[23,0,[]],\"submit\"],null],\"btn-primary\",\"submit\",\"submit\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"user.change_password.choose\"],null],false],[9],[0,\"\\n\\n          \"],[7,\"div\",true],[10,\"class\",\"input\"],[8],[0,\"\\n            \"],[1,[28,\"password-field\",null,[[\"value\",\"type\",\"id\",\"capsLockOn\",\"autofocus\"],[[24,[\"accountPassword\"]],\"password\",\"new-account-password\",[24,[\"capsLockOn\"]],\"autofocus\"]]],false],[0,\"\\n            \"],[1,[28,\"input-tip\",null,[[\"validation\"],[[24,[\"passwordValidation\"]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n\\n          \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n            \"],[7,\"div\",true],[11,\"class\",[29,[\"caps-lock-warning \",[28,\"unless\",[[24,[\"capsLockOn\"]],\"invisible\"],null]]]],[8],[0,\"\\n              \"],[1,[28,\"d-icon\",[\"exclamation-triangle\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"login.caps_lock_warning\"],null],false],[9],[0,\"\\n          \"],[9],[0,\"\\n\\n          \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\",\"type\"],[[28,\"action\",[[23,0,[]],\"submit\"],null],\"btn-primary\",\"user.change_password.set_password\",\"submit\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"password-reset"}});
Discourse.RAW_TEMPLATES["post/poster-avatar"] = requirejs('discourse-common/lib/raw-handlebars').template({"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    return "<a href=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"post.usernameUrl",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":9},"end":{"line":1,"column":29}}}))
    + "\" classNames=\"trigger-user-card "
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"classNames",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":61},"end":{"line":1,"column":75}}}))
    + "\" data-user-card=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"post.username",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":93},"end":{"line":1,"column":110}}}))
    + "\">"
    + container.escapeExpression((helpers.avatar||(depth0 && depth0.avatar)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"post",{"name":"avatar","hash":{"imageSize":"large"},"hashTypes":{"imageSize":"StringLiteral"},"hashContexts":{"imageSize":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":112},"end":{"line":1,"column":145}}}))
    + "</a>\n";
},"useData":true});
Ember.TEMPLATES["preferences-email"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"section\",true],[10,\"class\",\"user-preferences solo-preference\"],[8],[0,\"\\n  \"],[7,\"form\",true],[10,\"class\",\"form-horizontal\"],[8],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"user.change_email.title\"],null],false],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"success\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n            \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"staff\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"i18n\",[\"user.change_email.success_staff\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                \"],[1,[28,\"i18n\",[\"user.change_email.success\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"error\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[1,[22,\"errorMessage\"],false],[9],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.email.title\"],null],false],[9],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[1,[28,\"text-field\",null,[[\"value\",\"id\",\"classNames\",\"autofocus\"],[[24,[\"newEmail\"]],\"change-email\",\"input-xxlarge\",\"autofocus\"]]],false],[0,\"\\n          \"],[1,[28,\"input-tip\",null,[[\"validation\"],[[24,[\"emailValidation\"]]]]],false],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"taken\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"user.change_email.taken\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"user.email.instructions\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n\"],[4,\"d-button\",null,[[\"class\",\"action\",\"type\",\"disabled\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"changeEmail\"],null],\"submit\",[24,[\"saveDisabled\"]]]],{\"statements\":[[0,\"            \"],[1,[22,\"saveButtonText\"],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"preferences-email"}});
Ember.TEMPLATES["preferences-second-factor"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"security_key\",\"totp\"],\"statements\":[[7,\"section\",true],[10,\"class\",\"user-preferences solo-preference second-factor\"],[8],[0,\"\\n\"],[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]],{\"statements\":[[0,\"  \"],[7,\"form\",true],[10,\"class\",\"form-horizontal\"],[8],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showEnforcedNotice\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[1,[28,\"i18n\",[\"user.second_factor.enforced_notice\"],null],false],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"displayOAuthWarning\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"user.second_factor.oauth_enabled_warning\"],null],false],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"errorMessage\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"alert alert-error\"],[8],[1,[22,\"errorMessage\"],false],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"loaded\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"user.second_factor.totp.title\"],null],false],[9],[0,\"\\n          \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"disabled\",\"label\"],[[28,\"action\",[[23,0,[]],\"createTotp\"],null],\"btn-primary new-totp\",[24,[\"loading\"]],\"user.second_factor.totp.add\"]]],false],[0,\"\\n\"],[4,\"each\",[[24,[\"totps\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"second-factor-item\"],[8],[0,\"\\n\"],[4,\"if\",[[23,2,[\"name\"]]],null,{\"statements\":[[0,\"                \"],[1,[23,2,[\"name\"]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                \"],[1,[28,\"i18n\",[\"user.second_factor.totp.default_name\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n\"],[4,\"if\",[[24,[\"isCurrentUser\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"disabled\",\"icon\"],[[28,\"action\",[[23,0,[]],\"editSecondFactor\",[23,2,[]]],null],\"btn-default btn-small btn-icon pad-left no-text edit\",[24,[\"loading\"]],\"pencil-alt\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"user.second_factor.security_key.title\"],null],false],[9],[0,\"\\n          \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"disabled\",\"label\"],[[28,\"action\",[[23,0,[]],\"createSecurityKey\"],null],\"btn-primary new-security-key\",[24,[\"loading\"]],\"user.second_factor.security_key.add\"]]],false],[0,\"\\n\"],[4,\"each\",[[24,[\"security_keys\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"second-factor-item\"],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"name\"]]],null,{\"statements\":[[0,\"                \"],[1,[23,1,[\"name\"]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                \"],[1,[28,\"i18n\",[\"user.second_factor.security_key.default_name\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n\"],[4,\"if\",[[24,[\"isCurrentUser\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"disabled\",\"icon\"],[[28,\"action\",[[23,0,[]],\"editSecurityKey\",[23,1,[]]],null],\"btn-default btn-small btn-icon pad-left no-text edit\",[24,[\"loading\"]],\"pencil-alt\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls pref-second-factor-backup\"],[8],[0,\"\\n          \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"user.second_factor_backup.title\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"second_factor_enabled\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"model\",\"second_factor_backup_enabled\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"user.second_factor_backup.manage\"],[[\"count\"],[[24,[\"model\",\"second_factor_remaining_backup_codes\"]]]]],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"user.second_factor_backup.enable_long\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n\"],[4,\"if\",[[24,[\"isCurrentUser\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"disabled\",\"icon\"],[[28,\"action\",[[23,0,[]],\"editSecondFactorBackup\"],null],\"btn-default btn-small btn-icon pad-left no-text edit edit-2fa-backup\",[24,[\"loading\"]],\"pencil-alt\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"user.second_factor_backup.enable_prerequisites\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"second_factor_enabled\"]]],null,{\"statements\":[[4,\"unless\",[[24,[\"showEnforcedNotice\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n              \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"user.second_factor.disable_title\"],null],false],[9],[0,\"\\n              \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"disabled\",\"label\"],[\"btn-danger\",[28,\"action\",[[23,0,[]],\"disableAllSecondFactors\"],null],[24,[\"loading\"]],\"disable\"]]],false],[0,\"\\n            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.password.title\"],null],false],[9],[0,\"\\n\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[7,\"div\",true],[8],[0,\"\\n            \"],[1,[28,\"text-field\",null,[[\"value\",\"id\",\"type\",\"classNames\",\"autofocus\"],[[24,[\"password\"]],\"password\",\"password\",\"input-large\",\"autofocus\"]]],false],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n            \"],[1,[28,\"i18n\",[\"user.second_factor.confirm_password_description\"],null],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n          \"],[1,[28,\"d-button\",null,[[\"class\",\"type\",\"action\",\"disabled\",\"label\"],[\"btn-primary\",\"submit\",[28,\"action\",[[23,0,[]],\"confirmPassword\"],null],[24,[\"loading\"]],\"continue\"]]],false],[0,\"\\n\\n\"],[4,\"unless\",[[24,[\"showEnforcedNotice\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"cancel-link\",null,[[\"route\",\"args\"],[\"preferences.account\",[24,[\"model\",\"username\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"controls\"],[10,\"style\",\"margin-top: 5px\"],[8],[0,\"\\n          \"],[1,[22,\"resetPasswordProgress\"],false],[0,\"\\n\"],[4,\"unless\",[[24,[\"resetPasswordLoading\"]]],null,{\"statements\":[[0,\"            \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"instructions\"],[3,\"action\",[[23,0,[]],\"resetPassword\"]],[8],[1,[28,\"i18n\",[\"user.second_factor.forgot_password\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"preferences-second-factor"}});
Ember.TEMPLATES["preferences-username"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"section\",true],[10,\"class\",\"user-preferences  solo-preference\"],[8],[0,\"\\n  \"],[7,\"form\",true],[10,\"class\",\"form-horizontal\"],[8],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[7,\"h3\",true],[8],[1,[28,\"i18n\",[\"user.change_username.title\"],null],false],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.username.title\"],null],false],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"text-field\",null,[[\"value\",\"id\",\"classNames\",\"maxlength\",\"autofocus\",\"insert-newline\"],[[24,[\"newUsername\"]],\"change_username\",\"input-xxlarge\",[24,[\"maxLength\"]],\"autofocus\",\"changeUsername\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"instructions controls\"],[8],[0,\"\\n        \"],[7,\"p\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"taken\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"user.change_username.taken\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[7,\"span\",true],[8],[1,[22,\"errorMessage\"],false],[9],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n\"],[4,\"d-button\",null,[[\"class\",\"action\",\"type\",\"disabled\"],[\"btn-primary\",[28,\"action\",[[23,0,[]],\"changeUsername\"],null],\"submit\",[24,[\"saveDisabled\"]]]],{\"statements\":[[0,\"          \"],[1,[22,\"saveButtonText\"],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n        \"],[4,\"if\",[[24,[\"saved\"]]],null,{\"statements\":[[1,[28,\"i18n\",[\"saved\"],null],false]],\"parameters\":[]},null],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"preferences-username"}});
Ember.TEMPLATES["preferences"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-section\",null,[[\"pageClass\",\"class\"],[\"user-preferences\",\"user-secondary-navigation\"]],{\"statements\":[[4,\"mobile-nav\",null,[[\"class\",\"desktopClass\",\"currentPath\"],[\"preferences-nav\",\"preferences-list action-list nav-stacked\",[24,[\"router\",\"_router\",\"currentPath\"]]]],{\"statements\":[[0,\"    \"],[7,\"li\",true],[10,\"class\",\"nav-account\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"preferences.account\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.preferences_nav.account\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[10,\"class\",\"nav-profile\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"preferences.profile\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.preferences_nav.profile\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[10,\"class\",\"nav-emails\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"preferences.emails\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.preferences_nav.emails\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[10,\"class\",\"nav-notifications\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"preferences.notifications\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.preferences_nav.notifications\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[10,\"class\",\"indent nav-categories\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"preferences.categories\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.preferences_nav.categories\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[10,\"class\",\"indent nav-users\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"preferences.users\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.preferences_nav.users\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"tagging_enabled\"]]],null,{\"statements\":[[0,\"      \"],[7,\"li\",true],[10,\"class\",\"indent nav-tags\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"preferences.tags\"]],{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[\"user.preferences_nav.tags\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[7,\"li\",true],[10,\"class\",\"nav-interface\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"preferences.interface\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.preferences_nav.interface\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"userApiKeys\"]]],null,{\"statements\":[[0,\"      \"],[7,\"li\",true],[10,\"class\",\"nav-apps\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"preferences.apps\"]],{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[\"user.preferences_nav.apps\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"connectorTagName\",\"args\"],[\"user-preferences-nav\",\"li\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"section\",true],[10,\"class\",\"user-content user-preferences\"],[8],[0,\"\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"above-user-preferences\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n  \"],[7,\"form\",true],[10,\"class\",\"form-vertical\"],[8],[0,\"\\n    \"],[1,[22,\"outlet\"],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"preferences"}});
Ember.TEMPLATES["preferences/account"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"token\",\"authProvider\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group pref-username\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.username.title\"],null],false],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[7,\"span\",true],[10,\"class\",\"static\"],[8],[1,[24,[\"model\",\"username\"]],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"can_edit_username\"]]],null,{\"statements\":[[4,\"link-to\",null,[[\"class\",\"route\"],[\"btn btn-default btn-small btn-icon pad-left no-text\",\"preferences.username\"]],{\"statements\":[[0,\"      \"],[1,[28,\"d-icon\",[\"pencil-alt\"],null],false],[0,\" \"]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"enable_mentions\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"user.username.short_instructions\"],[[\"username\"],[[24,[\"model\",\"username\"]]]]],true],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\\n\"],[4,\"unless\",[[24,[\"siteSettings\",\"sso_overrides_avatar\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-avatar\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[10,\"id\",\"profile-picture\"],[8],[1,[28,\"i18n\",[\"user.avatar.title\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n\"],[0,\"      \"],[1,[28,\"bound-avatar\",[[24,[\"model\"]],\"huge\"],null],false],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"class\",\"icon\"],[[28,\"route-action\",[\"showAvatarSelector\"],null],[24,[\"model\"]],\"btn-default pad-left\",\"pencil-alt\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canEditName\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-name\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.name.title\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"can_edit_name\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"text-field\",null,[[\"value\",\"classNames\",\"maxlength\"],[[24,[\"newNameInput\"]],\"input-xxlarge\",\"255\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[7,\"span\",true],[10,\"class\",\"static\"],[8],[1,[24,[\"model\",\"name\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n      \"],[1,[22,\"nameInstructions\"],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canCheckEmails\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-email\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.email.title\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"email\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[7,\"span\",true],[10,\"class\",\"static\"],[8],[1,[24,[\"model\",\"email\"]],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"can_edit_email\"]]],null,{\"statements\":[[0,\"          \"],[4,\"link-to\",null,[[\"class\",\"route\"],[\"btn btn-default btn-small btn-icon pad-left no-text\",\"preferences.email\"]],{\"statements\":[[1,[28,\"d-icon\",[\"pencil-alt\"],null],false]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"sso_overrides_email\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[\"user.email.sso_override_instructions\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[1,[28,\"i18n\",[\"user.email.instructions\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"actionParam\",\"title\",\"icon\",\"label\"],[[28,\"route-action\",[\"checkEmail\"],null],\"btn-default\",[24,[\"model\"]],\"admin.users.check_email.title\",\"far-envelope\",\"admin.users.check_email.text\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canChangePassword\"]]],null,{\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group pref-password\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.password.title\"],null],false],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"btn btn-default\"],[3,\"action\",[[23,0,[]],\"changePassword\"]],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"envelope\"],null],false],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"no_password\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.change_password.set_password\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.change_password.action\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"    \"],[9],[0,\"\\n\\n    \"],[1,[22,\"passwordProgress\"],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group pref-second-factor\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.second_factor.title\"],null],false],[9],[0,\"\\n\"],[4,\"unless\",[[24,[\"model\",\"second_factor_enabled\"]]],null,{\"statements\":[[0,\"    \"],[7,\"label\",true],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"user.second_factor.short_description\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[7,\"div\",true],[10,\"class\",\"controls pref-second-factor\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"isCurrentUser\"]]],null,{\"statements\":[[4,\"link-to\",null,[[\"class\",\"route\"],[\"btn btn-default\",\"preferences.second-factor\"]],{\"statements\":[[0,\"        \"],[1,[28,\"d-icon\",[\"lock\"],null],false],[0,\" \"],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"user.second_factor.enable\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canUpdateAssociatedAccounts\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-associated-accounts\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.associated_accounts.title\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"associatedAccountsLoaded\"]]],null,{\"statements\":[[0,\"      \"],[7,\"table\",true],[8],[0,\"\\n        \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"authProviders\"]]],null,{\"statements\":[[4,\"if\",[[23,2,[\"account\"]]],null,{\"statements\":[[0,\"              \"],[7,\"tr\",true],[11,\"class\",[29,[[28,\"dasherize\",[[23,2,[\"method\",\"name\"]]],null],\" account-connected\"]]],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[1,[23,2,[\"method\",\"prettyName\"]],false],[9],[0,\"\\n                  \"],[7,\"td\",true],[8],[1,[23,2,[\"account\",\"description\"]],false],[9],[0,\"\\n                  \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"if\",[[23,2,[\"method\",\"can_revoke\"]]],null,{\"statements\":[[0,\"                      \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"title\",\"class\",\"icon\",\"disabled\"],[[28,\"action\",[[23,0,[]],\"revokeAccount\"],null],[23,2,[\"account\"]],\"user.associated_accounts.revoke\",\"btn-danger no-text\",\"trash-alt\",[28,\"get\",[[24,[\"revoking\"]],[23,2,[\"method\",\"name\"]]],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                  \"],[9],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"              \"],[7,\"tr\",true],[11,\"class\",[29,[[28,\"dasherize\",[[23,2,[\"method\",\"name\"]]],null]]]],[8],[0,\"\\n                \"],[7,\"td\",true],[8],[1,[23,2,[\"method\",\"prettyName\"]],false],[9],[0,\"\\n                  \"],[7,\"td\",true],[10,\"colspan\",\"2\"],[8],[0,\"\\n\"],[4,\"if\",[[23,2,[\"method\",\"can_connect\"]]],null,{\"statements\":[[0,\"                      \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"label\",\"class\",\"icon\",\"disabled\"],[[28,\"action\",[[23,0,[]],\"connectAccount\"],null],[23,2,[\"method\"]],\"user.associated_accounts.connect\",\"btn-default\",\"plug\",[24,[\"disableConnectButtons\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                      \"],[1,[28,\"i18n\",[\"user.associated_accounts.not_connected\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"                  \"],[9],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[2]},null],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n        \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"title\",\"icon\",\"label\"],[[28,\"route-action\",[\"checkEmail\"],null],[24,[\"model\"]],\"admin.users.check_email.title\",\"far-envelope\",\"admin.users.check_email.text\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canSelectTitle\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-title\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.title.title\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"combo-box\",null,[[\"value\",\"content\",\"none\",\"onChange\"],[[24,[\"newTitleInput\"]],[24,[\"model\",\"availableTitles\"]],\"user.title.none\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"newTitleInput\"]]],null]],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canSelectPrimaryGroup\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-primary-group\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.primary_group.title\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"combo-box\",null,[[\"value\",\"content\",\"none\"],[[24,[\"newPrimaryGroupInput\"]],[24,[\"model\",\"filteredGroups\"]],\"user.primary_group.none\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canCheckEmails\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-auth-tokens\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.auth_tokens.title\"],null],false],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"auth-tokens\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"authTokens\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"row auth-token\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"auth-token-icon\"],[8],[1,[28,\"d-icon\",[[23,1,[\"icon\"]]],null],false],[9],[0,\"\\n\"],[4,\"unless\",[[23,1,[\"is_active\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"auth-token-dropdown\",null,[[\"token\",\"revokeAuthToken\",\"showToken\"],[[23,1,[]],[28,\"action\",[[23,0,[]],\"revokeAuthToken\"],null],[28,\"action\",[[23,0,[]],\"showToken\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[7,\"div\",true],[10,\"class\",\"auth-token-first\"],[8],[0,\"\\n            \"],[7,\"span\",true],[10,\"class\",\"auth-token-device\"],[8],[1,[23,1,[\"device\"]],false],[9],[0,\"  \"],[7,\"span\",true],[11,\"title\",[29,[[28,\"i18n\",[\"user.auth_tokens.ip\"],null],\": \",[23,1,[\"client_ip\"]]]]],[8],[1,[23,1,[\"location\"]],false],[9],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"auth-token-second\"],[8],[0,\"\\n            \"],[1,[23,1,[\"browser\"]],false],[0,\" |\\n\"],[4,\"if\",[[23,1,[\"is_active\"]]],null,{\"statements\":[[0,\"              \"],[7,\"span\",true],[10,\"class\",\"active\"],[8],[1,[28,\"i18n\",[\"user.auth_tokens.active\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"              \"],[1,[28,\"format-date\",[[23,1,[\"seen_at\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canShowAllAuthTokens\"]]],null,{\"statements\":[[0,\"      \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"toggleShowAllAuthTokens\"]],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"showAllAuthTokens\"]]],null,{\"statements\":[[0,\"          \"],[1,[28,\"d-icon\",[\"caret-up\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.auth_tokens.show_few\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[1,[28,\"d-icon\",[\"caret-down\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.auth_tokens.show_all\"],[[\"count\"],[[24,[\"model\",\"user_auth_tokens\",\"length\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"pull-right text-danger\"],[3,\"action\",[[23,0,[]],\"revokeAuthToken\"]],[8],[1,[28,\"d-icon\",[\"sign-out-alt\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.auth_tokens.log_out_all\"],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-preferences-account\",[28,\"hash\",null,[[\"model\",\"save\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"save\"],null]]]]]]],false],[0,\"\\n\\n\"],[7,\"br\",true],[8],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-custom-controls\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canSaveUser\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group save-button\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[15,\"user/preferences/save-button\",[]],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"canDeleteAccount\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group delete-account\"],[8],[0,\"\\n    \"],[7,\"br\",true],[8],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"action\",\"disabled\",\"class\",\"icon\",\"label\"],[[28,\"action\",[[23,0,[]],\"delete\"],null],[24,[\"deleteDisabled\"]],\"btn-danger\",\"far-trash-alt\",\"user.delete_account\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":true}","meta":{"moduleName":"preferences/account"}});
Ember.TEMPLATES["preferences/apps"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"key\",\"scope\"],\"statements\":[[4,\"if\",[[24,[\"model\",\"userApiKeys\"]]],null,{\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group apps\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.apps\"],null],false],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"userApiKeys\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[8],[0,\"\\n      \"],[7,\"span\",true],[8],[1,[23,1,[\"application_name\"]],false],[9],[0,\"\\n\"],[4,\"if\",[[23,1,[\"revoked\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"class\",\"label\"],[[28,\"route-action\",[\"undoRevokeApiKey\"],null],[23,1,[]],\"btn\",\"user.undo_revoke_access\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"class\",\"label\"],[[28,\"route-action\",[\"revokeApiKey\"],null],[23,1,[]],\"btn\",\"user.revoke_access\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"      \"],[7,\"p\",true],[8],[0,\"\\n        \"],[7,\"ul\",true],[8],[0,\"\\n\"],[4,\"each\",[[23,1,[\"scopes\"]]],null,{\"statements\":[[0,\"          \"],[7,\"li\",true],[8],[1,[23,2,[]],false],[9],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"p\",true],[8],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"user.api_approved\"],null],false],[9],[0,\" \"],[1,[28,\"bound-date\",[[23,1,[\"created_at\"]]],null],false],[9],[0,\"\\n      \"],[7,\"p\",true],[8],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"user.api_last_used_at\"],null],false],[9],[0,\" \"],[1,[28,\"bound-date\",[[23,1,[\"last_used_at\"]]],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-preferences-apps\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"preferences/apps"}});
Ember.TEMPLATES["preferences/categories"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group category-notifications\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.categories_settings\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"d-icon\",[\"d-watching\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.watched_categories\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"canSee\"]]],null,{\"statements\":[[0,\"      \"],[7,\"a\",true],[10,\"class\",\"show-tracking\"],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"model\",\"watchingTopicsPath\"]]],null]]]],[8],[1,[28,\"i18n\",[\"user.tracked_topics_link\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[1,[28,\"category-selector\",null,[[\"categories\",\"blacklist\",\"onChange\"],[[24,[\"model\",\"watchedCategories\"]],[24,[\"selectedCategories\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"watchedCategories\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.watched_categories_instructions\"],null],false],[9],[0,\"\\n\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"d-icon\",[\"d-tracking\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.tracked_categories\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"canSee\"]]],null,{\"statements\":[[0,\"      \"],[7,\"a\",true],[10,\"class\",\"show-tracking\"],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"model\",\"trackingTopicsPath\"]]],null]]]],[8],[1,[28,\"i18n\",[\"user.tracked_topics_link\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[1,[28,\"category-selector\",null,[[\"categories\",\"blacklist\",\"onChange\"],[[24,[\"model\",\"trackedCategories\"]],[24,[\"selectedCategories\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"trackedCategories\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.tracked_categories_instructions\"],null],false],[9],[0,\"\\n\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"d-icon\",[\"d-watching-first\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.watched_first_post_categories\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"category-selector\",null,[[\"categories\",\"blacklist\",\"onChange\"],[[24,[\"model\",\"watchedFirstPostCategories\"]],[24,[\"selectedCategories\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"watchedFirstPostCategories\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.watched_first_post_categories_instructions\"],null],false],[9],[0,\"\\n\\n\"],[4,\"unless\",[[24,[\"siteSettings\",\"mute_all_categories_by_default\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls\"],[8],[0,\"\\n      \"],[7,\"label\",true],[8],[1,[28,\"d-icon\",[\"d-muted\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.muted_categories\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"canSee\"]]],null,{\"statements\":[[0,\"        \"],[7,\"a\",true],[10,\"class\",\"show-tracking\"],[11,\"href\",[29,[[28,\"unbound\",[[24,[\"model\",\"mutedTopicsPath\"]]],null]]]],[8],[1,[28,\"i18n\",[\"user.tracked_topics_link\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[1,[28,\"category-selector\",null,[[\"categories\",\"blacklist\",\"onChange\"],[[24,[\"model\",\"mutedCategories\"]],[24,[\"selectedCategories\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"mutedCategories\"]]],null]],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[[28,\"if\",[[24,[\"hideMutedTags\"]],\"user.muted_categories_instructions\",\"user.muted_categories_instructions_dont_hide\"],null]],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-preferences-categories\",[28,\"hash\",null,[[\"model\",\"save\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"save\"],null]]]]]]],false],[0,\"\\n\\n\"],[7,\"br\",true],[8],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-custom-controls\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canSave\"]]],null,{\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group save-button\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[15,\"user/preferences/save-button\",[]],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[1,[28,\"i18n\",[\"user.no_category_access\"],null],false],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":true}","meta":{"moduleName":"preferences/categories"}});
Ember.TEMPLATES["preferences/emails"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"unless\",[[24,[\"siteSettings\",\"disable_mailing_list_mode\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"model\",\"user_option\",\"mailing_list_mode\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"warning-wrap\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"warning\"],[8],[1,[28,\"i18n\",[\"user.mailing_list_mode.warning\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[7,\"div\",true],[10,\"class\",\"control-group pref-email-settings\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.email_settings\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls controls-dropdown\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"user-email-messages-level\"],[8],[1,[28,\"i18n\",[\"user.email_messages_level\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"id\",\"onChange\"],[\"value\",[24,[\"emailLevelOptions\"]],[24,[\"model\",\"user_option\",\"email_messages_level\"]],\"user-email-messages-level\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"email_messages_level\"]]],null]],null]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"emailMessagesLevelAway\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[22,\"emailFrequencyInstructions\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls controls-dropdown\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"user-email-level\"],[8],[1,[28,\"i18n\",[\"user.email_level.title\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"id\",\"onChange\"],[\"value\",[24,[\"emailLevelOptions\"]],[24,[\"model\",\"user_option\",\"email_level\"]],\"user-email-level\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"email_level\"]]],null]],null]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"emailLevelAway\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[22,\"emailFrequencyInstructions\"],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls controls-dropdown\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"user.email_previous_replies.title\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"onChange\"],[\"value\",[24,[\"previousRepliesOptions\"]],[24,[\"model\",\"user_option\",\"email_previous_replies\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"email_previous_replies\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\"],[\"user.email_in_reply_to\",[24,[\"model\",\"user_option\",\"email_in_reply_to\"]]]]],false],[0,\"\\n\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-preferences-emails-pref-email-settings\",[28,\"hash\",null,[[\"model\",\"save\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"save\"],null]]]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"unless\",[[24,[\"siteSettings\",\"disable_digest_emails\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-activity-summary\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.email_activity_summary\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"disabled\",\"checked\"],[\"user.email_digests.title\",[24,[\"model\",\"user_option\",\"mailing_list_mode\"]],[24,[\"model\",\"user_option\",\"email_digests\"]]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"user_option\",\"email_digests\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"controls controls-dropdown\"],[8],[0,\"\\n        \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"filterable\",\"content\",\"value\",\"onChange\"],[\"value\",true,[24,[\"digestFrequencies\"]],[24,[\"model\",\"user_option\",\"digest_after_minutes\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"digest_after_minutes\"]]],null]],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"disabled\",\"checked\"],[\"user.include_tl0_in_digests\",[24,[\"model\",\"user_option\",\"mailing_list_mode\"]],[24,[\"model\",\"user_option\",\"include_tl0_in_digests\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"unless\",[[24,[\"siteSettings\",\"disable_mailing_list_mode\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-mailing-list-mode\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.mailing_list_mode.label\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\"],[\"user.mailing_list_mode.enabled\",[24,[\"model\",\"user_option\",\"mailing_list_mode\"]]]]],false],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.mailing_list_mode.instructions\"],null],true],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"user_option\",\"mailing_list_mode\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"controls controls-dropdown\"],[8],[0,\"\\n        \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"onChange\"],[\"value\",[24,[\"mailingListModeOptions\"]],[24,[\"model\",\"user_option\",\"mailing_list_mode_frequency\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"mailing_list_mode_frequency\"]]],null]],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-preferences-emails\",[28,\"hash\",null,[[\"model\",\"save\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"save\"],null]]]]]]],false],[0,\"\\n\\n\"],[7,\"br\",true],[8],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-custom-controls\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group save-button\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[15,\"user/preferences/save-button\",[]],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":true}","meta":{"moduleName":"preferences/emails"}});
Ember.TEMPLATES["preferences/interface"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"showThemeSelector\"]]],null,{\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group theme\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.theme\"],null],false],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"content\",\"value\",\"onChange\"],[[24,[\"userSelectableThemes\"]],[24,[\"themeId\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"themeId\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"showThemeSetDefault\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\"],[\"user.theme_default_on_all_devices\",[24,[\"makeThemeDefault\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"control-group text-size\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.text_size.title\"],null],false],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"onChange\"],[\"value\",[24,[\"textSizes\"]],[24,[\"textSize\"]],[28,\"action\",[[23,0,[]],\"selectTextSize\"],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"showTextSetDefault\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\"],[\"user.text_size_default_on_all_devices\",[24,[\"makeTextSizeDefault\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"allow_user_locale\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-locale\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.locale.title\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"onChange\",\"options\"],[\"value\",[24,[\"availableLocales\"]],[24,[\"model\",\"locale\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"locale\"]]],null]],null],[28,\"hash\",null,[[\"filterable\",\"none\"],[true,\"user.locale.default\"]]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"user.locale.instructions\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group home\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.home\"],null],false],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"content\",\"valueProperty\",\"value\",\"onChange\"],[[24,[\"userSelectableHome\"]],\"value\",[24,[\"homepageId\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"homepage_id\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group other\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.other_settings\"],null],false],[9],[0,\"\\n\\n  \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\",\"class\"],[\"user.external_links_in_new_tab\",[24,[\"model\",\"user_option\",\"external_links_in_new_tab\"]],\"pref-external-links\"]]],false],[0,\"\\n  \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\",\"class\"],[\"user.enable_quoting\",[24,[\"model\",\"user_option\",\"enable_quoting\"]],\"pref-enable-quoting\"]]],false],[0,\"\\n  \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\",\"class\"],[\"user.enable_defer\",[24,[\"model\",\"user_option\",\"enable_defer\"]],\"pref-defer-undread\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"automatically_unpin_topics\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\",\"class\"],[\"user.automatically_unpin_topics\",[24,[\"model\",\"user_option\",\"automatically_unpin_topics\"]],\"pref-auto-unpin\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\",\"class\"],[\"user.hide_profile_and_presence\",[24,[\"model\",\"user_option\",\"hide_profile_and_presence\"]],\"pref-hide-profile\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"isiPad\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\",\"class\"],[\"user.enable_physical_keyboard\",[24,[\"disableSafariHacks\"]],\"pref-safari-hacks\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\",\"class\"],[\"user.dynamic_favicon\",[24,[\"model\",\"user_option\",\"dynamic_favicon\"]],\"pref-dynamic-favicon\"]]],false],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls controls-dropdown pref-page-title\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"for\",\"user-email-level\"],[8],[1,[28,\"i18n\",[\"user.title_count_mode.title\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"id\",\"onChange\"],[\"value\",[24,[\"titleCountModes\"]],[24,[\"model\",\"user_option\",\"title_count_mode\"]],\"user-title-count-mode\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"title_count_mode\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-preferences-interface\",[28,\"hash\",null,[[\"model\",\"save\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"save\"],null]]]]]]],false],[0,\"\\n\\n\"],[7,\"br\",true],[8],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-custom-controls\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group save-button\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[15,\"user/preferences/save-button\",[]],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":true}","meta":{"moduleName":"preferences/interface"}});
Ember.TEMPLATES["preferences/notifications"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group notifications\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.notifications\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls controls-dropdown\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"user.new_topic_duration.label\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"class\",\"valueProperty\",\"content\",\"value\",\"onChange\"],[\"duration\",\"value\",[24,[\"considerNewTopicOptions\"]],[24,[\"model\",\"user_option\",\"new_topic_duration_minutes\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"new_topic_duration_minutes\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls controls-dropdown\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"user.auto_track_topics\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"onChange\"],[\"value\",[24,[\"autoTrackDurations\"]],[24,[\"model\",\"user_option\",\"auto_track_topics_after_msecs\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"auto_track_topics_after_msecs\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls controls-dropdown\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"user.notification_level_when_replying\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"onChange\"],[\"value\",[24,[\"notificationLevelsForReplying\"]],[24,[\"model\",\"user_option\",\"notification_level_when_replying\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"notification_level_when_replying\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls controls-dropdown\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"i18n\",[\"user.like_notification_frequency.title\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"combo-box\",null,[[\"valueProperty\",\"content\",\"value\",\"onChange\"],[\"value\",[24,[\"likeNotificationFrequencies\"]],[24,[\"model\",\"user_option\",\"like_notification_frequency\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"like_notification_frequency\"]]],null]],null]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group desktop-notifications\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.desktop_notifications.label\"],null],false],[9],[0,\"\\n  \"],[1,[22,\"desktop-notification-config\"],false],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.desktop_notifications.each_browser_note\"],null],false],[9],[0,\"\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-preferences-desktop-notifications\",[28,\"hash\",null,[[\"model\",\"save\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"save\"],null]]]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"enable_personal_messages\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group private-messages\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.private_messages\"],null],false],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"preference-checkbox\",null,[[\"labelKey\",\"checked\"],[\"user.allow_private_messages\",[24,[\"model\",\"user_option\",\"allow_private_messages\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-preferences-notifications\",[28,\"hash\",null,[[\"model\",\"save\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"save\"],null]]]]]]],false],[0,\"\\n\\n\"],[7,\"br\",true],[8],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-custom-controls\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group save-button\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[15,\"user/preferences/save-button\",[]],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":true}","meta":{"moduleName":"preferences/notifications"}});
Ember.TEMPLATES["preferences/profile"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"uf\"],\"statements\":[[4,\"if\",[[24,[\"canChangeBio\"]]],null,{\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group pref-bio\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.bio\"],null],false],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls bio-composer input-xxlarge\"],[8],[0,\"\\n    \"],[1,[28,\"d-editor\",null,[[\"value\"],[[24,[\"model\",\"bio_raw\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"control-group pref-timezone\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.timezone\"],null],false],[9],[0,\"\\n  \"],[1,[28,\"timezone-input\",null,[[\"value\",\"onChange\",\"class\"],[[24,[\"model\",\"user_option\",\"timezone\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"model\",\"user_option\",\"timezone\"]]],null]],null],\"input-xxlarge\"]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group pref-location\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.location\"],null],false],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[1,[28,\"input\",null,[[\"type\",\"value\",\"class\",\"id\"],[\"text\",[24,[\"model\",\"location\"]],\"input-xxlarge\",\"edit-location\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group pref-website\"],[8],[0,\"\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.website\"],null],false],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[1,[28,\"input\",null,[[\"type\",\"value\",\"class\"],[\"text\",[24,[\"model\",\"website\"]],\"input-xxlarge\"]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"each\",[[24,[\"userFields\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[1,[28,\"user-field\",null,[[\"field\",\"value\"],[[23,1,[\"field\"]],[23,1,[\"value\"]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"allow_profile_backgrounds\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-profile-bg\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.change_profile_background.title\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"image-uploader\",null,[[\"imageUrl\",\"type\"],[[24,[\"model\",\"profile_background_upload_url\"]],\"profile_background\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"user.change_profile_background.instructions\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"control-group pref-profile-bg\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.change_card_background.title\"],null],false],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n      \"],[1,[28,\"image-uploader\",null,[[\"imageUrl\",\"type\"],[[24,[\"model\",\"card_background_upload_url\"]],\"card_background\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"user.change_card_background.instructions\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"allow_featured_topic_on_user_profiles\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group\"],[8],[0,\"\\n    \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.featured_topic\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"featured_topic\"]]],null,{\"statements\":[[0,\"      \"],[7,\"label\",true],[10,\"class\",\"featured-topic-link\"],[8],[0,\"\\n      \"],[4,\"link-to\",null,[[\"route\",\"models\"],[\"topic\",[28,\"array\",[[24,[\"model\",\"featured_topic\",\"slug\"]],[24,[\"model\",\"featured_topic\",\"id\"]]],null]]],{\"statements\":[[1,[24,[\"model\",\"featured_topic\",\"fancy_title\"]],true]],\"parameters\":[]},null],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"showFeaturedTopicModal\"],null],\"btn-default feature-topic-on-profile-btn\",\"user.feature_topic_on_profile.open_search\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"featured_topic\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"action\",[[23,0,[]],\"clearFeaturedTopicFromProfile\"],null],\"btn-danger clear-feature-topic-on-profile-btn\",\"user.feature_topic_on_profile.clear.title\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"user.change_featured_topic.instructions\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-preferences-profile\",[28,\"hash\",null,[[\"model\",\"save\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"save\"],null]]]]]]],false],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-custom-preferences\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[7,\"br\",true],[8],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-custom-controls\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group save-button\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[15,\"user/preferences/save-button\",[]],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":true}","meta":{"moduleName":"preferences/profile"}});
Ember.TEMPLATES["preferences/tags"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"siteSettings\",\"tagging_enabled\"]]],null,{\"statements\":[[7,\"div\",true],[10,\"class\",\"control-group tag-notifications\"],[8],[0,\"\\n\\n  \"],[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.tag_settings\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"d-icon\",[\"d-watching\"],[[\"class\"],[\"icon watching\"]]],false],[0,\" \"],[1,[28,\"i18n\",[\"user.watched_tags\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"tag-chooser\",null,[[\"tags\",\"blacklist\",\"filterPlaceholder\",\"allowCreate\",\"everyTag\",\"unlimitedTagCount\"],[[24,[\"model\",\"watched_tags\"]],[24,[\"selectedTags\"]],\"select_kit.filter_placeholder\",false,true,true]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.watched_tags_instructions\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"d-icon\",[\"d-tracking\"],[[\"class\"],[\"icon tracking\"]]],false],[0,\" \"],[1,[28,\"i18n\",[\"user.tracked_tags\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"tag-chooser\",null,[[\"tags\",\"blacklist\",\"filterPlaceholder\",\"allowCreate\",\"everyTag\",\"unlimitedTagCount\"],[[24,[\"model\",\"tracked_tags\"]],[24,[\"selectedTags\"]],\"select_kit.filter_placeholder\",false,true,true]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.tracked_tags_instructions\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"d-icon\",[\"d-watching-first\"],[[\"class\"],[\"icon watching-first-post\"]]],false],[0,\" \"],[1,[28,\"i18n\",[\"user.watched_first_post_tags\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"tag-chooser\",null,[[\"tags\",\"blacklist\",\"filterPlaceholder\",\"allowCreate\",\"everyTag\",\"unlimitedTagCount\"],[[24,[\"model\",\"watching_first_post_tags\"]],[24,[\"selectedTags\"]],\"select_kit.filter_placeholder\",false,true,true]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.watched_first_post_tags_instructions\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[1,[28,\"d-icon\",[\"d-muted\"],[[\"class\"],[\"icon muted\"]]],false],[0,\" \"],[1,[28,\"i18n\",[\"user.muted_tags\"],null],false],[9],[0,\"\\n    \"],[1,[28,\"tag-chooser\",null,[[\"tags\",\"blacklist\",\"filterPlaceholder\",\"allowCreate\",\"everyTag\",\"unlimitedTagCount\"],[[24,[\"model\",\"muted_tags\"]],[24,[\"selectedTags\"]],\"select_kit.filter_placeholder\",false,true,true]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.muted_tags_instructions\"],null],false],[9],[0,\"\\n\\n\"],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-preferences-tags\",[28,\"hash\",null,[[\"model\",\"save\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"save\"],null]]]]]]],false],[0,\"\\n\\n\"],[7,\"br\",true],[8],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-custom-controls\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group save-button\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[15,\"user/preferences/save-button\",[]],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":true}","meta":{"moduleName":"preferences/tags"}});
Ember.TEMPLATES["preferences/users"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"label\",true],[10,\"class\",\"control-label\"],[8],[1,[28,\"i18n\",[\"user.users\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"ignoredEnabled\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"control-group user-ignore\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls user-notifications\"],[8],[0,\"\\n      \"],[7,\"label\",true],[8],[1,[28,\"d-icon\",[\"far-eye-slash\"],[[\"class\"],[\"icon\"]]],false],[0,\" \"],[1,[28,\"i18n\",[\"user.ignored_users\"],null],false],[9],[0,\"\\n      \"],[1,[28,\"ignored-user-list\",null,[[\"model\",\"items\",\"saving\"],[[24,[\"model\"]],[24,[\"model\",\"ignored_usernames\"]],[24,[\"saved\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"control-group user-mute\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls tracking-controls\"],[8],[0,\"\\n    \"],[7,\"label\",true],[8],[0,\"\\n      \"],[1,[28,\"d-icon\",[\"d-muted\"],[[\"class\"],[\"icon\"]]],false],[0,\"\\n      \"],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"user.muted_users\"],null],false],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[1,[28,\"user-chooser\",null,[[\"value\",\"onChange\",\"options\"],[[24,[\"mutedUsernames\"]],[28,\"action\",[[23,0,[]],\"onChangeMutedUsernames\"],null],[28,\"hash\",null,[[\"excludeCurrentUser\"],[true]]]]]],false],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"instructions\"],[8],[1,[28,\"i18n\",[\"user.muted_users_instructions\"],null],false],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-custom-controls\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"control-group save-button\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n    \"],[15,\"user/preferences/save-button\",[]],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":true}","meta":{"moduleName":"preferences/users"}});
Ember.TEMPLATES["review-index"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"r\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"reviewable-container\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"reviewable-list\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"reviewables\"]]],null,{\"statements\":[[4,\"load-more\",null,[[\"selector\",\"action\"],[\".reviewable-item\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"reviewables\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"reviewables\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"reviewable-item\",null,[[\"reviewable\",\"remove\"],[[23,1,[]],[28,\"action\",[[23,0,[]],\"remove\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"reviewables\",\"loadingMore\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"no-review\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"review.none\"],null],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"reviewable-filters\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"reviewable-filter\"],[8],[0,\"\\n      \"],[7,\"label\",true],[10,\"class\",\"filter-label\"],[8],[1,[28,\"i18n\",[\"review.filters.status\"],null],false],[9],[0,\"\\n      \"],[1,[28,\"combo-box\",null,[[\"value\",\"content\",\"onChange\"],[[24,[\"filterStatus\"]],[24,[\"statuses\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"filterStatus\"]]],null]],null]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"filtersExpanded\"]]],null,{\"statements\":[[0,\"\\n      \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"above-review-filters\",[28,\"hash\",null,[[\"model\",\"additionalFilters\"],[[24,[\"model\"]],[24,[\"additionalFilters\"]]]]]]]],false],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"reviewable-filter\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"filter-label\"],[8],[1,[28,\"i18n\",[\"review.filters.type.title\"],null],false],[9],[0,\"\\n        \"],[1,[28,\"combo-box\",null,[[\"value\",\"content\",\"none\",\"onChange\"],[[24,[\"filterType\"]],[24,[\"allTypes\"]],\"review.filters.type.all\",[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"filterType\"]]],null]],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"reviewable-filter\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"filter-label\"],[8],[1,[28,\"i18n\",[\"review.filters.priority.title\"],null],false],[9],[0,\"\\n        \"],[1,[28,\"combo-box\",null,[[\"value\",\"content\",\"onChange\"],[[24,[\"filterPriority\"]],[24,[\"priorities\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"filterPriority\"]]],null]],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"reviewable-filter\"],[8],[0,\"\\n        \"],[7,\"label\",true],[10,\"class\",\"filter-label\"],[8],[1,[28,\"i18n\",[\"review.filters.category\"],null],false],[9],[0,\"\\n        \"],[1,[28,\"category-chooser\",null,[[\"none\",\"value\",\"onChange\"],[\"review.filters.all_categories\",[24,[\"filterCategoryId\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"filterCategoryId\"]]],null]],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"reviewable-filter topic-filter\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"review.filtered_user\"],null],false],[0,\"\\n        \"],[1,[28,\"user-selector\",null,[[\"excludeCurrentUser\",\"usernames\",\"fullWidthWrap\",\"single\",\"class\",\"canReceiveUpdates\"],[false,[24,[\"filterUsername\"]],true,true,\"user-selector\",true]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"filterTopic\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"reviewable-filter topic-filter\"],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"review.filtered_topic\"],null],false],[0,\"\\n          \"],[1,[28,\"d-button\",null,[[\"label\",\"icon\",\"action\"],[\"review.show_all_topics\",\"times\",[28,\"action\",[[23,0,[]],\"resetTopic\"],null]]]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"reviewable-filter date-range\"],[8],[0,\"\\n        \"],[1,[28,\"date-time-input-range\",null,[[\"showFromTime\",\"showToTime\",\"from\",\"to\",\"onChange\"],[false,false,[24,[\"filterFromDate\"]],[24,[\"filterToDate\"]],[24,[\"setRange\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\\n      \"],[7,\"div\",true],[10,\"class\",\"reviewable-filter sort-order\"],[8],[0,\"\\n        \"],[1,[28,\"i18n\",[\"review.order_by\"],null],false],[0,\"\\n        \"],[1,[28,\"combo-box\",null,[[\"value\",\"content\",\"onChange\"],[[24,[\"filterSortOrder\"]],[24,[\"sortOrders\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"filterSortOrder\"]]],null]],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"reviewable-filters-actions\"],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"icon\",\"label\",\"class\",\"action\"],[\"sync\",\"review.filters.refresh\",\"btn-primary refresh\",[28,\"action\",[[23,0,[]],\"refresh\"],null]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"label\",\"icon\",\"class\",\"action\"],[\"show_help\",[24,[\"toggleFiltersIcon\"]],\"btn-default expand-secondary-filters\",[28,\"action\",[[23,0,[]],\"toggleFilters\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"review-index"}});
Ember.TEMPLATES["review-settings"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"rst\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"reviewable-settings\"],[8],[0,\"\\n  \"],[7,\"h4\",true],[8],[1,[28,\"i18n\",[\"review.settings.priorities.title\"],null],false],[9],[0,\"\\n\\n\"],[4,\"each\",[[24,[\"settings\",\"reviewable_score_types\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"reviewable-score-type\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"title\"],[8],[1,[23,1,[\"title\"]],false],[9],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"field\"],[8],[0,\"\\n        \"],[1,[28,\"combo-box\",null,[[\"value\",\"content\",\"onChange\"],[[23,1,[\"reviewable_priority\"]],[24,[\"settings\",\"reviewable_priorities\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[23,1,[\"reviewable_priority\"]]],null]],null]]]],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"reviewable-score-type\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"title\"],[8],[9],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"field\"],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"icon\",\"label\",\"class\",\"action\",\"disabled\"],[\"check\",\"review.settings.save_changes\",\"btn-primary save-settings\",[28,\"action\",[[23,0,[]],\"save\"],null],[24,[\"saving\"]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"saved\"]]],null,{\"statements\":[[0,\"        \"],[7,\"span\",true],[10,\"class\",\"saved\"],[8],[1,[28,\"i18n\",[\"review.settings.saved\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"review-settings"}});
Ember.TEMPLATES["review-show"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"reviewable-item\",null,[[\"reviewable\"],[[24,[\"reviewable\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"review-show"}});
Ember.TEMPLATES["review-topics"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"rt\"],\"statements\":[[4,\"if\",[[24,[\"reviewableTopics\"]]],null,{\"statements\":[[0,\"  \"],[7,\"table\",true],[10,\"class\",\"reviewable-topics\"],[8],[0,\"\\n    \"],[7,\"thead\",true],[8],[0,\"\\n      \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"review.topics.topic\"],null],false],[0,\" \"],[9],[0,\"\\n      \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"review.topics.reviewable_count\"],null],false],[9],[0,\"\\n      \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"review.topics.reported_by\"],null],false],[9],[0,\"\\n      \"],[7,\"th\",true],[8],[9],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"reviewableTopics\"]]],null,{\"statements\":[[0,\"      \"],[7,\"tr\",true],[10,\"class\",\"reviewable-topic\"],[8],[0,\"\\n        \"],[7,\"td\",true],[10,\"class\",\"topic-title\"],[8],[0,\"\\n          \"],[7,\"div\",true],[10,\"class\",\"combined-title\"],[8],[0,\"\\n            \"],[1,[28,\"topic-status\",null,[[\"topic\"],[[23,1,[]]]]],false],[0,\"\\n            \"],[7,\"a\",true],[11,\"href\",[23,1,[\"relative_url\"]]],[10,\"target\",\"_blank\"],[8],[1,[28,\"replace-emoji\",[[23,1,[\"fancy_title\"]]],null],false],[9],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"td\",true],[10,\"class\",\"reviewable-count\"],[8],[0,\"\\n          \"],[1,[23,1,[\"stats\",\"count\"]],false],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"td\",true],[10,\"class\",\"reported-by\"],[8],[0,\"\\n          \"],[1,[28,\"i18n\",[\"review.topics.unique_users\"],[[\"count\"],[[23,1,[\"stats\",\"unique_users\"]]]]],false],[0,\"\\n        \"],[9],[0,\"\\n        \"],[7,\"td\",true],[10,\"class\",\"reviewable-details\"],[8],[0,\"\\n          \"],[1,[28,\"reviewable-claimed-topic\",null,[[\"topicId\",\"claimedBy\"],[[23,1,[\"id\"]],[23,1,[\"claimed_by\"]]]]],false],[0,\"\\n\"],[4,\"link-to\",null,[[\"class\",\"query\",\"route\"],[\"btn btn-primary btn-small\",[28,\"hash\",null,[[\"topic_id\"],[[23,1,[\"id\"]]]]],\"review.index\"]],{\"statements\":[[0,\"            \"],[1,[28,\"d-icon\",[\"list\"],null],false],[0,\"\\n            \"],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"review.topics.details\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"no-review\"],[8],[0,\"\\n    \"],[1,[28,\"i18n\",[\"review.none\"],null],false],[0,\"\\n  \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"review-topics"}});
Ember.TEMPLATES["review"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"reviewable\"],[8],[0,\"\\n  \"],[7,\"ul\",true],[10,\"class\",\"nav nav-pills reviewable-title\"],[8],[0,\"\\n    \"],[1,[28,\"nav-item\",null,[[\"route\",\"label\"],[\"review.index\",\"review.view_all\"]]],false],[0,\"\\n    \"],[1,[28,\"nav-item\",null,[[\"route\",\"label\"],[\"review.topics\",\"review.grouped_by_topic\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"currentUser\",\"admin\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"nav-item\",null,[[\"route\",\"label\",\"icon\"],[\"review.settings\",\"review.settings.title\",\"wrench\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[1,[22,\"outlet\"],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"review"}});
Ember.TEMPLATES["selected-posts"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"p\",true],[8],[1,[28,\"count-i18n\",null,[[\"key\",\"count\"],[\"topic.multi_select.description\",[24,[\"selectedPostsCount\"]]]]],false],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canSelectAll\"]]],null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[7,\"a\",false],[12,\"class\",\"select-all\"],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"selectAll\"]],[8],[1,[28,\"i18n\",[\"topic.multi_select.select_all\"],null],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canDeselectAll\"]]],null,{\"statements\":[[0,\"  \"],[7,\"p\",true],[8],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"deselectAll\"]],[8],[1,[28,\"i18n\",[\"topic.multi_select.deselect_all\"],null],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canDeleteSelected\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"deleteSelected\"],null],\"far-trash-alt\",\"topic.multi_select.delete\",\"btn-danger\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canMergeTopic\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\"],[[28,\"route-action\",[\"moveToTopic\"],null],\"sign-out-alt\",\"topic.move_to.action\",\"btn-primary move-to-topic\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canChangeOwner\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\"],[[28,\"route-action\",[\"changeOwner\"],null],\"user\",\"topic.change_owner.action\",\"btn-primary\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canMergePosts\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"mergePosts\"],null],\"arrows-v\",\"topic.merge_posts.action\",\"btn-primary\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"p\",true],[10,\"class\",\"cancel\"],[8],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"toggleMultiSelect\"]],[8],[1,[28,\"i18n\",[\"topic.multi_select.cancel\"],null],false],[9],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"selected-posts"}});
Ember.TEMPLATES["static"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-section\",null,[[\"bodyClass\",\"class\"],[[24,[\"bodyClass\"]],\"container\"]],{\"statements\":[[4,\"watch-read\",null,[[\"action\",\"path\"],[[28,\"action\",[[23,0,[]],\"markFaqRead\"],null],[24,[\"model\",\"path\"]]]],{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"contents clearfix body-page\"],[8],[0,\"\\n      \"],[1,[28,\"plugin-outlet\",null,[[\"name\"],[\"above-static\"]]],false],[0,\"\\n      \"],[1,[24,[\"model\",\"html\"]],true],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showSignupButton\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\"],[[28,\"route-action\",[\"showCreateAccount\"],null],\"btn-primary sign-up-button\",\"sign_up\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showLoginButton\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"label\"],[[28,\"route-action\",[\"showLogin\"],null],\"btn-primary login-button\",\"user\",\"log_in\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"static"}});
Ember.TEMPLATES["tag-groups-edit"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"tag-groups-form\",null,[[\"model\",\"onDestroy\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"onDestroy\"],null]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"tag-groups-edit"}});
Ember.TEMPLATES["tag-groups-index"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"tag-group-content\"],[8],[0,\"\\n  \"],[7,\"p\",true],[10,\"class\",\"about\"],[8],[1,[28,\"i18n\",[\"tagging.groups.about\"],null],false],[9],[0,\"\\n\"],[9]],\"hasEval\":false}","meta":{"moduleName":"tag-groups-index"}});
Ember.TEMPLATES["tag-groups-new"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"tag-groups-form\",null,[[\"model\",\"onSave\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"onSave\"],null]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"tag-groups-new"}});
Ember.TEMPLATES["tag-groups"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"tagGroup\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"container tag-groups-container\"],[8],[0,\"\\n  \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"tagging.groups.title\"],null],false],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"content-list\"],[8],[0,\"\\n    \"],[7,\"ul\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"tagGroups.edit\",[23,1,[]]]],{\"statements\":[[0,\"            \"],[1,[23,1,[\"name\"]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"    \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[23,0,[\"siteSettings\",\"tagging_enabled\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-default\",[28,\"action\",[[23,0,[]],\"newTagGroup\"],null],\"plus\",\"tagging.groups.new\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[1,[22,\"outlet\"],false],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"tag-groups"}});
Ember.TEMPLATES["tags"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-section\",null,[[\"pageClass\",\"tagName\"],[\"tags\",\"\"]],{\"statements\":[[0,\"  \"],[1,[22,\"outlet\"],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"tags"}});
Ember.TEMPLATES["tags/index"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"tagGroup\",\"category\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n  \"],[1,[28,\"discourse-banner\",null,[[\"user\",\"banner\"],[[24,[\"currentUser\"]],[24,[\"site\",\"banner\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"list-controls\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canAdminTags\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"tags-admin-dropdown\",null,[[\"actionsMapping\"],[[24,[\"actionsMapping\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"tagging.tags\"],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"tag-sort-options\"],[8],[0,\"\\n  \"],[1,[28,\"i18n\",[\"tagging.sort_by\"],null],false],[0,\"\\n  \"],[7,\"span\",true],[11,\"class\",[29,[\"tag-sort-count \",[28,\"if\",[[24,[\"sortedByCount\"]],\"active\"],null]]]],[8],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"sortByCount\"]],[8],[1,[28,\"i18n\",[\"tagging.sort_by_count\"],null],false],[9],[9],[0,\"\\n  \"],[7,\"span\",true],[11,\"class\",[29,[\"tag-sort-name \",[28,\"if\",[[24,[\"sortedByName\"]],\"active\"],null]]]],[8],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"sortById\"]],[8],[1,[28,\"i18n\",[\"tagging.sort_by_name\"],null],false],[9],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"hr\",true],[8],[9],[0,\"\\n\\n\"],[4,\"each\",[[24,[\"model\",\"extras\",\"categories\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"tag-list\",null,[[\"tags\",\"sortProperties\",\"categoryId\"],[[23,2,[\"tags\"]],[24,[\"sortProperties\"]],[23,2,[\"id\"]]]]],false],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"extras\",\"tag_groups\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"tag-list\",null,[[\"tags\",\"sortProperties\",\"tagGroupName\"],[[23,1,[\"tags\"]],[24,[\"sortProperties\"]],[23,1,[\"name\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"tag-list\",null,[[\"tags\",\"sortProperties\",\"titleKey\"],[[24,[\"model\"]],[24,[\"sortProperties\"]],[24,[\"otherTagsTitleKey\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"tags/index"}});
Ember.TEMPLATES["tags/show"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"tag\"],\"statements\":[[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n  \"],[1,[28,\"discourse-banner\",null,[[\"user\",\"banner\"],[[24,[\"currentUser\"]],[24,[\"site\",\"banner\"]]]]],false],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"list-controls\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n    \"],[7,\"section\",true],[10,\"class\",\"navigation-container\"],[8],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showTagFilter\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"bread-crumbs\",null,[[\"categories\",\"category\",\"tagId\",\"noSubcategories\"],[[24,[\"categories\"]],[24,[\"category\"]],[24,[\"tag\",\"id\"]],[24,[\"noSubcategories\"]]]]],false],[0,\"\\n\\n      \"],[1,[28,\"navigation-bar\",null,[[\"navItems\",\"filterMode\"],[[24,[\"navItems\"]],[24,[\"filterMode\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[7,\"h2\",true],[10,\"class\",\"tag-show-heading\"],[8],[0,\"\\n        \"],[4,\"link-to\",null,[[\"route\"],[\"tags\"]],{\"statements\":[[1,[28,\"i18n\",[\"tagging.tags\"],null],false]],\"parameters\":[]},null],[0,\"\\n        \"],[1,[28,\"d-icon\",[\"angle-right\"],null],false],[0,\"\\n        \"],[1,[28,\"discourse-tag-bound\",null,[[\"tagRecord\",\"style\"],[[24,[\"tag\"]],\"simple\"]]],false],[0,\"\\n\"],[4,\"each\",[[24,[\"additionalTags\"]]],null,{\"statements\":[[0,\"          \"],[7,\"span\",true],[8],[0,\"&\"],[9],[0,\"\\n          \"],[1,[28,\"discourse-tag\",[[23,1,[]]],[[\"style\"],[\"simple\"]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n\"],[4,\"if\",[[24,[\"tagNotification\"]]],null,{\"statements\":[[4,\"unless\",[[24,[\"additionalTags\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"tag-notifications-button\",null,[[\"onChange\",\"value\"],[[28,\"action\",[[23,0,[]],\"changeTagNotificationLevel\"],null],[24,[\"tagNotification\",\"notification_level\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n    \"],[1,[28,\"create-topic-button\",null,[[\"canCreateTopic\",\"disabled\",\"label\",\"action\"],[[24,[\"canCreateTopic\"]],[24,[\"createTopicDisabled\"]],[24,[\"createTopicLabel\"]],[28,\"route-action\",[\"createTopic\"],null]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showToggleInfo\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"icon\",\"label\",\"action\",\"id\"],[\"tag\",\"tagging.info\",[28,\"action\",[[23,0,[]],\"toggleInfo\"],null],\"show-tag-info\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showInfo\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"tag-info\",null,[[\"tag\",\"list\",\"deleteAction\"],[[24,[\"tag\"]],[24,[\"list\"]],[28,\"action\",[[23,0,[]],\"deleteTag\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"plugin-outlet\",null,[[\"name\"],[\"discovery-list-container-top\"]]],false],[0,\"\\n\"],[7,\"div\",true],[10,\"class\",\"container list-container\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"full-width\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"id\",\"list-area\"],[8],[0,\"\\n\"],[4,\"unless\",[[24,[\"loading\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"list\",\"topics\"]]],null,{\"statements\":[[4,\"discovery-topics-list\",null,[[\"model\",\"refresh\"],[[24,[\"list\"]],[28,\"action\",[[23,0,[]],\"refresh\"],null]]],{\"statements\":[[0,\"            \"],[1,[28,\"bulk-select-button\",null,[[\"selected\",\"action\"],[[24,[\"selected\"]],[28,\"action\",[[23,0,[]],\"refresh\"],null]]]],false],[0,\"\\n\\n            \"],[1,[28,\"topic-list\",null,[[\"topics\",\"canBulkSelect\",\"toggleBulkSelect\",\"bulkSelectEnabled\",\"selected\",\"showPosters\",\"order\",\"ascending\",\"changeSort\"],[[24,[\"list\",\"topics\"]],[24,[\"canBulkSelect\"]],[28,\"action\",[[23,0,[]],\"toggleBulkSelect\"],null],[24,[\"bulkSelectEnabled\"]],[24,[\"selected\"]],true,[24,[\"order\"]],[24,[\"ascending\"]],[28,\"action\",[[23,0,[]],\"changeSort\"],null]]]],false],[0,\"\\n\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[7,\"footer\",true],[10,\"class\",\"topic-list-bottom\"],[8],[0,\"\\n              \"],[7,\"h3\",true],[8],[0,\"\\n                \"],[1,[22,\"footerMessage\"],false],[4,\"link-to\",null,[[\"route\"],[\"discovery.categories\"]],{\"statements\":[[0,\" \"],[1,[28,\"i18n\",[\"topic.browse_all_categories\"],null],false]],\"parameters\":[]},null],[0,\" \"],[1,[28,\"i18n\",[\"or\"],null],false],[0,\" \"],[4,\"link-to\",null,[[\"route\"],[\"discovery.latest\"]],{\"statements\":[[1,[28,\"i18n\",[\"topic.view_latest_topics\"],null],false]],\"parameters\":[]},null],[0,\".\\n              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n        \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"list\",\"loadingMore\"]]]]],false],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"tags/show"}});
Discourse.RAW_TEMPLATES["topic-list-header-column"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"showBulkToggle",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(2, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":5,"column":13}}})) != null ? stack1 : "")
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"bulkSelectEnabled",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(4, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":4},"end":{"line":11,"column":13}}})) != null ? stack1 : "");
},"2":function(container,depth0,helpers,partials,data) {
    return "      "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"flat-button",{"name":"raw","hash":{"title":"topics.bulk.toggle","icon":"list","class":"bulk-select"},"hashTypes":{"title":"StringLiteral","icon":"StringLiteral","class":"StringLiteral"},"hashContexts":{"title":depth0,"icon":depth0,"class":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":86}}}))
    + "\n";
},"4":function(container,depth0,helpers,partials,data) {
    return "      <span class='bulk-select-topics'>\n        <button class='btn btn-default bulk-select-all'>"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topics.bulk.select_all",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":56},"end":{"line":8,"column":89}}}))
    + "</button>\n        <button class='btn btn-default bulk-clear-all'>"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topics.bulk.clear_all",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":9,"column":55},"end":{"line":9,"column":87}}}))
    + "</button>\n      </span>\n";
},"6":function(container,depth0,helpers,partials,data) {
    return "    "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"view.sortIcon",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":28}}}))
    + "\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<th data-sort-order='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"order",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":21},"end":{"line":1,"column":30}}}))
    + "' class='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"view.className",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":39},"end":{"line":1,"column":57}}}))
    + "'>"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"canBulkSelect",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":2},"end":{"line":12,"column":11}}})) != null ? stack1 : "")
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"view.localizedName",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":13,"column":2},"end":{"line":13,"column":24}}}))
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"view.isSorting",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(6, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":14,"column":2},"end":{"line":16,"column":11}}})) != null ? stack1 : "")
    + "</th>\n";
},"useData":true});
Discourse.RAW_TEMPLATES["topic-list-header"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "  <th class=\"bulk-select\">\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"canBulkSelect",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(2, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":5,"column":11}}})) != null ? stack1 : "")
    + "  </th>\n";
},"2":function(container,depth0,helpers,partials,data) {
    return "      "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"flat-button",{"name":"raw","hash":{"title":"topics.bulk.toggle","icon":"list","class":"bulk-select"},"hashTypes":{"title":"StringLiteral","icon":"StringLiteral","class":"StringLiteral"},"hashContexts":{"title":depth0,"icon":depth0,"class":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":86}}}))
    + "\n";
},"4":function(container,depth0,helpers,partials,data) {
    return "  "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-list-header-column",{"name":"raw","hash":{"order":"posters"},"hashTypes":{"order":"StringLiteral"},"hashContexts":{"order":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":52}}}))
    + "\n";
},"6":function(container,depth0,helpers,partials,data) {
    return "  "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-list-header-column",{"name":"raw","hash":{"name":"likes","order":"likes","number":"true","sortable":"sortable"},"hashTypes":{"name":"StringLiteral","order":"StringLiteral","number":"StringLiteral","sortable":"PathExpression"},"hashContexts":{"name":depth0,"order":depth0,"number":depth0,"sortable":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":95}}}))
    + "\n";
},"8":function(container,depth0,helpers,partials,data) {
    return "  "
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-list-header-column",{"name":"raw","hash":{"name":"likes","order":"op_likes","number":"true","sortable":"sortable"},"hashTypes":{"name":"StringLiteral","order":"StringLiteral","number":"StringLiteral","sortable":"PathExpression"},"hashContexts":{"name":depth0,"order":depth0,"number":depth0,"sortable":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":98}}}))
    + "\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"bulkSelectEnabled",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":7,"column":7}}})) != null ? stack1 : "")
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-list-header-column",{"name":"raw","hash":{"canBulkSelect":"canBulkSelect","showBulkToggle":"toggleInTitle","bulkSelectEnabled":"bulkSelectEnabled","name":"listTitle","order":"default"},"hashTypes":{"canBulkSelect":"PathExpression","showBulkToggle":"PathExpression","bulkSelectEnabled":"PathExpression","name":"PathExpression","order":"StringLiteral"},"hashContexts":{"canBulkSelect":depth0,"showBulkToggle":depth0,"bulkSelectEnabled":depth0,"name":depth0,"order":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":158}}}))
    + "\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"showPosters",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(4, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":9,"column":0},"end":{"line":11,"column":7}}})) != null ? stack1 : "")
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-list-header-column",{"name":"raw","hash":{"name":"replies","order":"posts","number":"true","sortable":"sortable"},"hashTypes":{"name":"StringLiteral","order":"StringLiteral","number":"StringLiteral","sortable":"PathExpression"},"hashContexts":{"name":depth0,"order":depth0,"number":depth0,"sortable":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":95}}}))
    + "\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"showLikes",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(6, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":13,"column":0},"end":{"line":15,"column":7}}})) != null ? stack1 : "")
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"showOpLikes",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(8, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":16,"column":0},"end":{"line":18,"column":7}}})) != null ? stack1 : "")
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-list-header-column",{"name":"raw","hash":{"name":"views","order":"views","number":"true","sortable":"sortable"},"hashTypes":{"name":"StringLiteral","order":"StringLiteral","number":"StringLiteral","sortable":"PathExpression"},"hashContexts":{"name":depth0,"order":depth0,"number":depth0,"sortable":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":93}}}))
    + "\n"
    + container.escapeExpression((helpers.raw||(depth0 && depth0.raw)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic-list-header-column",{"name":"raw","hash":{"name":"activity","order":"activity","number":"true","sortable":"sortable"},"hashTypes":{"name":"StringLiteral","order":"StringLiteral","number":"StringLiteral","sortable":"PathExpression"},"hashContexts":{"name":depth0,"order":depth0,"number":depth0,"sortable":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":99}}}))
    + "\n";
},"useData":true});
Discourse.RAW_TEMPLATES["topic-post-badges"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "&nbsp;<a href='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"url",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3,"column":19},"end":{"line":3,"column":26}}}))
    + "' class='badge badge-notification unread' title='"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.unread_posts",{"name":"i18n","hash":{"count":"unread"},"hashTypes":{"count":"PathExpression"},"hashContexts":{"count":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3,"column":75},"end":{"line":3,"column":117}}}))
    + "'>"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"unread",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":3,"column":119},"end":{"line":3,"column":129}}}))
    + "</a>";
},"3":function(container,depth0,helpers,partials,data) {
    return "&nbsp;<a href='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"url",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":19},"end":{"line":6,"column":26}}}))
    + "' class='badge badge-notification new-posts' title='"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.total_unread_posts",{"name":"i18n","hash":{"count":"newPosts"},"hashTypes":{"count":"PathExpression"},"hashContexts":{"count":depth0},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":78},"end":{"line":6,"column":128}}}))
    + "'>"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"newPosts",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":130},"end":{"line":6,"column":142}}}))
    + "</a>";
},"5":function(container,depth0,helpers,partials,data) {
    return "&nbsp;<a href='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"url",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":26}}}))
    + "' class='badge badge-notification new-topic' title='"
    + container.escapeExpression((helpers.i18n||(depth0 && depth0.i18n)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"topic.new",{"name":"i18n","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":9,"column":78},"end":{"line":9,"column":98}}}))
    + "'>"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"newDotText",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":9,"column":100},"end":{"line":9,"column":114}}}))
    + "</a>";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<span class='topic-post-badges'>"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"unread",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":2,"column":2},"end":{"line":4,"column":10}}})) != null ? stack1 : "")
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"newPosts",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(3, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":5,"column":2},"end":{"line":7,"column":10}}})) != null ? stack1 : "")
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"unseen",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(5, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":2},"end":{"line":10,"column":10}}})) != null ? stack1 : "")
    + "</span>\n";
},"useData":true});
Discourse.RAW_TEMPLATES["topic-status"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "<div class='topic-statuses'>\n";
},"3":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"status.href",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(4, data, 0),"inverse":container.program(6, data, 0),"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":5,"column":0},"end":{"line":9,"column":10}}})) != null ? stack1 : "");
},"4":function(container,depth0,helpers,partials,data) {
    return "<a href='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"status.href",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":9},"end":{"line":6,"column":24}}}))
    + "' title='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"status.title",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":49}}}))
    + "' class='topic-status "
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"status.extraClasses",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":71},"end":{"line":6,"column":94}}}))
    + "'>"
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"status.icon",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":96},"end":{"line":6,"column":118}}}))
    + "</a>";
},"6":function(container,depth0,helpers,partials,data) {
    return "<"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"status.openTag",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":1},"end":{"line":8,"column":19}}}))
    + " title='"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"status.title",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":27},"end":{"line":8,"column":43}}}))
    + "' class='topic-status'>"
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"status.icon",{"name":"d-icon","hash":{"class":"status.key"},"hashTypes":{"class":"PathExpression"},"hashContexts":{"class":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":66},"end":{"line":8,"column":105}}}))
    + "</"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"status.closeTag",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":107},"end":{"line":8,"column":126}}}))
    + ">";
},"8":function(container,depth0,helpers,partials,data) {
    return container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"view.showDefault",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":11,"column":26},"end":{"line":11,"column":53}}}));
},"10":function(container,depth0,helpers,partials,data) {
    return "</div>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"view.renderDiv",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":3,"column":9}}})) != null ? stack1 : "")
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"status","in","view.statuses",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(3, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":4,"column":0},"end":{"line":10,"column":10}}})) != null ? stack1 : "")
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"view.showDefault",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(8, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":63}}})) != null ? stack1 : "")
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"view.renderDiv",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(10, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":12,"column":0},"end":{"line":14,"column":9}}})) != null ? stack1 : "");
},"useData":true});
Ember.TEMPLATES["topic"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"pending\",\"info\"],\"statements\":[[4,\"discourse-topic\",null,[[\"multiSelect\",\"enteredAt\",\"topic\",\"hasScrolled\"],[[24,[\"multiSelect\"]],[24,[\"enteredAt\"]],[24,[\"model\"]],[24,[\"hasScrolled\"]]]],{\"statements\":[[4,\"if\",[[24,[\"model\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"add-category-tag-classes\",null,[[\"category\",\"tags\"],[[24,[\"model\",\"category\"]],[24,[\"model\",\"tags\"]]]]],false],[0,\"\\n    \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n      \"],[1,[28,\"discourse-banner\",null,[[\"user\",\"banner\",\"overlay\",\"hide\"],[[24,[\"currentUser\"]],[24,[\"site\",\"banner\"]],[24,[\"hasScrolled\"]],[24,[\"model\",\"errorLoading\"]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showSharedDraftControls\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"shared-draft-controls\",null,[[\"topic\"],[[24,[\"model\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"topic-above-post-stream\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"postStream\",\"loaded\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"model\",\"postStream\",\"firstPostPresent\"]]],null,{\"statements\":[[4,\"topic-title\",null,[[\"cancelled\",\"save\",\"model\"],[[28,\"action\",[[23,0,[]],\"cancelEditingTopic\"],null],[28,\"action\",[[23,0,[]],\"finishedEditingTopic\"],null],[24,[\"model\"]]]],{\"statements\":[[4,\"if\",[[24,[\"editingTopic\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"edit-topic-title\"],[8],[0,\"\\n            \"],[1,[28,\"private-message-glyph\",null,[[\"isVisible\"],[[24,[\"model\",\"isPrivateMessage\"]]]]],false],[0,\"\\n\\n            \"],[1,[28,\"text-field\",null,[[\"id\",\"value\",\"maxlength\",\"autofocus\"],[\"edit-title\",[24,[\"buffered\",\"title\"]],[24,[\"siteSettings\",\"max_topic_title_length\"]],\"true\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showCategoryChooser\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"category-chooser\",null,[[\"class\",\"value\",\"onChange\"],[\"small\",[24,[\"buffered\",\"category_id\"]],[28,\"action\",[[23,0,[]],\"topicCategoryChanged\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canEditTags\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"mini-tag-chooser\",null,[[\"value\",\"onChange\",\"options\"],[[24,[\"buffered\",\"tags\"]],[28,\"action\",[[23,0,[]],\"topicTagsChanged\"],null],[28,\"hash\",null,[[\"filterable\",\"categoryId\",\"filterable\"],[true,[24,[\"buffered\",\"category_id\"]],true]]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n            \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"edit-topic\",[28,\"hash\",null,[[\"model\",\"buffered\"],[[24,[\"model\"]],[24,[\"buffered\"]]]]]]]],false],[0,\"\\n\\n            \"],[7,\"div\",true],[10,\"class\",\"edit-controls\"],[8],[0,\"\\n              \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\"],[[28,\"action\",[[23,0,[]],\"finishedEditingTopic\"],null],\"btn-primary submit-edit\",\"check\"]]],false],[0,\"\\n              \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\"],[[28,\"action\",[[23,0,[]],\"cancelEditingTopic\"],null],\"btn-default cancel-edit\",\"times\"]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canRemoveTopicFeaturedLink\"]]],null,{\"statements\":[[0,\"                \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"remove-featured-link\"],[12,\"title\",[29,[[28,\"i18n\",[\"composer.remove_featured_link\"],null]]]],[3,\"action\",[[23,0,[]],\"removeFeaturedLink\"]],[8],[0,\"\\n                  \"],[1,[28,\"d-icon\",[\"times-circle\"],null],false],[0,\"\\n                  \"],[1,[22,\"featuredLinkDomain\"],false],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"h1\",true],[11,\"data-topic-id\",[29,[[28,\"unbound\",[[24,[\"model\",\"id\"]]],null]]]],[8],[0,\"\\n\"],[4,\"unless\",[[24,[\"model\",\"is_warning\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"siteSettings\",\"enable_personal_messages\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"private-message-glyph\",null,[[\"isVisible\",\"href\",\"title\",\"ariaLabel\"],[[24,[\"model\",\"isPrivateMessage\"]],[24,[\"pmPath\"]],\"topic_statuses.personal_message.title\",\"user.messages.inbox\"]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                \"],[1,[28,\"private-message-glyph\",null,[[\"isVisible\"],[[24,[\"model\",\"isPrivateMessage\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"details\",\"loaded\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"topic-status\",null,[[\"topic\"],[[24,[\"model\"]]]]],false],[0,\"\\n              \"],[7,\"a\",false],[12,\"href\",[29,[[28,\"unbound\",[[24,[\"model\",\"url\"]]],null]]]],[12,\"class\",\"fancy-title\"],[3,\"action\",[[23,0,[]],\"jumpTop\"]],[8],[0,\"\\n                \"],[1,[24,[\"model\",\"fancyTitle\"]],true],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"details\",\"can_edit\"]]],null,{\"statements\":[[0,\"              \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"edit-topic\"],[12,\"title\",[29,[[28,\"i18n\",[\"edit\"],null]]]],[3,\"action\",[[23,0,[]],\"editTopic\"]],[8],[1,[28,\"d-icon\",[\"pencil-alt\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[9],[0,\"\\n\\n          \"],[1,[28,\"topic-category\",null,[[\"topic\",\"class\"],[[24,[\"model\"]],\"topic-category\"]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"container posts\"],[8],[0,\"\\n      \"],[7,\"div\",true],[11,\"class\",[29,[\"selected-posts \",[28,\"unless\",[[24,[\"multiSelect\"]],\"hidden\"],null]]]],[8],[0,\"\\n        \"],[15,\"selected-posts\",[]],[0,\"\\n      \"],[9],[0,\"\\n\\n\"],[4,\"topic-navigation\",null,[[\"topic\",\"jumpToDate\",\"jumpToIndex\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"jumpToDate\"],null],[28,\"action\",[[23,0,[]],\"jumpToIndex\"],null]]],{\"statements\":[[4,\"if\",[[23,2,[\"renderTimeline\"]]],null,{\"statements\":[[4,\"if\",[[23,2,[\"renderAdminMenuButton\"]]],null,{\"statements\":[[0,\"            \"],[1,[28,\"topic-admin-menu-button\",null,[[\"topic\",\"fixed\",\"toggleMultiSelect\",\"deleteTopic\",\"recoverTopic\",\"toggleClosed\",\"toggleArchived\",\"toggleVisibility\",\"showTopicStatusUpdate\",\"showFeatureTopic\",\"showChangeTimestamp\",\"resetBumpDate\",\"convertToPublicTopic\",\"convertToPrivateMessage\"],[[24,[\"model\"]],\"true\",[28,\"action\",[[23,0,[]],\"toggleMultiSelect\"],null],[28,\"action\",[[23,0,[]],\"deleteTopic\"],null],[28,\"action\",[[23,0,[]],\"recoverTopic\"],null],[28,\"action\",[[23,0,[]],\"toggleClosed\"],null],[28,\"action\",[[23,0,[]],\"toggleArchived\"],null],[28,\"action\",[[23,0,[]],\"toggleVisibility\"],null],[28,\"route-action\",[\"showTopicStatusUpdate\"],null],[28,\"route-action\",[\"showFeatureTopic\"],null],[28,\"route-action\",[\"showChangeTimestamp\"],null],[28,\"action\",[[23,0,[]],\"resetBumpDate\"],null],[28,\"action\",[[23,0,[]],\"convertToPublicTopic\"],null],[28,\"action\",[[23,0,[]],\"convertToPrivateMessage\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n          \"],[1,[28,\"topic-timeline\",null,[[\"topic\",\"notificationLevel\",\"prevEvent\",\"fullscreen\",\"enteredIndex\",\"loading\",\"jumpToPost\",\"jumpTop\",\"jumpBottom\",\"jumpEnd\",\"jumpToPostPrompt\",\"jumpToIndex\",\"replyToPost\",\"toggleMultiSelect\",\"deleteTopic\",\"recoverTopic\",\"toggleClosed\",\"toggleArchived\",\"toggleVisibility\",\"showTopicStatusUpdate\",\"showFeatureTopic\",\"showChangeTimestamp\",\"resetBumpDate\",\"convertToPublicTopic\",\"convertToPrivateMessage\"],[[24,[\"model\"]],[24,[\"model\",\"details\",\"notification_level\"]],[23,2,[\"prevEvent\"]],[23,2,[\"topicProgressExpanded\"]],[24,[\"enteredIndex\"]],[24,[\"model\",\"postStream\",\"loading\"]],[28,\"action\",[[23,0,[]],\"jumpToPost\"],null],[28,\"action\",[[23,0,[]],\"jumpTop\"],null],[28,\"action\",[[23,0,[]],\"jumpBottom\"],null],[28,\"action\",[[23,0,[]],\"jumpEnd\"],null],[28,\"action\",[[23,0,[]],\"jumpToPostPrompt\"],null],[28,\"action\",[[23,0,[]],\"jumpToIndex\"],null],[28,\"action\",[[23,0,[]],\"replyToPost\"],null],[28,\"action\",[[23,0,[]],\"toggleMultiSelect\"],null],[28,\"action\",[[23,0,[]],\"deleteTopic\"],null],[28,\"action\",[[23,0,[]],\"recoverTopic\"],null],[28,\"action\",[[23,0,[]],\"toggleClosed\"],null],[28,\"action\",[[23,0,[]],\"toggleArchived\"],null],[28,\"action\",[[23,0,[]],\"toggleVisibility\"],null],[28,\"route-action\",[\"showTopicStatusUpdate\"],null],[28,\"route-action\",[\"showFeatureTopic\"],null],[28,\"route-action\",[\"showChangeTimestamp\"],null],[28,\"action\",[[23,0,[]],\"resetBumpDate\"],null],[28,\"action\",[[23,0,[]],\"convertToPublicTopic\"],null],[28,\"action\",[[23,0,[]],\"convertToPrivateMessage\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"topic-progress\",null,[[\"prevEvent\",\"topic\",\"expanded\",\"jumpToPost\"],[[23,2,[\"prevEvent\"]],[24,[\"model\"]],[23,2,[\"topicProgressExpanded\"]],[28,\"action\",[[23,0,[]],\"jumpToPost\"],null]]],{\"statements\":[[0,\"            \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"before-topic-progress\",[28,\"hash\",null,[[\"model\",\"jumpToPost\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"jumpToPost\"],null]]]]]]],false],[0,\"\\n\"],[4,\"if\",[[23,2,[\"renderAdminMenuButton\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"topic-admin-menu-button\",null,[[\"topic\",\"openUpwards\",\"rightSide\",\"toggleMultiSelect\",\"deleteTopic\",\"recoverTopic\",\"toggleClosed\",\"toggleArchived\",\"toggleVisibility\",\"showTopicStatusUpdate\",\"showFeatureTopic\",\"showChangeTimestamp\",\"resetBumpDate\",\"convertToPublicTopic\",\"convertToPrivateMessage\"],[[24,[\"model\"]],\"true\",\"true\",[28,\"action\",[[23,0,[]],\"toggleMultiSelect\"],null],[28,\"action\",[[23,0,[]],\"deleteTopic\"],null],[28,\"action\",[[23,0,[]],\"recoverTopic\"],null],[28,\"action\",[[23,0,[]],\"toggleClosed\"],null],[28,\"action\",[[23,0,[]],\"toggleArchived\"],null],[28,\"action\",[[23,0,[]],\"toggleVisibility\"],null],[28,\"route-action\",[\"showTopicStatusUpdate\"],null],[28,\"route-action\",[\"showFeatureTopic\"],null],[28,\"route-action\",[\"showChangeTimestamp\"],null],[28,\"action\",[[23,0,[]],\"resetBumpDate\"],null],[28,\"action\",[[23,0,[]],\"convertToPublicTopic\"],null],[28,\"action\",[[23,0,[]],\"convertToPrivateMessage\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]}]],\"parameters\":[2]},null],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"row\"],[8],[0,\"\\n        \"],[7,\"section\",true],[10,\"class\",\"topic-area\"],[10,\"id\",\"topic\"],[11,\"data-topic-id\",[29,[[28,\"unbound\",[[24,[\"model\",\"id\"]]],null]]]],[8],[0,\"\\n\\n          \"],[7,\"div\",true],[10,\"class\",\"posts-wrapper\"],[8],[0,\"\\n            \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"postStream\",\"loadingAbove\"]]]]],false],[0,\"\\n\\n            \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"topic-above-posts\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"unless\",[[24,[\"model\",\"postStream\",\"loadingFilter\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"scrolling-post-stream\",null,[[\"posts\",\"canCreatePost\",\"multiSelect\",\"selectedPostsCount\",\"selectedQuery\",\"gaps\",\"showReadIndicator\",\"showFlags\",\"editPost\",\"showHistory\",\"showLogin\",\"showRawEmail\",\"deletePost\",\"recoverPost\",\"expandHidden\",\"newTopicAction\",\"toggleBookmark\",\"toggleBookmarkWithReminder\",\"togglePostType\",\"rebakePost\",\"changePostOwner\",\"grantBadge\",\"addNotice\",\"removeNotice\",\"lockPost\",\"unlockPost\",\"unhidePost\",\"replyToPost\",\"toggleWiki\",\"toggleSummary\",\"removeAllowedUser\",\"removeAllowedGroup\",\"topVisibleChanged\",\"currentPostChanged\",\"currentPostScrolled\",\"bottomVisibleChanged\",\"togglePostSelection\",\"selectReplies\",\"selectBelow\",\"fillGapBefore\",\"fillGapAfter\",\"showInvite\"],[[24,[\"postsToRender\"]],[24,[\"model\",\"details\",\"can_create_post\"]],[24,[\"multiSelect\"]],[24,[\"selectedPostsCount\"]],[24,[\"selectedQuery\"]],[24,[\"model\",\"postStream\",\"gaps\"]],[24,[\"model\",\"show_read_indicator\"]],[28,\"action\",[[23,0,[]],\"showPostFlags\"],null],[28,\"action\",[[23,0,[]],\"editPost\"],null],[28,\"route-action\",[\"showHistory\"],null],[28,\"route-action\",[\"showLogin\"],null],[28,\"route-action\",[\"showRawEmail\"],null],[28,\"action\",[[23,0,[]],\"deletePost\"],null],[28,\"action\",[[23,0,[]],\"recoverPost\"],null],[28,\"action\",[[23,0,[]],\"expandHidden\"],null],[28,\"action\",[[23,0,[]],\"replyAsNewTopic\"],null],[28,\"action\",[[23,0,[]],\"toggleBookmark\"],null],[28,\"action\",[[23,0,[]],\"toggleBookmarkWithReminder\"],null],[28,\"action\",[[23,0,[]],\"togglePostType\"],null],[28,\"action\",[[23,0,[]],\"rebakePost\"],null],[28,\"action\",[[23,0,[]],\"changePostOwner\"],null],[28,\"action\",[[23,0,[]],\"grantBadge\"],null],[28,\"action\",[[23,0,[]],\"addNotice\"],null],[28,\"action\",[[23,0,[]],\"removeNotice\"],null],[28,\"action\",[[23,0,[]],\"lockPost\"],null],[28,\"action\",[[23,0,[]],\"unlockPost\"],null],[28,\"action\",[[23,0,[]],\"unhidePost\"],null],[28,\"action\",[[23,0,[]],\"replyToPost\"],null],[28,\"action\",[[23,0,[]],\"toggleWiki\"],null],[28,\"action\",[[23,0,[]],\"toggleSummary\"],null],[28,\"action\",[[23,0,[]],\"removeAllowedUser\"],null],[28,\"action\",[[23,0,[]],\"removeAllowedGroup\"],null],[28,\"action\",[[23,0,[]],\"topVisibleChanged\"],null],[28,\"action\",[[23,0,[]],\"currentPostChanged\"],null],[28,\"action\",[[23,0,[]],\"currentPostScrolled\"],null],[28,\"action\",[[23,0,[]],\"bottomVisibleChanged\"],null],[28,\"action\",[[23,0,[]],\"togglePostSelection\"],null],[28,\"action\",[[23,0,[]],\"selectReplies\"],null],[28,\"action\",[[23,0,[]],\"selectBelow\"],null],[28,\"action\",[[23,0,[]],\"fillGapBefore\"],null],[28,\"action\",[[23,0,[]],\"fillGapAfter\"],null],[28,\"route-action\",[\"showInvite\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n            \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"postStream\",\"loadingBelow\"]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"div\",true],[10,\"id\",\"topic-bottom\"],[8],[9],[0,\"\\n\\n\"],[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"postStream\",\"loadingFilter\"]]]],{\"statements\":[[4,\"if\",[[24,[\"loadedAllPosts\"]]],null,{\"statements\":[[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"pending_posts\"]]],null,{\"statements\":[[0,\"                \"],[7,\"div\",true],[10,\"class\",\"pending-posts\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"pending_posts\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"div\",true],[10,\"class\",\"reviewable-item\"],[8],[0,\"\\n                      \"],[7,\"div\",true],[10,\"class\",\"reviewable-meta-data\"],[8],[0,\"\\n                        \"],[7,\"span\",true],[10,\"class\",\"reviewable-type\"],[8],[0,\"\\n                          \"],[1,[28,\"i18n\",[\"review.awaiting_approval\"],null],false],[0,\"\\n                        \"],[9],[0,\"\\n                        \"],[7,\"span\",true],[10,\"class\",\"created-at\"],[8],[0,\"\\n                          \"],[1,[28,\"age-with-tooltip\",[[23,1,[\"created_at\"]]],null],false],[0,\"\\n                        \"],[9],[0,\"\\n                      \"],[9],[0,\"\\n                      \"],[7,\"div\",true],[10,\"class\",\"post-contents-wrapper\"],[8],[0,\"\\n                        \"],[1,[28,\"reviewable-created-by\",null,[[\"user\",\"tagName\"],[[24,[\"currentUser\"]],\"\"]]],false],[0,\"\\n                        \"],[7,\"div\",true],[10,\"class\",\"post-contents\"],[8],[0,\"\\n                          \"],[1,[28,\"reviewable-created-by-name\",null,[[\"user\",\"tagName\"],[[24,[\"currentUser\"]],\"\"]]],false],[0,\"\\n                          \"],[7,\"div\",true],[10,\"class\",\"post-body\"],[8],[1,[28,\"cook-text\",[[23,1,[\"raw\"]]],null],false],[9],[0,\"\\n                        \"],[9],[0,\"\\n                      \"],[9],[0,\"\\n                      \"],[7,\"div\",true],[10,\"class\",\"reviewable-actions\"],[8],[0,\"\\n                        \"],[1,[28,\"d-button\",null,[[\"class\",\"label\",\"icon\",\"action\"],[\"btn-danger\",\"review.delete\",\"trash-alt\",[28,\"action\",[[23,0,[]],\"deletePending\",[23,1,[]]],null]]]],false],[0,\"\\n                      \"],[9],[0,\"\\n                    \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"queued_posts_count\"]]],null,{\"statements\":[[0,\"                \"],[7,\"div\",true],[10,\"class\",\"has-pending-posts\"],[8],[0,\"\\n                  \"],[7,\"div\",true],[8],[0,\"\\n                    \"],[1,[28,\"i18n\",[\"review.topic_has_pending\"],[[\"count\"],[[24,[\"model\",\"queued_posts_count\"]]]]],true],[0,\"\\n                  \"],[9],[0,\"\\n\\n\"],[4,\"link-to\",null,[[\"query\",\"route\"],[[28,\"hash\",null,[[\"topic_id\",\"type\",\"status\"],[[24,[\"model\",\"id\"]],\"ReviewableQueuedPost\",\"pending\"]]],\"review\"]],{\"statements\":[[0,\"                    \"],[1,[28,\"i18n\",[\"review.view_pending\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"private_topic_timer\",\"execute_at\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"topic-timer-info\",null,[[\"topicClosed\",\"statusType\",\"executeAt\",\"duration\",\"removeTopicTimer\"],[[24,[\"model\",\"closed\"]],[24,[\"model\",\"private_topic_timer\",\"status_type\"]],[24,[\"model\",\"private_topic_timer\",\"execute_at\"]],[24,[\"model\",\"private_topic_timer\",\"duration\"]],[28,\"action\",[[23,0,[]],\"removeTopicTimer\",[24,[\"model\",\"private_topic_timer\",\"status_type\"]],\"private_topic_timer\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n              \"],[1,[28,\"topic-timer-info\",null,[[\"topicClosed\",\"statusType\",\"executeAt\",\"basedOnLastPost\",\"duration\",\"categoryId\",\"removeTopicTimer\"],[[24,[\"model\",\"closed\"]],[24,[\"model\",\"topic_timer\",\"status_type\"]],[24,[\"model\",\"topic_timer\",\"execute_at\"]],[24,[\"model\",\"topic_timer\",\"based_on_last_post\"]],[24,[\"model\",\"topic_timer\",\"duration\"]],[24,[\"model\",\"topic_timer\",\"category_id\"]],[28,\"action\",[[23,0,[]],\"removeTopicTimer\",[24,[\"model\",\"topic_timer\",\"status_type\"]],\"topic_timer\"],null]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"session\",\"showSignupCta\"]]],null,{\"statements\":[[0,\"                \"],[1,[22,\"signup-cta\"],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[4,\"if\",[[24,[\"currentUser\"]]],null,{\"statements\":[[0,\"                  \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"topic-above-footer-buttons\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n                  \"],[1,[28,\"topic-footer-buttons\",null,[[\"topic\",\"toggleMultiSelect\",\"deleteTopic\",\"recoverTopic\",\"toggleClosed\",\"toggleArchived\",\"toggleVisibility\",\"showTopicStatusUpdate\",\"showFeatureTopic\",\"showChangeTimestamp\",\"resetBumpDate\",\"convertToPublicTopic\",\"convertToPrivateMessage\",\"toggleBookmark\",\"showFlagTopic\",\"toggleArchiveMessage\",\"editFirstPost\",\"deferTopic\",\"replyToPost\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"toggleMultiSelect\"],null],[28,\"action\",[[23,0,[]],\"deleteTopic\"],null],[28,\"action\",[[23,0,[]],\"recoverTopic\"],null],[28,\"action\",[[23,0,[]],\"toggleClosed\"],null],[28,\"action\",[[23,0,[]],\"toggleArchived\"],null],[28,\"action\",[[23,0,[]],\"toggleVisibility\"],null],[28,\"route-action\",[\"showTopicStatusUpdate\"],null],[28,\"route-action\",[\"showFeatureTopic\"],null],[28,\"route-action\",[\"showChangeTimestamp\"],null],[28,\"action\",[[23,0,[]],\"resetBumpDate\"],null],[28,\"action\",[[23,0,[]],\"convertToPublicTopic\"],null],[28,\"action\",[[23,0,[]],\"convertToPrivateMessage\"],null],[28,\"action\",[[23,0,[]],\"toggleBookmark\"],null],[28,\"route-action\",[\"showFlagTopic\"],null],[28,\"action\",[[23,0,[]],\"toggleArchiveMessage\"],null],[28,\"action\",[[23,0,[]],\"editFirstPost\"],null],[28,\"action\",[[23,0,[]],\"deferTopic\"],null],[28,\"action\",[[23,0,[]],\"replyToPost\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                  \"],[7,\"div\",true],[10,\"id\",\"topic-footer-buttons\"],[8],[0,\"\\n                    \"],[1,[28,\"d-button\",null,[[\"icon\",\"class\",\"action\",\"label\"],[\"reply\",\"btn-primary pull-right\",[28,\"route-action\",[\"showLogin\"],null],\"topic.reply.title\"]]],false],[0,\"\\n                  \"],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]}],[0,\"\\n\"],[4,\"if\",[[24,[\"showSelectedPostsAtBottom\"]]],null,{\"statements\":[[0,\"                \"],[7,\"div\",true],[11,\"class\",[29,[\"selected-posts \",[28,\"unless\",[[24,[\"multiSelect\"]],\"hidden\"],null]]]],[8],[0,\"\\n                  \"],[15,\"selected-posts\",[]],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n              \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"topic-above-suggested\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n              \"],[7,\"div\",true],[11,\"class\",[29,[[28,\"if\",[[24,[\"model\",\"relatedMessages\",\"length\"]],\"related-messages-wrapper\"],null],\" \",[28,\"if\",[[24,[\"model\",\"suggestedTopics\",\"length\"]],\"suggested-topics-wrapper\"],null]]]],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"relatedMessages\",\"length\"]]],null,{\"statements\":[[0,\"                  \"],[1,[28,\"related-messages\",null,[[\"topic\"],[[24,[\"model\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"suggestedTopics\",\"length\"]]],null,{\"statements\":[[0,\"                  \"],[1,[28,\"suggested-topics\",null,[[\"topic\"],[[24,[\"model\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n        \"],[9],[0,\"\\n      \"],[9],[0,\"\\n\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n\"],[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"noErrorYet\"]]]],{\"statements\":[[4,\"if\",[[24,[\"model\",\"errorHtml\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"not-found\"],[8],[1,[24,[\"model\",\"errorHtml\"]],true],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"topic-error\"],[8],[0,\"\\n            \"],[7,\"div\",true],[8],[1,[24,[\"model\",\"errorMessage\"]],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"noRetry\"]]],null,{\"statements\":[[4,\"unless\",[[24,[\"currentUser\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"label\"],[[28,\"route-action\",[\"showLogin\"],null],\"btn-primary topic-retry\",\"user\",\"log_in\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"              \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"icon\",\"label\"],[[28,\"action\",[[23,0,[]],\"retryLoading\"],null],\"btn-primary topic-retry\",\"sync\",\"errors.buttons.again\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"          \"],[9],[0,\"\\n          \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"retrying\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"\\n  \"],[1,[28,\"share-popup\",null,[[\"topic\",\"replyAsNewTopic\"],[[24,[\"model\"]],[28,\"action\",[[23,0,[]],\"replyAsNewTopic\"],null]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"embedQuoteButton\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"quote-button\",null,[[\"quoteState\",\"selectText\"],[[24,[\"quoteState\"]],[28,\"action\",[[23,0,[]],\"selectText\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"hasEval\":true}","meta":{"moduleName":"topic"}});
Ember.TEMPLATES["unknown"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n  \"],[1,[22,\"model\"],true],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"unknown"}});
Ember.TEMPLATES["user-card"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"card-cloak hidden\"],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[1,[28,\"user-card-contents\",null,[[\"currentPath\",\"topic\",\"showUser\",\"togglePosts\",\"createNewMessageViaParams\"],[[24,[\"router\",\"_router\",\"currentPath\"]],[24,[\"topic\",\"model\"]],[28,\"action\",[[23,0,[]],\"showUser\"],null],[28,\"action\",[[23,0,[]],\"togglePosts\"],null],[28,\"route-action\",[\"createNewMessageViaParams\"],null]]]],false],[0,\"\\n\\n\"],[1,[28,\"group-card-contents\",null,[[\"currentPath\",\"topic\",\"showUser\",\"showGroup\",\"createNewMessageViaParams\"],[[24,[\"router\",\"_router\",\"currentPath\"]],[24,[\"topic\",\"model\"]],[28,\"action\",[[23,0,[]],\"showUser\"],null],[28,\"action\",[[23,0,[]],\"showGroup\"],null],[28,\"route-action\",[\"createNewMessageViaParams\"],null]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"user-card"}});
Ember.TEMPLATES["user-invited-show"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"invite\"],\"statements\":[[4,\"d-section\",null,[[\"pageClass\",\"tagName\"],[\"user-invites\",\"\"]],{\"statements\":[[4,\"if\",[[24,[\"canInviteToForum\"]]],null,{\"statements\":[[4,\"load-more\",null,[[\"class\",\"selector\",\"action\"],[\"user-content\",\".user-invite-list tr\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"      \"],[7,\"section\",true],[8],[0,\"\\n        \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"user.invited.title\"],null],false],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"can_see_invite_details\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"admin-controls\"],[8],[0,\"\\n            \"],[7,\"nav\",true],[8],[0,\"\\n              \"],[7,\"ul\",true],[10,\"class\",\"nav nav-pills\"],[8],[0,\"\\n                \"],[1,[28,\"nav-item\",null,[[\"route\",\"routeParam\",\"i18nLabel\"],[\"userInvited.show\",\"pending\",[24,[\"pendingLabel\"]]]]],false],[0,\"\\n                \"],[1,[28,\"nav-item\",null,[[\"route\",\"routeParam\",\"i18nLabel\"],[\"userInvited.show\",\"redeemed\",[24,[\"redeemedLabel\"]]]]],false],[0,\"\\n              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n\\n            \"],[7,\"div\",true],[10,\"class\",\"pull-right\"],[8],[0,\"\\n              \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"label\"],[\"plus\",[28,\"route-action\",[\"showInvite\"],null],\"user.invited.create\"]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"canBulkInvite\"]]],null,{\"statements\":[[0,\"                \"],[1,[28,\"csv-uploader\",null,[[\"uploading\"],[[24,[\"uploading\"]]]]],false],[0,\"\\n                \"],[7,\"a\",true],[10,\"href\",\"https://meta.discourse.org/t/sending-bulk-user-invites/16468\"],[10,\"target\",\"_blank\"],[10,\"style\",\"color:black;\"],[8],[1,[28,\"d-icon\",[\"question-circle\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showBulkActionButtons\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"rescindedAll\"]]],null,{\"statements\":[[0,\"                  \"],[1,[28,\"i18n\",[\"user.invited.rescinded_all\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                  \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"label\"],[\"times\",[28,\"action\",[[23,0,[]],\"rescindAll\"],null],\"user.invited.rescind_all\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[4,\"if\",[[24,[\"reinvitedAll\"]]],null,{\"statements\":[[0,\"                  \"],[1,[28,\"i18n\",[\"user.invited.reinvited_all\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                  \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"label\"],[\"sync\",[28,\"action\",[[23,0,[]],\"reinviteAll\"],null],\"user.invited.reinvite_all\"]]],false],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"showSearch\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"user-invite-search\"],[8],[0,\"\\n            \"],[7,\"form\",true],[8],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\"],[[24,[\"searchTerm\"]],\"user.invited.search\"]]],false],[9],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"invites\"]]],null,{\"statements\":[[0,\"          \"],[7,\"table\",true],[10,\"class\",\"table user-invite-list\"],[8],[0,\"\\n            \"],[7,\"tbody\",true],[8],[0,\"\\n              \"],[7,\"tr\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"inviteRedeemed\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"user.invited.user\"],null],false],[9],[0,\"\\n                  \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"user.invited.redeemed_at\"],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"can_see_invite_details\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"user.last_seen\"],null],false],[9],[0,\"\\n                    \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"user.invited.topics_entered\"],null],false],[9],[0,\"\\n                    \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"user.invited.posts_read_count\"],null],false],[9],[0,\"\\n                    \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"user.invited.time_read\"],null],false],[9],[0,\"\\n                    \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"user.invited.days_visited\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"                  \"],[7,\"th\",true],[10,\"colspan\",\"1\"],[8],[1,[28,\"i18n\",[\"user.invited.user\"],null],false],[9],[0,\"\\n                  \"],[7,\"th\",true],[10,\"colspan\",\"6\"],[8],[1,[28,\"i18n\",[\"user.invited.sent\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"              \"],[9],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"invites\"]]],null,{\"statements\":[[0,\"                \"],[7,\"tr\",true],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"user\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"td\",true],[8],[0,\"\\n                      \"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"user\",[23,1,[\"user\"]]]],{\"statements\":[[1,[28,\"avatar\",[[23,1,[\"user\"]]],[[\"imageSize\"],[\"tiny\"]]],false]],\"parameters\":[]},null],[0,\"\\n                      \"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"user\",[23,1,[\"user\"]]]],{\"statements\":[[1,[23,1,[\"user\",\"username\"]],false]],\"parameters\":[]},null],[0,\"\\n                    \"],[9],[0,\"\\n                    \"],[7,\"td\",true],[8],[1,[28,\"format-date\",[[23,1,[\"redeemed_at\"]]],null],false],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"can_see_invite_details\"]]],null,{\"statements\":[[0,\"                      \"],[7,\"td\",true],[8],[1,[28,\"format-date\",[[23,1,[\"user\",\"last_seen_at\"]]],null],false],[9],[0,\"\\n                      \"],[7,\"td\",true],[8],[1,[28,\"number\",[[23,1,[\"user\",\"topics_entered\"]]],null],false],[9],[0,\"\\n                      \"],[7,\"td\",true],[8],[1,[28,\"number\",[[23,1,[\"user\",\"posts_read_count\"]]],null],false],[9],[0,\"\\n                      \"],[7,\"td\",true],[8],[1,[28,\"format-duration\",[[23,1,[\"user\",\"time_read\"]]],null],true],[9],[0,\"\\n                      \"],[7,\"td\",true],[8],[0,\"\\n                        \"],[7,\"span\",true],[11,\"title\",[29,[[28,\"i18n\",[\"user.invited.days_visited\"],null]]]],[8],[1,[28,\"unbound\",[[23,1,[\"user\",\"days_visited\"]]],null],true],[9],[0,\"\\n                          /\\n                        \"],[7,\"span\",true],[11,\"title\",[29,[[28,\"i18n\",[\"user.invited.account_age_days\"],null]]]],[8],[1,[28,\"unbound\",[[23,1,[\"user\",\"days_since_created\"]]],null],true],[9],[0,\"\\n                      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},{\"statements\":[[0,\"                    \"],[7,\"td\",true],[8],[1,[28,\"unbound\",[[23,1,[\"email\"]]],null],false],[9],[0,\"\\n                    \"],[7,\"td\",true],[8],[1,[28,\"format-date\",[[23,1,[\"updated_at\"]]],null],false],[9],[0,\"\\n                    \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"expired\"]]],null,{\"statements\":[[0,\"                        \"],[7,\"div\",true],[8],[1,[28,\"i18n\",[\"user.invited.expired\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[23,1,[\"rescinded\"]]],null,{\"statements\":[[0,\"                        \"],[1,[28,\"i18n\",[\"user.invited.rescinded\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                        \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"actionParam\",\"label\"],[\"times\",[28,\"action\",[[23,0,[]],\"rescind\"],null],[23,1,[]],\"user.invited.rescind\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"                     \"],[9],[0,\"\\n                     \"],[7,\"td\",true],[8],[0,\"\\n\"],[4,\"if\",[[23,1,[\"reinvited\"]]],null,{\"statements\":[[0,\"                        \"],[7,\"div\",true],[8],[1,[28,\"i18n\",[\"user.invited.reinvited\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                        \"],[1,[28,\"d-button\",null,[[\"icon\",\"action\",\"actionParam\",\"label\"],[\"sync\",[28,\"action\",[[23,0,[]],\"reinvite\"],null],[23,1,[]],\"user.invited.reinvite\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"                    \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n          \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"invitesLoading\"]]]]],false],[0,\"\\n\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"          \"],[7,\"div\",true],[10,\"class\",\"user-invite-none\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"canBulkInvite\"]]],null,{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"user.invited.bulk_invite.none\"],null],true],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"              \"],[1,[28,\"i18n\",[\"user.invited.none\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"          \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"user-invited-show"}});
Ember.TEMPLATES["user-private-messages-tags"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"div\",true],[10,\"class\",\"list-controls\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n    \"],[7,\"h2\",true],[8],[1,[28,\"i18n\",[\"tagging.tags\"],null],false],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"tag-sort-options\"],[8],[0,\"\\n  \"],[1,[28,\"i18n\",[\"tagging.sort_by\"],null],false],[0,\"\\n  \"],[7,\"span\",true],[11,\"class\",[29,[\"tag-sort-count \",[28,\"if\",[[24,[\"sortedByCount\"]],\"active\"],null]]]],[8],[0,\"\\n    \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"sortByCount\"]],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"tagging.sort_by_count\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n  \"],[7,\"span\",true],[11,\"class\",[29,[\"tag-sort-name \",[28,\"if\",[[24,[\"sortedByName\"]],\"active\"],null]]]],[8],[0,\"\\n    \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"sortById\"]],[8],[0,\"\\n      \"],[1,[28,\"i18n\",[\"tagging.sort_by_name\"],null],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\"],[9],[0,\"\\n\\n\"],[7,\"hr\",true],[8],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"tag-list\",null,[[\"tags\",\"sortProperties\",\"titleKey\",\"isPrivateMessage\",\"tagsForUser\"],[[24,[\"model\"]],[24,[\"sortProperties\"]],\"tagging.all_tags\",true,[24,[\"tagsForUser\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"user-private-messages-tags"}});
Discourse.RAW_TEMPLATES["user-selector-autocomplete"] = requirejs('discourse-common/lib/raw-handlebars').template({"1":function(container,depth0,helpers,partials,data) {
    return "      <li>\n        <a href title=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"user.name",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":5,"column":23},"end":{"line":5,"column":36}}}))
    + "\">\n          "
    + container.escapeExpression((helpers.avatar||(depth0 && depth0.avatar)||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"user",{"name":"avatar","hash":{"imageSize":"tiny"},"hashTypes":{"imageSize":"StringLiteral"},"hashContexts":{"imageSize":depth0},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":6,"column":10},"end":{"line":6,"column":42}}}))
    + "\n          <span class='username'>"
    + container.escapeExpression((helpers["format-username"]||(depth0 && depth0["format-username"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"user.username",{"name":"format-username","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":7,"column":33},"end":{"line":7,"column":66}}}))
    + "</span>\n          <span class='name'>"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"user.name",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":8,"column":29},"end":{"line":8,"column":42}}}))
    + "</span>\n        </a>\n      </li>\n";
},"3":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"email","in","options.emails",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(4, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":14,"column":6},"end":{"line":21,"column":15}}})) != null ? stack1 : "");
},"4":function(container,depth0,helpers,partials,data) {
    return "        <li>\n          <a href title=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"email.username",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":16,"column":25},"end":{"line":16,"column":43}}}))
    + "\">\n            "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"envelope",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":17,"column":12},"end":{"line":17,"column":33}}}))
    + "\n            <span class='username'>"
    + container.escapeExpression((helpers["format-username"]||(depth0 && depth0["format-username"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"email.username",{"name":"format-username","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":18,"column":35},"end":{"line":18,"column":69}}}))
    + "</span>\n          </a>\n        </li>\n";
},"6":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"group","in","options.groups",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(7, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":25,"column":6},"end":{"line":33,"column":15}}})) != null ? stack1 : "");
},"7":function(container,depth0,helpers,partials,data) {
    return "        <li>\n          <a href title=\""
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"group.full_name",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":27,"column":25},"end":{"line":27,"column":44}}}))
    + "\">\n            "
    + container.escapeExpression((helpers["d-icon"]||(depth0 && depth0["d-icon"])||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"users",{"name":"d-icon","hash":{},"hashTypes":{},"hashContexts":{},"types":["StringLiteral"],"contexts":[depth0],"data":data,"loc":{"start":{"line":28,"column":12},"end":{"line":28,"column":30}}}))
    + "\n            <span class='username'>"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"group.name",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":29,"column":35},"end":{"line":29,"column":49}}}))
    + "</span>\n            <span class='name'>"
    + container.escapeExpression(helpers.get.call(depth0 != null ? depth0 : (container.nullContext || {}),"group.full_name",{"name":"get","hash":{},"hashTypes":{},"hashContexts":{},"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":30,"column":31},"end":{"line":30,"column":50}}}))
    + "</span>\n          </a>\n        </li>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<div class='autocomplete ac-user'>\n  <ul>\n"
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),"user","in","options.users",{"name":"each","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(1, data, 0),"inverse":container.noop,"types":["PathExpression","CommentStatement","PathExpression"],"contexts":[depth0,depth0,depth0],"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":11,"column":13}}})) != null ? stack1 : "")
    + "\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"options.emails",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(3, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":13,"column":4},"end":{"line":22,"column":11}}})) != null ? stack1 : "")
    + "\n"
    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),"options.groups",{"name":"if","hash":{},"hashTypes":{},"hashContexts":{},"fn":container.program(6, data, 0),"inverse":container.noop,"types":["PathExpression"],"contexts":[depth0],"data":data,"loc":{"start":{"line":24,"column":4},"end":{"line":34,"column":11}}})) != null ? stack1 : "")
    + "  </ul>\n</div>\n";
},"useData":true});
Ember.TEMPLATES["user-topics-list"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"load-more\",null,[[\"class\",\"selector\",\"action\"],[\"paginated-topics-list\",\".paginated-topics-list .topic-list tr\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"  \"],[1,[28,\"basic-topic-list\",null,[[\"topicList\",\"hideCategory\",\"showPosters\",\"bulkSelectEnabled\",\"selected\",\"hasIncoming\",\"incomingCount\",\"showInserted\",\"tagsForUser\",\"onScroll\",\"scrollOnLoad\"],[[24,[\"model\"]],[24,[\"hideCategory\"]],[24,[\"showPosters\"]],[24,[\"bulkSelectEnabled\"]],[24,[\"selected\"]],[24,[\"hasIncoming\"]],[24,[\"incomingCount\"]],[28,\"action\",[[23,0,[]],\"showInserted\"],null],[24,[\"tagsForUser\"]],[24,[\"saveScrollPosition\"]],true]]],false],[0,\"\\n\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loadingMore\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"user-topics-list"}});
Ember.TEMPLATES["user"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"group\",\"uf\"],\"statements\":[[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\",\"args\"],[\"above-user-profile\",\"\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\"],[7,\"div\",true],[11,\"class\",[29,[\"container \",[28,\"if\",[[24,[\"viewingSelf\"]],\"viewing-self\"],null]]]],[8],[0,\"\\n\"],[4,\"d-section\",null,[[\"class\"],[\"user-main\"]],{\"statements\":[[0,\"\\n    \"],[7,\"section\",true],[11,\"class\",[29,[[28,\"if\",[[24,[\"collapsedInfo\"]],\"collapsed-info\"],null],\" about \",[28,\"if\",[[24,[\"hasProfileBackgroundUrl\"]],\"has-background\",\"no-background\"],null]]]],[8],[0,\"\\n\"],[4,\"unless\",[[24,[\"collapsedInfo\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"showStaffCounters\"]]],null,{\"statements\":[[0,\"      \"],[7,\"div\",true],[10,\"class\",\"staff-counters\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"number_of_flags_given\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[8],[7,\"span\",true],[10,\"class\",\"helpful-flags\"],[8],[1,[24,[\"model\",\"number_of_flags_given\"]],false],[9],[1,[28,\"i18n\",[\"user.staff_counters.flags_given\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"number_of_flagged_posts\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"query\",\"route\"],[[28,\"hash\",null,[[\"username\",\"status\",\"type\"],[[24,[\"model\",\"username\"]],\"all\",\"ReviewableFlaggedPost\"]]],\"review\"]],{\"statements\":[[0,\"              \"],[7,\"span\",true],[10,\"class\",\"flagged-posts\"],[8],[1,[24,[\"model\",\"number_of_flagged_posts\"]],false],[9],[1,[28,\"i18n\",[\"user.staff_counters.flagged_posts\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"number_of_deleted_posts\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"user.deletedPosts\",[24,[\"model\"]]]],{\"statements\":[[0,\"              \"],[7,\"span\",true],[10,\"class\",\"deleted-posts\"],[8],[1,[24,[\"model\",\"number_of_deleted_posts\"]],false],[9],[1,[28,\"i18n\",[\"user.staff_counters.deleted_posts\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"number_of_suspensions\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[8],[0,\"\\n            \"],[7,\"a\",false],[12,\"href\",\"\"],[3,\"action\",[[23,0,[]],\"showSuspensions\"]],[8],[0,\"\\n              \"],[7,\"span\",true],[10,\"class\",\"suspensions\"],[8],[1,[24,[\"model\",\"number_of_suspensions\"]],false],[9],[1,[28,\"i18n\",[\"user.staff_counters.suspensions\"],null],false],[0,\"\\n            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"warnings_received_count\"]]],null,{\"statements\":[[0,\"          \"],[7,\"div\",true],[8],[7,\"span\",true],[10,\"class\",\"warnings-received\"],[8],[1,[24,[\"model\",\"warnings_received_count\"]],false],[9],[1,[28,\"i18n\",[\"user.staff_counters.warnings_received\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[7,\"div\",true],[10,\"class\",\"user-profile-image\"],[11,\"style\",[24,[\"model\",\"profileBackgroundUrl\"]]],[8],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"details\"],[8],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"primary\"],[8],[0,\"\\n          \"],[1,[28,\"user-profile-avatar\",null,[[\"user\",\"tagName\"],[[24,[\"model\"]],\"\"]]],false],[0,\"\\n          \"],[7,\"section\",true],[10,\"class\",\"controls\"],[8],[0,\"\\n            \"],[7,\"ul\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"can_send_private_message_to_user\"]]],null,{\"statements\":[[0,\"                \"],[7,\"li\",true],[8],[0,\"\\n                  \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-primary compose-pm\",[28,\"route-action\",[\"composePrivateMessage\",[24,[\"model\"]]],null],\"envelope\",\"user.private_message\"]]],false],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"canMuteOrIgnoreUser\"]]],null,{\"statements\":[[0,\"                \"],[7,\"li\",true],[8],[0,\"\\n                  \"],[1,[28,\"user-notifications-dropdown\",null,[[\"user\",\"value\",\"updateNotificationLevel\"],[[24,[\"model\"]],[24,[\"userNotificationLevel\"]],[28,\"action\",[[23,0,[]],\"updateNotificationLevel\"],null]]]],false],[0,\"\\n                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"currentUser\",\"staff\"]]],null,{\"statements\":[[0,\"                \"],[7,\"li\",true],[8],[7,\"a\",true],[11,\"href\",[24,[\"model\",\"adminPath\"]]],[10,\"class\",\"btn btn-default\"],[8],[1,[28,\"d-icon\",[\"wrench\"],null],false],[1,[28,\"i18n\",[\"admin.user.show_admin_profile\"],null],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"              \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\",\"connectorTagName\",\"args\"],[\"user-profile-controls\",\"\",\"li\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"canExpandProfile\"]]],null,{\"statements\":[[0,\"                \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"collapsedInfo\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"btn btn-default\"],[3,\"action\",[[23,0,[]],\"expandProfile\"]],[8],[0,\"\\n                      \"],[1,[28,\"d-icon\",[\"angle-double-down\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.expand_profile\"],null],false],[0,\"\\n                    \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                    \"],[7,\"a\",false],[12,\"href\",\"\"],[12,\"class\",\"btn btn-default\"],[3,\"action\",[[23,0,[]],\"collapseProfile\"]],[8],[0,\"\\n                      \"],[1,[28,\"d-icon\",[\"angle-double-up\"],null],false],[0,\" \"],[1,[28,\"i18n\",[\"user.collapse_profile\"],null],false],[0,\"\\n                    \"],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n          \"],[9],[0,\"\\n\\n          \"],[7,\"div\",true],[10,\"class\",\"primary-textual\"],[8],[0,\"\\n            \"],[7,\"div\",true],[10,\"class\",\"user-profile-names\"],[8],[0,\"\\n              \"],[7,\"h1\",true],[11,\"class\",[29,[[28,\"if\",[[24,[\"nameFirst\"]],\"full-name\",\"username\"],null]]]],[8],[1,[28,\"if\",[[24,[\"nameFirst\"]],[24,[\"model\",\"name\"]],[28,\"format-username\",[[24,[\"model\",\"username\"]]],null]],null],false],[0,\" \"],[1,[28,\"user-status\",[[24,[\"model\"]]],[[\"currentUser\"],[[24,[\"currentUser\"]]]]],false],[9],[0,\"\\n              \"],[7,\"h2\",true],[11,\"class\",[29,[[28,\"if\",[[24,[\"nameFirst\"]],\"username\",\"full-name\"],null]]]],[8],[4,\"if\",[[24,[\"nameFirst\"]]],null,{\"statements\":[[1,[24,[\"model\",\"username\"]],false]],\"parameters\":[]},{\"statements\":[[1,[24,[\"model\",\"name\"]],false]],\"parameters\":[]}],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"staged\"]]],null,{\"statements\":[[0,\"                \"],[7,\"h2\",true],[10,\"class\",\"staged\"],[8],[1,[28,\"i18n\",[\"user.staged\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"title\"]]],null,{\"statements\":[[0,\"                \"],[7,\"h3\",true],[8],[1,[24,[\"model\",\"title\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"              \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-post-names\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n            \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"showFeaturedTopic\"]]],null,{\"statements\":[[0,\"              \"],[7,\"h3\",true],[10,\"class\",\"featured-topic\"],[8],[0,\"\\n                \"],[7,\"span\",true],[8],[1,[28,\"i18n\",[\"user.featured_topic\"],null],false],[9],[0,\"\\n                \"],[4,\"link-to\",null,[[\"route\",\"models\"],[\"topic\",[28,\"array\",[[24,[\"model\",\"featured_topic\",\"slug\"]],[24,[\"model\",\"featured_topic\",\"id\"]]],null]]],{\"statements\":[[1,[24,[\"model\",\"featured_topic\",\"fancy_title\"]],true]],\"parameters\":[]},null],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n            \"],[7,\"h3\",true],[10,\"class\",\"location-and-website\"],[8],[0,\"\\n            \"],[4,\"if\",[[24,[\"model\",\"location\"]]],null,{\"statements\":[[7,\"div\",true],[10,\"class\",\"user-profile-location\"],[8],[1,[28,\"d-icon\",[\"map-marker-alt\"],null],false],[0,\" \"],[1,[24,[\"model\",\"location\"]],false],[9]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"website_name\"]]],null,{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"user-profile-website\"],[8],[0,\"\\n              \"],[1,[28,\"d-icon\",[\"globe\"],null],false],[0,\"\\n\"],[4,\"if\",[[24,[\"linkWebsite\"]]],null,{\"statements\":[[0,\"                \"],[7,\"a\",true],[11,\"href\",[24,[\"model\",\"website\"]]],[11,\"rel\",[28,\"unless\",[[24,[\"removeNoFollow\"]],\"nofollow ugc noopener\"],null]],[10,\"target\",\"_blank\"],[8],[1,[24,[\"model\",\"website_name\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                \"],[7,\"span\",true],[11,\"title\",[24,[\"model\",\"website\"]]],[8],[1,[24,[\"model\",\"website_name\"]],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[0,\"              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-location-and-website\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n            \"],[9],[0,\"\\n\\n            \"],[7,\"div\",true],[10,\"class\",\"bio\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"suspended\"]]],null,{\"statements\":[[0,\"                \"],[7,\"div\",true],[10,\"class\",\"suspended\"],[8],[0,\"\\n                  \"],[1,[28,\"d-icon\",[\"ban\"],null],false],[0,\"\\n                  \"],[7,\"b\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"suspendedForever\"]]],null,{\"statements\":[[0,\"                      \"],[1,[28,\"i18n\",[\"user.suspended_permanently\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                      \"],[1,[28,\"i18n\",[\"user.suspended_notice\"],[[\"date\"],[[24,[\"model\",\"suspendedTillDate\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"                  \"],[9],[7,\"br\",true],[8],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"suspend_reason\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"b\",true],[8],[1,[28,\"i18n\",[\"user.suspended_reason\"],null],false],[9],[0,\" \"],[1,[24,[\"model\",\"suspend_reason\"]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"                \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"isNotSuspendedOrIsStaff\"]]],null,{\"statements\":[[0,\"                \"],[1,[24,[\"model\",\"bio_cooked\"]],true],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"            \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"publicUserFields\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[10,\"class\",\"public-user-fields\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"publicUserFields\"]]],null,{\"statements\":[[4,\"if\",[[23,2,[\"value\"]]],null,{\"statements\":[[0,\"                    \"],[7,\"div\",true],[11,\"class\",[29,[\"public-user-field \",[23,2,[\"field\",\"dasherized_name\"]]]]],[8],[0,\"\\n                      \"],[7,\"span\",true],[10,\"class\",\"user-field-name\"],[8],[1,[23,2,[\"field\",\"name\"]],false],[9],[0,\":\\n                      \"],[7,\"span\",true],[10,\"class\",\"user-field-value\"],[8],[1,[23,2,[\"value\"]],false],[9],[0,\"\\n                    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[2]},null],[0,\"\\n                \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-profile-public-fields\",[28,\"hash\",null,[[\"publicUserFields\",\"model\"],[[24,[\"publicUserFields\"]],[24,[\"model\"]]]]]]]],false],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n            \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-profile-primary\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"],[4,\"unless\",[[24,[\"collapsedInfo\"]]],null,{\"statements\":[[0,\"        \"],[7,\"div\",true],[10,\"class\",\"secondary\"],[8],[0,\"\\n          \"],[7,\"dl\",true],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"created_at\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[8],[7,\"dt\",true],[8],[1,[28,\"i18n\",[\"user.created\"],null],false],[9],[7,\"dd\",true],[8],[1,[28,\"bound-date\",[[24,[\"model\",\"created_at\"]]],null],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"last_posted_at\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[8],[7,\"dt\",true],[8],[1,[28,\"i18n\",[\"user.last_posted\"],null],false],[9],[7,\"dd\",true],[8],[1,[28,\"bound-date\",[[24,[\"model\",\"last_posted_at\"]]],null],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"last_seen_at\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[8],[7,\"dt\",true],[8],[1,[28,\"i18n\",[\"user.last_seen\"],null],false],[9],[7,\"dd\",true],[8],[1,[28,\"bound-date\",[[24,[\"model\",\"last_seen_at\"]]],null],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"profile_view_count\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[8],[7,\"dt\",true],[8],[1,[28,\"i18n\",[\"views\"],null],false],[9],[7,\"dd\",true],[8],[1,[24,[\"model\",\"profile_view_count\"]],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"invited_by\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[8],[7,\"dt\",true],[10,\"class\",\"invited-by\"],[8],[1,[28,\"i18n\",[\"user.invited_by\"],null],false],[9],[7,\"dd\",true],[10,\"class\",\"invited-by\"],[8],[4,\"link-to\",null,[[\"route\",\"model\"],[\"user\",[24,[\"model\",\"invited_by\"]]]],{\"statements\":[[1,[24,[\"model\",\"invited_by\",\"username\"]],false]],\"parameters\":[]},null],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"model\",\"trust_level\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[8],[7,\"dt\",true],[10,\"class\",\"trust-level\"],[8],[1,[28,\"i18n\",[\"user.trust_level\"],null],false],[9],[7,\"dd\",true],[10,\"class\",\"trust-level\"],[8],[1,[24,[\"model\",\"trustLevel\",\"name\"]],false],[9],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"canCheckEmails\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[8],[7,\"dt\",true],[8],[1,[28,\"i18n\",[\"user.email.title\"],null],false],[9],[0,\"\\n              \"],[7,\"dd\",true],[11,\"title\",[24,[\"model\",\"email\"]]],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"email\"]]],null,{\"statements\":[[0,\"                  \"],[1,[24,[\"model\",\"email\"]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"                  \"],[1,[28,\"d-button\",null,[[\"action\",\"actionParam\",\"icon\",\"label\",\"class\"],[[28,\"route-action\",[\"checkEmail\"],null],[24,[\"model\"]],\"far-envelope\",\"admin.users.check_email.text\",\"btn-primary\"]]],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"              \"],[9],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"displayGroups\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[8],[7,\"dt\",true],[10,\"class\",\"groups\"],[8],[1,[28,\"i18n\",[\"groups.title\"],[[\"count\"],[[24,[\"model\",\"displayGroups\",\"length\"]]]]],false],[9],[0,\"\\n              \"],[7,\"dd\",true],[10,\"class\",\"groups\"],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"displayGroups\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"span\",true],[8],[4,\"link-to\",null,[[\"class\",\"route\",\"model\"],[\"group-link\",\"group\",[23,1,[\"name\"]]]],{\"statements\":[[1,[23,1,[\"name\"]],false]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"\\n\"],[4,\"link-to\",null,[[\"query\",\"route\"],[[28,\"hash\",null,[[\"username\"],[[24,[\"model\",\"username\"]]]]],\"groups\"]],{\"statements\":[[0,\"                  ...\\n\"]],\"parameters\":[]},null],[0,\"              \"],[9],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canDeleteUser\"]]],null,{\"statements\":[[0,\"              \"],[7,\"div\",true],[10,\"class\",\"pull-right\"],[8],[1,[28,\"d-button\",null,[[\"action\",\"icon\",\"label\",\"class\"],[[28,\"action\",[[23,0,[]],\"adminDelete\"],null],\"exclamation-triangle\",\"user.admin_delete\",\"btn-danger\"]]],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"          \"],[9],[0,\"\\n          \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"args\"],[\"user-profile-secondary\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\\n\\n    \"],[9],[0,\"\\n\\n    \"],[7,\"div\",true],[10,\"class\",\"user-content-wrapper\"],[8],[0,\"\\n\\n    \"],[7,\"section\",true],[10,\"class\",\"user-primary-navigation\"],[8],[0,\"\\n\"],[4,\"mobile-nav\",null,[[\"class\",\"desktopClass\",\"currentPath\"],[\"main-nav\",\"nav nav-pills user-nav\",[24,[\"currentPath\"]]]],{\"statements\":[[4,\"unless\",[[24,[\"model\",\"profile_hidden\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[8],[4,\"link-to\",null,[[\"route\"],[\"user.summary\"]],{\"statements\":[[1,[28,\"i18n\",[\"user.summary.title\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n        \"],[7,\"li\",true],[8],[4,\"link-to\",null,[[\"route\"],[\"userActivity\"]],{\"statements\":[[1,[28,\"i18n\",[\"user.activity_stream\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showNotificationsTab\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"userNotifications\"]],{\"statements\":[[0,\"            \"],[1,[28,\"d-icon\",[\"comment\"],[[\"class\"],[\"glyph\"]]],false],[1,[28,\"i18n\",[\"user.notifications\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showPrivateMessages\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[8],[4,\"link-to\",null,[[\"route\"],[\"userPrivateMessages\"]],{\"statements\":[[1,[28,\"d-icon\",[\"far-envelope\"],null],false],[1,[28,\"i18n\",[\"user.private_messages\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"canInviteToForum\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[8],[4,\"link-to\",null,[[\"route\"],[\"userInvited\"]],{\"statements\":[[1,[28,\"d-icon\",[\"user-plus\"],null],false],[1,[28,\"i18n\",[\"user.invited.title\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"showBadges\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[8],[4,\"link-to\",null,[[\"route\"],[\"user.badges\"]],{\"statements\":[[1,[28,\"d-icon\",[\"certificate\"],null],false],[1,[28,\"i18n\",[\"badges.title\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\",\"connectorTagName\",\"args\"],[\"user-main-nav\",\"\",\"li\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"can_edit\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[8],[4,\"link-to\",null,[[\"route\"],[\"preferences\"]],{\"statements\":[[1,[28,\"d-icon\",[\"cog\"],null],false],[1,[28,\"i18n\",[\"user.preferences\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\\n        \"],[1,[22,\"outlet\"],false],[0,\"\\n    \"],[9],[0,\"\\n\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"user"}});
Ember.TEMPLATES["user/activity"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-section\",null,[[\"pageClass\",\"class\",\"scrollTop\"],[\"user-activity\",\"user-secondary-navigation\",\"false\"]],{\"statements\":[[4,\"mobile-nav\",null,[[\"class\",\"desktopClass\",\"currentPath\"],[\"activity-nav\",\"action-list activity-list nav-stacked\",[24,[\"router\",\"_router\",\"currentPath\"]]]],{\"statements\":[[0,\"    \"],[7,\"li\",true],[8],[0,\"\\n      \"],[4,\"link-to\",null,[[\"route\"],[\"userActivity.index\"]],{\"statements\":[[1,[28,\"i18n\",[\"user.filters.all\"],null],false]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[8],[0,\"\\n      \"],[4,\"link-to\",null,[[\"route\"],[\"userActivity.topics\"]],{\"statements\":[[1,[28,\"i18n\",[\"user_action_groups.4\"],null],false]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[8],[0,\"\\n      \"],[4,\"link-to\",null,[[\"route\"],[\"userActivity.replies\"]],{\"statements\":[[1,[28,\"i18n\",[\"user_action_groups.5\"],null],false]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"showDrafts\"]]],null,{\"statements\":[[0,\"    \"],[7,\"li\",true],[8],[0,\"\\n      \"],[4,\"link-to\",null,[[\"route\"],[\"userActivity.drafts\"]],{\"statements\":[[1,[28,\"i18n\",[\"user_action_groups.15\"],null],false]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[7,\"li\",true],[8],[0,\"\\n      \"],[4,\"link-to\",null,[[\"route\"],[\"userActivity.likesGiven\"]],{\"statements\":[[1,[28,\"i18n\",[\"user_action_groups.1\"],null],false]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"user\",\"showBookmarks\"]]],null,{\"statements\":[[0,\"    \"],[7,\"li\",true],[8],[0,\"\\n      \"],[4,\"link-to\",null,[[\"route\"],[\"userActivity.bookmarks\"]],{\"statements\":[[1,[28,\"i18n\",[\"user_action_groups.3\"],null],false]],\"parameters\":[]},null],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"connectorTagName\",\"args\"],[\"user-activity-bottom\",\"li\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[4,\"if\",[[24,[\"canDownloadPosts\"]]],null,{\"statements\":[[0,\"    \"],[7,\"section\",true],[10,\"class\",\"user-additional-controls\"],[8],[0,\"\\n      \"],[1,[28,\"d-button\",null,[[\"action\",\"class\",\"label\",\"icon\"],[[28,\"action\",[[23,0,[]],\"exportUserArchive\"],null],\"btn-default\",\"user.download_archive.button_text\",\"download\"]]],false],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[7,\"section\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n  \"],[1,[22,\"outlet\"],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"user/activity"}});
Ember.TEMPLATES["user/badges"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"ub\"],\"statements\":[[4,\"d-section\",null,[[\"pageClass\",\"class\"],[\"user-badges\",\"user-content user-badges-list\"]],{\"statements\":[[4,\"each\",[[24,[\"sortedBadges\"]]],null,{\"statements\":[[0,\"    \"],[1,[28,\"badge-card\",null,[[\"badge\",\"count\",\"username\",\"filterUser\"],[[23,1,[\"badge\"]],[23,1,[\"count\"]],[24,[\"username\"]],\"true\"]]],false],[0,\"\\n\"]],\"parameters\":[1]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"user/badges"}});
Ember.TEMPLATES["user/messages"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"group\"],\"statements\":[[4,\"d-section\",null,[[\"class\",\"pageClass\"],[\"user-secondary-navigation\",\"user-messages\"]],{\"statements\":[[4,\"unless\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"showNewPM\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-primary new-private-message\",[28,\"route-action\",[\"composePrivateMessage\"],null],\"envelope\",\"user.new_private_message\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"mobile-nav\",null,[[\"class\",\"desktopClass\",\"currentPath\"],[\"messages-nav\",\"nav-stacked action-list\",[24,[\"currentPath\"]]]],{\"statements\":[[0,\"    \"],[7,\"li\",true],[10,\"class\",\"noGlyph\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"userPrivateMessages.index\",[24,[\"model\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.messages.inbox\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[10,\"class\",\"noGlyph\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"userPrivateMessages.sent\",[24,[\"model\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.messages.sent\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[10,\"class\",\"noGlyph\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"userPrivateMessages.archive\",[24,[\"model\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.messages.archive\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"connectorTagName\",\"args\"],[\"user-messages-nav\",\"li\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"groups\"]]],null,{\"statements\":[[4,\"if\",[[23,1,[\"has_messages\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"userPrivateMessages.group\",[23,1,[\"name\"]]]],{\"statements\":[[0,\"            \"],[1,[28,\"d-icon\",[\"users\"],null],false],[0,\"\\n            \"],[1,[28,\"capitalize-string\",[[23,1,[\"name\"]]],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n        \"],[7,\"li\",true],[10,\"class\",\"archive\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"userPrivateMessages.groupArchive\",[23,1,[\"name\"]]]],{\"statements\":[[0,\"            \"],[1,[28,\"i18n\",[\"user.messages.archive\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[1]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"pmTaggingEnabled\"]]],null,{\"statements\":[[0,\"      \"],[7,\"li\",true],[10,\"class\",\"noGlyph\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"userPrivateMessages.tags\",[24,[\"model\"]]]],{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[\"user.messages.tags\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"tagId\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[10,\"class\",\"archive\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\",\"model\"],[\"userPrivateMessages.tagsShow\",[24,[\"tagId\"]]]],{\"statements\":[[0,\"            \"],[1,[22,\"tagId\"],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"section\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n\\n\"],[7,\"div\",true],[10,\"class\",\"list-actions\"],[8],[0,\"\\n\\n\"],[4,\"unless\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"showToggleBulkSelect\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"title\",\"icon\"],[\"btn-default bulk-select\",[28,\"action\",[[23,0,[]],\"toggleBulkSelect\"],null],\"user.messages.bulk_select\",\"list\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"site\",\"mobileView\"]]],null,{\"statements\":[[4,\"if\",[[24,[\"showNewPM\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"icon\",\"label\"],[\"btn-primary new-private-message\",[28,\"route-action\",[\"composePrivateMessage\"],null],\"envelope\",\"user.new_private_message\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canArchive\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-default btn-archive\",[28,\"action\",[[23,0,[]],\"archive\"],null],\"user.messages.move_to_archive\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"canMoveToInbox\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-default btn-to-inbox\",[28,\"action\",[[23,0,[]],\"toInbox\"],null],\"user.messages.move_to_inbox\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"bulkSelectEnabled\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"d-button\",null,[[\"class\",\"action\",\"label\"],[\"btn-default btn-select-all\",[28,\"action\",[[23,0,[]],\"selectAll\"],null],\"user.messages.select_all\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"isGroup\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"group-notifications-button\",null,[[\"value\",\"onChange\"],[[24,[\"group\",\"group_user\",\"notification_level\"]],[28,\"action\",[[23,0,[]],\"changeGroupNotificationLevel\"],null]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\\n\"],[1,[22,\"outlet\"],false],[0,\"\\n\"],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"user/messages"}});
Ember.TEMPLATES["user/notifications-index"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"model\",\"error\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"item error\"],[8],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"forbidden\"]]],null,{\"statements\":[[0,\"      \"],[1,[28,\"i18n\",[\"errors.reasons.forbidden\"],null],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"      \"],[1,[28,\"i18n\",[\"errors.desc.unknown\"],null],false],[0,\"\\n\"]],\"parameters\":[]}],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"hasNotifications\"]]],null,{\"statements\":[[0,\"  \"],[1,[28,\"user-notifications-large\",null,[[\"notifications\"],[[24,[\"model\"]]]]],false],[0,\"\\n  \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"loading\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"alert alert-info\"],[8],[1,[28,\"i18n\",[\"notifications.empty\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"hasEval\":false}","meta":{"moduleName":"user/notifications-index"}});
Ember.TEMPLATES["user/notifications"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-section\",null,[[\"pageClass\",\"class\"],[\"user-notifications\",\"user-secondary-navigation\"]],{\"statements\":[[4,\"mobile-nav\",null,[[\"class\",\"desktopClass\",\"currentPath\"],[\"notifications-nav\",\"notification-list action-list nav-stacked\",[24,[\"currentPath\"]]]],{\"statements\":[[0,\"    \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"userNotifications.index\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user.filters.all\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"userNotifications.responses\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user_action_groups.6\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n    \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"userNotifications.likesReceived\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user_action_groups.2\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"enable_mentions\"]]],null,{\"statements\":[[0,\"      \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"userNotifications.mentions\"]],{\"statements\":[[0,\"          \"],[1,[28,\"i18n\",[\"user_action_groups.7\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[7,\"li\",true],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"userNotifications.edits\"]],{\"statements\":[[0,\"        \"],[1,[28,\"i18n\",[\"user_action_groups.11\"],null],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"model\"]]],null,{\"statements\":[[7,\"section\",true],[10,\"class\",\"user-additional-controls\"],[8],[0,\"\\n    \"],[1,[28,\"d-button\",null,[[\"title\",\"class\",\"action\",\"label\",\"icon\",\"disabled\"],[\"user.dismiss_notifications_tooltip\",\"btn btn-default dismiss-notifications\",[28,\"action\",[[23,0,[]],\"resetNew\"],null],\"user.dismiss_notifications\",\"check\",[24,[\"allNotificationsRead\"]]]]],false],[0,\"\\n               \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[7,\"section\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n\"],[4,\"load-more\",null,[[\"class\",\"selector\",\"action\"],[\"notification-history user-stream\",\".user-stream .notification\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"    \"],[1,[22,\"outlet\"],false],[0,\"\\n    \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loadingMore\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"user/notifications"}});
Ember.TEMPLATES["user/posts"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[1,[28,\"user-stream\",null,[[\"stream\"],[[24,[\"model\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"user/posts"}});
Ember.TEMPLATES["user/preferences/_save-button"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"d-button\",null,[[\"class\",\"action\",\"disabled\"],[\"btn-primary save-user\",[28,\"action\",[[23,0,[]],\"save\"],null],[24,[\"model\",\"isSaving\"]]]],{\"statements\":[[0,\"  \"],[1,[22,\"saveButtonText\"],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"saved\"]]],null,{\"statements\":[[0,\"  \"],[7,\"span\",true],[10,\"class\",\"saved-user\"],[8],[1,[28,\"i18n\",[\"saved\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"user/preferences/_save-button"}});
Ember.TEMPLATES["user/profile-hidden"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[7,\"p\",true],[10,\"class\",\"user-profile-hidden\"],[8],[1,[28,\"i18n\",[\"user.profile_hidden\"],null],false],[9],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"user/profile-hidden"}});
Ember.TEMPLATES["user/stream"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[],\"statements\":[[4,\"if\",[[24,[\"model\",\"noContent\"]]],null,{\"statements\":[[0,\"  \"],[7,\"div\",true],[10,\"class\",\"alert alert-info\"],[8],[1,[24,[\"model\",\"noContentHelp\"]],true],[9],[0,\"\\n\"]],\"parameters\":[]},null],[1,[28,\"user-stream\",null,[[\"stream\"],[[24,[\"model\"]]]]],false],[0,\"\\n\"]],\"hasEval\":false}","meta":{"moduleName":"user/stream"}});
Ember.TEMPLATES["user/summary"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"badge\",\"category\",\"user\",\"user\",\"user\",\"link\",\"topic\",\"reply\"],\"statements\":[[4,\"d-section\",null,[[\"pageClass\",\"tagName\"],[\"user-summary\",\"\"]],{\"statements\":[[7,\"div\",true],[10,\"class\",\"user-content\"],[8],[0,\"\\n  \"],[7,\"div\",true],[10,\"class\",\"top-section stats-section\"],[8],[0,\"\\n    \"],[7,\"h3\",true],[10,\"class\",\"stats-title\"],[8],[1,[28,\"i18n\",[\"user.summary.stats\"],null],false],[9],[0,\"\\n    \"],[7,\"ul\",true],[8],[0,\"\\n      \"],[7,\"li\",true],[8],[0,\"\\n        \"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"model\",\"days_visited\"]],\"user.summary.days_visited\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"li\",true],[8],[0,\"\\n        \"],[1,[28,\"user-stat\",null,[[\"value\",\"label\",\"type\"],[[24,[\"timeRead\"]],\"user.summary.time_read\",\"string\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"showRecentTimeRead\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[8],[0,\"\\n          \"],[1,[28,\"user-stat\",null,[[\"value\",\"label\",\"type\"],[[24,[\"recentTimeRead\"]],\"user.summary.recent_time_read\",\"string\"]]],false],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[7,\"li\",true],[8],[0,\"\\n        \"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"model\",\"topics_entered\"]],\"user.summary.topics_entered\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"li\",true],[8],[0,\"\\n        \"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"model\",\"posts_read_count\"]],\"user.summary.posts_read\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[7,\"li\",true],[10,\"class\",\"linked-stat\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"userActivity.likesGiven\"]],{\"statements\":[[0,\"          \"],[1,[28,\"user-stat\",null,[[\"value\",\"icon\",\"label\"],[[24,[\"model\",\"likes_given\"]],\"heart\",\"user.summary.likes_given\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n\"],[4,\"if\",[[24,[\"model\",\"bookmark_count\"]]],null,{\"statements\":[[0,\"        \"],[7,\"li\",true],[10,\"class\",\"linked-stat\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"userActivity.bookmarks\"]],{\"statements\":[[0,\"            \"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"model\",\"bookmark_count\"]],\"user.summary.bookmark_count\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[7,\"li\",true],[10,\"class\",\"linked-stat\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"userActivity.topics\"]],{\"statements\":[[0,\"          \"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"model\",\"topic_count\"]],\"user.summary.topic_count\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n      \"],[7,\"li\",true],[10,\"class\",\"linked-stat\"],[8],[0,\"\\n\"],[4,\"link-to\",null,[[\"route\"],[\"userActivity.replies\"]],{\"statements\":[[0,\"          \"],[1,[28,\"user-stat\",null,[[\"value\",\"label\"],[[24,[\"model\",\"post_count\"]],\"user.summary.post_count\"]]],false],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"      \"],[9],[0,\"\\n      \"],[7,\"li\",true],[8],[0,\"\\n        \"],[1,[28,\"user-stat\",null,[[\"value\",\"icon\",\"label\"],[[24,[\"model\",\"likes_received\"]],\"heart\",\"user.summary.likes_received\"]]],false],[0,\"\\n      \"],[9],[0,\"\\n      \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"tagName\",\"connectorTagName\",\"args\"],[\"user-summary-stat\",\"\",\"li\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n    \"],[9],[0,\"\\n  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"top-section\"],[8],[0,\"\\n\"],[4,\"user-summary-section\",null,[[\"title\",\"class\"],[\"top_replies\",\"replies-section pull-left\"]],{\"statements\":[[4,\"user-summary-topics-list\",null,[[\"type\",\"items\",\"user\"],[\"replies\",[24,[\"model\",\"replies\"]],[24,[\"user\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"user-summary-topic\",null,[[\"createdAt\",\"topic\",\"likes\",\"url\"],[[23,8,[\"createdAt\"]],[23,8,[\"topic\"]],[23,8,[\"like_count\"]],[23,8,[\"url\"]]]]],false],[0,\"\\n\"]],\"parameters\":[8]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"user-summary-section\",null,[[\"title\",\"class\"],[\"top_topics\",\"topics-section pull-right\"]],{\"statements\":[[4,\"user-summary-topics-list\",null,[[\"type\",\"items\",\"user\"],[\"topics\",[24,[\"model\",\"topics\"]],[24,[\"user\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"user-summary-topic\",null,[[\"createdAt\",\"topic\",\"likes\",\"url\"],[[23,7,[\"created_at\"]],[23,7,[]],[23,7,[\"like_count\"]],[23,7,[\"url\"]]]]],false],[0,\"\\n\"]],\"parameters\":[7]},null]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"top-section\"],[8],[0,\"\\n\"],[4,\"user-summary-section\",null,[[\"title\",\"class\"],[\"top_links\",\"links-section pull-left\"]],{\"statements\":[[4,\"if\",[[24,[\"model\",\"links\",\"length\"]]],null,{\"statements\":[[0,\"        \"],[7,\"ul\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"links\"]]],null,{\"statements\":[[0,\"            \"],[7,\"li\",true],[8],[0,\"\\n              \"],[7,\"a\",true],[10,\"class\",\"domain\"],[11,\"href\",[29,[[28,\"unbound\",[[23,6,[\"url\"]]],null]]]],[11,\"title\",[29,[[28,\"unbound\",[[23,6,[\"title\"]]],null]]]],[11,\"rel\",[29,[[28,\"unless\",[[24,[\"user\",\"removeNoFollow\"]],\"nofollow ugc noopener\"],null]]]],[10,\"target\",\"_blank\"],[8],[0,\"\\n                \"],[1,[28,\"shorten-url\",[[23,6,[\"url\"]]],null],false],[0,\"\\n              \"],[9],[0,\"\\n              \"],[7,\"span\",true],[10,\"class\",\"badge badge-notification clicks\"],[11,\"title\",[29,[[28,\"i18n\",[\"topic_map.clicks\"],[[\"count\"],[[23,6,[\"clicks\"]]]]]]]],[8],[1,[28,\"number\",[[23,6,[\"clicks\"]]],null],false],[9],[0,\"\\n              \"],[7,\"br\",true],[8],[9],[0,\"\\n              \"],[7,\"a\",true],[11,\"href\",[29,[[28,\"unbound\",[[23,6,[\"post_url\"]]],null]]]],[8],[1,[23,6,[\"topic\",\"fancyTitle\"]],true],[9],[0,\"\\n            \"],[9],[0,\"\\n\"]],\"parameters\":[6]},null],[0,\"        \"],[9],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"        \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"user.summary.no_links\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"user-summary-section\",null,[[\"title\",\"class\"],[\"most_replied_to_users\",\"summary-user-list replied-section pull-right\"]],{\"statements\":[[4,\"user-summary-users-list\",null,[[\"none\",\"users\"],[\"no_replies\",[24,[\"model\",\"most_replied_to_users\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"user-summary-user\",null,[[\"user\",\"icon\",\"countClass\"],[[23,5,[]],\"reply\",\"replies\"]]],false],[0,\"\\n\"]],\"parameters\":[5]},null]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n  \"],[7,\"div\",true],[10,\"class\",\"top-section most-liked-section\"],[8],[0,\"\\n\"],[4,\"user-summary-section\",null,[[\"title\",\"class\"],[\"most_liked_by\",\"summary-user-list liked-by-section pull-left\"]],{\"statements\":[[4,\"user-summary-users-list\",null,[[\"none\",\"users\"],[\"no_likes\",[24,[\"model\",\"most_liked_by_users\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"user-summary-user\",null,[[\"user\",\"icon\",\"countClass\"],[[23,4,[]],\"heart\",\"likes\"]]],false],[0,\"\\n\"]],\"parameters\":[4]},null]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"user-summary-section\",null,[[\"title\",\"class\"],[\"most_liked_users\",\"summary-user-list liked-section pull-right\"]],{\"statements\":[[4,\"user-summary-users-list\",null,[[\"none\",\"users\"],[\"no_likes\",[24,[\"model\",\"most_liked_users\"]]]],{\"statements\":[[0,\"        \"],[1,[28,\"user-summary-user\",null,[[\"user\",\"icon\",\"countClass\"],[[23,3,[]],\"heart\",\"likes\"]]],false],[0,\"\\n\"]],\"parameters\":[3]},null]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\\n\"],[4,\"if\",[[24,[\"model\",\"top_categories\",\"length\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"top-section top-categories-section\"],[8],[0,\"\\n\"],[4,\"user-summary-section\",null,[[\"title\",\"class\"],[\"top_categories\",\"summary-category-list pull-left\"]],{\"statements\":[[0,\"        \"],[7,\"table\",true],[8],[0,\"\\n          \"],[7,\"thead\",true],[8],[0,\"\\n            \"],[7,\"th\",true],[10,\"class\",\"category-link\"],[8],[9],[0,\"\\n            \"],[7,\"th\",true],[10,\"class\",\"topic-count\"],[8],[1,[28,\"i18n\",[\"user.summary.topics\"],null],false],[9],[0,\"\\n            \"],[7,\"th\",true],[10,\"class\",\"reply-count\"],[8],[1,[28,\"i18n\",[\"user.summary.replies\"],null],false],[9],[0,\"\\n          \"],[9],[0,\"\\n          \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"top_categories\"]]],null,{\"statements\":[[0,\"              \"],[7,\"tr\",true],[8],[0,\"\\n                \"],[7,\"td\",true],[10,\"class\",\"category-link\"],[8],[0,\"\\n                  \"],[1,[28,\"category-link\",[[23,2,[]]],[[\"allowUncategorized\",\"hideParent\"],[\"true\",false]]],false],[0,\"\\n                \"],[9],[0,\"\\n                \"],[7,\"td\",true],[10,\"class\",\"topic-count\"],[8],[0,\"\\n                  \"],[1,[28,\"user-summary-category-search\",null,[[\"user\",\"category\",\"count\"],[[24,[\"user\"]],[23,2,[]],[23,2,[\"topic_count\"]]]]],false],[0,\"\\n                \"],[9],[0,\"\\n                \"],[7,\"td\",true],[10,\"class\",\"reply-count\"],[8],[0,\"\\n                  \"],[1,[28,\"user-summary-category-search\",null,[[\"user\",\"category\",\"count\"],[[24,[\"user\"]],[23,2,[]],[23,2,[\"post_count\"]]]]],false],[0,\"\\n                \"],[9],[0,\"\\n              \"],[9],[0,\"\\n\"]],\"parameters\":[2]},null],[0,\"          \"],[9],[0,\"\\n        \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"\\n\"],[4,\"if\",[[24,[\"siteSettings\",\"enable_badges\"]]],null,{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"top-section badges-section\"],[8],[0,\"\\n      \"],[7,\"h3\",true],[10,\"class\",\"stats-title\"],[8],[1,[28,\"i18n\",[\"user.summary.top_badges\"],null],false],[9],[0,\"\\n\"],[4,\"each\",[[24,[\"model\",\"badges\"]]],null,{\"statements\":[[0,\"        \"],[1,[28,\"badge-card\",null,[[\"badge\",\"count\",\"username\"],[[23,1,[]],[23,1,[\"count\"]],[24,[\"user\",\"username_lower\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},{\"statements\":[[0,\"        \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"user.summary.no_badges\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}],[4,\"if\",[[24,[\"moreBadges\"]]],null,{\"statements\":[[0,\"        \"],[7,\"p\",true],[8],[4,\"link-to\",null,[[\"class\",\"route\",\"model\"],[\"more\",\"user.badges\",[24,[\"user\"]]]],{\"statements\":[[1,[28,\"i18n\",[\"user.summary.more_badges\"],null],false]],\"parameters\":[]},null],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"  \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"user/summary"}});
Ember.TEMPLATES["users"] = Ember.HTMLBars.template({"id":null,"block":"{\"symbols\":[\"item\"],\"statements\":[[4,\"d-section\",null,[[\"pageClass\"],[\"users\"]],{\"statements\":[[4,\"load-more\",null,[[\"selector\",\"action\"],[\".directory tbody tr\",[28,\"action\",[[23,0,[]],\"loadMore\"],null]]],{\"statements\":[[0,\"    \"],[7,\"div\",true],[10,\"class\",\"container\"],[8],[0,\"\\n      \"],[7,\"div\",true],[10,\"class\",\"directory\"],[8],[0,\"\\n        \"],[1,[28,\"plugin-outlet\",null,[[\"name\",\"connectorTagName\",\"args\"],[\"users-top\",\"div\",[28,\"hash\",null,[[\"model\"],[[24,[\"model\"]]]]]]]],false],[0,\"\\n        \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[0,\"\\n          \"],[1,[28,\"period-chooser\",null,[[\"period\",\"onChange\"],[[24,[\"period\"]],[28,\"action\",[[23,0,[]],[28,\"mut\",[[24,[\"period\"]]],null]],null]]]],false],[0,\"\\n          \"],[1,[28,\"text-field\",null,[[\"value\",\"placeholderKey\",\"class\"],[[24,[\"nameInput\"]],\"directory.filter_name\",\"filter-name no-blur\"]]],false],[0,\"\\n        \"],[9],[0,\"\\n\\n\"],[4,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loading\"]]]],{\"statements\":[[4,\"if\",[[24,[\"model\",\"length\"]]],null,{\"statements\":[[0,\"\\n            \"],[7,\"table\",true],[8],[0,\"\\n              \"],[7,\"thead\",true],[8],[0,\"\\n                \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"directory.total_rows\"],[[\"count\"],[[24,[\"model\",\"totalRows\"]]]]],false],[9],[0,\"\\n                \"],[1,[28,\"directory-toggle\",null,[[\"field\",\"order\",\"asc\",\"icon\"],[\"likes_received\",[24,[\"order\"]],[24,[\"asc\"]],\"heart\"]]],false],[0,\"\\n                \"],[1,[28,\"directory-toggle\",null,[[\"field\",\"order\",\"asc\",\"icon\"],[\"likes_given\",[24,[\"order\"]],[24,[\"asc\"]],\"heart\"]]],false],[0,\"\\n                \"],[1,[28,\"directory-toggle\",null,[[\"field\",\"order\",\"asc\"],[\"topic_count\",[24,[\"order\"]],[24,[\"asc\"]]]]],false],[0,\"\\n                \"],[1,[28,\"directory-toggle\",null,[[\"field\",\"order\",\"asc\"],[\"post_count\",[24,[\"order\"]],[24,[\"asc\"]]]]],false],[0,\"\\n                \"],[1,[28,\"directory-toggle\",null,[[\"field\",\"order\",\"asc\"],[\"topics_entered\",[24,[\"order\"]],[24,[\"asc\"]]]]],false],[0,\"\\n                \"],[1,[28,\"directory-toggle\",null,[[\"field\",\"order\",\"asc\"],[\"posts_read\",[24,[\"order\"]],[24,[\"asc\"]]]]],false],[0,\"\\n                \"],[1,[28,\"directory-toggle\",null,[[\"field\",\"order\",\"asc\"],[\"days_visited\",[24,[\"order\"]],[24,[\"asc\"]]]]],false],[0,\"\\n\"],[4,\"if\",[[24,[\"showTimeRead\"]]],null,{\"statements\":[[0,\"                  \"],[7,\"th\",true],[8],[1,[28,\"i18n\",[\"directory.time_read\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]},null],[0,\"              \"],[9],[0,\"\\n              \"],[7,\"tbody\",true],[8],[0,\"\\n\"],[4,\"each\",[[24,[\"model\"]]],null,{\"statements\":[[0,\"                  \"],[1,[28,\"directory-item\",null,[[\"item\",\"showTimeRead\"],[[23,1,[]],[24,[\"showTimeRead\"]]]]],false],[0,\"\\n\"]],\"parameters\":[1]},null],[0,\"              \"],[9],[0,\"\\n            \"],[9],[0,\"\\n\\n            \"],[1,[28,\"conditional-loading-spinner\",null,[[\"condition\"],[[24,[\"model\",\"loadingMore\"]]]]],false],[0,\"\\n\"]],\"parameters\":[]},{\"statements\":[[0,\"            \"],[7,\"div\",true],[10,\"class\",\"clearfix\"],[8],[9],[0,\"\\n            \"],[7,\"p\",true],[8],[1,[28,\"i18n\",[\"directory.no_results\"],null],false],[9],[0,\"\\n\"]],\"parameters\":[]}]],\"parameters\":[]},null],[0,\"\\n      \"],[9],[0,\"\\n    \"],[9],[0,\"\\n\"]],\"parameters\":[]},null]],\"parameters\":[]},null]],\"hasEval\":false}","meta":{"moduleName":"users"}});
define("discourse/routes/about", ["exports", "discourse/lib/ajax", "discourse/routes/discourse"], function (exports, _ajax, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model() {
      var _this = this;

      return (0, _ajax.ajax)("/about.json").then(function (result) {
        var activeAdmins = [];
        var activeModerators = [];
        var yearAgo = moment().locale("en").utc().subtract(1, "year");
        result.about.admins.forEach(function (r) {
          if (moment(r.last_seen_at) > yearAgo) activeAdmins.push(r);
        });
        result.about.moderators.forEach(function (r) {
          if (moment(r.last_seen_at) > yearAgo) activeModerators.push(r);
        });
        result.about.admins = activeAdmins;
        result.about.moderators = activeModerators;

        var categoryModerators = result.about.category_moderators;

        if (categoryModerators && categoryModerators.length) {
          categoryModerators.forEach(function (obj, index) {
            var category = _this.site.categories.findBy("id", obj.category_id);
            result.about.category_moderators[index].category = category;
          });
        }
        return result.about;
      });
    },
    titleToken: function titleToken() {
      return I18n.t("about.simple_title");
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("application").set("showFooter", true);
        return true;
      }
    }
  });
});
define("discourse/routes/account-created-edit-email", ["exports", "@ember/routing/route"], function (exports, _route) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _route.default.extend({
    setupController: function setupController(controller) {
      var accountCreated = this.controllerFor("account-created").get("accountCreated");
      controller.set("accountCreated", accountCreated);
      controller.set("newEmail", accountCreated.email);
    }
  });
});
define("discourse/routes/account-created-index", ["exports", "@ember/routing/route"], function (exports, _route) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _route.default.extend({
    setupController: function setupController(controller) {
      controller.set("accountCreated", this.controllerFor("account-created").get("accountCreated"));
    }
  });
});
define("discourse/routes/account-created-resent", ["exports", "@ember/routing/route"], function (exports, _route) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _route.default.extend({
    setupController: function setupController(controller) {
      controller.set("email", this.controllerFor("account-created").get("accountCreated.email"));
    }
  });
});
define("discourse/routes/account-created", ["exports", "@ember/routing/route", "preload-store"], function (exports, _route, _preloadStore) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _route.default.extend({
    setupController: function setupController(controller) {
      controller.set("accountCreated", _preloadStore.default.get("accountCreated"));
    }
  });
});
define("discourse/routes/app-route-map", ["exports", "discourse/models/site"], function (exports, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function () {
    // Error page
    this.route("exception", { path: "/exception" });
    this.route("exception-unknown", { path: "/404" });

    this.route("about", { path: "/about", resetNamespace: true });

    this.route("post", { path: "/p/:id" });

    // Topic routes
    this.route("topic", { path: "/t/:slug/:id", resetNamespace: true }, function () {
      this.route("fromParams", { path: "/" });
      this.route("fromParamsNear", { path: "/:nearPost" });
    });

    this.route("topicBySlugOrId", { path: "/t/:slugOrId", resetNamespace: true });

    this.route("discovery", { path: "/", resetNamespace: true }, function () {
      var _this = this;

      // legacy route
      this.route("topParentCategory", { path: "/c/:slug/l/top" });

      // top
      this.route("top");
      this.route("topCategoryNone", {
        path: "/c/*category_slug_path_with_id/none/l/top"
      });
      this.route("topCategory", { path: "/c/*category_slug_path_with_id/l/top" });

      // top by periods
      _site.default.currentProp("periods").forEach(function (period) {
        var top = "top" + period.capitalize();

        // legacy route
        _this.route(top + "ParentCategory", { path: "/c/:slug/l/top/" + period });

        _this.route(top, { path: "/top/" + period });
        _this.route(top + "CategoryNone", {
          path: "/c/*category_slug_path_with_id/none/l/top/" + period
        });
        _this.route(top + "Category", {
          path: "/c/*category_slug_path_with_id/l/top/" + period
        });
      });

      // filters (e.g. bookmarks, posted, read, unread, latest)
      _site.default.currentProp("filters").forEach(function (filter) {
        // legacy route
        _this.route(filter + "ParentCategory", { path: "/c/:slug/l/" + filter });

        _this.route(filter, { path: "/" + filter });
        _this.route(filter + "CategoryNone", {
          path: "/c/*category_slug_path_with_id/none/l/" + filter
        });
        _this.route(filter + "Category", {
          path: "/c/*category_slug_path_with_id/l/" + filter
        });
      });

      this.route("categories");

      // legacy routes
      this.route("parentCategory", { path: "/c/:slug" });
      this.route("categoryWithID", { path: "/c/:parentSlug/:slug/:id" });

      // default filter for a category
      this.route("categoryNone", { path: "/c/*category_slug_path_with_id/none" });
      this.route("category", { path: "/c/*category_slug_path_with_id" });
    });

    this.route("groups", { resetNamespace: true, path: "/g" }, function () {
      this.route("new", { path: "custom/new" });
    });

    this.route("group", { path: "/g/:name", resetNamespace: true }, function () {
      this.route("members");
      this.route("requests");

      this.route("activity", function () {
        this.route("posts");
        this.route("topics");
        this.route("mentions");
      });

      this.route("manage", function () {
        this.route("profile");
        this.route("membership");
        this.route("interaction");
        this.route("members");
        this.route("logs");
      });

      this.route("messages", function () {
        this.route("inbox");
        this.route("archive");
      });
    });

    // User routes
    this.route("users", { resetNamespace: true, path: "/u" });
    this.route("password-reset", { path: "/u/password-reset/:token" });
    this.route("account-created", { path: "/u/account-created" }, function () {
      this.route("resent");
      this.route("edit-email");
    });
    this.route("user", { path: "/u/:username", resetNamespace: true }, function () {
      this.route("profile-hidden");
      this.route("summary");
      this.route("userActivity", { path: "/activity", resetNamespace: true }, function () {
        this.route("topics");
        this.route("replies");
        this.route("likesGiven", { path: "likes-given" });
        this.route("bookmarks");
        this.route("pending");
        this.route("drafts");
      });

      this.route("userNotifications", { path: "/notifications", resetNamespace: true }, function () {
        this.route("responses");
        this.route("likesReceived", { path: "likes-received" });
        this.route("mentions");
        this.route("edits");
      });

      this.route("badges");
      this.route("deletedPosts", { path: "/deleted-posts" });

      this.route("userPrivateMessages", { path: "/messages", resetNamespace: true }, function () {
        this.route("sent");
        this.route("archive");
        this.route("group", { path: "group/:name" });
        this.route("groupArchive", { path: "group/:name/archive" });
        this.route("tags");
        this.route("tagsShow", { path: "tags/:id" });
      });

      this.route("preferences", { resetNamespace: true }, function () {
        this.route("account");
        this.route("profile");
        this.route("emails");
        this.route("notifications");
        this.route("categories");
        this.route("users");
        this.route("tags");
        this.route("interface");
        this.route("apps");

        this.route("username");
        this.route("email");
        this.route("second-factor");
        this.route("second-factor-backup");
      });

      this.route("userInvited", { path: "/invited", resetNamespace: true }, function () {
        this.route("show", { path: "/:filter" });
      });
    });

    this.route("review", { path: "/review" }, function () {
      this.route("show", { path: "/:reviewable_id" });
      this.route("index", { path: "/" });
      this.route("topics", { path: "/topics" });
      this.route("settings", { path: "/settings" });
    });
    this.route("signup", { path: "/signup" });
    this.route("login", { path: "/login" });
    this.route("email-login", { path: "/session/email-login/:token" });
    this.route("associate-account", { path: "/associate/:token" });
    this.route("login-preferences");
    this.route("forgot-password", { path: "/password-reset" });
    this.route("faq", { path: "/faq" });
    this.route("tos", { path: "/tos" });
    this.route("privacy", { path: "/privacy" });
    this.route("guidelines", { path: "/guidelines" });
    this.route("rules", { path: "/rules" });
    this.route("conduct", { path: "/conduct" });

    this.route("new-topic", { path: "/new-topic" });
    this.route("new-message", { path: "/new-message" });

    this.route("badges", { resetNamespace: true }, function () {
      this.route("show", { path: "/:id/:slug" });
    });

    this.route("full-page-search", { path: "/search" });

    this.route("tag", { resetNamespace: true }, function () {
      var _this2 = this;

      this.route("show", { path: "/:tag_id" });

      _site.default.currentProp("filters").forEach(function (filter) {
        _this2.route("show" + filter.capitalize(), {
          path: "/:tag_id/l/" + filter
        });
      });
    });

    this.route("tags", { resetNamespace: true }, function () {
      var _this3 = this;

      this.route("showCategory", {
        path: "/c/*category_slug_path_with_id/:tag_id"
      });
      this.route("showCategoryNone", {
        path: "/c/*category_slug_path_with_id/none/:tag_id"
      });

      _site.default.currentProp("filters").forEach(function (filter) {
        _this3.route("showCategory" + filter.capitalize(), {
          path: "/c/*category_slug_path_with_id/:tag_id/l/" + filter
        });
        _this3.route("showCategoryNone" + filter.capitalize(), {
          path: "/c/*category_slug_path_with_id/none/:tag_id/l/" + filter
        });
      });
      this.route("intersection", {
        path: "intersection/:tag_id/*additional_tags"
      });

      // legacy routes
      this.route("show", { path: "/:tag_id" });
      _site.default.currentProp("filters").forEach(function (filter) {
        _this3.route("show" + filter.capitalize(), {
          path: "/:tag_id/l/" + filter
        });
      });
    });

    this.route("tagGroups", { path: "/tag_groups", resetNamespace: true }, function () {
      this.route("edit", { path: "/:id" });
      this.route("new");
    });

    this.route("invites", { path: "/invites", resetNamespace: true }, function () {
      this.route("show", { path: "/:token" });
    });
  };
});
define("discourse/routes/application", ["exports", "@ember/runloop", "discourse/routes/discourse", "discourse/lib/ajax", "discourse/lib/computed", "discourse/lib/logout", "discourse/lib/show-modal", "discourse/mixins/open-composer", "discourse/models/category", "discourse/lib/mobile", "discourse/models/login-method", "discourse-common/lib/get-owner", "discourse/lib/url", "discourse/models/composer", "rsvp"], function (exports, _runloop, _discourse, _ajax, _computed, _logout, _showModal, _openComposer, _category, _mobile, _loginMethod, _getOwner, _url, _composer, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  function unlessReadOnly(method, message) {
    return function () {
      if (this.site.get("isReadOnly")) {
        bootbox.alert(message);
      } else {
        this[method]();
      }
    };
  }

  var ApplicationRoute = _discourse.default.extend(_openComposer.default, {
    siteTitle: (0, _computed.setting)("title"),
    shortSiteDescription: (0, _computed.setting)("short_site_description"),

    actions: {
      toggleAnonymous: function toggleAnonymous() {
        (0, _ajax.ajax)((0, _url.userPath)("toggle-anon"), { method: "POST" }).then(function () {
          window.location.reload();
        });
      },
      toggleMobileView: function toggleMobileView() {
        _mobile.default.toggleMobileView();
      },


      logout: unlessReadOnly("_handleLogout", I18n.t("read_only_mode.logout_disabled")),

      _collectTitleTokens: function _collectTitleTokens(tokens) {
        tokens.push(this.siteTitle);
        if ((window.location.pathname === Discourse.getURL("/") || window.location.pathname === Discourse.getURL("/login")) && this.shortSiteDescription !== "") {
          tokens.push(this.shortSiteDescription);
        }
        Discourse.set("_docTitle", tokens.join(" - "));
      },
      willTransition: function willTransition() {
        var router = (0, _getOwner.getOwner)(this).lookup("router:main");
        (0, _runloop.once)(router, router.trigger, "willTransition");
        return this._super.apply(this, arguments);
      },
      postWasEnqueued: function postWasEnqueued(details) {
        (0, _showModal.default)("post-enqueued", {
          model: details,
          title: "review.approval.title"
        });
      },
      composePrivateMessage: function composePrivateMessage(user, post) {
        var recipients = user ? user.get("username") : "";
        var reply = post ? window.location.protocol + "//" + window.location.host + post.url : null;
        var title = post ? I18n.t("composer.reference_topic_title", {
          title: post.topic.title
        }) : null;

        // used only once, one less dependency
        return this.controllerFor("composer").open({
          action: _composer.default.PRIVATE_MESSAGE,
          recipients: recipients,
          archetypeId: "private_message",
          draftKey: _composer.default.NEW_PRIVATE_MESSAGE_KEY,
          reply: reply,
          title: title
        });
      },
      error: function error(err, transition) {
        var xhr = {};
        if (err.jqXHR) {
          xhr = err.jqXHR;
        }

        var xhrOrErr = err.jqXHR ? xhr : err;

        var exceptionController = this.controllerFor("exception");

        var c = window.console;
        if (c && c.error) {
          c.error(xhrOrErr);
        }

        if (xhrOrErr && xhrOrErr.status === 404) {
          return this.transitionTo("exception-unknown");
        }

        exceptionController.setProperties({
          lastTransition: transition,
          thrown: xhrOrErr
        });

        this.intermediateTransitionTo("exception");
        return true;
      },


      showLogin: unlessReadOnly("handleShowLogin", I18n.t("read_only_mode.login_disabled")),

      showCreateAccount: unlessReadOnly("handleShowCreateAccount", I18n.t("read_only_mode.login_disabled")),

      showForgotPassword: function showForgotPassword() {
        this.controllerFor("forgot-password").setProperties({
          offerHelp: null,
          helpSeen: false
        });
        (0, _showModal.default)("forgotPassword", { title: "forgot_password.title" });
      },
      showNotActivated: function showNotActivated(props) {
        (0, _showModal.default)("not-activated", { title: "log_in" }).setProperties(props);
      },
      showUploadSelector: function showUploadSelector(toolbarEvent) {
        (0, _showModal.default)("uploadSelector").setProperties({
          toolbarEvent: toolbarEvent,
          imageUrl: null
        });
      },
      showKeyboardShortcutsHelp: function showKeyboardShortcutsHelp() {
        (0, _showModal.default)("keyboard-shortcuts-help", {
          title: "keyboard_shortcuts_help.title"
        });
      },
      closeModal: function closeModal() {
        var route = (0, _getOwner.getOwner)(this).lookup("route:application");
        var modalController = route.controllerFor("modal");
        var controllerName = modalController.get("name");

        if (controllerName) {
          var controller = (0, _getOwner.getOwner)(this).lookup("controller:" + controllerName);
          if (controller && controller.beforeClose) {
            if (false === controller.beforeClose()) {
              return;
            }
          }
        }

        this.render("hide-modal", { into: "modal", outlet: "modalBody" });

        if (controllerName) {
          var _controller = (0, _getOwner.getOwner)(this).lookup("controller:" + controllerName);
          if (_controller && _controller.onClose) {
            _controller.onClose();
          }
          modalController.set("name", null);
        }
      },
      hideModal: function hideModal() {
        $(".d-modal.fixed-modal").modal("hide");
      },
      reopenModal: function reopenModal() {
        $(".d-modal.fixed-modal").modal("show");
      },
      editCategory: function editCategory(category) {
        var _this = this;

        _category.default.reloadById(category.get("id")).then(function (atts) {
          var model = _this.store.createRecord("category", atts.category);
          model.setupGroupsAndPermissions();
          _this.site.updateCategory(model);
          (0, _showModal.default)("edit-category", { model: model });
          _this.controllerFor("edit-category").set("selectedTab", "general");
        });
      },
      checkEmail: function checkEmail(user) {
        user.checkEmail();
      },
      changeBulkTemplate: function changeBulkTemplate(w) {
        var controllerName = w.replace("modal/", "");
        var controller = (0, _getOwner.getOwner)(this).lookup("controller:" + controllerName);
        this.render(w, {
          into: "modal/topic-bulk-actions",
          outlet: "bulkOutlet",
          controller: controller ? controllerName : "topic-bulk-actions"
        });
      },
      createNewTopicViaParams: function createNewTopicViaParams(title, body, category_id, tags) {
        this.openComposerWithTopicParams(this.controllerFor("discovery/topics"), title, body, category_id, tags);
      },
      createNewMessageViaParams: function createNewMessageViaParams(recipients, title, body) {
        this.openComposerWithMessageParams(recipients, title, body);
      }
    },

    activate: function activate() {
      this._super.apply(this, arguments);
      (0, _runloop.next)(function () {
        // Support for callbacks once the application has activated
        ApplicationRoute.trigger("activate");
      });
    },
    renderTemplate: function renderTemplate() {
      this.render("application");
      this.render("user-card", { into: "application", outlet: "user-card" });
      this.render("modal", { into: "application", outlet: "modal" });
      this.render("composer", { into: "application", outlet: "composer" });
    },
    handleShowLogin: function handleShowLogin() {
      var _this2 = this;

      if (this.siteSettings.enable_sso) {
        var returnPath = encodeURIComponent(window.location.pathname);
        window.location = Discourse.getURL("/session/sso?return_path=" + returnPath);
      } else {
        this._autoLogin("login", "login-modal", function () {
          return _this2.controllerFor("login").resetForm();
        });
      }
    },
    handleShowCreateAccount: function handleShowCreateAccount() {
      if (this.siteSettings.enable_sso) {
        var returnPath = encodeURIComponent(window.location.pathname);
        window.location = Discourse.getURL("/session/sso?return_path=" + returnPath);
      } else {
        this._autoLogin("createAccount", "create-account");
      }
    },
    _autoLogin: function _autoLogin(modal, modalClass, notAuto) {
      var methods = (0, _loginMethod.findAll)();

      if (!this.siteSettings.enable_local_logins && methods.length === 1) {
        this.controllerFor("login").send("externalLogin", methods[0]);
      } else {
        (0, _showModal.default)(modal);
        this.controllerFor("modal").set("modalClass", modalClass);
        if (notAuto) {
          notAuto();
        }
      }
    },
    _handleLogout: function _handleLogout() {
      var _this3 = this;

      if (this.currentUser) {
        this.currentUser.destroySession().then(function () {
          return (0, _logout.default)(_this3.siteSettings, _this3.keyValueStore);
        });
      }
    }
  });

  _rsvp.EventTarget.mixin(ApplicationRoute);
  exports.default = ApplicationRoute;
});
define("discourse/routes/associate-account", ["exports", "@ember/runloop", "discourse/routes/discourse", "discourse/lib/ajax", "discourse/lib/show-modal", "discourse/lib/ajax-error"], function (exports, _runloop, _discourse, _ajax, _showModal, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    beforeModel: function beforeModel() {
      var params = this.paramsFor("associate-account");
      this.replaceWith("preferences.account", this.currentUser).then(function () {
        return (0, _runloop.next)(function () {
          return (0, _ajax.ajax)("/associate/" + encodeURIComponent(params.token) + ".json").then(function (model) {
            return (0, _showModal.default)("associate-account-confirm", { model: model });
          }).catch(_ajaxError.popupAjaxError);
        });
      });
    }
  });
});
define("discourse/routes/badges-index", ["exports", "discourse/routes/discourse", "discourse/models/badge", "preload-store"], function (exports, _discourse, _badge, _preloadStore) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model() {
      if (_preloadStore.default.get("badges")) {
        return _preloadStore.default.getAndRemove("badges").then(function (json) {
          return _badge.default.createFromJson(json);
        });
      } else {
        return _badge.default.findAll({ onlyListable: true });
      }
    },
    titleToken: function titleToken() {
      return I18n.t("badges.title");
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("application").set("showFooter", true);
        return true;
      }
    }
  });
});
define("discourse/routes/badges-show", ["exports", "discourse/routes/discourse", "discourse/models/user-badge", "discourse/models/badge", "preload-store", "rsvp"], function (exports, _discourse, _userBadge, _badge, _preloadStore, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    queryParams: {
      username: {
        refreshModel: true
      }
    },
    actions: {
      didTransition: function didTransition() {
        this.controllerFor("badges/show")._showFooter();
        return true;
      }
    },

    serialize: function serialize(model) {
      return model.getProperties("id", "slug");
    },
    model: function model(params) {
      if (_preloadStore.default.get("badge")) {
        return _preloadStore.default.getAndRemove("badge").then(function (json) {
          return _badge.default.createFromJson(json);
        });
      } else {
        return _badge.default.findById(params.id);
      }
    },
    afterModel: function afterModel(model, transition) {
      var _this = this;

      var usernameFromParams = transition.to.queryParams && transition.to.queryParams.username;

      var userBadgesGrant = _userBadge.default.findByBadgeId(model.get("id"), {
        username: usernameFromParams
      }).then(function (userBadges) {
        _this.userBadgesGrant = userBadges;
      });

      var username = this.currentUser && this.currentUser.username_lower;
      var userBadgesAll = _userBadge.default.findByUsername(username).then(function (userBadges) {
        _this.userBadgesAll = userBadges;
      });

      var promises = {
        userBadgesGrant: userBadgesGrant,
        userBadgesAll: userBadgesAll
      };

      return (0, _rsvp.hash)(promises);
    },
    titleToken: function titleToken() {
      var model = this.modelFor("badges.show");
      if (model) {
        return model.get("name");
      }
    },
    setupController: function setupController(controller, model) {
      controller.set("model", model);
      controller.set("userBadges", this.userBadgesGrant);
      controller.set("userBadgesAll", this.userBadgesAll);
    }
  });
});
define("discourse/routes/build-admin-user-posts-route", ["exports", "discourse/routes/discourse", "discourse/lib/text"], function (exports, _discourse, _text) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (filter) {
    return _discourse.default.extend({
      actions: {
        didTransition: function didTransition() {
          this.controllerFor("user").set("indexStream", true);
          this.controllerFor("user-posts")._showFooter();
          return true;
        }
      },

      model: function model() {
        return this.modelFor("user").get("postsStream");
      },
      afterModel: function afterModel(model) {
        return model.filterBy({ filter: filter });
      },
      setupController: function setupController(controller, model) {
        // initialize "canLoadMore"
        model.set("canLoadMore", model.get("itemsLoaded") === 60);

        model.get("content").forEach(function (item) {
          if (item.get("title")) {
            item.set("title", (0, _text.emojiUnescape)(Handlebars.Utils.escapeExpression(item.title)));
          }
        });

        this.controllerFor("user-posts").set("model", model);
      },
      renderTemplate: function renderTemplate() {
        this.render("user/posts", { into: "user" });
      }
    });
  };
});
define("discourse/routes/build-category-route", ["exports", "discourse/routes/discourse", "discourse/routes/build-topic-route", "discourse/controllers/discovery-sortable", "discourse/models/topic-list", "discourse/models/permission-type", "discourse/models/category-list", "discourse/models/category", "rsvp"], function (exports, _discourse, _buildTopicRoute, _discoverySortable, _topicList, _permissionType, _categoryList, _category, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (filterArg, params) {
    return _discourse.default.extend({
      queryParams: _discoverySortable.queryParams,

      serialize: function serialize(modelParams) {
        if (!modelParams.category_slug_path_with_id) {
          if (modelParams.id === "none") {
            var category_slug_path_with_id = [modelParams.parentSlug, modelParams.slug].join("/");
            var category = _category.default.findBySlugPathWithID(category_slug_path_with_id);
            this.replaceWith("discovery.categoryNone", {
              category: category,
              category_slug_path_with_id: category_slug_path_with_id
            });
          } else {
            modelParams.category_slug_path_with_id = [modelParams.parentSlug, modelParams.slug, modelParams.id].filter(function (x) {
              return x;
            }).join("/");
          }
        }

        return modelParams;
      },
      model: function model(modelParams) {
        var _this = this;

        modelParams = this.serialize(modelParams);

        var category = _category.default.findBySlugPathWithID(modelParams.category_slug_path_with_id);

        if (!category) {
          var parts = modelParams.category_slug_path_with_id.split("/");
          if (parts.length > 0 && parts[parts.length - 1].match(/^\d+$/)) {
            parts.pop();
          }

          return _category.default.reloadBySlugPath(parts.join("/")).then(function (result) {
            var record = _this.store.createRecord("category", result.category);
            record.setupGroupsAndPermissions();
            _this.site.updateCategory(record);
            return { category: record };
          });
        }

        if (category) {
          return { category: category };
        }
      },
      afterModel: function afterModel(model, transition) {
        if (!model) {
          this.replaceWith("/404");
          return;
        }

        this._setupNavigation(model.category);
        return (0, _rsvp.all)([this._createSubcategoryList(model.category), this._retrieveTopicList(model.category, transition)]);
      },
      filter: function filter(category) {
        return filterArg === "default" ? category.get("default_view") || "latest" : filterArg;
      },
      _setupNavigation: function _setupNavigation(category) {
        var noSubcategories = params && !!params.no_subcategories,
            filterType = this.filter(category).split("/")[0];

        this.controllerFor("navigation/category").setProperties({
          category: category,
          filterType: filterType,
          noSubcategories: noSubcategories
        });
      },
      _createSubcategoryList: function _createSubcategoryList(category) {
        var _this2 = this;

        this._categoryList = null;

        if (category.isParent && category.show_subcategory_list) {
          return _categoryList.default.listForParent(this.store, category).then(function (list) {
            return _this2._categoryList = list;
          });
        }

        // If we're not loading a subcategory list just resolve
        return _rsvp.Promise.resolve();
      },
      _retrieveTopicList: function _retrieveTopicList(category, transition) {
        var _this3 = this;

        var listFilter = "c/" + _category.default.slugFor(category) + "/" + category.id + "/l/" + this.filter(category),
            findOpts = (0, _buildTopicRoute.filterQueryParams)(transition.to.queryParams, params),
            extras = { cached: this.isPoppedState(transition) };

        return (0, _buildTopicRoute.findTopicList)(this.store, this.topicTrackingState, listFilter, findOpts, extras).then(function (list) {
          _topicList.default.hideUniformCategory(list, category);
          _this3.set("topics", list);
          return list;
        });
      },
      titleToken: function titleToken() {
        var category = this.currentModel.category;

        var filterText = I18n.t("filters." + this.filter(category).replace("/", ".") + ".title");

        var categoryName = category.name;
        if (category.parent_category_id) {
          var list = _category.default.list();
          var parentCategory = list.findBy("id", category.parent_category_id);
          categoryName = parentCategory.name + "/" + categoryName;
        }

        return I18n.t("filters.with_category", {
          filter: filterText,
          category: categoryName
        });
      },
      setupController: function setupController(controller, model) {
        var topics = this.topics,
            category = model.category,
            canCreateTopic = topics.get("can_create_topic"),
            canCreateTopicOnCategory = category.get("permission") === _permissionType.default.FULL,
            filter = this.filter(category);

        this.controllerFor("navigation/category").setProperties({
          canCreateTopicOnCategory: canCreateTopicOnCategory,
          cannotCreateTopicOnCategory: !canCreateTopicOnCategory,
          canCreateTopic: canCreateTopic
        });

        var topicOpts = {
          model: topics,
          category: category,
          period: topics.get("for_period") || (filter.indexOf("/") > 0 ? filter.split("/")[1] : ""),
          selected: [],
          noSubcategories: params && !!params.no_subcategories,
          expandAllPinned: true,
          canCreateTopic: canCreateTopic,
          canCreateTopicOnCategory: canCreateTopicOnCategory
        };

        var p = category.get("params");
        if (p && Object.keys(p).length) {
          if (p.order !== undefined) {
            topicOpts.order = p.order;
          }
          if (p.ascending !== undefined) {
            topicOpts.ascending = p.ascending;
          }
        }

        this.controllerFor("discovery/topics").setProperties(topicOpts);
        this.searchService.set("searchContext", category.get("searchContext"));
        this.set("topics", null);
      },
      renderTemplate: function renderTemplate() {
        this.render("navigation/category", { outlet: "navigation-bar" });

        if (this._categoryList) {
          this.render("discovery/categories", {
            outlet: "header-list-container",
            model: this._categoryList
          });
        }
        this.render("discovery/topics", {
          controller: "discovery/topics",
          outlet: "list-container"
        });
      },
      resetController: function resetController(controller, isExiting) {
        if (isExiting) {
          controller.setProperties({ order: "default", ascending: false });
        }
      },
      deactivate: function deactivate() {
        this._super.apply(this, arguments);
        this.searchService.set("searchContext", null);
      },


      actions: {
        error: function error(err) {
          var json = err.jqXHR.responseJSON;
          if (json && json.extras && json.extras.html) {
            this.controllerFor("discovery").set("errorHtml", err.jqXHR.responseJSON.extras.html);
          } else {
            this.replaceWith("exception");
          }
        },
        setNotification: function setNotification(notification_level) {
          this.currentModel.setNotification(notification_level);
        },
        triggerRefresh: function triggerRefresh() {
          this.refresh();
        }
      }
    });
  };
});
define("discourse/routes/build-group-messages-route", ["exports", "discourse/routes/user-topic-list"], function (exports, _userTopicList) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (type) {
    return _userTopicList.default.extend({
      titleToken: function titleToken() {
        return I18n.t("user.messages." + type);
      },
      model: function model() {
        var groupName = this.modelFor("group").get("name");
        var username = this.currentUser.get("username_lower");
        var filter = "topics/private-messages-group/" + username + "/" + groupName;
        if (this._isArchive()) filter = filter + "/archive";
        return this.store.findFiltered("topicList", { filter: filter });
      },
      setupController: function setupController() {
        this._super.apply(this, arguments);

        var groupName = this.modelFor("group").get("name");
        var channel = "/private-messages/group/" + groupName;
        if (this._isArchive()) channel = channel + "/archive";
        this.controllerFor("user-topics-list").subscribe(channel);

        this.controllerFor("user-topics-list").setProperties({
          hideCategory: true,
          showPosters: true
        });
      },
      _isArchive: function _isArchive() {
        return type === "archive";
      }
    });
  };
});
define("discourse/routes/build-private-messages-route", ["exports", "discourse/routes/user-topic-list", "discourse/lib/cached-topic-list", "discourse/models/user-action"], function (exports, _userTopicList, _cachedTopicList, _userAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (viewName, path, channel) {
    return _userTopicList.default.extend({
      userActionType: _userAction.default.TYPES.messages_received,

      titleToken: function titleToken() {
        var key = viewName === "index" ? "inbox" : viewName;
        return [I18n.t("user.messages." + key), I18n.t("user.private_messages")];
      },


      actions: {
        didTransition: function didTransition() {
          this.controllerFor("user-topics-list")._showFooter();
          return true;
        }
      },

      model: function model() {
        var filter = "topics/" + path + "/" + this.modelFor("user").get("username_lower");
        var lastTopicList = (0, _cachedTopicList.findOrResetCachedTopicList)(this.session, filter);
        return lastTopicList ? lastTopicList : this.store.findFiltered("topicList", { filter: filter });
      },
      setupController: function setupController() {
        this._super.apply(this, arguments);

        if (channel) {
          this.controllerFor("user-topics-list").subscribe("/private-messages/" + channel);
        }

        this.controllerFor("user-topics-list").setProperties({
          hideCategory: true,
          showPosters: true,
          canBulkSelect: true,
          tagsForUser: this.modelFor("user").get("username_lower"),
          selected: []
        });

        this.controllerFor("user-private-messages").setProperties({
          archive: false,
          pmView: viewName,
          showToggleBulkSelect: true
        });

        this.searchService.set("contextType", "private_messages");
      },
      deactivate: function deactivate() {
        this.controllerFor("user-topics-list").unsubscribe();

        this.searchService.set("searchContext", this.controllerFor("user").get("model.searchContext"));
      }
    });
  };
});
define("discourse/routes/build-static-route", ["exports", "discourse/routes/discourse", "discourse/models/static-page"], function (exports, _discourse, _staticPage) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports.default = function (pageName) {
    var route = {
      model: function model() {
        return _staticPage.default.find(pageName);
      },
      renderTemplate: function renderTemplate() {
        this.render("static");
      },
      setupController: function setupController(controller, model) {
        this.controllerFor("static").set("model", model);
      }
    };
    return _discourse.default.extend(route);
  };
});
define("discourse/routes/conduct", ["exports", "discourse/lib/static-route-builder"], function (exports, _staticRouteBuilder) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _staticRouteBuilder.default)("conduct");
});
define("discourse/routes/discovery-categories", ["exports", "@ember/object", "@ember/runloop", "discourse/routes/discourse", "discourse/lib/show-modal", "discourse/mixins/open-composer", "discourse/models/category-list", "discourse/lib/utilities", "discourse/models/topic-list", "discourse/lib/ajax", "preload-store", "discourse/components/concerns/category-search-priorities", "rsvp", "discourse/models/site"], function (exports, _object, _runloop, _discourse, _showModal, _openComposer, _categoryList, _utilities, _topicList, _ajax, _preloadStore, _categorySearchPriorities, _rsvp, _site) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var DiscoveryCategoriesRoute = _discourse.default.extend(_openComposer.default, {
    renderTemplate: function renderTemplate() {
      this.render("navigation/categories", { outlet: "navigation-bar" });
      this.render("discovery/categories", { outlet: "list-container" });
    },
    findCategories: function findCategories() {
      var style = !this.site.mobileView && this.siteSettings.desktop_category_page_style;

      if (style === "categories_and_latest_topics") {
        return this._findCategoriesAndTopics("latest");
      } else if (style === "categories_and_top_topics") {
        return this._findCategoriesAndTopics("top");
      }

      return _categoryList.default.list(this.store);
    },
    model: function model() {
      var _this = this;

      return this.findCategories().then(function (model) {
        var tracking = _this.topicTrackingState;
        if (tracking) {
          tracking.sync(model, "categories");
          tracking.trackIncoming("categories");
        }
        return model;
      });
    },
    _findCategoriesAndTopics: function _findCategoriesAndTopics(filter) {
      var _this2 = this;

      return (0, _rsvp.hash)({
        wrappedCategoriesList: _preloadStore.default.getAndRemove("categories_list"),
        topicsList: _preloadStore.default.getAndRemove("topic_list_" + filter)
      }).then(function (response) {
        var wrappedCategoriesList = response.wrappedCategoriesList,
            topicsList = response.topicsList;

        var categoriesList = wrappedCategoriesList && wrappedCategoriesList.category_list;

        if (categoriesList && topicsList) {
          if (topicsList.topic_list && topicsList.topic_list.top_tags) {
            _site.default.currentProp("top_tags", topicsList.topic_list.top_tags);
          }

          return _object.default.create({
            categories: _categoryList.default.categoriesFrom(_this2.store, wrappedCategoriesList),
            topics: _topicList.default.topicsFrom(_this2.store, topicsList),
            can_create_category: categoriesList.can_create_category,
            can_create_topic: categoriesList.can_create_topic,
            draft_key: categoriesList.draft_key,
            draft: categoriesList.draft,
            draft_sequence: categoriesList.draft_sequence
          });
        }
        // Otherwise, return the ajax result
        return (0, _ajax.ajax)("/categories_and_" + filter).then(function (result) {
          if (result.topic_list && result.topic_list.top_tags) {
            _site.default.currentProp("top_tags", result.topic_list.top_tags);
          }

          return _object.default.create({
            categories: _categoryList.default.categoriesFrom(_this2.store, result),
            topics: _topicList.default.topicsFrom(_this2.store, result),
            can_create_category: result.category_list.can_create_category,
            can_create_topic: result.category_list.can_create_topic,
            draft_key: result.category_list.draft_key,
            draft: result.category_list.draft,
            draft_sequence: result.category_list.draft_sequence
          });
        });
      });
    },
    titleToken: function titleToken() {
      if ((0, _utilities.defaultHomepage)() === "categories") {
        return;
      }
      return I18n.t("filters.categories.title");
    },
    setupController: function setupController(controller, model) {
      controller.set("model", model);

      this.controllerFor("navigation/categories").setProperties({
        showCategoryAdmin: model.get("can_create_category"),
        canCreateTopic: model.get("can_create_topic")
      });
    },


    actions: {
      triggerRefresh: function triggerRefresh() {
        this.refresh();
      },
      createCategory: function createCategory() {
        var groups = this.site.groups,
            everyoneName = groups.findBy("id", 0).name;

        var model = this.store.createRecord("category", {
          color: "0088CC",
          text_color: "FFFFFF",
          group_permissions: [{ group_name: everyoneName, permission_type: 1 }],
          available_groups: groups.map(function (g) {
            return g.name;
          }),
          allow_badges: true,
          topic_featured_link_allowed: true,
          custom_fields: {},
          search_priority: _categorySearchPriorities.searchPriorities.normal
        });

        (0, _showModal.default)("edit-category", { model: model });
        this.controllerFor("edit-category").set("selectedTab", "general");
      },
      reorderCategories: function reorderCategories() {
        (0, _showModal.default)("reorderCategories");
      },
      createTopic: function createTopic() {
        var model = this.controllerFor("discovery/categories").get("model");
        if (model.draft) {
          this.openTopicDraft(model);
        } else {
          this.openComposer(this.controllerFor("discovery/categories"));
        }
      },
      didTransition: function didTransition() {
        var _this3 = this;

        (0, _runloop.next)(function () {
          return _this3.controllerFor("application").set("showFooter", true);
        });
        return true;
      }
    }
  });

  exports.default = DiscoveryCategoriesRoute;
});
define("discourse/routes/discovery", ["exports", "discourse/routes/discourse", "discourse/mixins/open-composer", "discourse/mixins/scroll-top", "discourse/models/user"], function (exports, _discourse, _openComposer, _scrollTop, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend(_openComposer.default, {
    redirect: function redirect() {
      return this.redirectIfLoginRequired();
    },
    beforeModel: function beforeModel(transition) {
      var user = _user.default;
      var url = transition.intent.url;

      if ((url === "/" || url === "/latest" || url === "/categories") && transition.targetName.indexOf("discovery.top") === -1 && user.currentProp("should_be_redirected_to_top")) {
        user.currentProp("should_be_redirected_to_top", false);
        var period = user.currentProp("redirected_to_top.period") || "all";
        this.replaceWith("discovery.top" + period.capitalize());
      }
    },


    actions: {
      loading: function loading() {
        this.controllerFor("discovery").set("loading", true);
        return true;
      },
      loadingComplete: function loadingComplete() {
        this.controllerFor("discovery").set("loading", false);
        if (!this.session.get("topicListScrollPosition")) {
          (0, _scrollTop.scrollTop)();
        }
        return false;
      },
      didTransition: function didTransition() {
        this.controllerFor("discovery")._showFooter();
        this.send("loadingComplete");
        return false;
      },


      // clear a pinned topic
      clearPin: function clearPin(topic) {
        topic.clearPin();
      },
      createTopic: function createTopic() {
        var model = this.controllerFor("discovery/topics").get("model");
        if (model.draft) {
          this.openTopicDraft(model);
        } else {
          this.openComposer(this.controllerFor("discovery/topics"));
        }
      },
      dismissReadTopics: function dismissReadTopics(dismissTopics) {
        var operationType = dismissTopics ? "topics" : "posts";
        this.send("dismissRead", operationType);
      },
      dismissRead: function dismissRead(operationType) {
        var controller = this.controllerFor("discovery/topics");
        controller.send("dismissRead", operationType, {
          includeSubcategories: !controller.noSubcategories
        });
      }
    }
  });
});
define("discourse/routes/email-login", ["exports", "discourse/routes/discourse", "discourse/lib/ajax"], function (exports, _discourse, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      return I18n.t("login.title");
    },
    model: function model(params) {
      return (0, _ajax.ajax)("/session/email-login/" + params.token + ".json");
    }
  });
});
define("discourse/routes/exception-unknown", ["exports", "discourse/routes/unknown"], function (exports, _unknown) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _unknown.default.extend({
    renderTemplate: function renderTemplate() {
      this.render("unknown");
    }
  });
});
define("discourse/routes/exception", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    serialize: function serialize() {
      return "";
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("application").set("showFooter", true);
        return true;
      }
    }
  });
});
define("discourse/routes/faq", ["exports", "discourse/lib/static-route-builder"], function (exports, _staticRouteBuilder) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _staticRouteBuilder.default)("faq");
});
define("discourse/routes/forgot-password", ["exports", "@ember/runloop", "discourse/lib/utilities", "discourse/routes/build-static-route"], function (exports, _runloop, _utilities, _buildStaticRoute) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var ForgotPasswordRoute = (0, _buildStaticRoute.default)("password-reset");

  ForgotPasswordRoute.reopen({
    beforeModel: function beforeModel() {
      var loginRequired = this.controllerFor("application").get("loginRequired");
      this.replaceWith(loginRequired ? "login" : "discovery." + (0, _utilities.defaultHomepage)()).then(function (e) {
        (0, _runloop.next)(function () {
          return e.send("showForgotPassword");
        });
      });
    }
  });

  exports.default = ForgotPasswordRoute;
});
define("discourse/routes/full-page-search", ["exports", "discourse/routes/discourse", "discourse/lib/ajax", "discourse/lib/search", "preload-store", "discourse/lib/page-tracker", "discourse/lib/utilities"], function (exports, _discourse, _ajax, _search, _preloadStore, _pageTracker, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    queryParams: {
      q: {},
      expanded: false,
      context_id: {},
      context: {},
      skip_context: {}
    },

    titleToken: function titleToken() {
      return I18n.t("search.results_page", {
        term: (0, _utilities.escapeExpression)(this.controllerFor("full-page-search").get("searchTerm"))
      });
    },
    model: function model(params) {
      var cached = (0, _pageTracker.getTransient)("lastSearch");
      var args = { q: params.q };
      if (params.context_id && !args.skip_context) {
        args.search_context = {
          type: params.context,
          id: params.context_id
        };
      }

      var searchKey = (0, _search.getSearchKey)(args);

      if (cached && cached.data.searchKey === searchKey) {
        // extend expiry
        (0, _pageTracker.setTransient)("lastSearch", { searchKey: searchKey, model: cached.data.model }, 5);
        return cached.data.model;
      }

      return _preloadStore.default.getAndRemove("search", function () {
        if ((0, _search.isValidSearchTerm)(params.q)) {
          return (0, _ajax.ajax)("/search", { data: args });
        } else {
          return null;
        }
      }).then(function (results) {
        var grouped_search_result = results ? results.grouped_search_result : {};
        var model = results && (0, _search.translateResults)(results) || {
          grouped_search_result: grouped_search_result
        };
        (0, _pageTracker.setTransient)("lastSearch", { searchKey: searchKey, model: model }, 5);
        return model;
      });
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("full-page-search")._showFooter();
        return true;
      }
    }
  });
});
define("discourse/routes/group-activity-index", ["exports", "@ember/routing/route"], function (exports, _route) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _route.default.extend({
    beforeModel: function beforeModel() {
      var group = this.modelFor("group");
      if (group.can_see_members) {
        this.transitionTo("group.activity.posts");
      } else {
        this.transitionTo("group.activity.mentions");
      }
    }
  });
});
define("discourse/routes/group-activity-mentions", ["exports", "discourse/routes/group-activity-posts"], function (exports, _groupActivityPosts) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _groupActivityPosts.buildGroupPage)("mentions");
});
define("discourse/routes/group-activity-posts", ["exports", "@ember/object", "discourse/routes/discourse"], function (exports, _object, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.buildGroupPage = buildGroupPage;
  function buildGroupPage(type) {
    return _discourse.default.extend({
      type: type,

      titleToken: function titleToken() {
        return I18n.t("groups." + type);
      },
      model: function model(params, transition) {
        var categoryId = (0, _object.get)(transition.to, "queryParams.category_id");
        return this.modelFor("group").findPosts({ type: type, categoryId: categoryId });
      },
      setupController: function setupController(controller, model) {
        var loadedAll = model.length < 20;
        this.controllerFor("group-activity-posts").setProperties({
          model: model,
          type: type,
          canLoadMore: !loadedAll
        });
        this.controllerFor("application").set("showFooter", loadedAll);
      },
      renderTemplate: function renderTemplate() {
        this.render("group-activity-posts");
      },


      actions: {
        didTransition: function didTransition() {
          return true;
        }
      }
    });
  }

  exports.default = buildGroupPage("posts");
});
define("discourse/routes/group-activity-topics", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    titleToken: function titleToken() {
      return I18n.t("groups.topics");
    },
    model: function model() {
      return this.store.findFiltered("topicList", {
        filter: "topics/groups/" + this.modelFor("group").get("name")
      });
    }
  });
});
define("discourse/routes/group-index", ["exports", "discourse/routes/discourse", "discourse/lib/show-modal"], function (exports, _discourse, _showModal) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      return I18n.t("groups.members.title");
    },
    model: function model(params) {
      this._params = params;
      return this.modelFor("group");
    },
    setupController: function setupController(controller, model) {
      this.controllerFor("group").set("showing", "members");

      controller.setProperties({
        model: model,
        filterInput: this._params.filter
      });

      controller.findMembers(true);
    },


    actions: {
      showAddMembersModal: function showAddMembersModal() {
        (0, _showModal.default)("group-add-members", { model: this.modelFor("group") });
      },
      showBulkAddModal: function showBulkAddModal() {
        (0, _showModal.default)("group-bulk-add", { model: this.modelFor("group") });
      },
      didTransition: function didTransition() {
        this.controllerFor("group-index").set("filterInput", this._params.filter);
        return true;
      }
    }
  });
});
define("discourse/routes/group-manage-index", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    beforeModel: function beforeModel() {
      this.transitionTo("group.manage.profile");
    }
  });
});
define("discourse/routes/group-manage-interaction", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    titleToken: function titleToken() {
      return I18n.t("groups.manage.interaction.title");
    }
  });
});
define("discourse/routes/group-manage-logs", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      return I18n.t("groups.manage.logs.title");
    },
    model: function model() {
      return this.modelFor("group").findLogs();
    },
    setupController: function setupController(controller, model) {
      this.controllerFor("group-manage-logs").setProperties({ model: model });
    },


    actions: {
      willTransition: function willTransition() {
        this.controllerFor("group-manage-logs").reset();
      }
    }
  });
});
define("discourse/routes/group-manage-membership", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    titleToken: function titleToken() {
      return I18n.t("groups.manage.membership.title");
    },
    afterModel: function afterModel(group) {
      if (group.get("automatic")) {
        this.replaceWith("group.manage.interaction", group);
      }
    }
  });
});
define("discourse/routes/group-manage-profile", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    titleToken: function titleToken() {
      return I18n.t("groups.manage.profile.title");
    }
  });
});
define("discourse/routes/group-manage", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    titleToken: function titleToken() {
      return I18n.t("groups.manage.title");
    },
    model: function model() {
      return this.modelFor("group");
    },
    afterModel: function afterModel(group) {
      if (!this.currentUser || !(this.currentUser.admin && group.get("automatic")) && !this.currentUser.canManageGroup(group)) {
        this.transitionTo("group.members", group);
      }
    },
    setupController: function setupController(controller, model) {
      this.controllerFor("group-manage").setProperties({ model: model });
      this.controllerFor("group").set("showing", "manage");
    }
  });
});
define("discourse/routes/group-members", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    beforeModel: function beforeModel() {
      this.transitionTo("group.index");
    }
  });
});
define("discourse/routes/group-messages-archive", ["exports", "discourse/routes/build-group-messages-route"], function (exports, _buildGroupMessagesRoute) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _buildGroupMessagesRoute.default)("archive");
});
define("discourse/routes/group-messages-inbox", ["exports", "discourse/routes/build-group-messages-route"], function (exports, _buildGroupMessagesRoute) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _buildGroupMessagesRoute.default)("inbox");
});
define("discourse/routes/group-messages-index", ["exports", "@ember/routing/route"], function (exports, _route) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _route.default.extend({
    beforeModel: function beforeModel() {
      this.transitionTo("group.messages.inbox");
    }
  });
});
define("discourse/routes/group-messages", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      return I18n.t("groups.messages");
    },
    model: function model() {
      return this.modelFor("group");
    },
    afterModel: function afterModel(group) {
      if (!group.get("is_group_user") && !(this.currentUser && this.currentUser.admin)) {
        this.transitionTo("group.members", group);
      }
    }
  });
});
define("discourse/routes/group-requests", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      return I18n.t("groups.requests.title");
    },
    model: function model(params) {
      this._params = params;
      return this.modelFor("group");
    },
    setupController: function setupController(controller, model) {
      this.controllerFor("group").set("showing", "requests");

      controller.setProperties({
        model: model,
        filterInput: this._params.filter
      });

      controller.findRequesters(true);
    }
  });
});
define("discourse/routes/group", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      return [this.modelFor("group").get("name")];
    },
    model: function model(params) {
      return this.store.find("group", params.name);
    },
    serialize: function serialize(model) {
      return { name: model.get("name").toLowerCase() };
    },
    setupController: function setupController(controller, model) {
      controller.setProperties({ model: model });
    }
  });
});
define("discourse/routes/groups-index", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      return I18n.t("groups.index.title");
    },


    queryParams: {
      order: { refreshModel: true, replace: true },
      asc: { refreshModel: true, replace: true },
      filter: { refreshModel: true },
      type: { refreshModel: true, replace: true },
      username: { refreshModel: true }
    },

    model: function model(params) {
      this._params = params;
      return this.store.findAll("group", params);
    },
    setupController: function setupController(controller, model) {
      controller.setProperties({
        model: model,
        filterInput: this._params.filter
      });
    }
  });
});
define("discourse/routes/groups-new", ["exports", "discourse/routes/discourse", "discourse/models/group"], function (exports, _discourse, _group) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    titleToken: function titleToken() {
      return I18n.t("admin.groups.new.title");
    },
    model: function model() {
      return _group.default.create({ automatic: false, visibility_level: 0 });
    },
    setupController: function setupController(controller, model) {
      controller.set("model", model);
    },
    afterModel: function afterModel() {
      if (!(this.currentUser && this.currentUser.admin)) {
        this.transitionTo("groups");
      }
    }
  });
});
define("discourse/routes/guidelines", ["exports", "discourse/lib/static-route-builder"], function (exports, _staticRouteBuilder) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _staticRouteBuilder.default)("guidelines");
});
define("discourse/routes/invites-show", ["exports", "discourse/routes/discourse", "preload-store"], function (exports, _discourse, _preloadStore) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      return I18n.t("invites.accept_title");
    },
    model: function model(params) {
      if (_preloadStore.default.get("invite_info")) {
        return _preloadStore.default.getAndRemove("invite_info").then(function (json) {
          return _.merge(params, json);
        });
      } else {
        return {};
      }
    }
  });
});
define("discourse/routes/login", ["exports", "@ember/runloop", "discourse/routes/build-static-route", "discourse/lib/utilities"], function (exports, _runloop, _buildStaticRoute, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var LoginRoute = (0, _buildStaticRoute.default)("login");

  LoginRoute.reopen({
    beforeModel: function beforeModel() {
      if (!this.siteSettings.login_required) {
        this.replaceWith("/" + (0, _utilities.defaultHomepage)()).then(function (e) {
          (0, _runloop.next)(function () {
            return e.send("showLogin");
          });
        });
      }
    }
  });

  exports.default = LoginRoute;
});
define("discourse/routes/new-message", ["exports", "@ember/runloop", "discourse/routes/discourse", "discourse/models/user", "discourse/models/group"], function (exports, _runloop, _discourse, _user, _group) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    beforeModel: function beforeModel(transition) {
      var params = transition.to.queryParams;

      var groupName = params.groupname || params.group_name;

      if (this.currentUser) {
        this.replaceWith("discovery.latest").then(function (e) {
          if (params.username) {
            // send a message to a user
            _user.default.findByUsername(encodeURIComponent(params.username)).then(function (user) {
              if (user.can_send_private_message_to_user) {
                (0, _runloop.next)(function () {
                  return e.send("createNewMessageViaParams", user.username, params.title, params.body);
                });
              } else {
                bootbox.alert(I18n.t("composer.cant_send_pm", { username: user.username }));
              }
            }).catch(function () {
              return bootbox.alert(I18n.t("generic_error"));
            });
          } else if (groupName) {
            // send a message to a group
            _group.default.messageable(groupName).then(function (result) {
              if (result.messageable) {
                (0, _runloop.next)(function () {
                  return e.send("createNewMessageViaParams", groupName, params.title, params.body);
                });
              } else {
                bootbox.alert(I18n.t("composer.cant_send_pm", { username: groupName }));
              }
            }).catch(function () {
              return bootbox.alert(I18n.t("generic_error"));
            });
          } else {
            e.send("createNewMessageViaParams", null, params.title, params.body);
          }
        });
      } else {
        $.cookie("destination_url", window.location.href);
        this.replaceWith("login");
      }
    }
  });
});
define("discourse/routes/new-topic", ["exports", "@ember/runloop", "discourse/routes/discourse", "discourse/models/category"], function (exports, _runloop, _discourse, _category) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    beforeModel: function beforeModel(transition) {
      var _this = this;

      if (this.currentUser) {
        var category = void 0,
            categoryId = void 0;

        if (transition.to.queryParams.category_id) {
          categoryId = transition.to.queryParams.category_id;
          category = _category.default.findById(categoryId);
        } else if (transition.to.queryParams.category) {
          var splitCategory = transition.to.queryParams.category.split("/");

          category = this._getCategory(splitCategory[0], splitCategory[1], "nameLower");

          if (!category) {
            category = this._getCategory(splitCategory[0], splitCategory[1], "slug");
          }

          if (category) {
            categoryId = category.id;
          }
        }

        if (Boolean(category)) {
          var route = "discovery.parentCategory";
          var params = { category: category, slug: category.slug };
          if (category.parentCategory) {
            route = "discovery.category";
            params = {
              category: category,
              parentSlug: category.parentCategory.slug,
              slug: category.slug
            };
          }

          this.replaceWith(route, params).then(function (e) {
            if (_this.controllerFor("navigation/category").canCreateTopic) {
              _this._sendTransition(e, transition, categoryId);
            }
          });
        } else {
          this.replaceWith("discovery.latest").then(function (e) {
            if (_this.controllerFor("navigation/default").canCreateTopic) {
              _this._sendTransition(e, transition);
            }
          });
        }
      } else {
        // User is not logged in
        $.cookie("destination_url", window.location.href);
        this.replaceWith("login");
      }
    },
    _sendTransition: function _sendTransition(event, transition, categoryId) {
      (0, _runloop.next)(function () {
        event.send("createNewTopicViaParams", transition.to.queryParams.title, transition.to.queryParams.body, categoryId, transition.to.queryParams.tags);
      });
    },
    _getCategory: function _getCategory(mainCategory, subCategory, type) {
      var category = void 0;
      if (!subCategory) {
        category = this.site.categories.findBy(type, mainCategory.toLowerCase());
      } else {
        var categories = this.site.categories;
        var main = categories.findBy(type, mainCategory.toLowerCase());
        if (main) {
          category = categories.find(function (item) {
            return item && item[type] === subCategory.toLowerCase() && item.parent_category_id === main.id;
          });
        }
      }

      return category;
    }
  });
});
define("discourse/routes/password-reset", ["exports", "discourse/routes/discourse", "preload-store", "discourse/lib/ajax", "discourse/lib/url"], function (exports, _discourse, _preloadStore, _ajax, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      return I18n.t("login.reset_password");
    },
    model: function model(params) {
      if (_preloadStore.default.get("password_reset")) {
        return _preloadStore.default.getAndRemove("password_reset").then(function (json) {
          return _.merge(params, json);
        });
      }
    },
    afterModel: function afterModel(model) {
      // confirm token here so email clients who crawl URLs don't invalidate the link
      if (model) {
        return (0, _ajax.ajax)({
          url: (0, _url.userPath)("confirm-email-token/" + model.token + ".json"),
          dataType: "json"
        });
      }
    }
  });
});
define("discourse/routes/post", ["exports", "discourse/routes/discourse", "discourse/lib/ajax"], function (exports, _discourse, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    beforeModel: function beforeModel(_ref) {
      var _this = this;

      var params = _ref.params;

      return (0, _ajax.ajax)("/p/" + params.post.id).then(function (t) {
        _this.transitionTo("topic.fromParamsNear", t.slug, t.id, t.current_post_number);
      });
    }
  });
});
define("discourse/routes/preferences-account", ["exports", "discourse/models/user-badge", "discourse/routes/restricted-user"], function (exports, _userBadge, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true,

    model: function model() {
      var user = this.modelFor("user");
      if (this.siteSettings.enable_badges) {
        return _userBadge.default.findByUsername(user.get("username")).then(function (userBadges) {
          user.set("badges", userBadges.map(function (ub) {
            return ub.badge;
          }));
          return user;
        });
      } else {
        return user;
      }
    },
    setupController: function setupController(controller, user) {
      controller.reset();
      controller.setProperties({
        model: user,
        newNameInput: user.get("name"),
        newTitleInput: user.get("title"),
        newPrimaryGroupInput: user.get("primary_group_id")
      });
    },


    actions: {
      showAvatarSelector: function showAvatarSelector(user) {
        this.appEvents.trigger("show-avatar-select", user);
      }
    }
  });
});
define("discourse/routes/preferences-apps", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true
  });
});
define("discourse/routes/preferences-categories", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true
  });
});
define("discourse/routes/preferences-email", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true,

    model: function model() {
      return this.modelFor("user");
    },

    renderTemplate: function renderTemplate() {
      this.render({ into: "user" });
    },

    setupController: function setupController(controller, model) {
      controller.reset();
      controller.setProperties({ model: model, newEmail: model.get("email") });
    },

    // A bit odd, but if we leave to /preferences we need to re-render that outlet
    deactivate: function deactivate() {
      this._super.apply(this, arguments);
      this.render("preferences", { into: "user", controller: "preferences" });
    }
  });
});
define("discourse/routes/preferences-emails", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true
  });
});
define("discourse/routes/preferences-index", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true,

    redirect: function redirect() {
      this.transitionTo("preferences.account");
    }
  });
});
define("discourse/routes/preferences-interface", ["exports", "discourse/routes/restricted-user", "discourse/lib/theme-selector"], function (exports, _restrictedUser, _themeSelector) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true,

    setupController: function setupController(controller, user) {
      controller.setProperties({
        model: user,
        textSize: user.get("currentTextSize"),
        themeId: (0, _themeSelector.currentThemeId)(),
        makeThemeDefault: !user.get("user_option.theme_ids") || (0, _themeSelector.currentThemeId)() === user.get("user_option.theme_ids")[0],
        makeTextSizeDefault: user.get("currentTextSize") === user.get("user_option.text_size")
      });
    }
  });
});
define("discourse/routes/preferences-notifications", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true
  });
});
define("discourse/routes/preferences-profile", ["exports", "discourse/routes/restricted-user", "@ember/object"], function (exports, _restrictedUser, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true,
    setupController: function setupController(controller, model) {
      if (!model.user_option.timezone) {
        (0, _object.set)(model, "user_option.timezone", moment.tz.guess());
      }

      controller.set("model", model);
    }
  });
});
define("discourse/routes/preferences-second-factor", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true,

    model: function model() {
      return this.modelFor("user");
    },
    renderTemplate: function renderTemplate() {
      return this.render({ into: "user" });
    },
    setupController: function setupController(controller, model) {
      controller.setProperties({ model: model, newUsername: model.get("username") });
      controller.set("loading", true);

      model.loadSecondFactorCodes("").then(function (response) {
        if (response.error) {
          controller.set("errorMessage", response.error);
        } else {
          controller.setProperties({
            errorMessage: null,
            loaded: !response.password_required,
            dirty: !!response.password_required,
            totps: response.totps,
            security_keys: response.security_keys
          });
        }
      }).catch(controller.popupAjaxError).finally(function () {
        return controller.set("loading", false);
      });
    },


    actions: {
      willTransition: function willTransition(transition) {
        this._super.apply(this, arguments);

        var controller = this.controllerFor("preferences/second-factor");
        var user = controller.get("currentUser");
        var settings = controller.get("siteSettings");

        if (transition.targetName === "preferences.second-factor" || !user || user.is_anonymous || user.second_factor_enabled || settings.enforce_second_factor === "staff" && !user.staff || settings.enforce_second_factor === "no") {
          return true;
        }

        transition.abort();
        return false;
      }
    }
  });
});
define("discourse/routes/preferences-tags", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true
  });
});
define("discourse/routes/preferences-username", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true,

    model: function model() {
      return this.modelFor("user");
    },

    renderTemplate: function renderTemplate() {
      return this.render({ into: "user" });
    },

    // A bit odd, but if we leave to /preferences we need to re-render that outlet
    deactivate: function deactivate() {
      this._super.apply(this, arguments);
      this.render("preferences", { into: "user", controller: "preferences" });
    },

    setupController: function setupController(controller, user) {
      controller.setProperties({
        model: user,
        newUsername: user.get("username")
      });
    }
  });
});
define("discourse/routes/preferences-users", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    showFooter: true
  });
});
define("discourse/routes/preferences", ["exports", "discourse/routes/restricted-user"], function (exports, _restrictedUser) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _restrictedUser.default.extend({
    model: function model() {
      return this.modelFor("user");
    }
  });
});
define("discourse/routes/privacy", ["exports", "discourse/lib/static-route-builder"], function (exports, _staticRouteBuilder) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _staticRouteBuilder.default)("privacy");
});
define("discourse/routes/review-index", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model(params) {
      return this.store.findAll("reviewable", params);
    },
    setupController: function setupController(controller, model) {
      var meta = model.resultSetMeta;

      // "fast track" to update the current user's reviewable count before the message bus finds out.
      if (meta.reviewable_count !== undefined) {
        this.currentUser.set("reviewable_count", meta.reviewable_count);
      }

      controller.setProperties({
        reviewables: model,
        type: meta.type,
        filterType: meta.type,
        filterStatus: meta.status,
        filterTopic: meta.topic_id,
        filterCategoryId: meta.category_id,
        filterPriority: meta.priority,
        reviewableTypes: meta.reviewable_types,
        filterUsername: meta.username,
        filterFromDate: meta.from_date,
        filterToDate: meta.to_date,
        filterSortOrder: meta.sort_order,
        additionalFilters: meta.additional_filters || {}
      });
    },
    activate: function activate() {
      var _this = this;

      this.messageBus.subscribe("/reviewable_claimed", function (data) {
        var reviewables = _this.controller.reviewables;
        if (reviewables) {
          var user = data.user ? _this.store.createRecord("user", data.user) : null;
          reviewables.forEach(function (reviewable) {
            if (data.topic_id === reviewable.topic.id) {
              reviewable.set("claimed_by", user);
            }
          });
        }
      });
    },
    deactivate: function deactivate() {
      this.messageBus.unsubscribe("/reviewable_claimed");
    },


    actions: {
      refreshRoute: function refreshRoute() {
        this.refresh();
      }
    }
  });
});
define("discourse/routes/review-settings", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model() {
      return this.store.find("reviewable-settings");
    },
    setupController: function setupController(controller, model) {
      controller.set("settings", model);
    }
  });
});
define("discourse/routes/review-show", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    setupController: function setupController(controller, model) {
      controller.set("reviewable", model);
    }
  });
});
define("discourse/routes/review-topics", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model() {
      return this.store.findAll("reviewable-topic");
    },
    setupController: function setupController(controller, model) {
      controller.set("reviewableTopics", model);
    }
  });
});
define("discourse/routes/review", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      return I18n.t("review.title");
    }
  });
});
define("discourse/routes/rules", ["exports", "discourse/lib/static-route-builder"], function (exports, _staticRouteBuilder) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _staticRouteBuilder.default)("rules");
});
define("discourse/routes/signup", ["exports", "@ember/runloop", "discourse/routes/build-static-route"], function (exports, _runloop, _buildStaticRoute) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var SignupRoute = (0, _buildStaticRoute.default)("signup");

  SignupRoute.reopen({
    beforeModel: function beforeModel() {
      var canSignUp = this.controllerFor("application").get("canSignUp");

      if (!this.siteSettings.login_required) {
        this.replaceWith("discovery.latest").then(function (e) {
          if (canSignUp) {
            (0, _runloop.next)(function () {
              return e.send("showCreateAccount");
            });
          }
        });
      } else {
        this.replaceWith("login").then(function (e) {
          if (canSignUp) {
            (0, _runloop.next)(function () {
              return e.send("showCreateAccount");
            });
          }
        });
      }
    }
  });

  exports.default = SignupRoute;
});
define("discourse/routes/tag-groups-edit", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    model: function model(params) {
      return this.store.find("tagGroup", params.id);
    },
    afterModel: function afterModel(tagGroup) {
      tagGroup.set("savingStatus", null);
    }
  });
});
define("discourse/routes/tag-groups-new", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    beforeModel: function beforeModel() {
      if (!this.siteSettings.tagging_enabled) {
        this.transitionTo("tagGroups");
      }
    },
    model: function model() {
      return this.store.createRecord("tagGroup", {
        name: I18n.t("tagging.groups.new_name")
      });
    }
  });
});
define("discourse/routes/tag-groups", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    model: function model() {
      return this.store.findAll("tagGroup");
    },
    titleToken: function titleToken() {
      return I18n.t("tagging.groups.title");
    }
  });
});
define("discourse/routes/tags-index", ["exports", "discourse/routes/discourse", "discourse/models/tag"], function (exports, _discourse, _tag) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model() {
      return this.store.findAll("tag").then(function (result) {
        if (result.extras) {
          if (result.extras.categories) {
            result.extras.categories.forEach(function (category) {
              category.tags = category.tags.map(function (t) {
                return _tag.default.create(t);
              });
            });
          }
          if (result.extras.tag_groups) {
            result.extras.tag_groups.forEach(function (tagGroup) {
              tagGroup.tags = tagGroup.tags.map(function (t) {
                return _tag.default.create(t);
              });
            });
          }
        }
        return result;
      });
    },
    titleToken: function titleToken() {
      return I18n.t("tagging.tags");
    },
    setupController: function setupController(controller, model) {
      this.controllerFor("tags.index").setProperties({
        model: model,
        sortProperties: this.siteSettings.tags_sort_alphabetically ? ["id"] : ["totalCount:desc", "id"]
      });
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("application").set("showFooter", true);
        return true;
      },
      showTagGroups: function showTagGroups() {
        this.transitionTo("tagGroups");
        return true;
      },
      refresh: function refresh() {
        this.refresh();
      }
    }
  });
});
define("discourse/routes/tags-intersection", ["exports", "discourse/routes/tags-show"], function (exports, _tagsShow) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _tagsShow.default.extend({});
});
define("discourse/routes/tags-show", ["exports", "discourse/routes/discourse", "discourse/models/composer", "discourse/lib/show-modal", "discourse/routes/build-topic-route", "discourse/controllers/discovery-sortable", "discourse/models/permission-type", "discourse/models/category", "discourse/mixins/filter-mode"], function (exports, _discourse, _composer, _showModal, _buildTopicRoute, _discoverySortable, _permissionType, _category, _filterMode) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend(_filterMode.default, {
    navMode: "latest",

    queryParams: _discoverySortable.queryParams,

    renderTemplate: function renderTemplate() {
      var controller = this.controllerFor("tags.show");
      this.render("tags.show", { controller: controller });
    },
    model: function model(params) {
      var _this = this;

      var tag = this.store.createRecord("tag", {
        id: Handlebars.Utils.escapeExpression(params.tag_id)
      });
      if (params.additional_tags) {
        this.set("additionalTags", params.additional_tags.split("/").map(function (t) {
          return _this.store.createRecord("tag", {
            id: Handlebars.Utils.escapeExpression(t)
          }).id;
        }));
      } else {
        this.set("additionalTags", null);
      }

      this.set("filterType", this.navMode.split("/")[0]);

      this.set("categorySlugPathWithID", params.category_slug_path_with_id);

      if (tag && tag.get("id") !== "none" && this.currentUser) {
        // If logged in, we should get the tag's user settings
        return this.store.find("tagNotification", tag.get("id").toLowerCase()).then(function (tn) {
          _this.set("tagNotification", tn);
          return tag;
        });
      }

      return tag;
    },
    afterModel: function afterModel(tag, transition) {
      var _this2 = this;

      var controller = this.controllerFor("tags.show");
      controller.setProperties({
        loading: true,
        showInfo: false
      });

      var params = (0, _buildTopicRoute.filterQueryParams)(transition.to.queryParams, {});
      var category = this.categorySlugPathWithID ? _category.default.findBySlugPathWithID(this.categorySlugPathWithID) : null;
      var topicFilter = this.navMode;
      var tagId = tag ? tag.id.toLowerCase() : "none";
      var filter = void 0;

      if (category) {
        category.setupGroupsAndPermissions();
        this.set("category", category);
        filter = "tags/c/" + _category.default.slugFor(category) + "/" + category.id;

        if (this.noSubcategories) {
          filter += "/none";
        }

        filter += "/" + tagId + "/l/" + topicFilter;
      } else if (this.additionalTags) {
        this.set("category", null);
        filter = "tags/intersection/" + tagId + "/" + this.additionalTags.join("/");
      } else {
        this.set("category", null);
        filter = "tag/" + tagId + "/l/" + topicFilter;
      }

      return (0, _buildTopicRoute.findTopicList)(this.store, this.topicTrackingState, filter, params, {
        cached: true
      }).then(function (list) {
        if (list.topic_list.tags && list.topic_list.tags.length === 1) {
          // Update name of tag (case might be different)
          tag.setProperties({
            id: list.topic_list.tags[0].name,
            staff: list.topic_list.tags[0].staff
          });
        }
        controller.setProperties({
          list: list,
          canCreateTopic: list.get("can_create_topic"),
          loading: false,
          canCreateTopicOnCategory: _this2.get("category.permission") === _permissionType.default.FULL,
          canCreateTopicOnTag: !tag.get("staff") || _this2.get("currentUser.staff")
        });
      });
    },
    titleToken: function titleToken() {
      var filterText = I18n.t("filters." + this.navMode.replace("/", ".") + ".title");
      var controller = this.controllerFor("tags.show");

      if (controller.get("model.id")) {
        if (this.category) {
          return I18n.t("tagging.filters.with_category", {
            filter: filterText,
            tag: controller.get("model.id"),
            category: this.get("category.name")
          });
        } else {
          return I18n.t("tagging.filters.without_category", {
            filter: filterText,
            tag: controller.get("model.id")
          });
        }
      } else {
        if (this.category) {
          return I18n.t("tagging.filters.untagged_with_category", {
            filter: filterText,
            category: this.get("category.name")
          });
        } else {
          return I18n.t("tagging.filters.untagged_without_category", {
            filter: filterText
          });
        }
      }
    },
    setupController: function setupController(controller, model) {
      this.controllerFor("tags.show").setProperties({
        model: model,
        tag: model,
        additionalTags: this.additionalTags,
        category: this.category,
        filterType: this.filterType,
        navMode: this.navMode,
        tagNotification: this.tagNotification,
        noSubcategories: this.noSubcategories
      });
      this.searchService.set("searchContext", model.get("searchContext"));
    },
    deactivate: function deactivate() {
      this._super.apply(this, arguments);
      this.searchService.set("searchContext", null);
    },


    actions: {
      invalidateModel: function invalidateModel() {
        this.refresh();
      },
      renameTag: function renameTag(tag) {
        (0, _showModal.default)("rename-tag", { model: tag });
      },
      createTopic: function createTopic() {
        var _this3 = this;

        var controller = this.controllerFor("tags.show");

        if (controller.get("list.draft")) {
          this.openTopicDraft(controller.get("list"));
        } else {
          this.controllerFor("composer").open({
            categoryId: controller.get("category.id"),
            action: _composer.default.CREATE_TOPIC,
            draftKey: controller.get("list.draft_key"),
            draftSequence: controller.get("list.draft_sequence")
          }).then(function () {
            // Pre-fill the tags input field
            if (controller.get("model.id")) {
              var composerModel = _this3.controllerFor("composer").get("model");

              composerModel.set("tags", _.compact(_.flatten([controller.get("model.id"), controller.get("additionalTags")])));
            }
          });
        }
      },
      didTransition: function didTransition() {
        this.controllerFor("tags.show")._showFooter();
        return true;
      }
    }
  });
});
define("discourse/routes/topic-by-slug-or-id", ["exports", "discourse/routes/discourse", "discourse/models/topic", "discourse/lib/url"], function (exports, _discourse, _topic, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model(params) {
      if (params.slugOrId.match(_topic.ID_CONSTRAINT)) {
        return { url: "/t/topic/" + params.slugOrId };
      } else {
        return _topic.default.idForSlug(params.slugOrId);
      }
    },
    afterModel: function afterModel(result) {
      _url.default.routeTo(result.url, { replaceURL: true });
    }
  });
});
define("discourse/routes/topic-from-params-near", ["exports", "discourse/routes/topic-from-params"], function (exports, _topicFromParams) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _topicFromParams.default;
});
define("discourse/routes/topic", ["exports", "@ember/object", "@ember/utils", "@ember/runloop", "discourse/routes/discourse", "discourse/lib/url", "discourse/models/topic", "rsvp", "discourse/lib/show-modal"], function (exports, _object, _utils, _runloop, _discourse, _url, _topic, _rsvp, _showModal) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var isTransitioning = false,
      scheduledReplace = null,
      lastScrollPos = null;

  var SCROLL_DELAY = 500;

  var TopicRoute = _discourse.default.extend({
    redirect: function redirect() {
      return this.redirectIfLoginRequired();
    },


    queryParams: {
      filter: { replace: true },
      username_filters: { replace: true }
    },

    titleToken: function titleToken() {
      var model = this.modelFor("topic");
      if (model) {
        var result = model.get("unicode_title") || model.get("title"),
            cat = model.get("category");

        // Only display uncategorized in the title tag if it was renamed
        if (this.siteSettings.topic_page_title_includes_category && cat && !(cat.get("isUncategorizedCategory") && cat.get("name").toLowerCase() === "uncategorized")) {
          var catName = cat.get("name");

          var parentCategory = cat.get("parentCategory");
          if (parentCategory) {
            catName = parentCategory.get("name") + " / " + catName;
          }

          return [result, catName];
        }
        return result;
      }
    },


    actions: {
      showInvite: function showInvite() {
        var invitePanelTitle = void 0;

        if (this.isPM) {
          invitePanelTitle = "topic.invite_private.title";
        } else if (this.invitingToTopic) {
          invitePanelTitle = "topic.invite_reply.title";
        } else {
          invitePanelTitle = "user.invited.create";
        }

        (0, _showModal.default)("share-and-invite", {
          modalClass: "share-and-invite",
          panels: [{
            id: "invite",
            title: invitePanelTitle,
            model: {
              inviteModel: this.modelFor("topic")
            }
          }]
        });
      },
      showFlags: function showFlags(model) {
        var controller = (0, _showModal.default)("flag", { model: model });
        controller.setProperties({ flagTopic: false });
      },
      showFlagTopic: function showFlagTopic() {
        var model = this.modelFor("topic");
        var controller = (0, _showModal.default)("flag", { model: model });
        controller.setProperties({ flagTopic: true });
      },
      showTopicStatusUpdate: function showTopicStatusUpdate() {
        var model = this.modelFor("topic");

        var topicTimer = model.get("topic_timer");
        if (!topicTimer) {
          model.set("topic_timer", {});
        }

        var privateTopicTimer = model.get("private_topic_timer");
        if (!privateTopicTimer) {
          model.set("private_topic_timer", {});
        }

        (0, _showModal.default)("edit-topic-timer", { model: model });
        this.controllerFor("modal").set("modalClass", "edit-topic-timer-modal");
      },
      showChangeTimestamp: function showChangeTimestamp() {
        (0, _showModal.default)("change-timestamp", {
          model: this.modelFor("topic"),
          title: "topic.change_timestamp.title"
        });
      },
      showFeatureTopic: function showFeatureTopic() {
        (0, _showModal.default)("featureTopic", {
          model: this.modelFor("topic"),
          title: "topic.feature_topic.title"
        });
        this.controllerFor("modal").set("modalClass", "feature-topic-modal");
        this.controllerFor("feature_topic").reset();
      },
      showHistory: function showHistory(model, revision) {
        var historyController = (0, _showModal.default)("history", {
          model: model,
          modalClass: "history-modal"
        });
        historyController.refresh(model.get("id"), revision || "latest");
        historyController.set("post", model);
        historyController.set("topicController", this.controllerFor("topic"));
      },
      showGrantBadgeModal: function showGrantBadgeModal() {
        (0, _showModal.default)("grant-badge", {
          model: this.modelFor("topic"),
          title: "admin.badges.grant_badge"
        });
      },
      showRawEmail: function showRawEmail(model) {
        (0, _showModal.default)("raw-email", { model: model });
        this.controllerFor("raw_email").loadRawEmail(model.get("id"));
      },
      moveToTopic: function moveToTopic() {
        (0, _showModal.default)("move-to-topic", {
          model: this.modelFor("topic"),
          title: "topic.move_to.title"
        });
      },
      changeOwner: function changeOwner() {
        (0, _showModal.default)("change-owner", {
          model: this.modelFor("topic"),
          title: "topic.change_owner.title"
        });
      },
      postChangedRoute: function postChangedRoute(currentPost) {
        // do nothing if we are transitioning to another route
        if (isTransitioning || TopicRoute.disableReplaceState) {
          return;
        }

        var topic = this.modelFor("topic");
        if (topic && currentPost) {
          var postUrl = topic.get("url");
          if (currentPost > 1) {
            postUrl += "/" + currentPost;
          }

          (0, _runloop.cancel)(scheduledReplace);
          lastScrollPos = parseInt($(document).scrollTop(), 10);
          scheduledReplace = (0, _runloop.later)(this, "_replaceUnlessScrolling", postUrl, Ember.Test ? 0 : SCROLL_DELAY);
        }
      },
      didTransition: function didTransition() {
        this.controllerFor("topic")._showFooter();
        return true;
      },
      willTransition: function willTransition() {
        this._super.apply(this, arguments);
        (0, _runloop.cancel)(scheduledReplace);
        isTransitioning = true;
        return true;
      }
    },

    _replaceUnlessScrolling: function _replaceUnlessScrolling(url) {
      var currentPos = parseInt($(document).scrollTop(), 10);
      if (currentPos === lastScrollPos) {
        _url.default.replaceState(url);
        return;
      }
      lastScrollPos = currentPos;
      scheduledReplace = (0, _runloop.later)(this, "_replaceUnlessScrolling", url, SCROLL_DELAY);
    },
    setupParams: function setupParams(topic, params) {
      var postStream = topic.get("postStream");
      postStream.set("summary", (0, _object.get)(params, "filter") === "summary");

      var usernames = (0, _object.get)(params, "username_filters"),
          userFilters = postStream.get("userFilters");

      userFilters.clear();
      if (!(0, _utils.isEmpty)(usernames) && usernames !== "undefined") {
        userFilters.addObjects(usernames.split(","));
      }

      return topic;
    },
    model: function model(params, transition) {
      if (params.slug.match(_topic.ID_CONSTRAINT)) {
        transition.abort();

        _url.default.routeTo("/t/topic/" + params.slug + "/" + params.id, {
          replaceURL: true
        });

        return;
      }

      var queryParams = transition.to.queryParams;

      var topic = this.modelFor("topic");
      if (topic && topic.get("id") === parseInt(params.id, 10)) {
        this.setupParams(topic, queryParams);
        return topic;
      } else {
        topic = this.store.createRecord("topic", _.omit(params, "username_filters", "filter"));
        return this.setupParams(topic, queryParams);
      }
    },
    activate: function activate() {
      this._super.apply(this, arguments);
      isTransitioning = false;

      var topic = this.modelFor("topic");
      this.session.set("lastTopicIdViewed", parseInt(topic.get("id"), 10));
    },
    deactivate: function deactivate() {
      this._super.apply(this, arguments);

      this.searchService.set("searchContext", null);
      this.controllerFor("user-card").set("visible", false);

      var topicController = this.controllerFor("topic");
      var postStream = topicController.get("model.postStream");

      postStream.cancelFilter();

      topicController.set("multiSelect", false);
      this.controllerFor("composer").set("topic", null);
      this.screenTrack.stop();

      this.appEvents.trigger("header:hide-topic");

      this.controllerFor("topic").set("model", null);
    },
    setupController: function setupController(controller, model) {
      var _this = this;

      // In case we navigate from one topic directly to another
      isTransitioning = false;

      controller.setProperties({
        model: model,
        editingTopic: false,
        firstPostExpanded: false
      });

      TopicRoute.trigger("setupTopicController", this);

      this.searchService.set("searchContext", model.get("searchContext"));

      // close the multi select when switching topics
      controller.set("multiSelect", false);
      controller.get("quoteState").clear();

      this.controllerFor("composer").set("topic", model);
      this.topicTrackingState.trackIncoming("all");

      // We reset screen tracking every time a topic is entered
      this.screenTrack.start(model.get("id"), controller);

      (0, _runloop.scheduleOnce)("afterRender", function () {
        _this.appEvents.trigger("header:update-topic", model);
      });
    }
  });

  _rsvp.EventTarget.mixin(TopicRoute);
  exports.default = TopicRoute;
});
define("discourse/routes/tos", ["exports", "discourse/lib/static-route-builder"], function (exports, _staticRouteBuilder) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _staticRouteBuilder.default)("tos");
});
define("discourse/routes/unknown", ["exports", "discourse/routes/discourse", "discourse/lib/ajax"], function (exports, _discourse, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model() {
      return (0, _ajax.ajax)("/404-body", { dataType: "html" });
    }
  });
});
define("discourse/routes/user-activity-bookmarks", ["exports", "discourse/routes/user-activity-stream", "discourse/models/user-action"], function (exports, _userActivityStream, _userAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _userActivityStream.default.extend({
    userActionType: _userAction.default.TYPES["bookmarks"],
    noContentHelpKey: "user_activity.no_bookmarks",

    actions: {
      didTransition: function didTransition() {
        this.controllerFor("application").set("showFooter", true);
        return true;
      }
    }
  });
});
define("discourse/routes/user-activity-drafts", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model() {
      var userDraftsStream = this.modelFor("user").get("userDraftsStream");
      return userDraftsStream.load(this.site).then(function () {
        return userDraftsStream;
      });
    },
    renderTemplate: function renderTemplate() {
      this.render("user_stream");
    },
    setupController: function setupController(controller, model) {
      controller.set("model", model);
    },
    activate: function activate() {
      this.appEvents.on("draft:destroyed", this, this.refresh);
    },
    deactivate: function deactivate() {
      this.appEvents.off("draft:destroyed", this, this.refresh);
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("user-activity")._showFooter();
        return true;
      }
    }
  });
});
define("discourse/routes/user-activity-index", ["exports", "discourse/routes/user-activity-stream"], function (exports, _userActivityStream) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _userActivityStream.default.extend({
    userActionType: null
  });
});
define("discourse/routes/user-activity-likes-given", ["exports", "discourse/routes/user-activity-stream", "discourse/models/user-action"], function (exports, _userActivityStream, _userAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _userActivityStream.default.extend({
    userActionType: _userAction.default.TYPES["likes_given"],
    noContentHelpKey: "user_activity.no_likes_given",

    actions: {
      didTransition: function didTransition() {
        this.controllerFor("application").set("showFooter", true);
        return true;
      }
    }
  });
});
define("discourse/routes/user-activity-pending", ["exports", "discourse/routes/user-activity-stream", "discourse/models/user-action"], function (exports, _userActivityStream, _userAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _userActivityStream.default.extend({
    userActionType: _userAction.default.TYPES.pending
  });
});
define("discourse/routes/user-activity-replies", ["exports", "discourse/routes/user-activity-stream", "discourse/models/user-action"], function (exports, _userActivityStream, _userAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _userActivityStream.default.extend({
    userActionType: _userAction.default.TYPES["posts"],
    noContentHelpKey: "user_activity.no_replies",

    actions: {
      didTransition: function didTransition() {
        this.controllerFor("application").set("showFooter", true);
        return true;
      }
    }
  });
});
define("discourse/routes/user-activity-topics", ["exports", "discourse/routes/user-topic-list", "discourse/models/user-action"], function (exports, _userTopicList, _userAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _userTopicList.default.extend({
    userActionType: _userAction.default.TYPES.topics,

    model: function model() {
      return this.store.findFiltered("topicList", {
        filter: "topics/created-by/" + this.modelFor("user").get("username_lower")
      });
    }
  });
});
define("discourse/routes/user-activity", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model() {
      var user = this.modelFor("user");
      if (user.get("profile_hidden")) {
        return this.replaceWith("user.profile-hidden");
      }

      return user;
    },
    setupController: function setupController(controller, user) {
      this.controllerFor("user-activity").set("model", user);
    }
  });
});
define("discourse/routes/user-badges", ["exports", "discourse/routes/discourse", "discourse/mixins/viewing-action-type", "discourse/models/user-badge"], function (exports, _discourse, _viewingActionType, _userBadge) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend(_viewingActionType.default, {
    model: function model() {
      return _userBadge.default.findByUsername(this.modelFor("user").get("username_lower"), { grouped: true });
    },
    setupController: function setupController(controller, model) {
      this.viewingActionType(-1);
      controller.set("model", model);
    },
    renderTemplate: function renderTemplate() {
      this.render("user/badges", { into: "user" });
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("application").set("showFooter", true);
        return true;
      }
    }
  });
});
define("discourse/routes/user-deleted-posts", ["exports", "discourse/routes/build-admin-user-posts-route"], function (exports, _buildAdminUserPostsRoute) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _buildAdminUserPostsRoute.default)("deleted");
});
define("discourse/routes/user-index", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    beforeModel: function beforeModel() {
      var currentUser = this.currentUser;

      var viewingMe = currentUser && currentUser.get("username") === this.modelFor("user").get("username");
      var destination = viewingMe ? "userActivity" : "user.summary";

      // HACK: Something with the way the user card intercepts clicks seems to break how the
      // transition into a user's activity works. This makes the back button work on mobile
      // where there is no user card as well as desktop where there is.
      if (this.site.mobileView) {
        this.replaceWith(destination);
      } else {
        this.transitionTo(destination);
      }
    }
  });
});
define("discourse/routes/user-invited-index", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    beforeModel: function beforeModel() {
      this.replaceWith("userInvited.show", "pending");
    }
  });
});
define("discourse/routes/user-invited-show", ["exports", "discourse/routes/discourse", "discourse/models/invite", "discourse/lib/show-modal"], function (exports, _discourse, _invite, _showModal) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model(params) {
      var _this = this;

      _invite.default.findInvitedCount(this.modelFor("user")).then(function (result) {
        return _this.set("invitesCount", result);
      });
      this.inviteFilter = params.filter;
      return _invite.default.findInvitedBy(this.modelFor("user"), params.filter);
    },
    afterModel: function afterModel(model) {
      if (!model.can_see_invite_details) {
        this.replaceWith("userInvited.show", "redeemed");
      }
    },
    setupController: function setupController(controller, model) {
      controller.setProperties({
        model: model,
        user: this.controllerFor("user").get("model"),
        filter: this.inviteFilter,
        searchTerm: "",
        totalInvites: model.invites.length,
        invitesCount: this.invitesCount
      });
    },


    actions: {
      showInvite: function showInvite() {
        (0, _showModal.default)("share-and-invite", {
          modalClass: "share-and-invite",
          panels: [{
            id: "invite",
            title: "user.invited.create",
            model: {
              inviteModel: this.currentUser,
              userInvitedShow: this.controllerFor("user-invited-show")
            }
          }]
        });
      }
    }
  });
});
define("discourse/routes/user-notifications-edits", ["exports", "discourse/routes/user-activity-stream", "discourse/models/user-action"], function (exports, _userActivityStream, _userAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _userActivityStream.default.extend({
    userActionType: _userAction.default.TYPES["edits"]
  });
});
define("discourse/routes/user-notifications-index", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    controllerName: "user-notifications",
    renderTemplate: function renderTemplate() {
      this.render("user/notifications-index");
    },
    afterModel: function afterModel(model) {
      if (!model) {
        this.transitionTo("userNotifications.responses");
      }
    }
  });
});
define("discourse/routes/user-notifications-likes-received", ["exports", "discourse/routes/user-activity-stream", "discourse/models/user-action"], function (exports, _userActivityStream, _userAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _userActivityStream.default.extend({
    userActionType: _userAction.default.TYPES["likes_received"]
  });
});
define("discourse/routes/user-notifications-mentions", ["exports", "discourse/routes/user-activity-stream", "discourse/models/user-action"], function (exports, _userActivityStream, _userAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _userActivityStream.default.extend({
    userActionType: _userAction.default.TYPES["mentions"]
  });
});
define("discourse/routes/user-notifications-responses", ["exports", "discourse/routes/user-activity-stream", "discourse/models/user-action"], function (exports, _userActivityStream, _userAction) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _userActivityStream.default.extend({
    userActionType: _userAction.default.TYPES["replies"]
  });
});
define("discourse/routes/user-notifications", ["exports", "discourse/routes/discourse", "discourse/mixins/viewing-action-type"], function (exports, _discourse, _viewingActionType) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend(_viewingActionType.default, {
    renderTemplate: function renderTemplate() {
      this.render("user/notifications");
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("user-notifications")._showFooter();
        return true;
      }
    },

    model: function model() {
      var username = this.modelFor("user").get("username");

      if (this.get("currentUser.username") === username || this.get("currentUser.admin")) {
        return this.store.find("notification", { username: username });
      }
    },
    setupController: function setupController(controller, model) {
      controller.set("model", model);
      controller.set("user", this.modelFor("user"));
      this.viewingActionType(-1);
    }
  });
});
define("discourse/routes/user-private-messages-archive", ["exports", "discourse/routes/build-private-messages-route"], function (exports, _buildPrivateMessagesRoute) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _buildPrivateMessagesRoute.default)("archive", "private-messages-archive", "archive");
});
define("discourse/routes/user-private-messages-group-archive", ["exports", "discourse/routes/build-private-messages-route", "discourse/lib/cached-topic-list"], function (exports, _buildPrivateMessagesRoute, _cachedTopicList) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _buildPrivateMessagesRoute.default)("groups", "private-messages-groups").extend({
    groupName: null,

    titleToken: function titleToken() {
      var groupName = this.groupName;

      if (groupName) {
        return [groupName.capitalize() + " " + I18n.t("user.messages.archive"), I18n.t("user.private_messages")];
      }
    },
    model: function model(params) {
      var username = this.modelFor("user").get("username_lower");
      var filter = "topics/private-messages-group/" + username + "/" + params.name + "/archive";
      var lastTopicList = (0, _cachedTopicList.findOrResetCachedTopicList)(this.session, filter);
      return lastTopicList ? lastTopicList : this.store.findFiltered("topicList", { filter: filter });
    },
    afterModel: function afterModel(model) {
      var split = model.get("filter").split("/");
      var groupName = split[split.length - 2];
      this.set("groupName", groupName);
      var groups = this.modelFor("user").get("groups");
      var group = _.first(groups.filterBy("name", groupName));
      this.controllerFor("user-private-messages").set("group", group);
    },
    setupController: function setupController(controller, model) {
      this._super.apply(this, arguments);
      var split = model.get("filter").split("/");
      var group = split[split.length - 2];
      this.controllerFor("user-private-messages").set("groupFilter", group);
      this.controllerFor("user-private-messages").set("archive", true);
      this.controllerFor("user-topics-list").subscribe("/private-messages/group/" + group + "/archive");
    }
  });
});
define("discourse/routes/user-private-messages-group", ["exports", "discourse/routes/build-private-messages-route", "discourse/lib/cached-topic-list"], function (exports, _buildPrivateMessagesRoute, _cachedTopicList) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _buildPrivateMessagesRoute.default)("groups", "private-messages-groups").extend({
    groupName: null,

    titleToken: function titleToken() {
      var groupName = this.groupName;
      if (groupName) return [groupName.capitalize(), I18n.t("user.private_messages")];
    },
    model: function model(params) {
      var username = this.modelFor("user").get("username_lower");
      var filter = "topics/private-messages-group/" + username + "/" + params.name;
      var lastTopicList = (0, _cachedTopicList.findOrResetCachedTopicList)(this.session, filter);
      return lastTopicList ? lastTopicList : this.store.findFiltered("topicList", { filter: filter });
    },
    afterModel: function afterModel(model) {
      var groupName = _.last(model.get("filter").split("/"));
      this.set("groupName", groupName);
      var groups = this.modelFor("user").get("groups");
      var group = _.first(groups.filterBy("name", groupName));
      this.controllerFor("user-private-messages").set("group", group);
    },
    setupController: function setupController(controller, model) {
      this._super.apply(this, arguments);
      var group = _.last(model.get("filter").split("/"));
      this.controllerFor("user-private-messages").set("groupFilter", group);
      this.controllerFor("user-private-messages").set("archive", false);
      this.controllerFor("user-topics-list").subscribe("/private-messages/group/" + group);
    }
  });
});
define("discourse/routes/user-private-messages-index", ["exports", "discourse/routes/build-private-messages-route"], function (exports, _buildPrivateMessagesRoute) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _buildPrivateMessagesRoute.default)("index", "private-messages", "inbox");
});
define("discourse/routes/user-private-messages-sent", ["exports", "discourse/routes/build-private-messages-route"], function (exports, _buildPrivateMessagesRoute) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _buildPrivateMessagesRoute.default)("sent", "private-messages-sent", "sent");
});
define("discourse/routes/user-private-messages-tags-show", ["exports", "discourse/routes/build-private-messages-route"], function (exports, _buildPrivateMessagesRoute) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _buildPrivateMessagesRoute.default)("tags", "private-messages-tags").extend({
    model: function model(params) {
      this.controllerFor("user-private-messages").set("tagId", params.id);
      var username = this.modelFor("user").get("username_lower");
      return this.store.findFiltered("topicList", {
        filter: "topics/private-messages-tags/" + username + "/" + params.id
      });
    }
  });
});
define("discourse/routes/user-private-messages-tags", ["exports", "@ember/object", "discourse/routes/discourse", "discourse/lib/ajax", "discourse/lib/ajax-error"], function (exports, _object, _discourse, _ajax, _ajaxError) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    model: function model() {
      var username = this.modelFor("user").get("username_lower");
      return (0, _ajax.ajax)("/tags/personal_messages/" + username).then(function (result) {
        return result.tags.map(function (tag) {
          return _object.default.create(tag);
        });
      }).catch(_ajaxError.popupAjaxError);
    },
    titleToken: function titleToken() {
      return [I18n.t("tagging.tags"), I18n.t("user.private_messages")];
    },
    setupController: function setupController(controller, model) {
      this.controllerFor("user-private-messages-tags").setProperties({
        model: model,
        sortProperties: this.siteSettings.tags_sort_alphabetically ? ["id"] : ["count:desc", "id"],
        tagsForUser: this.modelFor("user").get("username_lower")
      });
      this.controllerFor("user-private-messages").setProperties({
        showToggleBulkSelect: false,
        pmView: "tags"
      });
    }
  });
});
define("discourse/routes/user-private-messages", ["exports", "discourse/routes/discourse", "discourse/models/draft", "discourse/models/composer"], function (exports, _discourse, _draft, _composer) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    renderTemplate: function renderTemplate() {
      this.render("user/messages");
    },
    model: function model() {
      return this.modelFor("user");
    },
    setupController: function setupController(controller, user) {
      var composerController = this.controllerFor("composer");
      controller.set("model", user);
      if (this.currentUser) {
        _draft.default.get("new_private_message").then(function (data) {
          if (data.draft) {
            composerController.open({
              draft: data.draft,
              draftKey: _composer.default.NEW_PRIVATE_MESSAGE_KEY,
              ignoreIfChanged: true,
              draftSequence: data.draft_sequence
            });
          }
        });
      }
    },


    actions: {
      willTransition: function willTransition() {
        this._super.apply(this, arguments);
        this.controllerFor("user").set("pmView", null);
        return true;
      }
    }
  });
});
define("discourse/routes/user-summary", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    showFooter: true,

    model: function model() {
      var user = this.modelFor("user");
      if (user.get("profile_hidden")) {
        return this.replaceWith("user.profile-hidden");
      }

      return user.summary();
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("user").set("indexStream", true);
      }
    }
  });
});
define("discourse/routes/user", ["exports", "discourse/routes/discourse", "discourse/models/user"], function (exports, _discourse, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    titleToken: function titleToken() {
      var username = this.modelFor("user").username;
      if (username) {
        return [I18n.t("user.profile"), username];
      }
    },


    actions: {
      willTransition: function willTransition(transition) {
        // will reset the indexStream when transitioning to routes that aren't "indexStream"
        // otherwise the "header" will jump
        var isIndexStream = transition.targetName === "user.summary";
        this.controllerFor("user").set("indexStream", isIndexStream);
        return true;
      },
      undoRevokeApiKey: function undoRevokeApiKey(key) {
        key.undoRevoke();
      },
      revokeApiKey: function revokeApiKey(key) {
        key.revoke();
      }
    },

    beforeModel: function beforeModel() {
      if (this.siteSettings.hide_user_profiles_from_public && !this.currentUser) {
        this.replaceWith("discovery");
      }
    },
    model: function model(params) {
      // If we're viewing the currently logged in user, return that object instead
      if (this.currentUser && params.username.toLowerCase() === this.currentUser.username_lower) {
        return this.currentUser;
      }

      return _user.default.create({
        username: encodeURIComponent(params.username)
      });
    },
    afterModel: function afterModel() {
      var _this = this;

      var user = this.modelFor("user");

      return user.findDetails().then(function () {
        return user.findStaffInfo();
      }).catch(function () {
        return _this.replaceWith("/404");
      });
    },
    serialize: function serialize(model) {
      if (!model) return {};

      return { username: (model.username || "").toLowerCase() };
    },
    setupController: function setupController(controller, user) {
      controller.set("model", user);
      this.searchService.set("searchContext", user.searchContext);
    },
    activate: function activate() {
      this._super.apply(this, arguments);

      var user = this.modelFor("user");
      this.messageBus.subscribe("/u/" + user.username_lower, function (data) {
        return user.loadUserAction(data);
      });
    },
    deactivate: function deactivate() {
      this._super.apply(this, arguments);

      var user = this.modelFor("user");
      this.messageBus.unsubscribe("/u/" + user.username_lower);

      // Remove the search context
      this.searchService.set("searchContext", null);
    }
  });
});
define("discourse/routes/users", ["exports", "discourse/routes/discourse"], function (exports, _discourse) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _discourse.default.extend({
    queryParams: {
      period: { refreshModel: true },
      order: { refreshModel: true },
      asc: { refreshModel: true },
      name: { refreshModel: true, replace: true },
      group: { refreshModel: true },
      exclude_usernames: { refreshModel: true }
    },

    refreshQueryWithoutTransition: true,

    titleToken: function titleToken() {
      return I18n.t("directory.title");
    },
    resetController: function resetController(controller, isExiting) {
      if (isExiting) {
        controller.setProperties({
          period: "weekly",
          order: "likes_received",
          asc: null,
          name: "",
          group: null,
          exclude_usernames: null
        });
      }
    },
    beforeModel: function beforeModel() {
      if (this.siteSettings.hide_user_profiles_from_public && !this.currentUser) {
        this.replaceWith("discovery");
      }
    },
    model: function model(params) {
      // If we refresh via `refreshModel` set the old model to loading
      this._params = params;
      return this.store.find("directoryItem", params);
    },
    setupController: function setupController(controller, model) {
      var params = this._params;
      controller.setProperties({
        model: model,
        period: params.period,
        nameInput: params.name
      });
    },


    actions: {
      didTransition: function didTransition() {
        this.controllerFor("users")._showFooter();
        return true;
      }
    }
  });
});
define("discourse/pre-initializers/dynamic-route-builders", ["exports", "discourse/routes/build-category-route", "discourse/routes/build-topic-route", "discourse/controllers/discovery-sortable", "discourse/routes/tags-show", "discourse/models/site", "discourse/models/user"], function (exports, _buildCategoryRoute, _buildTopicRoute, _discoverySortable, _tagsShow, _site, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    after: "inject-discourse-objects",
    name: "dynamic-route-builders",

    initialize: function initialize(registry, app) {
      app.DiscoveryCategoryController = _discoverySortable.default.extend();
      app.DiscoveryParentCategoryController = _discoverySortable.default.extend();
      app.DiscoveryCategoryNoneController = _discoverySortable.default.extend();
      app.DiscoveryCategoryWithIDController = _discoverySortable.default.extend();

      app.DiscoveryCategoryRoute = (0, _buildCategoryRoute.default)("default");
      app.DiscoveryParentCategoryRoute = (0, _buildCategoryRoute.default)("default");
      app.DiscoveryCategoryNoneRoute = (0, _buildCategoryRoute.default)("default", {
        no_subcategories: true
      });
      app.DiscoveryCategoryWithIDRoute = (0, _buildCategoryRoute.default)("default");

      var site = _site.default.current();
      site.get("filters").forEach(function (filter) {
        var filterCapitalized = filter.capitalize();
        app["Discovery" + filterCapitalized + "Controller"] = _discoverySortable.default.extend();
        app["Discovery" + filterCapitalized + "CategoryController"] = _discoverySortable.default.extend();
        app["Discovery" + filterCapitalized + "ParentCategoryController"] = _discoverySortable.default.extend();
        app["Discovery" + filterCapitalized + "CategoryNoneController"] = _discoverySortable.default.extend();
        app["Discovery" + filterCapitalized + "Route"] = (0, _buildTopicRoute.default)(filter);
        app["Discovery" + filterCapitalized + "CategoryRoute"] = (0, _buildCategoryRoute.default)(filter);
        app["Discovery" + filterCapitalized + "ParentCategoryRoute"] = (0, _buildCategoryRoute.default)(filter);
        app["Discovery" + filterCapitalized + "CategoryNoneRoute"] = (0, _buildCategoryRoute.default)(filter, { no_subcategories: true });
      });

      Discourse.DiscoveryTopController = _discoverySortable.default.extend();
      Discourse.DiscoveryTopCategoryController = _discoverySortable.default.extend();
      Discourse.DiscoveryTopParentCategoryController = _discoverySortable.default.extend();
      Discourse.DiscoveryTopCategoryNoneController = _discoverySortable.default.extend();

      Discourse.DiscoveryTopRoute = (0, _buildTopicRoute.default)("top", {
        actions: {
          willTransition: function willTransition() {
            _user.default.currentProp("should_be_redirected_to_top", false);
            _user.default.currentProp("redirected_to_top.reason", null);
            return this._super.apply(this, arguments);
          }
        }
      });
      Discourse.DiscoveryTopCategoryRoute = (0, _buildCategoryRoute.default)("top");
      Discourse.DiscoveryTopParentCategoryRoute = (0, _buildCategoryRoute.default)("top");
      Discourse.DiscoveryTopCategoryNoneRoute = (0, _buildCategoryRoute.default)("top", {
        no_subcategories: true
      });

      site.get("periods").forEach(function (period) {
        var periodCapitalized = period.capitalize();
        app["DiscoveryTop" + periodCapitalized + "Controller"] = _discoverySortable.default.extend();
        app["DiscoveryTop" + periodCapitalized + "CategoryController"] = _discoverySortable.default.extend();
        app["DiscoveryTop" + periodCapitalized + "ParentCategoryController"] = _discoverySortable.default.extend();
        app["DiscoveryTop" + periodCapitalized + "CategoryNoneController"] = _discoverySortable.default.extend();
        app["DiscoveryTop" + periodCapitalized + "Route"] = (0, _buildTopicRoute.default)("top/" + period);
        app["DiscoveryTop" + periodCapitalized + "CategoryRoute"] = (0, _buildCategoryRoute.default)("top/" + period);
        app["DiscoveryTop" + periodCapitalized + "ParentCategoryRoute"] = (0, _buildCategoryRoute.default)("top/" + period);
        app["DiscoveryTop" + periodCapitalized + "CategoryNoneRoute"] = (0, _buildCategoryRoute.default)("top/" + period, { no_subcategories: true });
      });

      app["TagsShowCategoryRoute"] = _tagsShow.default.extend();
      app["TagsShowCategoryNoneRoute"] = _tagsShow.default.extend({
        noSubcategories: true
      });
      app["TagsShowParentCategoryRoute"] = _tagsShow.default.extend();

      app["TagShowRoute"] = _tagsShow.default;

      site.get("filters").forEach(function (filter) {
        app["TagsShow" + filter.capitalize() + "Route"] = _tagsShow.default.extend({
          navMode: filter
        });
        app["TagShow" + filter.capitalize() + "Route"] = _tagsShow.default.extend({
          navMode: filter
        });
        app["TagsShowCategory" + filter.capitalize() + "Route"] = _tagsShow.default.extend({ navMode: filter });
        app["TagsShowNoneCategory" + filter.capitalize() + "Route"] = _tagsShow.default.extend({ navMode: filter, noSubcategories: true });
        app["TagsShowParentCategory" + filter.capitalize() + "Route"] = _tagsShow.default.extend({ navMode: filter });
      });
    }
  };
});
define("discourse/pre-initializers/inject-discourse-objects", ["exports", "discourse/models/session", "discourse/lib/key-value-store", "discourse/models/store", "discourse/lib/discourse-location", "discourse", "discourse/services/search", "discourse/models/topic-tracking-state", "discourse/lib/screen-track", "discourse/models/site", "discourse/models/user"], function (exports, _session, _keyValueStore, _store, _discourseLocation, _discourse, _search, _topicTrackingState, _screenTrack, _site, _user) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var ALL_TARGETS = ["controller", "component", "route", "model", "adapter"];

  exports.default = {
    name: "inject-discourse-objects",

    initialize: function initialize(container, app) {
      ALL_TARGETS.forEach(function (t) {
        return app.inject(t, "appEvents", "service:app-events");
      });

      // backwards compatibility: remove when plugins have updated
      app.register("store:main", _store.default);

      if (!app.hasRegistration("service:store")) {
        app.register("service:store", _store.default);
        ALL_TARGETS.forEach(function (t) {
          return app.inject(t, "store", "service:store");
        });
      }

      var messageBus = window.MessageBus;
      app.register("message-bus:main", messageBus, { instantiate: false });
      ALL_TARGETS.forEach(function (t) {
        return app.inject(t, "messageBus", "message-bus:main");
      });

      var currentUser = _user.default.current();
      app.register("current-user:main", currentUser, { instantiate: false });
      _discourse.default.currentUser = currentUser;

      var topicTrackingState = _topicTrackingState.default.create({
        messageBus: messageBus,
        currentUser: currentUser
      });
      app.register("topic-tracking-state:main", topicTrackingState, {
        instantiate: false
      });
      ALL_TARGETS.forEach(function (t) {
        return app.inject(t, "topicTrackingState", "topic-tracking-state:main");
      });

      var siteSettings = _discourse.default.SiteSettings;
      app.register("site-settings:main", siteSettings, { instantiate: false });
      ALL_TARGETS.forEach(function (t) {
        return app.inject(t, "siteSettings", "site-settings:main");
      });

      var site = _site.default.current();
      app.register("site:main", site, { instantiate: false });
      ALL_TARGETS.forEach(function (t) {
        return app.inject(t, "site", "site:main");
      });

      app.register("search-service:main", _search.default);
      ALL_TARGETS.forEach(function (t) {
        return app.inject(t, "searchService", "search-service:main");
      });

      var session = _session.default.current();
      app.register("session:main", session, { instantiate: false });
      ALL_TARGETS.forEach(function (t) {
        return app.inject(t, "session", "session:main");
      });

      var screenTrack = new _screenTrack.default(topicTrackingState, siteSettings, session, currentUser);

      app.register("screen-track:main", screenTrack, { instantiate: false });
      ["component", "route"].forEach(function (t) {
        return app.inject(t, "screenTrack", "screen-track:main");
      });

      if (currentUser) {
        ["component", "route", "controller"].forEach(function (t) {
          app.inject(t, "currentUser", "current-user:main");
        });
      }

      app.register("location:discourse-location", _discourseLocation.default);

      var keyValueStore = new _keyValueStore.default("discourse_");
      app.register("key-value-store:main", keyValueStore, { instantiate: false });
      ALL_TARGETS.forEach(function (t) {
        return app.inject(t, "keyValueStore", "key-value-store:main");
      });

      (0, _topicTrackingState.startTracking)(topicTrackingState);
    }
  };
});
define("discourse/pre-initializers/map-routes", ["exports", "discourse/mapping-router"], function (exports, _mappingRouter) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "map-routes",
    after: "inject-discourse-objects",

    initialize: function initialize(container, app) {
      app.unregister("router:main");
      app.register("router:main", (0, _mappingRouter.mapRoutes)());

      // HACK to fix: https://github.com/emberjs/ember.js/issues/10310
      var originalBuildInstance = originalBuildInstance || Ember.Application.prototype.buildInstance;
      Ember.Application.prototype.buildInstance = function () {
        this.buildRegistry();
        return originalBuildInstance.apply(this);
      };
    }
  };
});
define("discourse/pre-initializers/register-dom-templates", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "register-discourse-dom-templates",

    initialize: function initialize() {
      $('script[type="text/x-handlebars"]').each(function () {
        var $this = $(this);
        var name = $this.attr("name") || $this.data("template-name");

        if (window.console) {
          window.console.log("WARNING: you have a handlebars template named " + name + " this is an unsupported setup, precompile your templates");
        }
        $this.remove();
      });
    }
  };
});
define("discourse/pre-initializers/sniff-capabilities", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "sniff-capabilities",
    initialize: function initialize(container, application) {
      var $html = $("html"),
          touch = navigator.maxTouchPoints > 1 || "ontouchstart" in window,
          caps = { touch: touch };

      // Store the touch ability in our capabilities object
      $html.addClass(touch ? "touch discourse-touch" : "no-touch discourse-no-touch");

      // Detect Devices
      if (navigator) {
        var ua = navigator.userAgent;
        if (ua) {
          caps.isAndroid = ua.indexOf("Android") !== -1;
          caps.isWinphone = ua.indexOf("Windows Phone") !== -1;

          caps.isOpera = !!window.opera || ua.indexOf(" OPR/") >= 0;
          caps.isFirefox = typeof InstallTrigger !== "undefined";
          caps.isSafari = Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor") > 0 || function (p) {
            return p.toString() === "[object SafariRemoteNotification]";
          }(!window["safari"] || safari.pushNotification);
          caps.isChrome = !!window.chrome && !caps.isOpera;
          caps.isIE11 = !!ua.match(/Trident.*rv\:11\./);

          caps.canPasteImages = caps.isChrome || caps.isFirefox;
        }

        caps.isIpadOS = ua.indexOf("Mac OS") !== -1 && !/iPhone|iPod/.test(navigator.userAgent) && touch;

        caps.isIOS = (/iPhone|iPod/.test(navigator.userAgent) || caps.isIpadOS) && !window.MSStream;

        caps.hasContactPicker = "contacts" in navigator && "ContactsManager" in window;

        caps.canVibrate = "vibrate" in navigator;
      }

      // We consider high res a device with 1280 horizontal pixels. High DPI tablets like
      // iPads should report as 1024.
      caps.highRes = window.screen.width >= 1280;

      // Inject it
      application.register("capabilities:main", caps, { instantiate: false });
      application.inject("view", "capabilities", "capabilities:main");
      application.inject("controller", "capabilities", "capabilities:main");
      application.inject("component", "capabilities", "capabilities:main");
    }
  };
});
define("discourse/pre-initializers/svg-sprite-fontawesome", ["exports", "discourse/lib/svg-sprite-loader"], function (exports, _svgSpriteLoader) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "svg-sprite-fontawesome",

    initialize: function initialize() {
      if (Discourse && Discourse.SvgSpritePath) {
        _svgSpriteLoader.default.load(Discourse.SvgSpritePath, "fontawesome");
      }
    }
  };
});
define("discourse/initializers/asset-version", ["exports", "@ember/runloop"], function (exports, _runloop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "asset-version",
    after: "message-bus",

    initialize: function initialize(container) {
      var timeoutIsSet = false;
      var messageBus = container.lookup("message-bus:main");
      if (!messageBus) {
        return;
      }

      messageBus.subscribe("/global/asset-version", function (version) {
        Discourse.set("assetVersion", version);

        if (!timeoutIsSet && Discourse.get("requiresRefresh")) {
          // Since we can do this transparently for people browsing the forum
          //  hold back the message 24 hours.
          (0, _runloop.later)(function () {
            bootbox.confirm(I18n.t("assets_changed_confirm"), function (result) {
              if (result) {
                document.location.reload();
              }
            });
          }, 1000 * 60 * 24 * 60);
          timeoutIsSet = true;
        }
      });
    }
  };
});
define("discourse/initializers/auth-complete", ["exports", "@ember/runloop"], function (exports, _runloop) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "auth-complete",
    after: "inject-objects",
    initialize: function initialize(container) {
      var lastAuthResult = void 0;

      if (document.getElementById("data-authentication")) {
        // Happens for full screen logins
        lastAuthResult = document.getElementById("data-authentication").dataset.authenticationData;
      }

      if (lastAuthResult) {
        var router = container.lookup("router:main");
        router.one("didTransition", function () {
          (0, _runloop.next)(function () {
            return Discourse.authenticationComplete(JSON.parse(lastAuthResult));
          });
        });
      }
    }
  };
});
define("discourse/initializers/auto-load-modules", ["exports", "discourse-common/lib/helpers", "discourse-common/lib/raw-handlebars", "discourse-common/lib/raw-handlebars-helpers"], function (exports, _helpers, _rawHandlebars, _rawHandlebarsHelpers) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.autoLoadModules = autoLoadModules;
  function autoLoadModules(container, registry) {
    Object.keys(requirejs.entries).forEach(function (entry) {
      if (/\/helpers\//.test(entry) && !/-test/.test(entry)) {
        requirejs(entry, null, null, true);
      }
      if (/\/widgets\//.test(entry) && !/-test/.test(entry)) {
        requirejs(entry, null, null, true);
      }
    });
    (0, _helpers.registerHelpers)(registry);
    (0, _rawHandlebarsHelpers.registerRawHelpers)(_rawHandlebars.default, Handlebars);
  }

  exports.default = {
    name: "auto-load-modules",
    initialize: autoLoadModules
  };
});
define("discourse/initializers/avatar-select", ["exports", "discourse/lib/show-modal", "discourse/lib/ajax"], function (exports, _showModal, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "avatar-select",

    initialize: function initialize(container) {
      this.selectableAvatarsEnabled = container.lookup("site-settings:main").selectable_avatars_enabled;

      container.lookup("service:app-events").on("show-avatar-select", this, "_showAvatarSelect");
    },
    _showAvatarSelect: function _showAvatarSelect(user) {
      var avatarTemplate = user.avatar_template;
      var selected = "uploaded";

      if (avatarTemplate === user.system_avatar_template) {
        selected = "system";
      } else if (avatarTemplate === user.gravatar_avatar_template) {
        selected = "gravatar";
      }

      var modal = (0, _showModal.default)("avatar-selector");
      modal.setProperties({ user: user, selected: selected });

      if (this.selectableAvatarsEnabled) {
        (0, _ajax.ajax)("/site/selectable-avatars.json").then(function (avatars) {
          return modal.set("selectableAvatars", avatars);
        });
      }
    }
  };
});
define("discourse/initializers/badging", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "badging",
    after: "message-bus",

    initialize: function initialize(container) {
      if (!navigator.setAppBadge) return; // must have the Badging API

      var user = container.lookup("current-user:main");
      if (!user) return; // must be logged in

      this.notifications = user.unread_notifications + user.unread_private_messages;

      container.lookup("service:app-events").on("notifications:changed", this, "_updateBadge");
    },
    _updateBadge: function _updateBadge() {
      navigator.setAppBadge(this.notifications);
    }
  };
});
define("discourse/initializers/banner", ["exports", "@ember/object", "preload-store"], function (exports, _object, _preloadStore) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "banner",
    after: "message-bus",

    initialize: function initialize(container) {
      var banner = _object.default.create(_preloadStore.default.get("banner") || {}),
          site = container.lookup("site:main");

      site.set("banner", banner);

      var messageBus = container.lookup("message-bus:main");
      if (!messageBus) {
        return;
      }

      messageBus.subscribe("/site/banner", function (ban) {
        site.set("banner", _object.default.create(ban || {}));
      });
    }
  };
});
define("discourse/initializers/click-interceptor", ["exports", "discourse/lib/intercept-click", "discourse/lib/url"], function (exports, _interceptClick, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "click-interceptor",
    initialize: function initialize() {
      $("#main").on("click.discourse", "a", _interceptClick.default);
      $(window).on("hashchange", function () {
        return _url.default.routeTo(document.location.hash);
      });
    }
  };
});
define("discourse/initializers/csrf-token", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  //  Append our CSRF token to AJAX requests when necessary.

  var installed = false;
  var callbacks = $.Callbacks();

  exports.default = {
    name: "csrf-token",
    initialize: function initialize(container) {
      // Add a CSRF token to all AJAX requests
      var session = container.lookup("session:main");
      session.set("csrfToken", $("meta[name=csrf-token]").attr("content"));

      if (!installed) {
        $.ajaxPrefilter(callbacks.fire);
        installed = true;
      }

      callbacks.add(function (options, originalOptions, xhr) {
        if (!options.crossDomain) {
          xhr.setRequestHeader("X-CSRF-Token", session.get("csrfToken"));
        }
      });
    },
    teardown: function teardown() {
      callbacks.empty();
    }
  };
});
define("discourse/initializers/d-popover", ["exports", "discourse/lib/d-popover"], function (exports, _dPopover) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "d-popover",

    initialize: function initialize(container) {
      var router = container.lookup("router:main");
      router.on("routeWillChange", _dPopover.hidePopover);

      $("#main").on("click.d-popover mouseenter.d-popover", _dPopover.POPOVER_SELECTORS, function (e) {
        return (0, _dPopover.showPopover)(e);
      }).on("mouseleave.d-popover", _dPopover.POPOVER_SELECTORS, function (e) {
        return (0, _dPopover.hidePopover)(e);
      });
    }
  };
});
define("discourse/initializers/ember-events", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "ember-events",

    initialize: function initialize() {
      // By default Ember listens to too many events. This tells it the only events
      // we're interested in.
      Ember.EventDispatcher.reopen({
        events: {
          touchstart: "touchStart",
          touchend: "touchEnd",
          touchcancel: "touchCancel",
          keydown: "keyDown",
          keyup: "keyUp",
          keypress: "keyPress",
          mousedown: "mouseDown",
          mouseup: "mouseUp",
          contextmenu: "contextMenu",
          click: "click",
          dblclick: "doubleClick",
          focusin: "focusIn",
          focusout: "focusOut",
          mouseenter: "mouseEnter",
          mouseleave: "mouseLeave",
          submit: "submit",
          input: "input",
          change: "change",
          dragstart: "dragStart",
          drag: "drag",
          dragenter: "dragEnter",
          dragleave: "dragLeave",
          dragover: "dragOver",
          drop: "drop",
          dragend: "dragEnd"
        }
      });
    }
  };
});
define("discourse/initializers/enable-emoji", ["exports", "discourse/lib/plugin-api", "pretty-text/emoji", "preload-store"], function (exports, _pluginApi, _emoji, _preloadStore) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "enable-emoji",

    initialize: function initialize(container) {
      var siteSettings = container.lookup("site-settings:main");
      if (!siteSettings.enable_emoji) {
        return;
      }

      (0, _pluginApi.withPluginApi)("0.1", function (api) {
        api.onToolbarCreate(function (toolbar) {
          toolbar.addButton({
            id: "emoji",
            group: "extras",
            icon: "far-smile",
            action: function action() {
              return toolbar.context.send("emoji");
            },
            title: "composer.emoji"
          });
        });
      });

      (_preloadStore.default.get("customEmoji") || []).forEach(function (emoji) {
        return (0, _emoji.registerEmoji)(emoji.name, emoji.url);
      });
    }
  };
});
define("discourse/initializers/ensure-max-image-dimensions", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "ensure-image-dimensions",
    after: "mobile",
    initialize: function initialize(container) {
      if (!window) {
        return;
      }

      // This enforces maximum dimensions of images based on site settings
      // for mobile we use the window width as a safeguard
      // This rule should never really be at play unless for some reason images do not have dimensions

      var width = Discourse.SiteSettings.max_image_width;
      var height = Discourse.SiteSettings.max_image_height;

      var site = container.lookup("site:main");
      if (site.mobileView) {
        width = $(window).width() - 20;
      }

      var style = "max-width:" + width + "px;" + "max-height:" + height + "px;";

      $('<style id="image-sizing-hack">#reply-control .d-editor-preview img:not(.thumbnail), .cooked img:not(.thumbnail) {' + style + "}</style>").appendTo("head");
    }
  };
});
define("discourse/initializers/inject-objects", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "inject-objects",
    initialize: function initialize() {}
  };
});
define("discourse/initializers/jquery-plugins", ["exports", "discourse/lib/autocomplete"], function (exports, _autocomplete) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "jquery-plugins",
    initialize: function initialize() {
      // Settings for bootbox
      bootbox.animate(false);
      bootbox.backdrop(true);

      // Initialize the autocomplete tool
      $.fn.autocomplete = _autocomplete.default;
    }
  };
});
define("discourse/initializers/keyboard-shortcuts", ["exports", "discourse/lib/keyboard-shortcuts"], function (exports, _keyboardShortcuts) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "keyboard-shortcuts",

    initialize: function initialize(container) {
      _keyboardShortcuts.default.bindEvents(Mousetrap, container);
    }
  };
});
define("discourse/initializers/live-development", ["exports", "discourse/lib/url", "discourse/lib/theme-selector", "discourse-common/config/environment"], function (exports, _url, _themeSelector, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "live-development",
    initialize: function initialize(container) {
      var messageBus = container.lookup("message-bus:main");

      if (window.history && window.location.search.indexOf("?preview_theme_id=") === 0) {
        // force preview theme id to always be carried along
        var themeId = parseInt(window.location.search.slice(18).split("&")[0], 10);
        if (!isNaN(themeId)) {
          var patchState = function patchState(f) {
            var patched = window.history[f];

            window.history[f] = function (stateObj, name, url) {
              if (url.indexOf("preview_theme_id=") === -1) {
                var joiner = url.indexOf("?") === -1 ? "?" : "&";
                url = "" + url + joiner + "preview_theme_id=" + themeId;
              }

              return patched.call(window.history, stateObj, name, url);
            };
          };
          patchState("replaceState");
          patchState("pushState");
        }
      }

      // Custom header changes
      $("header.custom").each(function () {
        var header = $(this);
        return messageBus.subscribe("/header-change/" + $(this).data("id"), function (data) {
          return header.html(data);
        });
      });

      // Useful to export this for debugging purposes
      if (Discourse.Environment === "development" && _environment.default.environment !== "test") {
        window.DiscourseURL = _url.default;
      }

      // Observe file changes
      messageBus.subscribe("/file-change", function (data) {
        if (Handlebars.compile && !Ember.TEMPLATES.empty) {
          // hbs notifications only happen in dev
          Ember.TEMPLATES.empty = Handlebars.compile("<div></div>");
        }
        data.forEach(function (me) {
          if (me === "refresh") {
            // Refresh if necessary
            document.location.reload(true);
          } else {
            var themeIds = (0, _themeSelector.currentThemeIds)();
            $("link").each(function () {
              if (me.hasOwnProperty("theme_id") && me.new_href) {
                var target = $(this).data("target");
                var _themeId = $(this).data("theme-id");
                if (themeIds.indexOf(me.theme_id) !== -1 && target === me.target && (!_themeId || _themeId === me.theme_id)) {
                  (0, _themeSelector.refreshCSS)(this, null, me.new_href);
                }
              } else if (this.href.match(me.name) && (me.hash || me.new_href)) {
                (0, _themeSelector.refreshCSS)(this, me.hash, me.new_href);
              }
            });
          }
        });
      });
    }
  };
});
define("discourse/initializers/localization", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  exports.default = {
    name: "localization",
    after: "inject-objects",

    isVerboseLocalizationEnabled: function isVerboseLocalizationEnabled(container) {
      var siteSettings = container.lookup("site-settings:main");
      if (siteSettings.verbose_localization) return true;

      try {
        return sessionStorage && sessionStorage.getItem("verbose_localization");
      } catch (e) {
        return false;
      }
    },
    initialize: function initialize(container) {
      if (this.isVerboseLocalizationEnabled(container)) {
        I18n.enableVerboseLocalization();
      }

      // Merge any overrides into our object
      var overrides = I18n._overrides || {};
      Object.keys(overrides).forEach(function (k) {
        var v = overrides[k];
        k = k.replace("admin_js", "js");

        var segs = k.split(".");

        var node = I18n.translations[I18n.locale];
        var i = 0;

        for (; i < segs.length - 1; i++) {
          if (!(segs[i] in node)) node[segs[i]] = {};
          node = node[segs[i]];
        }

        if ((typeof node === "undefined" ? "undefined" : _typeof(node)) === "object") {
          node[segs[segs.length - 1]] = v;
        }
      });

      var mfOverrides = I18n._mfOverrides || {};
      Object.keys(mfOverrides).forEach(function (k) {
        var v = mfOverrides[k];

        k = k.replace(/^[a-z_]*js\./, "");
        I18n._compiledMFs[k] = v;
      });

      bootbox.addLocale(I18n.currentLocale(), {
        OK: I18n.t("composer.modal_ok"),
        CANCEL: I18n.t("composer.modal_cancel"),
        CONFIRM: I18n.t("composer.modal_ok")
      });
      bootbox.setLocale(I18n.currentLocale());
    }
  };
});
define("discourse/initializers/logout", ["exports", "discourse/lib/logout"], function (exports, _logout) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var _showingLogout = false;

  //  Subscribe to "logout" change events via the Message Bus
  exports.default = {
    name: "logout",
    after: "message-bus",

    initialize: function initialize(container) {
      var messageBus = container.lookup("message-bus:main");

      if (!messageBus) {
        return;
      }

      messageBus.subscribe("/logout", function () {
        if (!_showingLogout) {
          _showingLogout = true;

          bootbox.dialog(I18n.t("logout"), {
            label: I18n.t("refresh"),
            callback: _logout.default
          }, {
            onEscape: _logout.default,
            backdrop: "static"
          });
        }
      });
    }
  };
});
define("discourse/initializers/logs-notice", ["exports", "discourse/services/logs-notice", "discourse/mixins/singleton"], function (exports, _logsNotice, _singleton) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "logs-notice",
    after: "message-bus",

    initialize: function initialize(container) {
      var siteSettings = container.lookup("site-settings:main");
      var messageBus = container.lookup("message-bus:main");
      var keyValueStore = container.lookup("key-value-store:main");
      var currentUser = container.lookup("current-user:main");
      _logsNotice.default.reopenClass(_singleton.default, {
        createCurrent: function createCurrent() {
          return this.create({
            messageBus: messageBus,
            keyValueStore: keyValueStore,
            siteSettings: siteSettings,
            currentUser: currentUser
          });
        }
      });
    }
  };
});
define("discourse/initializers/message-bus", ["exports", "discourse/lib/page-visible", "discourse/lib/ajax"], function (exports, _pageVisible, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  // Initialize the message bus to receive messages.
  function ajax(opts) {
    if (opts.complete) {
      var oldComplete = opts.complete;
      opts.complete = function (xhr, stat) {
        (0, _ajax.handleLogoff)(xhr);
        oldComplete(xhr, stat);
      };
    } else {
      opts.complete = _ajax.handleLogoff;
    }

    return $.ajax(opts);
  }

  exports.default = {
    name: "message-bus",
    after: "inject-objects",

    initialize: function initialize(container) {
      // We don't use the message bus in testing
      if (Discourse.testing) {
        return;
      }

      var messageBus = container.lookup("message-bus:main"),
          user = container.lookup("current-user:main"),
          siteSettings = container.lookup("site-settings:main");

      messageBus.alwaysLongPoll = Discourse.Environment === "development";

      // we do not want to start anything till document is complete
      messageBus.stop();

      if (siteSettings.login_required && !user) {
        // Endpoint is not available in this case, so don't try
        return;
      }

      // jQuery ready is called on "interactive" we want "complete"
      // Possibly change to document.addEventListener('readystatechange',...
      // but would only stop a handful of interval, message bus being delayed by
      // 500ms on load is fine. stuff that needs to catch up correctly should
      // pass in a position
      var interval = setInterval(function () {
        if (document.readyState === "complete") {
          clearInterval(interval);
          messageBus.start();
        }
      }, 500);

      messageBus.callbackInterval = siteSettings.anon_polling_interval;
      messageBus.backgroundCallbackInterval = siteSettings.background_polling_interval;
      messageBus.baseUrl = siteSettings.long_polling_base_url.replace(/\/$/, "") + "/";

      if (messageBus.baseUrl !== "/") {
        // zepto compatible, 1 param only
        messageBus.ajax = function (opts) {
          opts.headers = opts.headers || {};
          opts.headers["X-Shared-Session-Key"] = $("meta[name=shared_session_key]").attr("content");
          if ((0, _pageVisible.default)()) {
            opts.headers["Discourse-Visible"] = "true";
          }
          return ajax(opts);
        };
      } else {
        messageBus.ajax = function (opts) {
          opts.headers = opts.headers || {};
          if ((0, _pageVisible.default)()) {
            opts.headers["Discourse-Visible"] = "true";
          }
          return ajax(opts);
        };

        messageBus.baseUrl = Discourse.getURL("/");
      }

      if (user) {
        messageBus.callbackInterval = siteSettings.polling_interval;
        messageBus.enableLongPolling = true;
      }
    }
  };
});
define("discourse/initializers/mobile", ["exports", "@ember/runloop", "discourse/lib/mobile", "discourse-common/resolver", "discourse/lib/utilities"], function (exports, _runloop, _mobile, _resolver, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "mobile",
    after: "inject-objects",

    initialize: function initialize(container) {
      _mobile.default.init();
      var site = container.lookup("site:main");

      site.set("mobileView", _mobile.default.mobileView);
      site.set("isMobileDevice", _mobile.default.isMobileDevice);

      (0, _resolver.setResolverOption)("mobileView", _mobile.default.mobileView);

      if ((0, _utilities.isAppWebview)()) {
        (0, _runloop.later)(function () {
          (0, _utilities.postRNWebviewMessage)("headerBg", $(".d-header").css("background-color"));
        }, 500);
      }
    }
  };
});
define("discourse/initializers/page-tracking", ["exports", "discourse/lib/clean-dom", "discourse/lib/page-tracker", "discourse/lib/ajax"], function (exports, _cleanDom, _pageTracker, _ajax) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "page-tracking",
    after: "inject-objects",

    initialize: function initialize(container) {
      // Tell our AJAX system to track a page transition
      var router = container.lookup("router:main");

      router.on("routeWillChange", _ajax.viewTrackingRequired);
      router.on("routeDidChange", _cleanDom.cleanDOM);

      var appEvents = container.lookup("service:app-events");

      (0, _pageTracker.startPageTracking)(router, appEvents);

      // Out of the box, Discourse tries to track google analytics
      // if it is present
      if (typeof window._gaq !== "undefined") {
        appEvents.on("page:changed", function (data) {
          if (!data.replacedOnlyQueryParams) {
            window._gaq.push(["_set", "title", data.title]);
            window._gaq.push(["_trackPageview", data.url]);
          }
        });
        return;
      }

      // Also use Universal Analytics if it is present
      if (typeof window.ga !== "undefined") {
        appEvents.on("page:changed", function (data) {
          if (!data.replacedOnlyQueryParams) {
            window.ga("send", "pageview", { page: data.url, title: data.title });
          }
        });
      }

      // And Google Tag Manager too
      if (typeof window.dataLayer !== "undefined") {
        appEvents.on("page:changed", function (data) {
          if (!data.replacedOnlyQueryParams) {
            (0, _pageTracker.googleTagManagerPageChanged)(data);
          }
        });
      }
    },
    teardown: function teardown() {
      (0, _pageTracker.resetPageTracking)();
    }
  };
});
define("discourse/initializers/post-decorations", ["exports", "discourse/lib/highlight-syntax", "discourse/lib/lightbox", "discourse/lib/lazy-load-images", "discourse/lib/text-direction", "discourse/lib/plugin-api"], function (exports, _highlightSyntax, _lightbox, _lazyLoadImages, _textDirection, _pluginApi) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "post-decorations",
    initialize: function initialize(container) {
      (0, _pluginApi.withPluginApi)("0.1", function (api) {
        var siteSettings = container.lookup("site-settings:main");
        api.decorateCooked(_highlightSyntax.default, {
          id: "discourse-syntax-highlighting"
        });
        api.decorateCooked(_lightbox.default, { id: "discourse-lightbox" });
        if (siteSettings.support_mixed_text_direction) {
          api.decorateCooked(_textDirection.setTextDirections, {
            id: "discourse-text-direction"
          });
        }

        (0, _lazyLoadImages.setupLazyLoading)(api);

        api.decorateCooked(function ($elem) {
          var players = $("audio", $elem);
          if (players.length) {
            players.on("play", function () {
              var postId = parseInt($elem.closest("article").data("post-id"), 10);
              if (postId) {
                api.preventCloak(postId);
              }
            });
          }
        }, { id: "discourse-audio" });
      });
    }
  };
});
define("discourse/initializers/read-only", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "read-only",
    after: "message-bus",

    initialize: function initialize(container) {
      var messageBus = container.lookup("message-bus:main");
      if (!messageBus) {
        return;
      }

      var site = container.lookup("site:main");
      messageBus.subscribe("/site/read-only", function (enabled) {
        site.set("isReadOnly", enabled);
      });
    }
  };
});
define("discourse/initializers/register-discourse-location", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "register-discourse-location",
    initialize: function initialize() {}
  };
});
define("discourse/initializers/register-service-worker", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "register-service-worker",

    initialize: function initialize() {
      var _this = this;

      var isSecured = document.location.protocol === "https:" || location.hostname === "localhost";

      var isSupported = isSecured && "serviceWorker" in navigator;

      if (isSupported) {
        var caps = Discourse.__container__.lookup("capabilities:main");
        var isApple = caps.isSafari || caps.isIOS || caps.isIpadOS;

        if (Discourse.ServiceWorkerURL && !isApple) {
          navigator.serviceWorker.getRegistrations().then(function (registrations) {
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
              for (var _iterator = registrations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var registration = _step.value;

                if (registration.active && !registration.active.scriptURL.includes(Discourse.ServiceWorkerURL)) {
                  _this.unregister(registration);
                }
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
          });

          navigator.serviceWorker.register(Discourse.BaseUri + "/" + Discourse.ServiceWorkerURL).catch(function (error) {
            // eslint-disable-next-line no-console
            console.info("Failed to register Service Worker: " + error);
          });
        } else {
          navigator.serviceWorker.getRegistrations().then(function (registrations) {
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
              for (var _iterator2 = registrations[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                var registration = _step2.value;

                _this.unregister(registration);
              }
            } catch (err) {
              _didIteratorError2 = true;
              _iteratorError2 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion2 && _iterator2.return) {
                  _iterator2.return();
                }
              } finally {
                if (_didIteratorError2) {
                  throw _iteratorError2;
                }
              }
            }
          });
        }
      }
    },
    unregister: function unregister(registration) {
      if (registration.scope.startsWith(Discourse.BaseUrl)) {
        registration.unregister();
      }
    }
  };
});
define("discourse/initializers/relative-ages", ["exports", "discourse/lib/formatter"], function (exports, _formatter) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "relative-ages",

    initialize: function initialize() {
      this._interval = setInterval(function () {
        (0, _formatter.updateRelativeAge)($(".relative-date"));
      }, 60 * 1000);
    },
    teardown: function teardown() {
      if (this._interval) {
        clearInterval(this._interval);
        this._interval = null;
      }
    }
  };
});
define("discourse/initializers/sharing-sources", ["exports", "discourse/lib/sharing"], function (exports, _sharing) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "sharing-sources",

    initialize: function initialize() {
      _sharing.default.addSource({
        id: "twitter",
        icon: "fab-twitter-square",
        generateUrl: function generateUrl(link, title) {
          return "http://twitter.com/intent/tweet?url=" + encodeURIComponent(link) + "&text=" + encodeURIComponent(title);
        },
        shouldOpenInPopup: true,
        title: I18n.t("share.twitter"),
        popupHeight: 265
      });

      _sharing.default.addSource({
        id: "facebook",
        icon: "fab-facebook",
        title: I18n.t("share.facebook"),
        generateUrl: function generateUrl(link, title) {
          return "http://www.facebook.com/sharer.php?u=" + encodeURIComponent(link) + "&t=" + encodeURIComponent(title);
        },
        shouldOpenInPopup: true
      });

      _sharing.default.addSource({
        id: "email",
        icon: "envelope-square",
        title: I18n.t("share.email"),
        generateUrl: function generateUrl(link, title) {
          return "mailto:?to=&subject=" + encodeURIComponent("[" + Discourse.SiteSettings.title + "] " + title) + "&body=" + encodeURIComponent(link);
        }
      });
    }
  };
});
define("discourse/initializers/show-footer", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "show-footer",

    initialize: function initialize(container) {
      var router = container.lookup("router:main");
      var application = container.lookup("controller:application");

      // only take care of hiding the footer here
      // controllers MUST take care of displaying it
      router.on("routeWillChange", function () {
        application.set("showFooter", false);
        return true;
      });
    }
  };
});
define("discourse/initializers/signup-cta", ["exports", "discourse/models/session"], function (exports, _session) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var ANON_TOPIC_IDS = 2;
  var ANON_PROMPT_READ_TIME = 2 * 60 * 1000;
  var ONE_DAY = 24 * 60 * 60 * 1000;
  var PROMPT_HIDE_DURATION = ONE_DAY;

  exports.default = {
    name: "signup-cta",

    initialize: function initialize(container) {
      var screenTrack = container.lookup("screen-track:main");
      var session = _session.default.current();
      var siteSettings = container.lookup("site-settings:main");
      var keyValueStore = container.lookup("key-value-store:main");
      var user = container.lookup("current-user:main");

      screenTrack.keyValueStore = keyValueStore;

      // Preconditions
      if (user) return; // must not be logged in
      if (keyValueStore.get("anon-cta-never")) return; // "never show again"
      if (!siteSettings.allow_new_registrations) return;
      if (siteSettings.invite_only) return;
      if (siteSettings.login_required) return;
      if (!siteSettings.enable_signup_cta) return;

      function checkSignupCtaRequirements() {
        if (session.get("showSignupCta")) {
          return; // already shown
        }

        if (session.get("hideSignupCta")) {
          return; // hidden for session
        }

        if (keyValueStore.get("anon-cta-never")) {
          return; // hidden forever
        }

        var now = new Date().getTime();
        var hiddenAt = keyValueStore.getInt("anon-cta-hidden", 0);
        if (hiddenAt > now - PROMPT_HIDE_DURATION) {
          return; // hidden in last 24 hours
        }

        var readTime = keyValueStore.getInt("anon-topic-time");
        if (readTime < ANON_PROMPT_READ_TIME) {
          return;
        }

        var topicIdsString = keyValueStore.get("anon-topic-ids");
        if (!topicIdsString) {
          return;
        }
        var topicIdsAry = topicIdsString.split(",");
        if (topicIdsAry.length < ANON_TOPIC_IDS) {
          return;
        }

        // Requirements met.
        session.set("showSignupCta", true);
      }

      screenTrack.registerAnonCallback(checkSignupCtaRequirements);

      checkSignupCtaRequirements();
    }
  };
});
define("discourse/initializers/strip-mobile-app-url-params", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "strip-mobile-app-url-params",

    initialize: function initialize() {
      var queryStrings = window.location.search;

      if (queryStrings.indexOf("user_api_public_key") !== -1) {
        var params = queryStrings.startsWith("?") ? queryStrings.substr(1).split("&") : [];

        params = params.filter(function (param) {
          return !param.startsWith("user_api_public_key=") && !param.startsWith("auth_redirect=");
        });

        queryStrings = params.length > 0 ? "?" + params.join("&") : "";

        if (window.history && window.history.replaceState) {
          window.history.replaceState(null, null, "" + location.pathname + queryStrings + location.hash);
        }
      }
    }
  };
});
define("discourse/initializers/subscribe-user-notifications", ["exports", "@ember/object", "discourse/lib/desktop-notifications", "discourse/lib/push-notifications", "discourse-common/config/environment"], function (exports, _object, _desktopNotifications, _pushNotifications, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "subscribe-user-notifications",
    after: "message-bus",

    initialize: function initialize(container) {
      var user = container.lookup("current-user:main");
      var bus = container.lookup("message-bus:main");
      var appEvents = container.lookup("service:app-events");

      if (user) {
        bus.subscribe("/reviewable_counts", function (data) {
          user.set("reviewable_count", data.reviewable_count);
        });

        bus.subscribe("/notification/" + user.get("id"), function (data) {
          var store = container.lookup("service:store");
          var oldUnread = user.get("unread_notifications");
          var oldPM = user.get("unread_private_messages");

          user.setProperties({
            unread_notifications: data.unread_notifications,
            unread_private_messages: data.unread_private_messages,
            read_first_notification: data.read_first_notification
          });

          if (oldUnread !== data.unread_notifications || oldPM !== data.unread_private_messages) {
            appEvents.trigger("notifications:changed");

            if (_site.mobileView && (data.unread_notifications - oldUnread > 0 || data.unread_private_messages - oldPM > 0)) {
              appEvents.trigger("header:update-topic", null, 5000);
            }
          }

          var stale = store.findStale("notification", {}, { cacheKey: "recent-notifications" });
          var lastNotification = data.last_notification && data.last_notification.notification;

          if (stale && stale.hasResults && lastNotification) {
            var oldNotifications = stale.results.get("content");
            var staleIndex = _.findIndex(oldNotifications, {
              id: lastNotification.id
            });

            if (staleIndex === -1) {
              // this gets a bit tricky, unread pms are bumped to front
              var insertPosition = 0;
              if (lastNotification.notification_type !== 6) {
                insertPosition = _.findIndex(oldNotifications, function (n) {
                  return n.notification_type !== 6 || n.read;
                });
                insertPosition = insertPosition === -1 ? oldNotifications.length - 1 : insertPosition;
              }
              oldNotifications.insertAt(insertPosition, _object.default.create(lastNotification));
            }

            for (var idx = 0; idx < data.recent.length; idx++) {
              var old = void 0;
              while (old = oldNotifications[idx]) {
                var info = data.recent[idx];

                if (old.get("id") !== info[0]) {
                  oldNotifications.removeAt(idx);
                } else {
                  if (old.get("read") !== info[1]) {
                    old.set("read", info[1]);
                  }
                  break;
                }
              }
              if (!old) {
                break;
              }
            }
          }
        }, user.notification_channel_position);

        var _site = container.lookup("site:main");
        var siteSettings = container.lookup("site-settings:main");
        var router = container.lookup("router:main");

        bus.subscribe("/categories", function (data) {
          (data.categories || []).forEach(function (c) {
            return _site.updateCategory(c);
          });
          (data.deleted_categories || []).forEach(function (id) {
            return _site.removeCategory(id);
          });
        });

        bus.subscribe("/client_settings", function (data) {
          return (0, _object.set)(siteSettings, data.name, data.value);
        });
        bus.subscribe("/refresh_client", function (data) {
          return Discourse.set("assetVersion", data);
        });

        if (_environment.default.environment !== "test") {
          bus.subscribe((0, _desktopNotifications.alertChannel)(user), function (data) {
            return (0, _desktopNotifications.onNotification)(data, user);
          });
          (0, _desktopNotifications.init)(bus, appEvents);

          if ((0, _pushNotifications.isPushNotificationsEnabled)(user, _site.mobileView)) {
            (0, _desktopNotifications.disable)();
            (0, _pushNotifications.register)(user, _site.mobileView, router, appEvents);
          } else {
            (0, _pushNotifications.unsubscribe)(user);
          }
        }
      }
    }
  };
});
define("discourse/initializers/title-notifications", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "title-notifications",
    after: "message-bus",

    initialize: function initialize(container) {
      var user = container.lookup("current-user:main");
      if (!user) return; // must be logged in

      this.container = container;

      container.lookup("service:app-events").on("notifications:changed", this, "_updateTitle");
    },
    _updateTitle: function _updateTitle() {
      var user = this.container.lookup("current-user:main");
      if (!user) return; // must be logged in

      var notifications = user.unread_notifications + user.unread_private_messages;

      Discourse.updateNotificationCount(notifications);
    }
  };
});
define("discourse/initializers/topic-footer-buttons", ["exports", "discourse/lib/show-modal", "discourse/lib/register-topic-footer-button"], function (exports, _showModal, _registerTopicFooterButton) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "topic-footer-buttons",

    initialize: function initialize() {
      (0, _registerTopicFooterButton.registerTopicFooterButton)({
        id: "share-and-invite",
        icon: "link",
        priority: 999,
        label: "topic.share.title",
        title: "topic.share.help",
        action: function action() {
          var panels = [{
            id: "share",
            title: "topic.share.extended_title",
            model: {
              topic: this.topic
            }
          }];

          if (this.canInviteTo && !this.inviteDisabled) {
            var invitePanelTitle = void 0;

            if (this.isPM) {
              invitePanelTitle = "topic.invite_private.title";
            } else if (this.invitingToTopic) {
              invitePanelTitle = "topic.invite_reply.title";
            } else {
              invitePanelTitle = "user.invited.create";
            }

            panels.push({
              id: "invite",
              title: invitePanelTitle,
              model: {
                inviteModel: this.topic
              }
            });
          }

          (0, _showModal.default)("share-and-invite", {
            modalClass: "share-and-invite",
            panels: panels
          });
        },
        dropdown: function dropdown() {
          return this.site.mobileView;
        },

        classNames: ["share-and-invite"],
        dependentKeys: ["topic.shareUrl", "topic.isPrivateMessage", "canInviteTo", "inviteDisabled", "isPM", "invitingToTopic"]
      });

      (0, _registerTopicFooterButton.registerTopicFooterButton)({
        id: "flag",
        icon: "flag",
        priority: 998,
        label: "topic.flag_topic.title",
        title: "topic.flag_topic.help",
        action: "showFlagTopic",
        dropdown: function dropdown() {
          return this.site.mobileView;
        },

        classNames: ["flag-topic"],
        dependentKeys: ["topic.details.can_flag_topic", "topic.isPrivateMessage"],
        displayed: function displayed() {
          return this.get("topic.details.can_flag_topic") && !this.get("topic.isPrivateMessage");
        }
      });

      (0, _registerTopicFooterButton.registerTopicFooterButton)({
        dependentKeys: ["topic.bookmarked", "topic.isPrivateMessage"],
        id: "bookmark",
        icon: "bookmark",
        priority: 1000,
        classNames: function classNames() {
          var bookmarked = this.get("topic.bookmarked");
          return bookmarked ? ["bookmark", "bookmarked"] : ["bookmark"];
        },
        label: function label() {
          var bookmarked = this.get("topic.bookmarked");
          return bookmarked ? "bookmarked.clear_bookmarks" : "bookmarked.title";
        },
        title: function title() {
          var bookmarked = this.get("topic.bookmarked");
          return bookmarked ? "bookmarked.help.unbookmark" : "bookmarked.help.bookmark";
        },

        action: "toggleBookmark",
        dropdown: function dropdown() {
          return this.site.mobileView;
        },
        displayed: function displayed() {
          return !this.get("topic.isPrivateMessage");
        }
      });

      (0, _registerTopicFooterButton.registerTopicFooterButton)({
        id: "archive",
        priority: 996,
        icon: function icon() {
          return this.archiveIcon;
        },
        label: function label() {
          return this.archiveLabel;
        },
        title: function title() {
          return this.archiveTitle;
        },

        action: "toggleArchiveMessage",
        classNames: ["standard", "archive-topic"],
        dependentKeys: ["canArchive", "archiveIcon", "archiveLabel", "archiveTitle", "toggleArchiveMessage"],
        dropdown: function dropdown() {
          return this.site.mobileView;
        },
        displayed: function displayed() {
          return this.canArchive;
        }
      });

      (0, _registerTopicFooterButton.registerTopicFooterButton)({
        id: "edit-message",
        priority: 750,
        icon: "pencil-alt",
        label: "topic.edit_message.title",
        title: "topic.edit_message.help",
        action: "editFirstPost",
        classNames: ["edit-message"],
        dependentKeys: ["editFirstPost", "showEditOnFooter"],
        displayed: function displayed() {
          return this.showEditOnFooter;
        }
      });

      (0, _registerTopicFooterButton.registerTopicFooterButton)({
        id: "defer",
        icon: "circle",
        priority: 300,
        label: "topic.defer.title",
        title: "topic.defer.help",
        action: "deferTopic",
        displayed: function displayed() {
          return this.canDefer;
        },
        dropdown: function dropdown() {
          return this.site.mobileView;
        }
      });
    }
  };
});
define("discourse/initializers/url-redirects", ["exports", "discourse/lib/url"], function (exports, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = {
    name: "url-redirects",
    after: "inject-objects",

    initialize: function initialize(container) {
      var currentUser = container.lookup("current-user:main");

      // URL rewrites (usually due to refactoring)
      _url.default.rewrite(/^\/category\//, "/c/");
      _url.default.rewrite(/^\/group\//, "/groups/");
      _url.default.rewrite(/^\/groups$/, "/g");
      _url.default.rewrite(/^\/groups\//, "/g/");
      _url.default.rewrite(/\/private-messages\/$/, "/messages/");
      _url.default.rewrite(/^\/users$/, "/u");
      _url.default.rewrite(/^\/users\//, "/u/");
      _url.default.rewrite(/\/admin\/flags/, "/review");

      if (currentUser) {
        var username = currentUser.get("username");
        _url.default.rewrite(new RegExp("^/u/" + username + "/?$", "i"), "/u/" + username + "/activity");
      }

      _url.default.rewrite(/^\/u\/([^\/]+)\/?$/, "/u/$1/summary", {
        exceptions: ["/u/account-created", "/users/account-created", "/u/password-reset", "/users/password-reset"]
      });
    }
  };
});
define("discourse/services/emoji-store", ["exports", "discourse/lib/key-value-store", "@ember/service"], function (exports, _keyValueStore, _service) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var EMOJI_USAGE = "emojiUsage";
  var EMOJI_SELECTED_DIVERSITY = "emojiSelectedDiversity";
  var TRACKED_EMOJIS = 15;
  var STORE_NAMESPACE = "discourse_emojis_";

  exports.default = _service.default.extend({
    init: function init() {
      this._super.apply(this, arguments);

      this.store = new _keyValueStore.default(STORE_NAMESPACE);

      if (!this.store.getObject(EMOJI_USAGE)) {
        this.favorites = [];
      }
    },


    get diversity() {
      return this.store.getObject(EMOJI_SELECTED_DIVERSITY) || 1;
    },

    set diversity(value) {
      this.store.setObject({ key: EMOJI_SELECTED_DIVERSITY, value: value || 1 });
    },

    get favorites() {
      return this.store.getObject(EMOJI_USAGE) || [];
    },

    set favorites(value) {
      this.store.setObject({ key: EMOJI_USAGE, value: value || [] });
    },

    track: function track(code) {
      var normalizedCode = code.replace(/(^:)|(:$)/g, "");
      var recent = this.favorites.filter(function (r) {
        return r !== normalizedCode;
      });
      recent.unshift(normalizedCode);
      recent.length = Math.min(recent.length, TRACKED_EMOJIS);
      this.favorites = recent;
    },
    reset: function reset() {
      var store = new _keyValueStore.default(STORE_NAMESPACE);
      store.setObject({ key: EMOJI_USAGE, value: [] });
      store.setObject({ key: EMOJI_SELECTED_DIVERSITY, value: 1 });
    }
  });
});
define("discourse/services/logs-notice", ["exports", "@ember/utils", "@ember/object", "discourse-common/utils/decorators", "discourse/lib/formatter"], function (exports, _utils, _object, _decorators, _formatter) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _obj;

  var LOGS_NOTICE_KEY = "logs-notice-text";

  var LogsNotice = _object.default.extend((_dec = (0, _decorators.on)("init"), _dec2 = (0, _decorators.default)("text"), _dec3 = (0, _decorators.default)("text"), _dec4 = (0, _decorators.default)("currentUser"), _dec5 = (0, _decorators.default)("isEmpty", "isAdmin"), _dec6 = (0, _decorators.observes)("text"), _dec7 = (0, _decorators.default)("siteSettings.alert_admins_if_errors_per_hour", "siteSettings.alert_admins_if_errors_per_minute"), (_obj = {
    text: "",

    _setup: function _setup() {
      var _this = this;

      if (!this.isActivated) return;

      var text = this.keyValueStore.getItem(LOGS_NOTICE_KEY);
      if (text) this.set("text", text);

      this.messageBus.subscribe("/logs_error_rate_exceeded", function (data) {
        var duration = data.duration;
        var rate = data.rate;
        var siteSettingLimit = 0;

        if (duration === "minute") {
          siteSettingLimit = _this.siteSettings.alert_admins_if_errors_per_minute;
        } else if (duration === "hour") {
          siteSettingLimit = _this.siteSettings.alert_admins_if_errors_per_hour;
        }

        var translationKey = rate === siteSettingLimit ? "reached" : "exceeded";
        translationKey += "_" + duration + "_MF";

        _this.set("text", I18n.messageFormat("logs_error_rate_notice." + translationKey, {
          relativeAge: (0, _formatter.autoUpdatingRelativeAge)(new Date(data.publish_at * 1000)),
          rate: rate,
          limit: siteSettingLimit,
          url: Discourse.getURL("/logs")
        }));
      });
    },
    isEmpty: function isEmpty(text) {
      return (0, _utils.isEmpty)(text);
    },
    message: function message(text) {
      return new Handlebars.SafeString(text);
    },
    isAdmin: function isAdmin(currentUser) {
      return currentUser && currentUser.admin;
    },
    hidden: function hidden(thisIsEmpty, isAdmin) {
      return !isAdmin || thisIsEmpty;
    },
    _updateKeyValueStore: function _updateKeyValueStore() {
      this.keyValueStore.setItem(LOGS_NOTICE_KEY, this.text);
    },
    isActivated: function isActivated(errorsPerHour, errorsPerMinute) {
      return errorsPerHour > 0 || errorsPerMinute > 0;
    }
  }, (_applyDecoratedDescriptor(_obj, "_setup", [_dec], Object.getOwnPropertyDescriptor(_obj, "_setup"), _obj), _applyDecoratedDescriptor(_obj, "isEmpty", [_dec2], Object.getOwnPropertyDescriptor(_obj, "isEmpty"), _obj), _applyDecoratedDescriptor(_obj, "message", [_dec3], Object.getOwnPropertyDescriptor(_obj, "message"), _obj), _applyDecoratedDescriptor(_obj, "isAdmin", [_dec4], Object.getOwnPropertyDescriptor(_obj, "isAdmin"), _obj), _applyDecoratedDescriptor(_obj, "hidden", [_dec5], Object.getOwnPropertyDescriptor(_obj, "hidden"), _obj), _applyDecoratedDescriptor(_obj, "_updateKeyValueStore", [_dec6], Object.getOwnPropertyDescriptor(_obj, "_updateKeyValueStore"), _obj), _applyDecoratedDescriptor(_obj, "isActivated", [_dec7], Object.getOwnPropertyDescriptor(_obj, "isActivated"), _obj)), _obj)));

  exports.default = LogsNotice;
});
define("discourse/services/search", ["exports", "@ember/object", "discourse-common/utils/decorators"], function (exports, _object, _decorators) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
    var desc = {};
    Object['ke' + 'ys'](descriptor).forEach(function (key) {
      desc[key] = descriptor[key];
    });
    desc.enumerable = !!desc.enumerable;
    desc.configurable = !!desc.configurable;

    if ('value' in desc || desc.initializer) {
      desc.writable = true;
    }

    desc = decorators.slice().reverse().reduce(function (desc, decorator) {
      return decorator(target, property, desc) || desc;
    }, desc);

    if (context && desc.initializer !== void 0) {
      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
      desc.initializer = undefined;
    }

    if (desc.initializer === void 0) {
      Object['define' + 'Property'](target, property, desc);
      desc = null;
    }

    return desc;
  }

  var _dec, _dec2, _desc, _value, _obj, _init;

  exports.default = _object.default.extend((_dec = (0, _decorators.observes)("term"), _dec2 = (0, _decorators.default)("searchContext"), (_obj = {
    searchContextEnabled: false, // checkbox to scope search
    searchContext: null,
    term: null,
    highlightTerm: null,

    _sethighlightTerm: function _sethighlightTerm() {
      this.set("highlightTerm", this.term);
    },

    contextType: {
      get: function get(searchContext) {
        if (searchContext) {
          return (0, _object.get)(searchContext, "type");
        }
      },
      set: function set(value, searchContext) {
        // a bit hacky, consider cleaning this up, need to work through all observers though
        var context = $.extend({}, searchContext);
        context.type = value;
        this.set("searchContext", context);
        return this.get("searchContext.type");
      }
    }
  }, (_applyDecoratedDescriptor(_obj, "_sethighlightTerm", [_dec], Object.getOwnPropertyDescriptor(_obj, "_sethighlightTerm"), _obj), _applyDecoratedDescriptor(_obj, "contextType", [_dec2], (_init = Object.getOwnPropertyDescriptor(_obj, "contextType"), _init = _init ? _init.value : undefined, {
    enumerable: true,
    configurable: true,
    writable: true,
    initializer: function initializer() {
      return _init;
    }
  }), _obj)), _obj)));
});
define("discourse/services/theme-settings", ["exports", "@ember/object", "@ember/service"], function (exports, _object, _service) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = _service.default.extend({
    settings: null,

    init: function init() {
      this._super.apply(this, arguments);
      this._settings = {};
    },
    registerSettings: function registerSettings(themeId, settingsObject) {
      this._settings[themeId] = settingsObject;
    },
    getSetting: function getSetting(themeId, settingsKey) {
      if (this._settings[themeId]) {
        return (0, _object.get)(this._settings[themeId], settingsKey);
      }
      return null;
    },
    getObjectForTheme: function getObjectForTheme(themeId) {
      return this._settings[themeId];
    }
  });
});
define("discourse/widgets/actions-summary", ["exports", "discourse/widgets/widget", "discourse/widgets/post", "virtual-dom", "discourse/lib/url"], function (exports, _widget, _post, _virtualDom, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.avatarAtts = avatarAtts;
  function avatarAtts(user) {
    return {
      template: user.avatar_template,
      username: user.username,
      post_url: user.post_url,
      url: (0, _url.userPath)(user.username_lower)
    };
  }

  (0, _widget.createWidget)("small-user-list", {
    tagName: "div.clearfix",

    buildClasses: function buildClasses(atts) {
      return atts.listClassName;
    },
    html: function html(atts) {
      var _this = this;

      var users = atts.users;
      if (users) {
        var currentUser = this.currentUser;
        if (atts.addSelf && !users.some(function (u) {
          return u.username === currentUser.username;
        })) {
          users = users.concat(avatarAtts(currentUser));
        }

        var description = null;

        if (atts.description) {
          description = I18n.t(atts.description, { count: atts.count });
        }

        // oddly post_url is on the user
        var postUrl = void 0;
        var icons = users.map(function (u) {
          postUrl = postUrl || u.post_url;
          return _post.avatarFor.call(_this, "small", u);
        });

        if (postUrl) {
          description = (0, _virtualDom.h)("a", { attributes: { href: Discourse.getURL(postUrl) } }, description);
        }

        var buffer = [icons];
        if (description) {
          buffer.push(description);
        }
        return buffer;
      }
    }
  });

  (0, _widget.createWidget)("action-link", {
    tagName: "span.action-link",
    template: function (attrs, state) {
      var _r = [];
      var _a0 = [];

      _a0.push(attrs.text);

      _a0.push(". ");

      _r.push(virtualDom.h('a', _a0));

      return _r;
    },

    buildClasses: function buildClasses(attrs) {
      return attrs.className;
    },
    click: function click() {
      this.sendWidgetAction(this.attrs.action);
    }
  });

  exports.default = (0, _widget.createWidget)("actions-summary", {
    tagName: "section.post-actions",
    template: function (attrs, state) {
      var __h1 = Discourse.__widget_helpers.iconNode;
      var __h2 = Discourse.__widget_helpers.avatar;
      var __h3 = Discourse.__widget_helpers.dateNode;
      var _r = [];

      _r.push("\n");

      if (attrs.actionsSummary && attrs.actionsSummary.length) {
        attrs.actionsSummary.forEach(function (as) {
          _r.push("      ");

          var _a0 = [];

          _a0.push(as.description);

          _r.push(virtualDom.h('div', {
            "className": "post-action"
          }, _a0));

          _r.push("\n      ");

          var _a1 = [];

          _r.push(virtualDom.h('div', {
            "className": "clearfix"
          }, _a1));

          _r.push("\n");
        });
      }

      if (attrs.deleted_at) {
        _r.push("      ");

        var _a2 = [];

        _a2.push("\n        ");

        _a2.push(__h1("far-trash-alt"));

        _a2.push("\n        ");

        _a2.push(__h2("small", {
          template: attrs.deletedByAvatarTemplate,
          username: attrs.deletedByUsername
        }));

        _a2.push("\n        ");

        _a2.push(__h3(attrs.deleted_at));

        _a2.push("\n      ");

        _r.push(virtualDom.h('div', {
          "className": "post-action deleted-post"
        }, _a2));

        _r.push("\n");
      }

      _r.push("  ");

      return _r;
    }
  });
});
define("discourse/widgets/avatar-flair", ["discourse/widgets/widget", "discourse-common/lib/icon-library"], function (_widget, _iconLibrary) {
  "use strict";

  (0, _widget.createWidget)("avatar-flair", {
    tagName: "div.avatar-flair",

    isIcon: function isIcon(attrs) {
      return attrs.primary_group_flair_url && attrs.primary_group_flair_url.includes("fa-");
    },
    title: function title(attrs) {
      return attrs.primary_group_name;
    },
    buildClasses: function buildClasses(attrs) {
      var defaultClass = "avatar-flair-" + attrs.primary_group_name + " " + (attrs.primary_group_flair_bg_color ? "rounded" : "");

      if (!this.isIcon(attrs)) {
        defaultClass += " avatar-flair-image";
      }

      return defaultClass;
    },
    buildAttributes: function buildAttributes(attrs) {
      var style = "";
      if (!this.isIcon(attrs)) {
        style += "background-image: url(" + Handlebars.Utils.escapeExpression(attrs.primary_group_flair_url) + "); ";
      }
      if (attrs.primary_group_flair_bg_color) {
        style += "background-color: #" + Handlebars.Utils.escapeExpression(attrs.primary_group_flair_bg_color) + "; ";
      }
      if (attrs.primary_group_flair_color) {
        style += "color: #" + Handlebars.Utils.escapeExpression(attrs.primary_group_flair_color) + "; ";
      }
      return { style: style };
    },
    html: function html(attrs) {
      if (this.isIcon(attrs)) {
        var icon = (0, _iconLibrary.convertIconClass)(attrs.primary_group_flair_url);
        return [(0, _iconLibrary.iconNode)(icon)];
      } else {
        return [];
      }
    }
  });
});
define("discourse/widgets/button", ["exports", "discourse/widgets/widget", "discourse-common/lib/icon-library", "virtual-dom", "discourse/lib/url"], function (exports, _widget, _iconLibrary, _virtualDom, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.ButtonClass = undefined;
  var ButtonClass = exports.ButtonClass = {
    tagName: "button.widget-button.btn",

    buildClasses: function buildClasses(attrs) {
      var className = this.attrs.className || "";

      var hasText = attrs.label || attrs.contents;

      if (!hasText) {
        className += " no-text";
      }

      if (attrs.icon) {
        className += " btn-icon";
        if (hasText) {
          className += "-text";
        }
      } else if (hasText) {
        className += " btn-text";
      }

      return className;
    },
    buildAttributes: function buildAttributes() {
      var attrs = this.attrs;
      var attributes = {};

      if (attrs.title) {
        var title = I18n.t(attrs.title, attrs.titleOptions);
        attributes["aria-label"] = title;
        attributes.title = title;
      }

      if (attrs.disabled) {
        attributes.disabled = "true";
      }

      if (attrs.data) {
        Object.keys(attrs.data).forEach(function (k) {
          return attributes["data-" + k] = attrs.data[k];
        });
      }

      return attributes;
    },
    html: function html(attrs) {
      var contents = [];
      var left = !attrs.iconRight;
      if (attrs.icon && left) {
        contents.push((0, _iconLibrary.iconNode)(attrs.icon, { class: attrs.iconClass }));
      }
      if (attrs.label) {
        contents.push((0, _virtualDom.h)("span.d-button-label", I18n.t(attrs.label, attrs.labelOptions)));
      }
      if (attrs.contents) {
        contents.push(attrs.contents);
      }
      if (attrs.icon && !left) {
        contents.push((0, _iconLibrary.iconNode)(attrs.icon, { class: attrs.iconClass }));
      }

      return contents;
    },
    click: function click(e) {
      var attrs = this.attrs;
      if (attrs.disabled) {
        return;
      }

      $("button.widget-button").removeClass("d-hover").blur();
      if (attrs.secondaryAction) {
        this.sendWidgetAction(attrs.secondaryAction);
      }

      if (attrs.url) {
        return _url.default.routeTo(attrs.url);
      }

      if (attrs.sendActionEvent) {
        return this.sendWidgetAction(attrs.action, e);
      }
      return this.sendWidgetAction(attrs.action, attrs.actionParam);
    }
  };

  exports.default = (0, _widget.createWidget)("button", ButtonClass);


  (0, _widget.createWidget)("flat-button", jQuery.extend(ButtonClass, {
    tagName: "button.widget-button.btn-flat"
  }));
});
define("discourse/widgets/category-link", ["exports", "discourse/widgets/raw-html", "discourse/helpers/category-link"], function (exports, _rawHtml, _categoryLink) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _possibleConstructorReturn(self, call) {
    if (!self) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return call && (typeof call === "object" || typeof call === "function") ? call : self;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
  }

  var CategoryLink = function (_RawHtml) {
    _inherits(CategoryLink, _RawHtml);

    function CategoryLink(attrs) {
      _classCallCheck(this, CategoryLink);

      attrs.html = (0, _categoryLink.categoryBadgeHTML)(attrs.category, attrs);
      return _possibleConstructorReturn(this, (CategoryLink.__proto__ || Object.getPrototypeOf(CategoryLink)).call(this, attrs));
    }

    return CategoryLink;
  }(_rawHtml.default);

  exports.default = CategoryLink;
});
define("discourse/widgets/component-connector", ["exports", "@ember/runloop", "@ember/application"], function (exports, _runloop, _application) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var ComponentConnector = function () {
    function ComponentConnector(widget, componentName, opts, trackedProperties) {
      _classCallCheck(this, ComponentConnector);

      this.widget = widget;
      this.opts = opts;
      this.componentName = componentName;
      this.trackedProperties = trackedProperties || [];
    }

    _createClass(ComponentConnector, [{
      key: "init",
      value: function init() {
        var elem = document.createElement("div");
        elem.style.display = "inline-flex";
        elem.className = "widget-component-connector";
        this.elem = elem;
        (0, _runloop.scheduleOnce)("afterRender", this, this.connectComponent);

        return this.elem;
      }
    }, {
      key: "update",
      value: function update(prev) {
        var _this = this;

        // mutated external properties might not correctly update the underlying component
        // in this case we can define trackedProperties, if different from previous
        // state we will re-init the whole component, be careful when using this
        // to not track a property which would be updated too often (on scroll for example)
        var shouldInit = false;
        this.trackedProperties.forEach(function (prop) {
          if (prev.opts[prop] !== _this.opts[prop]) {
            shouldInit = true;
          }
        });

        if (shouldInit) return this.init();

        return null;
      }
    }, {
      key: "connectComponent",
      value: function connectComponent() {
        var elem = this.elem,
            opts = this.opts,
            widget = this.widget,
            componentName = this.componentName;


        var mounted = widget._findView();
        var view = widget.register.lookupFactory("component:" + componentName).create(opts);

        if (_application.setOwner) {
          (0, _application.setOwner)(view, (0, _application.getOwner)(mounted));
        }

        // component connector is not triggering didReceiveAttrs
        // we force it for selectKit components
        if (view.selectKit) {
          view.didReceiveAttrs();
        }
        mounted._connected.push(view);
        view.renderer.appendTo(view, elem);
      }
    }]);

    return ComponentConnector;
  }();

  exports.default = ComponentConnector;


  ComponentConnector.prototype.type = "Widget";
});
define("discourse/widgets/connector", ["exports", "@ember/runloop", "discourse-common/lib/deprecated", "@ember/application"], function (exports, _runloop, _deprecated, _application) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var Connector = function () {
    function Connector(widget, opts) {
      _classCallCheck(this, Connector);

      this.widget = widget;
      this.opts = opts;
    }

    _createClass(Connector, [{
      key: "init",
      value: function init() {
        var $elem = $("<div class='widget-connector'></div>");
        var elem = $elem[0];

        var opts = this.opts,
            widget = this.widget;

        (0, _runloop.next)(function () {
          var mounted = widget._findView();

          if (opts.templateName) {
            (0, _deprecated.default)("Using a 'templateName' for a connector is deprecated. Use 'component' instead [" + opts.templateName + "]");
          }

          var container = _application.getOwner ? (0, _application.getOwner)(mounted) : mounted.container;

          var view = void 0;

          if (opts.component) {
            var connector = widget.register.lookupFactory("component:connector-container");
            view = connector.create({
              layoutName: "components/" + opts.component,
              model: widget.findAncestorModel()
            });
          }

          if (opts.templateName) {
            var context = void 0;
            if (opts.context === "model") {
              var model = widget.findAncestorModel();
              context = model;
            }

            view = Ember.View.create({
              container: container || widget.register,
              templateName: opts.templateName,
              context: context
            });
          }

          if (view) {
            if (_application.setOwner) {
              (0, _application.setOwner)(view, (0, _application.getOwner)(mounted));
            }
            mounted._connected.push(view);
            view.renderer.appendTo(view, $elem[0]);
          }
        });

        return elem;
      }
    }, {
      key: "update",
      value: function update() {}
    }]);

    return Connector;
  }();

  exports.default = Connector;


  Connector.prototype.type = "Widget";
});
define("discourse/widgets/custom-notification-item", ["discourse/widgets/widget", "discourse/widgets/default-notification-item", "discourse/lib/utilities", "discourse-common/lib/icon-library"], function (_widget, _defaultNotificationItem, _utilities, _iconLibrary) {
  "use strict";

  (0, _widget.createWidgetFrom)(_defaultNotificationItem.DefaultNotificationItem, "custom-notification-item", {
    notificationTitle: function notificationTitle(notificationName, data) {
      return data.title ? I18n.t(data.title) : "";
    },
    text: function text(notificationName, data) {
      var username = (0, _utilities.formatUsername)(data.display_username);
      var description = this.description(data);

      return I18n.t(data.message, { description: description, username: username });
    },
    icon: function icon(notificationName, data) {
      return (0, _iconLibrary.iconNode)("notification." + data.message);
    }
  });
});
define("discourse/widgets/decorator-helper", ["exports", "discourse/widgets/connector", "virtual-dom", "discourse/widgets/post-cooked", "discourse/widgets/raw-html"], function (exports, _connector, _virtualDom, _postCooked, _rawHtml) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var DecoratorHelper = function () {
    function DecoratorHelper(widget, attrs, state) {
      _classCallCheck(this, DecoratorHelper);

      this.widget = widget;
      this.attrs = attrs;
      this.canConnectComponent = true;
      this.state = state;
      this.register = widget.register;
      this.register.deprecateContainer(this);
    }

    /**
     * The `h` helper allows you to build up a virtual dom easily.
     *
     * Example:
     *
     * ```
     * // renders `<div class='some-class'><p>paragraph</p></div>`
     * return helper.h('div.some-class', helper.h('p', 'paragraph'));
     * ```
     * Check out  https://github.com/Matt-Esch/virtual-dom/blob/master/virtual-hyperscript/README.md
     * for more details on how to construct markup with h.
     **/
    // h() is attached via `prototype` below

    /**
     * Attach another widget inside this one.
     *
     * ```
     * return helper.attach('widget-name');
     * ```
     */


    _createClass(DecoratorHelper, [{
      key: "attach",
      value: function attach(name, attrs, state) {
        attrs = attrs || this.widget.attrs;
        state = state || this.widget.state;

        return this.widget.attach(name, attrs, state);
      }
    }, {
      key: "getModel",
      value: function getModel() {
        return this.widget.findAncestorModel();
      }
    }, {
      key: "rawHtml",
      value: function rawHtml(html) {
        return new _rawHtml.default({ html: html });
      }
    }, {
      key: "cooked",
      value: function cooked(_cooked) {
        return new _postCooked.default({ cooked: _cooked });
      }
    }, {
      key: "connect",
      value: function connect(details) {
        return new _connector.default(this.widget, details);
      }
    }]);

    return DecoratorHelper;
  }();

  DecoratorHelper.prototype.h = _virtualDom.h;

  exports.default = DecoratorHelper;
});
define("discourse/widgets/default-notification-item", ["exports", "@ember/utils", "discourse/lib/intercept-click", "discourse/widgets/raw-html", "discourse/widgets/widget", "discourse/lib/url", "virtual-dom", "discourse/lib/text", "discourse/lib/utilities", "discourse/lib/ajax", "discourse-common/lib/icon-library"], function (exports, _utils, _interceptClick, _rawHtml, _widget, _url, _virtualDom, _text, _utilities, _ajax, _iconLibrary) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.DefaultNotificationItem = undefined;
  var DefaultNotificationItem = exports.DefaultNotificationItem = (0, _widget.createWidget)("default-notification-item", {
    tagName: "li",

    buildClasses: function buildClasses(attrs) {
      var classNames = [];
      if (attrs.get("read")) {
        classNames.push("read");
      }
      if (attrs.is_warning) {
        classNames.push("is-warning");
      }
      return classNames;
    },
    url: function url(data) {
      var attrs = this.attrs;

      var badgeId = data.badge_id;
      if (badgeId) {
        var badgeSlug = data.badge_slug;

        if (!badgeSlug) {
          var badgeName = data.badge_name;
          badgeSlug = badgeName.replace(/[^A-Za-z0-9_]+/g, "-").toLowerCase();
        }

        var username = data.username;
        username = username ? "?username=" + username.toLowerCase() : "";
        return Discourse.getURL("/badges/" + badgeId + "/" + badgeSlug + username);
      }

      var topicId = attrs.topic_id;

      if (topicId) {
        return (0, _utilities.postUrl)(attrs.slug, topicId, attrs.post_number);
      }

      if (data.group_id) {
        return (0, _url.userPath)(data.username + "/messages/group/" + data.group_name);
      }
    },
    description: function description(data) {
      var badgeName = data.badge_name;
      if (badgeName) {
        return (0, _utilities.escapeExpression)(badgeName);
      }

      if (this.attrs.fancy_title) {
        if (this.attrs.topic_id) {
          return "<span data-topic-id=\"" + this.attrs.topic_id + "\">" + this.attrs.fancy_title + "</span>";
        }
        return this.attrs.fancy_title;
      }

      var description = data.topic_title;

      return (0, _utils.isEmpty)(description) ? "" : (0, _utilities.escapeExpression)(description);
    },
    text: function text(notificationName, data) {
      var username = (0, _utilities.formatUsername)(data.display_username);
      var description = this.description(data);

      return I18n.t("notifications." + notificationName, {
        description: description,
        username: username
      });
    },
    icon: function icon(notificationName) {
      return (0, _iconLibrary.iconNode)("notification." + notificationName);
    },
    notificationTitle: function notificationTitle(notificationName) {
      if (notificationName) {
        return I18n.t("notifications.titles." + notificationName);
      } else {
        return "";
      }
    },
    html: function html(attrs) {
      var notificationType = attrs.notification_type;
      var lookup = this.site.get("notificationLookup");
      var notificationName = lookup[notificationType];

      var data = attrs.data;

      var text = (0, _text.emojiUnescape)(this.text(notificationName, data));
      var icon = this.icon(notificationName, data);

      var title = this.notificationTitle(notificationName, data);

      // We can use a `<p>` tag here once other languages have fixed their HTML
      // translations.
      var html = new _rawHtml.default({ html: "<div>" + text + "</div>" });

      var contents = [icon, html];

      var href = this.url(data);
      return href ? (0, _virtualDom.h)("a", { attributes: { href: href, title: title, "data-auto-route": true } }, contents) : contents;
    },
    click: function click(e) {
      var _this = this;

      this.attrs.set("read", true);
      var id = this.attrs.id;
      (0, _ajax.setTransientHeader)("Discourse-Clear-Notifications", id);
      if (document && document.cookie) {
        var path = Discourse.BaseUri || "/";
        document.cookie = "cn=" + id + "; path=" + path + "; expires=Fri, 31 Dec 9999 23:59:59 GMT";
      }
      if ((0, _interceptClick.wantsNewWindow)(e)) {
        return;
      }
      e.preventDefault();

      this.sendWidgetEvent("linkClicked");
      _url.default.routeTo(this.url(this.attrs.data), {
        afterRouteComplete: function afterRouteComplete() {
          if (!_this.attrs.data.revision_number) {
            return;
          }

          _this.appEvents.trigger("post:show-revision", _this.attrs.post_number, _this.attrs.data.revision_number);
        }
      });
    }
  });
});
define("discourse/widgets/discourse-tags", ["exports", "discourse/widgets/raw-html", "discourse/lib/render-tags"], function (exports, _rawHtml, _renderTags) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _possibleConstructorReturn(self, call) {
    if (!self) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return call && (typeof call === "object" || typeof call === "function") ? call : self;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
  }

  var DiscourseTags = function (_RawHtml) {
    _inherits(DiscourseTags, _RawHtml);

    function DiscourseTags(attrs) {
      _classCallCheck(this, DiscourseTags);

      attrs.html = (0, _renderTags.default)(attrs.topic, attrs);
      return _possibleConstructorReturn(this, (DiscourseTags.__proto__ || Object.getPrototypeOf(DiscourseTags)).call(this, attrs));
    }

    return DiscourseTags;
  }(_rawHtml.default);

  exports.default = DiscourseTags;
});
define("discourse/widgets/embedded-post", ["exports", "discourse/widgets/post-cooked", "discourse/widgets/decorator-helper", "discourse/widgets/widget", "virtual-dom", "discourse/lib/url"], function (exports, _postCooked, _decoratorHelper, _widget, _virtualDom, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  (0, _widget.createWidget)("post-link-arrow", {
    tagName: "div.post-link-arrow",

    template: function (attrs, state) {
      var __h1 = Discourse.__widget_helpers.iconNode;
      var _r = [];

      _r.push("\n");

      if (attrs.above) {
        _r.push("      ");

        var _a0 = [];

        _a0.push("\n        ");

        _a0.push(__h1("arrow-up"));

        _a0.push("\n      ");

        _r.push(virtualDom.h('a', {
          "className": "post-info arrow",
          "title": I18n.t("topic.jump_reply_up")
        }, _a0));

        _r.push("\n");
      } else {
        _r.push("      ");

        var _a1 = [];

        _a1.push("\n        ");

        _a1.push(__h1("arrow-down"));

        _a1.push("\n      ");

        _r.push(virtualDom.h('a', {
          "className": "post-info arrow",
          "title": I18n.t("topic.jump_reply_down")
        }, _a1));

        _r.push("\n");
      }

      _r.push("  ");

      return _r;
    },

    click: function click() {
      _url.default.routeTo(this.attrs.shareUrl);
    }
  });

  exports.default = (0, _widget.createWidget)("embedded-post", {
    buildKey: function buildKey(attrs) {
      return "embedded-post-" + attrs.id;
    },

    html: function html(attrs, state) {
      attrs.embeddedPost = true;
      return [(0, _virtualDom.h)("div.reply", { attributes: { "data-post-id": attrs.id } }, [(0, _virtualDom.h)("div.row", [this.attach("post-avatar", attrs), (0, _virtualDom.h)("div.topic-body", [(0, _virtualDom.h)("div.topic-meta-data", [this.attach("poster-name", attrs), this.attach("post-link-arrow", {
        above: state.above,
        shareUrl: attrs.shareUrl
      })]), new _postCooked.default(attrs, new _decoratorHelper.default(this), this.currentUser)])])])];
    }
  });
});
define("discourse/widgets/emoji", ["exports", "discourse/widgets/widget", "discourse/lib/text", "discourse/widgets/raw-html"], function (exports, _widget, _text, _rawHtml) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.replaceEmoji = replaceEmoji;
  function replaceEmoji(str) {
    var escaped = (0, _text.emojiUnescape)(Handlebars.Utils.escapeExpression(str));
    return [new _rawHtml.default({ html: "<span>" + escaped + "</span>" })];
  }

  exports.default = (0, _widget.createWidget)("emoji", {
    tagName: "img.emoji",

    buildAttributes: function buildAttributes(attrs) {
      var result = { src: (0, _text.emojiUrlFor)(attrs.name), alt: ":" + attrs.name + ":" };
      if (attrs.title) result.title = attrs.name;
      return result;
    }
  });
});
define("discourse/widgets/footer-nav", ["discourse/widgets/widget", "discourse/lib/utilities"], function (_widget, _utilities) {
  "use strict";

  (0, _widget.createWidget)("footer-nav", {
    tagName: "div.footer-nav-widget",

    html: function html(attrs) {
      var buttons = [];

      buttons.push(this.attach("flat-button", {
        action: "goBack",
        icon: "chevron-left",
        className: "btn-large",
        disabled: !attrs.canGoBack
      }));

      buttons.push(this.attach("flat-button", {
        action: "goForward",
        icon: "chevron-right",
        className: "btn-large",
        disabled: !attrs.canGoForward
      }));

      if ((0, _utilities.isAppWebview)()) {
        buttons.push(this.attach("flat-button", {
          action: "share",
          icon: "link",
          className: "btn-large"
        }));

        buttons.push(this.attach("flat-button", {
          action: "dismiss",
          icon: "chevron-down",
          className: "btn-large"
        }));
      }

      return buttons;
    },
    dismiss: function dismiss() {
      (0, _utilities.postRNWebviewMessage)("dismiss", true);
    },
    share: function share() {
      (0, _utilities.postRNWebviewMessage)("shareUrl", window.location.href);
    }
  });
});
define("discourse/widgets/glue", ["exports", "@ember/runloop", "virtual-dom", "discourse/widgets/widget", "discourse/lib/dirty-keys", "discourse-common/config/environment"], function (exports, _runloop, _virtualDom, _widget, _dirtyKeys, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var WidgetGlue = function () {
    function WidgetGlue(name, register, attrs) {
      _classCallCheck(this, WidgetGlue);

      this._tree = null;
      this._rootNode = null;
      this.register = register;
      this.attrs = attrs;
      this._timeout = null;
      this.dirtyKeys = new _dirtyKeys.default(name);

      this._widgetClass = (0, _widget.queryRegistry)(name) || this.register.lookupFactory("widget:" + name);
      if (!this._widgetClass) {
        // eslint-disable-next-line no-console
        console.error("Error: Could not find widget: " + name);
      }
    }

    _createClass(WidgetGlue, [{
      key: "appendTo",
      value: function appendTo(elem) {
        this._rootNode = elem;
        this.queueRerender();
      }
    }, {
      key: "queueRerender",
      value: function queueRerender() {
        this._timeout = (0, _runloop.scheduleOnce)("render", this, this.rerenderWidget);
      }
    }, {
      key: "rerenderWidget",
      value: function rerenderWidget() {
        (0, _runloop.cancel)(this._timeout);

        // in test mode return early if store cannot be found
        if (_environment.default.environment === "test") {
          try {
            this.register.lookup("service:store");
          } catch (e) {
            return;
          }
        }

        var newTree = new this._widgetClass(this.attrs, this.register, {
          dirtyKeys: this.dirtyKeys
        });
        var patches = (0, _virtualDom.diff)(this._tree || this._rootNode, newTree);

        newTree._rerenderable = this;
        this._rootNode = (0, _virtualDom.patch)(this._rootNode, patches);
        this._tree = newTree;
      }
    }, {
      key: "cleanUp",
      value: function cleanUp() {
        var widgets = [];
        var findWidgets = function findWidgets(widget) {
          widget.vnode.children.forEach(function (child) {
            if (child.constructor.name === "CustomWidget") {
              widgets.push(child);
              findWidgets(child, widgets);
            }
          });
        };
        findWidgets(this._tree, widgets);
        widgets.reverse().forEach(function (widget) {
          return widget.destroy();
        });

        (0, _runloop.cancel)(this._timeout);
      }
    }]);

    return WidgetGlue;
  }();

  exports.default = WidgetGlue;
});
define("discourse/widgets/group-message-summary-notification-item", ["discourse/widgets/widget", "discourse/widgets/default-notification-item"], function (_widget, _defaultNotificationItem) {
  "use strict";

  (0, _widget.createWidgetFrom)(_defaultNotificationItem.DefaultNotificationItem, "group-message-summary-notification-item", {
    text: function text(notificationName, data) {
      var count = data.inbox_count;
      var group_name = data.group_name;

      return I18n.t("notifications.group_message_summary", {
        count: count,
        group_name: group_name
      });
    }
  });
});
define("discourse/widgets/hamburger-categories", ["exports", "discourse/widgets/widget", "virtual-dom", "discourse/lib/formatter", "discourse/models/category"], function (exports, _widget, _virtualDom, _formatter, _category) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  (0, _widget.createWidget)("hamburger-category", {
    tagName: "li.category-link",

    html: function html(c) {
      if (c.parent_category_id) {
        this.tagName += ".subcategory";
      }

      this.tagName += ".category-" + _category.default.slugFor(c, "-");

      var results = [this.attach("category-link", { category: c, allowUncategorized: true })];

      var unreadTotal = parseInt(c.get("unreadTopics"), 10) + parseInt(c.get("newTopics"), 10);
      if (unreadTotal) {
        results.push((0, _virtualDom.h)("a.badge.badge-notification", {
          attributes: { href: c.get("url") }
        }, (0, _formatter.number)(unreadTotal)));
      }

      if (!this.currentUser) {
        var count = void 0;

        if (c.get("show_subcategory_list")) {
          count = c.get("totalTopicCount");
        } else {
          count = c.get("topic_count");
        }

        results.push((0, _virtualDom.h)("b.topics-count", (0, _formatter.number)(count)));
      }

      return results;
    }
  });

  exports.default = (0, _widget.createWidget)("hamburger-categories", {
    tagName: "ul.category-links.clearfix",

    html: function html(attrs) {
      var _this = this;

      var href = Discourse.getURL("/categories");
      var title = I18n.t("filters.categories.title");
      if (attrs.moreCount > 0) {
        title = I18n.t("categories.n_more", { count: attrs.moreCount });
      }

      var result = [(0, _virtualDom.h)("li.heading", (0, _virtualDom.h)("a.d-link.categories-link", { attributes: { href: href } }, title))];

      var categories = attrs.categories;
      if (categories.length === 0) {
        return;
      }
      result = result.concat(categories.map(function (c) {
        return _this.attach("hamburger-category", c);
      }));

      return result;
    }
  });
});
define("discourse/widgets/hamburger-menu", ["exports", "@ember/runloop", "discourse/widgets/widget", "virtual-dom", "discourse/lib/url", "discourse/lib/ajax", "discourse/lib/notification-levels"], function (exports, _runloop, _widget, _virtualDom, _url, _ajax, _notificationLevels) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var flatten = function flatten(array) {
    return [].concat.apply([], array);
  };

  (0, _widget.createWidget)("priority-faq-link", {
    tagName: "a.faq-priority.widget-link",

    buildAttributes: function buildAttributes(attrs) {
      return { href: attrs.href };
    },
    html: function html() {
      return [I18n.t("faq"), " ", (0, _virtualDom.h)("span.badge.badge-notification", I18n.t("new_item"))];
    },
    click: function click(e) {
      var _this = this;

      e.preventDefault();
      if (this.siteSettings.faq_url === this.attrs.href) {
        (0, _ajax.ajax)((0, _url.userPath)("read-faq"), { method: "POST" }).then(function () {
          _this.currentUser.set("read_faq", true);
          _url.default.routeToTag($(e.target).closest("a")[0]);
        });
      } else {
        _url.default.routeToTag($(e.target).closest("a")[0]);
      }
    }
  });

  exports.default = (0, _widget.createWidget)("hamburger-menu", {
    tagName: "div.hamburger-panel",

    settings: {
      showCategories: true,
      maxWidth: 320,
      showFAQ: true,
      showAbout: true
    },

    adminLinks: function adminLinks() {
      var _this2 = this;

      var currentUser = this.currentUser;


      var links = [{
        route: "admin",
        className: "admin-link",
        icon: "wrench",
        label: "admin_title"
      }];

      if (currentUser.admin) {
        links.push({
          href: "/admin/site_settings",
          icon: "cog",
          label: "admin.site_settings.title",
          className: "settings-link"
        });
      }

      return links.map(function (l) {
        return _this2.attach("link", l);
      });
    },
    lookupCount: function lookupCount(type) {
      var tts = this.register.lookup("topic-tracking-state:main");
      return tts ? tts.lookupCount(type) : 0;
    },
    showUserDirectory: function showUserDirectory() {
      if (!this.siteSettings.enable_user_directory) return false;
      if (this.siteSettings.hide_user_profiles_from_public && !this.currentUser) return false;
      return true;
    },
    generalLinks: function generalLinks() {
      var _this3 = this;

      var siteSettings = this.siteSettings;

      var links = [];

      links.push({
        route: "discovery.latest",
        className: "latest-topics-link",
        label: "filters.latest.title",
        title: "filters.latest.help"
      });

      if (this.currentUser) {
        links.push({
          route: "discovery.new",
          className: "new-topics-link",
          labelCount: "filters.new.title_with_count",
          label: "filters.new.title",
          title: "filters.new.help",
          count: this.lookupCount("new")
        });

        links.push({
          route: "discovery.unread",
          className: "unread-topics-link",
          labelCount: "filters.unread.title_with_count",
          label: "filters.unread.title",
          title: "filters.unread.help",
          count: this.lookupCount("unread")
        });
      }

      // Staff always see the review link. Non-staff will see it if there are items to review
      if (this.currentUser && (this.currentUser.staff || this.currentUser.reviewable_count)) {
        links.push({
          route: siteSettings.reviewable_default_topics ? "review.topics" : "review",
          className: "review",
          label: "review.title",
          badgeCount: "reviewable_count",
          badgeClass: "reviewables"
        });
      }

      links.push({
        route: "discovery.top",
        className: "top-topics-link",
        label: "filters.top.title",
        title: "filters.top.help"
      });

      if (siteSettings.enable_badges) {
        links.push({
          route: "badges",
          className: "badge-link",
          label: "badges.title"
        });
      }

      if (this.showUserDirectory()) {
        links.push({
          route: "users",
          className: "user-directory-link",
          label: "directory.title"
        });
      }

      if (this.siteSettings.enable_group_directory) {
        links.push({
          route: "groups",
          className: "groups-link",
          label: "groups.index.title"
        });
      }

      if (this.siteSettings.tagging_enabled) {
        links.push({ route: "tags", label: "tagging.tags" });
      }

      var extraLinks = flatten((0, _widget.applyDecorators)(this, "generalLinks", this.attrs, this.state));
      return links.concat(extraLinks).map(function (l) {
        return _this3.attach("link", l);
      });
    },
    listCategories: function listCategories() {
      var _this4 = this;

      var maxCategoriesToDisplay = this.siteSettings.header_dropdown_category_count;
      var categories = [];

      if (this.currentUser) {
        var allCategories = this.site.get("categories").filter(function (c) {
          return c.notification_level !== _notificationLevels.NotificationLevels.MUTED;
        });

        categories = allCategories.filter(function (c) {
          return c.get("newTopics") > 0 || c.get("unreadTopics") > 0;
        }).sort(function (a, b) {
          return b.get("newTopics") + b.get("unreadTopics") - (a.get("newTopics") + a.get("unreadTopics"));
        });

        var topCategoryIds = this.currentUser.get("top_category_ids") || [];
        topCategoryIds.forEach(function (id) {
          var category = allCategories.find(function (c) {
            return c.id === id;
          });
          if (category && !categories.includes(category)) {
            categories.push(category);
          }
        });

        categories = categories.concat(allCategories.filter(function (c) {
          return !categories.includes(c);
        }).sort(function (a, b) {
          return b.topic_count - a.topic_count;
        }));
      } else {
        categories = this.site.get("categoriesByCount").filter(function (c) {
          return c.notification_level !== _notificationLevels.NotificationLevels.MUTED;
        });
      }

      if (!this.siteSettings.allow_uncategorized_topics) {
        categories = categories.filter(function (c) {
          return c.id !== _this4.site.uncategorized_category_id;
        });
      }

      var moreCount = categories.length - maxCategoriesToDisplay;
      categories = categories.slice(0, maxCategoriesToDisplay);

      return this.attach("hamburger-categories", { categories: categories, moreCount: moreCount });
    },
    footerLinks: function footerLinks(prioritizeFaq, faqUrl) {
      var _this5 = this;

      var links = [];
      if (this.settings.showAbout) {
        links.push({
          route: "about",
          className: "about-link",
          label: "about.simple_title"
        });
      }

      if (this.settings.showFAQ && !prioritizeFaq) {
        links.push({ href: faqUrl, className: "faq-link", label: "faq" });
      }

      var site = this.site;

      if (!site.mobileView && !this.capabilities.touch) {
        links.push({
          href: "",
          action: "showKeyboard",
          className: "keyboard-shortcuts-link",
          label: "keyboard_shortcuts_help.title"
        });
      }

      if (this.site.mobileView || this.siteSettings.enable_mobile_theme && this.capabilities.touch) {
        links.push({
          action: "toggleMobileView",
          className: "mobile-toggle-link",
          label: this.site.mobileView ? "desktop_view" : "mobile_view"
        });
      }

      var extraLinks = flatten((0, _widget.applyDecorators)(this, "footerLinks", this.attrs, this.state));
      return links.concat(extraLinks).map(function (l) {
        return _this5.attach("link", l);
      });
    },
    panelContents: function panelContents() {
      var _this6 = this;

      var currentUser = this.currentUser;

      var results = [];

      var faqUrl = this.siteSettings.faq_url;
      if (!faqUrl || faqUrl.length === 0) {
        faqUrl = Discourse.getURL("/faq");
      }

      var prioritizeFaq = this.settings.showFAQ && this.currentUser && !this.currentUser.read_faq;

      if (prioritizeFaq) {
        results.push(this.attach("menu-links", {
          name: "faq-link",
          heading: true,
          contents: function contents() {
            return _this6.attach("priority-faq-link", { href: faqUrl });
          }
        }));
      }

      if (currentUser && currentUser.staff) {
        results.push(this.attach("menu-links", {
          name: "admin-links",
          contents: function contents() {
            var extraLinks = flatten((0, _widget.applyDecorators)(_this6, "admin-links", _this6.attrs, _this6.state));
            return _this6.adminLinks().concat(extraLinks);
          }
        }));
      }

      results.push(this.attach("menu-links", {
        name: "general-links",
        contents: function contents() {
          return _this6.generalLinks();
        }
      }));

      if (this.settings.showCategories) {
        results.push(this.listCategories());
        results.push((0, _virtualDom.h)("hr.categories-separator"));
      }

      results.push(this.attach("menu-links", {
        name: "footer-links",
        omitRule: true,
        contents: function contents() {
          return _this6.footerLinks(prioritizeFaq, faqUrl);
        }
      }));

      return results;
    },
    html: function html() {
      var _this7 = this;

      return this.attach("menu-panel", {
        contents: function contents() {
          return _this7.panelContents();
        },
        maxWidth: this.settings.maxWidth
      });
    },
    clickOutsideMobile: function clickOutsideMobile(e) {
      var _this8 = this;

      var $centeredElement = $(document.elementFromPoint(e.clientX, e.clientY));
      if ($centeredElement.parents(".panel").length && !$centeredElement.hasClass("header-cloak")) {
        this.sendWidgetAction("toggleHamburger");
      } else {
        var $window = $(window);
        var windowWidth = $window.width();
        var $panel = $(".menu-panel");
        $panel.addClass("animate");
        var panelOffsetDirection = this.site.mobileView ? "left" : "right";
        $panel.css(panelOffsetDirection, -windowWidth);
        var $headerCloak = $(".header-cloak");
        $headerCloak.addClass("animate");
        $headerCloak.css("opacity", 0);
        (0, _runloop.later)(function () {
          return _this8.sendWidgetAction("toggleHamburger");
        }, 200);
      }
    },
    clickOutside: function clickOutside(e) {
      if (this.site.mobileView) {
        this.clickOutsideMobile(e);
      } else {
        this.sendWidgetAction("toggleHamburger");
      }
    }
  });
});
define("discourse/widgets/hbs-compiler", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = hbs;
  function hbs() {
    // eslint-disable-next-line no-console
    console.log("Templates should be precompiled server side");
  }
});
define("discourse/widgets/header-contents", ["discourse/widgets/widget"], function (_widget) {
  "use strict";

  (0, _widget.createWidget)("header-contents", {
    tagName: "div.contents.clearfix",
    template: function (attrs, state) {
      var _r = [];

      _r.push("\n    ");

      _r.push(this.attach("home-logo", attrs));

      _r.push("\n");

      if (attrs.topic) {
        _r.push("      ");

        _r.push(this.attach("header-topic-info", attrs));

        _r.push("\n");
      }

      _r.push("    ");

      var _a0 = [];

      _a0.push(this.attrs.contents());

      _r.push(virtualDom.h('div', {
        "className": "panel clearfix"
      }, _a0));

      _r.push("\n  ");

      return _r;
    }
  });
});
define("discourse/widgets/header-topic-info", ["exports", "discourse/widgets/widget", "virtual-dom", "discourse-common/lib/icon-library", "discourse/lib/url", "discourse/widgets/raw-html", "discourse/lib/render-tags", "discourse/lib/render-topic-featured-link", "discourse/widgets/post"], function (exports, _widget, _virtualDom, _iconLibrary, _url, _rawHtml, _renderTags, _renderTopicFeaturedLink, _post) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  (0, _widget.createWidget)("topic-header-participant", {
    tagName: "span",

    buildClasses: function buildClasses(attrs) {
      return "trigger-" + attrs.type + "-card";
    },
    html: function html(attrs) {
      var user = attrs.user,
          group = attrs.group;

      var content = void 0,
          url = void 0;

      if (attrs.type === "user") {
        content = (0, _post.avatarImg)("tiny", {
          template: user.avatar_template,
          username: user.username
        });
        url = user.get("path");
      } else {
        content = [(0, _iconLibrary.iconNode)("users")];
        url = Discourse.getURL("/g/" + group.name);
        content.push((0, _virtualDom.h)("span", group.name));
      }

      return (0, _virtualDom.h)("a.icon", {
        attributes: {
          href: url,
          "data-auto-route": true,
          title: attrs.username
        }
      }, content);
    },
    click: function click(e) {
      var $target = $(e.target);
      this.appEvents.trigger("topic-header:trigger-" + this.attrs.type + "-card", this.attrs.username, $target);
      e.preventDefault();
    }
  });

  exports.default = (0, _widget.createWidget)("header-topic-info", {
    tagName: "div.extra-info-wrapper",

    html: function html(attrs, state) {
      var _this = this;

      var topic = attrs.topic;

      var heading = [];

      var showPM = !topic.get("is_warning") && topic.get("isPrivateMessage");
      if (showPM) {
        var _href = this.currentUser && this.currentUser.pmPath(topic);
        if (_href) {
          heading.push((0, _virtualDom.h)("a.private-message-glyph-wrapper", {
            attributes: { href: _href, "aria-label": I18n.t("user.messages.inbox") }
          }, (0, _iconLibrary.iconNode)("envelope", { class: "private-message-glyph" })));
        }
      }
      var loaded = topic.get("details.loaded");
      var fancyTitle = topic.get("fancyTitle");
      var href = topic.get("url");

      if (fancyTitle && href) {
        heading.push(this.attach("topic-status", attrs));

        var titleHTML = new _rawHtml.default({ html: "<span>" + fancyTitle + "</span>" });
        heading.push(this.attach("link", {
          className: "topic-link",
          action: "jumpToTopPost",
          href: href,
          attributes: { "data-topic-id": topic.get("id") },
          contents: function contents() {
            return titleHTML;
          }
        }));
      }

      var title = [(0, _virtualDom.h)("h1.header-title", heading)];
      var category = topic.get("category");

      if (loaded || category) {
        if (category && (!category.get("isUncategorizedCategory") || !this.siteSettings.suppress_uncategorized_badge)) {
          var parentCategory = category.get("parentCategory");
          var categories = [];
          if (parentCategory) {
            categories.push(this.attach("category-link", { category: parentCategory }));
          }
          categories.push(this.attach("category-link", { category: category }));

          title.push((0, _virtualDom.h)("div.categories-wrapper", categories));
        }

        var extra = [];
        var tags = (0, _renderTags.default)(topic);
        if (tags && tags.length > 0) {
          extra.push(new _rawHtml.default({ html: tags }));
        }

        if (showPM) {
          var maxHeaderParticipants = extra.length > 0 ? 5 : 10;
          var participants = [];
          var topicDetails = topic.get("details");
          var totalParticipants = topicDetails.allowed_users.length + topicDetails.allowed_groups.length;

          topicDetails.allowed_users.some(function (user) {
            if (participants.length >= maxHeaderParticipants) {
              return true;
            }

            participants.push(_this.attach("topic-header-participant", {
              type: "user",
              user: user,
              username: user.username
            }));
          });

          topicDetails.allowed_groups.some(function (group) {
            if (participants.length >= maxHeaderParticipants) {
              return true;
            }

            participants.push(_this.attach("topic-header-participant", {
              type: "group",
              group: group,
              username: group.name
            }));
          });

          if (totalParticipants > maxHeaderParticipants) {
            var remaining = totalParticipants - maxHeaderParticipants;
            participants.push(this.attach("link", {
              className: "more-participants",
              action: "jumpToTopPost",
              href: href,
              attributes: { "data-topic-id": topic.get("id") },
              contents: function contents() {
                return "+" + remaining;
              }
            }));
          }

          extra.push((0, _virtualDom.h)("div.topic-header-participants", participants));
        }

        extra = extra.concat((0, _widget.applyDecorators)(this, "after-tags", attrs, state));

        if (this.siteSettings.topic_featured_link_enabled) {
          var featured = (0, _renderTopicFeaturedLink.topicFeaturedLinkNode)(attrs.topic);
          if (featured) {
            extra.push(featured);
          }
        }
        if (extra.length) {
          title.push((0, _virtualDom.h)("div.topic-header-extra", extra));
        }
      }

      var contents = (0, _virtualDom.h)("div.title-wrapper", title);
      return (0, _virtualDom.h)("div.extra-info", { className: title.length > 1 ? "two-rows" : "" }, contents);
    },
    jumpToTopPost: function jumpToTopPost() {
      var topic = this.attrs.topic;
      if (topic) {
        _url.default.routeTo(topic.get("firstPostUrl"));
      }
    }
  });
});
define("discourse/widgets/header", ["exports", "@ember/object", "@ember/runloop", "discourse/widgets/widget", "discourse-common/lib/icon-library", "discourse/widgets/post", "discourse/lib/url", "discourse/lib/intercept-click", "discourse/lib/search", "discourse/lib/ajax", "discourse/helpers/user-avatar", "discourse/mixins/scroll-top", "virtual-dom"], function (exports, _object, _runloop, _widget, _iconLibrary, _post, _url, _interceptClick, _search, _ajax, _userAvatar, _scrollTop, _virtualDom) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.attachAdditionalPanel = attachAdditionalPanel;


  var dropdown = {
    buildClasses: function buildClasses(attrs) {
      if (attrs.active) {
        return "active";
      }
    },
    click: function click(e) {
      if ((0, _interceptClick.wantsNewWindow)(e)) {
        return;
      }
      e.preventDefault();
      if (!this.attrs.active) {
        this.sendWidgetAction(this.attrs.action);
      }
    }
  };

  (0, _widget.createWidget)("header-notifications", {
    settings: {
      avatarSize: "medium"
    },

    html: function html(attrs) {
      var user = attrs.user;


      var avatarAttrs = {
        template: user.get("avatar_template"),
        username: user.get("username")
      };

      if (this.siteSettings.enable_names) {
        avatarAttrs.name = user.get("name");
      }

      var contents = [(0, _post.avatarImg)(this.settings.avatarSize, (0, _userAvatar.addExtraUserClasses)(user, avatarAttrs))];

      var unreadNotifications = user.get("unread_notifications");
      if (!!unreadNotifications) {
        contents.push(this.attach("link", {
          action: attrs.action,
          className: "badge-notification unread-notifications",
          rawLabel: unreadNotifications,
          omitSpan: true,
          title: "notifications.tooltip.regular",
          titleOptions: { count: unreadNotifications }
        }));
      }

      var unreadPMs = user.get("unread_private_messages");
      if (!!unreadPMs) {
        if (!user.get("read_first_notification") && !user.get("enforcedSecondFactor")) {
          contents.push((0, _virtualDom.h)("span.ring"));
          if (!attrs.active && attrs.ringBackdrop) {
            contents.push((0, _virtualDom.h)("span.ring-backdrop-spotlight"));
            contents.push((0, _virtualDom.h)("span.ring-backdrop", {}, (0, _virtualDom.h)("h1.ring-first-notification", {}, I18n.t("user.first_notification"))));
          }
        }

        contents.push(this.attach("link", {
          action: attrs.action,
          className: "badge-notification unread-private-messages",
          rawLabel: unreadPMs,
          omitSpan: true,
          title: "notifications.tooltip.message",
          titleOptions: { count: unreadPMs }
        }));
      }

      return contents;
    }
  });

  (0, _widget.createWidget)("user-dropdown", jQuery.extend({
    tagName: "li.header-dropdown-toggle.current-user",

    buildId: function buildId() {
      return "current-user";
    },
    html: function html(attrs) {
      return (0, _virtualDom.h)("a.icon", {
        attributes: {
          href: attrs.user.get("path"),
          "data-auto-route": true
        }
      }, this.attach("header-notifications", attrs));
    }
  }, dropdown));

  (0, _widget.createWidget)("header-dropdown", jQuery.extend({
    tagName: "li.header-dropdown-toggle",

    html: function html(attrs) {
      var title = I18n.t(attrs.title);

      var body = [(0, _iconLibrary.iconNode)(attrs.icon)];
      if (attrs.contents) {
        body.push(attrs.contents.call(this));
      }

      return (0, _virtualDom.h)("a.icon.btn-flat", {
        attributes: {
          href: attrs.href,
          "data-auto-route": true,
          title: title,
          "aria-label": title,
          id: attrs.iconId
        }
      }, body);
    }
  }, dropdown));

  (0, _widget.createWidget)("header-icons", {
    tagName: "ul.icons.d-header-icons",

    buildAttributes: function buildAttributes() {
      return { role: "navigation" };
    },
    html: function html(attrs) {
      if (this.siteSettings.login_required && !this.currentUser) {
        return [];
      }

      var hamburger = this.attach("header-dropdown", {
        title: "hamburger_menu",
        icon: "bars",
        iconId: "toggle-hamburger-menu",
        active: attrs.hamburgerVisible,
        action: "toggleHamburger",
        href: "",
        contents: function contents() {
          var currentUser = this.currentUser;

          if (currentUser && currentUser.reviewable_count) {
            return (0, _virtualDom.h)("div.badge-notification.reviewables", {
              attributes: {
                title: I18n.t("notifications.reviewable_items")
              }
            }, this.currentUser.reviewable_count);
          }
        }
      });

      var search = this.attach("header-dropdown", {
        title: "search.title",
        icon: "search",
        iconId: "search-button",
        action: "toggleSearchMenu",
        active: attrs.searchVisible,
        href: Discourse.getURL("/search")
      });

      var icons = [search, hamburger];
      if (attrs.user) {
        icons.push(this.attach("user-dropdown", {
          active: attrs.userVisible,
          action: "toggleUserMenu",
          ringBackdrop: attrs.ringBackdrop,
          user: attrs.user
        }));
      }

      return icons;
    }
  });

  (0, _widget.createWidget)("header-buttons", {
    tagName: "span.header-buttons",

    html: function html(attrs) {
      if (this.currentUser) {
        return;
      }

      var buttons = [];

      if (attrs.canSignUp && !attrs.topic) {
        buttons.push(this.attach("button", {
          label: "sign_up",
          className: "btn-primary btn-small sign-up-button",
          action: "showCreateAccount"
        }));
      }

      buttons.push(this.attach("button", {
        label: "log_in",
        className: "btn-primary btn-small login-button",
        action: "showLogin",
        icon: "user"
      }));
      return buttons;
    }
  });

  (0, _widget.createWidget)("header-cloak", {
    tagName: "div.header-cloak",
    html: function html() {
      return "";
    },
    click: function click() {},
    scheduleRerender: function scheduleRerender() {}
  });

  var forceContextEnabled = ["category", "user", "private_messages", "tag"];

  var additionalPanels = [];
  function attachAdditionalPanel(name, toggle, transformAttrs) {
    additionalPanels.push({ name: name, toggle: toggle, transformAttrs: transformAttrs });
  }

  exports.default = (0, _widget.createWidget)("header", {
    tagName: "header.d-header.clearfix",
    buildKey: function buildKey() {
      return "header";
    },

    defaultState: function defaultState() {
      var states = {
        searchVisible: false,
        hamburgerVisible: false,
        userVisible: false,
        ringBackdrop: true
      };

      if (this.site.mobileView) {
        states.skipSearchContext = true;
      }

      return states;
    },
    html: function html(attrs, state) {
      var _this = this;

      var contents = function contents() {
        var panels = [_this.attach("header-buttons", attrs), _this.attach("header-icons", {
          hamburgerVisible: state.hamburgerVisible,
          userVisible: state.userVisible,
          searchVisible: state.searchVisible,
          ringBackdrop: state.ringBackdrop,
          flagCount: attrs.flagCount,
          user: _this.currentUser
        })];

        if (state.searchVisible) {
          var contextType = _this.searchContextType();

          if (state.searchContextType !== contextType) {
            state.contextEnabled = undefined;
            state.searchContextType = contextType;
          }

          if (state.contextEnabled === undefined) {
            if (forceContextEnabled.includes(contextType)) {
              state.contextEnabled = true;
            }
          }

          panels.push(_this.attach("search-menu", { contextEnabled: state.contextEnabled }));
        } else if (state.hamburgerVisible) {
          panels.push(_this.attach("hamburger-menu"));
        } else if (state.userVisible) {
          panels.push(_this.attach("user-menu"));
        }

        additionalPanels.map(function (panel) {
          if (_this.state[panel.toggle]) {
            panels.push(_this.attach(panel.name, panel.transformAttrs.call(_this, attrs, state)));
          }
        });

        if (_this.site.mobileView) {
          panels.push(_this.attach("header-cloak"));
        }

        return panels;
      };

      var contentsAttrs = { contents: contents, minimized: !!attrs.topic };
      return (0, _virtualDom.h)("div.wrap", this.attach("header-contents", $.extend({}, attrs, contentsAttrs)));
    },
    updateHighlight: function updateHighlight() {
      if (!this.state.searchVisible) {
        var service = this.register.lookup("search-service:main");
        service.set("highlightTerm", "");
      }
    },
    closeAll: function closeAll() {
      this.state.userVisible = false;
      this.state.hamburgerVisible = false;
      this.state.searchVisible = false;
      this.toggleBodyScrolling(false);
    },
    linkClickedEvent: function linkClickedEvent(attrs) {
      var searchContextEnabled = false;
      if (attrs) {
        searchContextEnabled = attrs.searchContextEnabled;

        var searchLogId = attrs.searchLogId,
            searchResultId = attrs.searchResultId,
            searchResultType = attrs.searchResultType;

        if (searchLogId && searchResultId && searchResultType) {
          (0, _ajax.ajax)("/search/click", {
            type: "POST",
            data: {
              search_log_id: searchLogId,
              search_result_id: searchResultId,
              search_result_type: searchResultType
            }
          });
        }
      }

      if (!searchContextEnabled) {
        this.closeAll();
      }

      this.updateHighlight();
    },
    toggleSearchMenu: function toggleSearchMenu() {
      var _this2 = this;

      if (this.site.mobileView) {
        var searchService = this.register.lookup("search-service:main");
        var context = searchService.get("searchContext");
        var params = "";

        if (context) {
          params = "?context=" + context.type + "&context_id=" + context.id + "&skip_context=" + this.state.skipSearchContext;
        }

        var currentPath = this.register.lookup("service:router").get("_router.currentPath");

        if (currentPath === "full-page-search") {
          (0, _scrollTop.scrollTop)();
          $(".full-page-search").focus();
          return false;
        } else {
          return _url.default.routeTo("/search" + params);
        }
      }

      this.state.searchVisible = !this.state.searchVisible;
      this.updateHighlight();

      if (this.state.searchVisible) {
        (0, _runloop.schedule)("afterRender", function () {
          var $searchInput = $("#search-term");
          $searchInput.focus().select();

          (0, _search.applySearchAutocomplete)($searchInput, _this2.siteSettings, _this2.appEvents, {
            appendSelector: ".menu-panel"
          });
        });
      }
    },
    toggleUserMenu: function toggleUserMenu() {
      if (this.currentUser.get("read_first_notification")) {
        this.state.ringBackdrop = false;
      }

      this.state.userVisible = !this.state.userVisible;
      this.toggleBodyScrolling(this.state.userVisible);
    },
    toggleHamburger: function toggleHamburger() {
      this.state.hamburgerVisible = !this.state.hamburgerVisible;
      this.toggleBodyScrolling(this.state.hamburgerVisible);
    },
    toggleBodyScrolling: function toggleBodyScrolling(bool) {
      if (!this.site.mobileView) return;
      if (bool) {
        document.body.addEventListener("touchmove", this.preventDefault, {
          passive: false
        });
      } else {
        document.body.removeEventListener("touchmove", this.preventDefault, {
          passive: false
        });
      }
    },
    preventDefault: function preventDefault(e) {
      // prevent all scrollin on menu panels, except on overflow
      var height = window.innerHeight ? window.innerHeight : $(window).height();
      if (!$(e.target).parents(".menu-panel").length || $(".menu-panel .panel-body-contents").height() <= height) {
        e.preventDefault();
      }
    },
    togglePageSearch: function togglePageSearch() {
      var state = this.state;


      state.contextEnabled = false;

      var currentPath = this.register.lookup("service:router").get("_router.currentPath");
      var blacklist = [/^discovery\.categories/];
      var whitelist = [/^topic\./];
      var check = function check(regex) {
        return !!currentPath.match(regex);
      };
      var showSearch = whitelist.any(check) && !blacklist.any(check);

      // If we're viewing a topic, only intercept search if there are cloaked posts
      if (showSearch && currentPath.match(/^topic\./)) {
        var controller = this.register.lookup("controller:topic");
        var total = controller.get("model.postStream.stream.length") || 0;
        var chunkSize = controller.get("model.chunk_size") || 0;

        showSearch = total > chunkSize && $(".topic-post .cooked, .small-action:not(.time-gap)").length < total;
      }

      if (state.searchVisible) {
        this.toggleSearchMenu();
        return showSearch;
      }

      if (showSearch) {
        state.contextEnabled = true;
        this.toggleSearchMenu();
        return false;
      }

      return true;
    },
    searchMenuContextChanged: function searchMenuContextChanged(value) {
      this.state.contextType = this.register.lookup("search-service:main").get("contextType");
      this.state.contextEnabled = value;
    },
    domClean: function domClean() {
      var state = this.state;


      if (state.searchVisible || state.hamburgerVisible || state.userVisible) {
        this.closeAll();
      }
    },
    headerKeyboardTrigger: function headerKeyboardTrigger(msg) {
      switch (msg.type) {
        case "search":
          this.toggleSearchMenu();
          break;
        case "user":
          this.toggleUserMenu();
          break;
        case "hamburger":
          this.toggleHamburger();
          break;
        case "page-search":
          var contextType = this.searchContextType();
          if (contextType === "topic") {
            this.state.searchContextType = contextType;
          }
          if (!this.togglePageSearch()) {
            msg.event.preventDefault();
            msg.event.stopPropagation();
          }
          break;
      }
    },
    searchContextType: function searchContextType() {
      var service = this.register.lookup("search-service:main");
      if (service) {
        var ctx = service.get("searchContext");
        if (ctx) {
          return (0, _object.get)(ctx, "type");
        }
      }
    }
  });
});
define("discourse/widgets/home-logo", ["exports", "discourse/widgets/widget", "virtual-dom", "discourse-common/lib/icon-library", "discourse/lib/intercept-click", "discourse/lib/url"], function (exports, _widget, _virtualDom, _iconLibrary, _interceptClick, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _widget.createWidget)("home-logo", {
    tagName: "div.title",

    settings: {
      href: Discourse.getURL("/")
    },

    href: function href() {
      var href = this.settings.href;
      return typeof href === "function" ? href() : href;
    },
    logoUrl: function logoUrl() {
      return this.siteSettings.site_logo_url || "";
    },
    mobileLogoUrl: function mobileLogoUrl() {
      return this.siteSettings.site_mobile_logo_url || "";
    },
    smallLogoUrl: function smallLogoUrl() {
      return this.siteSettings.site_logo_small_url || "";
    },
    logo: function logo() {
      var siteSettings = this.siteSettings;

      var mobileView = this.site.mobileView;

      var mobileLogoUrl = this.mobileLogoUrl();
      var showMobileLogo = mobileView && mobileLogoUrl.length > 0;

      var logoUrl = this.logoUrl();
      var title = siteSettings.title;

      if (this.attrs.minimized) {
        var logoSmallUrl = this.smallLogoUrl();
        if (logoSmallUrl.length) {
          return (0, _virtualDom.h)("img#site-logo.logo-small", {
            key: "logo-small",
            attributes: {
              src: Discourse.getURL(logoSmallUrl),
              width: 36,
              alt: title
            }
          });
        } else {
          return (0, _iconLibrary.iconNode)("home");
        }
      } else if (showMobileLogo) {
        return (0, _virtualDom.h)("img#site-logo.logo-big", {
          key: "logo-mobile",
          attributes: { src: Discourse.getURL(mobileLogoUrl), alt: title }
        });
      } else if (logoUrl.length) {
        return (0, _virtualDom.h)("img#site-logo.logo-big", {
          key: "logo-big",
          attributes: { src: Discourse.getURL(logoUrl), alt: title }
        });
      } else {
        return (0, _virtualDom.h)("h1#site-text-logo.text-logo", { key: "logo-text" }, title);
      }
    },
    html: function html() {
      return (0, _virtualDom.h)("a", { attributes: { href: this.href(), "data-auto-route": true } }, this.logo());
    },
    click: function click(e) {
      if ((0, _interceptClick.wantsNewWindow)(e)) {
        return false;
      }
      e.preventDefault();

      _url.default.routeToTag($(e.target).closest("a")[0]);
      return false;
    }
  });
});
define("discourse/widgets/hooks", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  /*eslint no-loop-func:0*/

  var CLICK_ATTRIBUTE_NAME = "_discourse_click_widget";
  var DOUBLE_CLICK_ATTRIBUTE_NAME = "_discourse_double_click_widget";
  var CLICK_OUTSIDE_ATTRIBUTE_NAME = "_discourse_click_outside_widget";
  var MOUSE_DOWN_OUTSIDE_ATTRIBUTE_NAME = "_discourse_mouse_down_outside_widget";
  var KEY_UP_ATTRIBUTE_NAME = "_discourse_key_up_widget";
  var KEY_DOWN_ATTRIBUTE_NAME = "_discourse_key_down_widget";
  var DRAG_ATTRIBUTE_NAME = "_discourse_drag_widget";
  var INPUT_ATTRIBUTE_NAME = "_discourse_input_widget";
  var CHANGE_ATTRIBUTE_NAME = "_discourse_change_widget";
  var MOUSE_DOWN_ATTRIBUTE_NAME = "_discourse_mouse_down_widget";
  var MOUSE_UP_ATTRIBUTE_NAME = "_discourse_mouse_up_widget";
  var MOUSE_MOVE_ATTRIBUTE_NAME = "_discourse_mouse_move_widget";

  function buildHook(attributeName, setAttr) {
    return function () {
      function _class(widget) {
        _classCallCheck(this, _class);

        this.widget = widget;
      }

      _createClass(_class, [{
        key: "hook",
        value: function hook(node) {
          if (setAttr) {
            node.setAttribute(setAttr, true);
          }
          node[attributeName] = this.widget;
        }
      }, {
        key: "unhook",
        value: function unhook(node) {
          if (setAttr) {
            node.removeAttribute(setAttr, true);
          }
          node[attributeName] = null;
        }
      }]);

      return _class;
    }();
  }

  var WidgetClickHook = exports.WidgetClickHook = buildHook(CLICK_ATTRIBUTE_NAME);
  var WidgetDoubleClickHook = exports.WidgetDoubleClickHook = buildHook(DOUBLE_CLICK_ATTRIBUTE_NAME);
  var WidgetClickOutsideHook = exports.WidgetClickOutsideHook = buildHook(CLICK_OUTSIDE_ATTRIBUTE_NAME, "data-click-outside");
  var WidgetMouseDownOutsideHook = exports.WidgetMouseDownOutsideHook = buildHook(MOUSE_DOWN_OUTSIDE_ATTRIBUTE_NAME, "data-mouse-down-outside");
  var WidgetKeyUpHook = exports.WidgetKeyUpHook = buildHook(KEY_UP_ATTRIBUTE_NAME);
  var WidgetKeyDownHook = exports.WidgetKeyDownHook = buildHook(KEY_DOWN_ATTRIBUTE_NAME);
  var WidgetDragHook = exports.WidgetDragHook = buildHook(DRAG_ATTRIBUTE_NAME);
  var WidgetInputHook = exports.WidgetInputHook = buildHook(INPUT_ATTRIBUTE_NAME);
  var WidgetChangeHook = exports.WidgetChangeHook = buildHook(CHANGE_ATTRIBUTE_NAME);
  var WidgetMouseUpHook = exports.WidgetMouseUpHook = buildHook(MOUSE_UP_ATTRIBUTE_NAME);
  var WidgetMouseDownHook = exports.WidgetMouseDownHook = buildHook(MOUSE_DOWN_ATTRIBUTE_NAME);
  var WidgetMouseMoveHook = exports.WidgetMouseMoveHook = buildHook(MOUSE_MOVE_ATTRIBUTE_NAME);

  function nodeCallback(node, attrName, cb) {
    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : { rerender: true };
    var rerender = options.rerender;

    var widget = findWidget(node, attrName);

    if (widget) {
      if (rerender) {
        widget.rerenderResult(function () {
          return cb(widget);
        });
      } else {
        cb(widget);
      }
    }
  }

  function findWidget(node, attrName) {
    while (node) {
      var widget = node[attrName];
      if (widget) {
        return widget;
      }
      node = node.parentNode;
    }
  }

  var _watchingDocument = false;
  var _dragging = void 0;

  var DRAG_NAME = "mousemove.discourse-widget-drag";

  function cancelDrag(e) {
    $("body").removeClass("widget-dragging");
    $(document).off(DRAG_NAME);

    // We leave the touchmove event cause touch needs it always bound on iOS

    if (_dragging) {
      if (_dragging.dragEnd) {
        _dragging.dragEnd(e);
      }
      _dragging = null;
    }
  }

  WidgetClickHook.setupDocumentCallback = function () {
    if (_watchingDocument) {
      return;
    }

    var widget = void 0;
    var onDrag = function onDrag(dragE) {
      var tt = dragE.targetTouches[0];
      if (tt && widget) {
        dragE.preventDefault();
        dragE.stopPropagation();
        widget.drag(tt);
      }
    };

    document.addEventListener("touchmove", onDrag, {
      passive: false,
      capture: true
    });

    $(document).on("mousedown.discource-widget-drag, touchstart.discourse-widget-drag", function (e) {
      cancelDrag(e);
      widget = findWidget(e.target, DRAG_ATTRIBUTE_NAME);
      if (widget) {
        e.preventDefault();
        e.stopPropagation();
        _dragging = widget;
        $("body").addClass("widget-dragging");
        $(document).on(DRAG_NAME, function (dragE) {
          if (widget) {
            widget.drag(dragE);
          }
        });
      }
    });

    $(document).on("mouseup.discourse-widget-drag, touchend.discourse-widget-drag", function (e) {
      widget = null;
      cancelDrag(e);
    });

    $(document).on("dblclick.discourse-widget", function (e) {
      nodeCallback(e.target, DOUBLE_CLICK_ATTRIBUTE_NAME, function (w) {
        return w.doubleClick(e);
      });
    });

    $(document).on("click.discourse-widget", function (e) {
      nodeCallback(e.target, CLICK_ATTRIBUTE_NAME, function (w) {
        return w.click(e);
      });

      var node = e.target;
      var $outside = $("[data-click-outside]");
      $outside.each(function (i, outNode) {
        if (outNode.contains(node) || outNode === node && outNode.style.position === "absolute") {
          return;
        }

        var widget2 = outNode[CLICK_OUTSIDE_ATTRIBUTE_NAME];
        if (widget2) {
          widget2.clickOutside(e);
        }
      });
    });

    $(document).on("mousedown.discourse-widget", function (e) {
      var node = e.target;
      var $outside = $("[data-mouse-down-outside]");
      $outside.each(function (i, outNode) {
        if (outNode.contains(node)) {
          return;
        }
        var widget2 = outNode[MOUSE_DOWN_OUTSIDE_ATTRIBUTE_NAME];
        if (widget2) {
          widget2.mouseDownOutside(e);
        }
      });
    });

    $(document).on("keyup.discourse-widget", function (e) {
      nodeCallback(e.target, KEY_UP_ATTRIBUTE_NAME, function (w) {
        return w.keyUp(e);
      });
    });

    $(document).on("keydown.discourse-widget", function (e) {
      nodeCallback(e.target, KEY_DOWN_ATTRIBUTE_NAME, function (w) {
        return w.keyDown(e);
      });
    });

    $(document).on("input.discourse-widget", function (e) {
      nodeCallback(e.target, INPUT_ATTRIBUTE_NAME, function (w) {
        return w.input(e);
      }, {
        rerender: false
      });
    });

    $(document).on("change.discourse-widget", function (e) {
      nodeCallback(e.target, CHANGE_ATTRIBUTE_NAME, function (w) {
        return w.change(e);
      }, {
        rerender: false
      });
    });

    $(document).on("mousedown.discourse-widget", function (e) {
      nodeCallback(e.target, MOUSE_DOWN_ATTRIBUTE_NAME, function (w) {
        w.mouseDown(e);
      });
    });

    $(document).on("mouseup.discourse-widget", function (e) {
      nodeCallback(e.target, MOUSE_UP_ATTRIBUTE_NAME, function (w) {
        return w.mouseUp(e);
      });
    });

    $(document).on("mousemove.discourse-widget", function (e) {
      nodeCallback(e.target, MOUSE_MOVE_ATTRIBUTE_NAME, function (w) {
        return w.mouseMove(e);
      });
    });

    _watchingDocument = true;
  };
});
define("discourse/widgets/invitee-accepted-notification-item", ["discourse/widgets/widget", "discourse/widgets/default-notification-item", "discourse/lib/url"], function (_widget, _defaultNotificationItem, _url) {
  "use strict";

  (0, _widget.createWidgetFrom)(_defaultNotificationItem.DefaultNotificationItem, "invitee-accepted-notification-item", {
    url: function url(data) {
      return (0, _url.userPath)(data.display_username);
    }
  });
});
define("discourse/widgets/liked-consolidated-notification-item", ["@ember/utils", "discourse/widgets/widget", "discourse/widgets/default-notification-item", "discourse/lib/utilities", "discourse/lib/url"], function (_utils, _widget, _defaultNotificationItem, _utilities, _url) {
  "use strict";

  (0, _widget.createWidgetFrom)(_defaultNotificationItem.DefaultNotificationItem, "liked-consolidated-notification-item", {
    url: function url(data) {
      return (0, _url.userPath)((this.attrs.username || this.currentUser.username) + "/notifications/likes-received?acting_username=" + data.display_username);
    },
    description: function description(data) {
      var description = I18n.t("notifications.liked_consolidated_description", {
        count: parseInt(data.count, 10)
      });

      return (0, _utils.isEmpty)(description) ? "" : (0, _utilities.escapeExpression)(description);
    }
  });
});
define("discourse/widgets/liked-notification-item", ["discourse/widgets/widget", "discourse/widgets/default-notification-item", "discourse/lib/utilities"], function (_widget, _defaultNotificationItem, _utilities) {
  "use strict";

  (0, _widget.createWidgetFrom)(_defaultNotificationItem.DefaultNotificationItem, "liked-notification-item", {
    text: function text(notificationName, data) {
      var username = (0, _utilities.formatUsername)(data.display_username);
      var description = this.description(data);

      if (data.count > 1) {
        var count = data.count - 2;
        var username2 = (0, _utilities.formatUsername)(data.username2);

        if (count === 0) {
          return I18n.t("notifications.liked_2", {
            description: description,
            username: username,
            username2: username2
          });
        } else {
          return I18n.t("notifications.liked_many", {
            description: description,
            username: username,
            username2: username2,
            count: count
          });
        }
      }

      return I18n.t("notifications.liked", { description: description, username: username });
    }
  });
});
define("discourse/widgets/link", ["exports", "discourse/lib/intercept-click", "discourse/widgets/widget", "discourse-common/lib/icon-library", "virtual-dom", "discourse/lib/url"], function (exports, _interceptClick, _widget, _iconLibrary, _virtualDom, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _widget.createWidget)("link", {
    tagName: "a",

    href: function href(attrs) {
      var route = attrs.route;
      if (route) {
        var router = this.register.lookup("router:main");
        if (router && router._routerMicrolib) {
          var params = [route];
          if (attrs.model) {
            params.push(attrs.model);
          }
          return Discourse.getURL(router._routerMicrolib.generate.apply(router._routerMicrolib, params));
        }
      } else {
        return Discourse.getURL(attrs.href);
      }
    },
    buildClasses: function buildClasses(attrs) {
      var result = [];
      result.push("widget-link");
      if (attrs.className) {
        result.push(attrs.className);
      }
      return result;
    },
    buildAttributes: function buildAttributes(attrs) {
      var ret = {
        href: this.href(attrs),
        title: attrs.title ? I18n.t(attrs.title, attrs.titleOptions) : this.label(attrs)
      };
      if (attrs.attributes) {
        Object.keys(attrs.attributes).forEach(function (k) {
          return ret[k] = attrs.attributes[k];
        });
      }
      return ret;
    },
    label: function label(attrs) {
      if (attrs.labelCount && attrs.count) {
        return I18n.t(attrs.labelCount, { count: attrs.count });
      }
      return attrs.rawLabel || (attrs.label ? I18n.t(attrs.label) : "");
    },
    html: function html(attrs) {
      if (attrs.contents) {
        return attrs.contents();
      }

      var result = [];
      if (attrs.icon) {
        result.push((0, _iconLibrary.iconNode)(attrs.icon));
        result.push(" ");
      }

      if (!attrs.hideLabel) {
        var label = this.label(attrs);

        if (attrs.omitSpan) {
          result.push(label);
        } else {
          result.push((0, _virtualDom.h)("span.d-label", label));
        }
      }

      var currentUser = this.currentUser;
      if (currentUser && attrs.badgeCount) {
        var val = parseInt(currentUser.get(attrs.badgeCount), 10);
        if (val > 0) {
          var title = attrs.badgeTitle ? I18n.t(attrs.badgeTitle) : "";
          result.push(" ");
          result.push((0, _virtualDom.h)("span.badge-notification", {
            className: attrs.badgeClass,
            attributes: { title: title }
          }, val));
        }
      }

      return result;
    },
    click: function click(e) {
      if ((0, _interceptClick.wantsNewWindow)(e)) {
        return;
      }
      e.preventDefault();

      if (this.attrs.action) {
        e.preventDefault();
        return this.sendWidgetAction(this.attrs.action, this.attrs.actionParam);
      } else {
        this.sendWidgetEvent("linkClicked", this.attrs);
      }

      return _url.default.routeToTag($(e.target).closest("a")[0]);
    }
  });
});
define("discourse/widgets/membership-request-accepted-notification-item", ["discourse/widgets/widget", "discourse/widgets/default-notification-item", "discourse/lib/url"], function (_widget, _defaultNotificationItem, _url) {
  "use strict";

  (0, _widget.createWidgetFrom)(_defaultNotificationItem.DefaultNotificationItem, "membership-request-accepted-notification-item", {
    url: function url(data) {
      return (0, _url.groupPath)(data.group_name);
    },
    text: function text(notificationName, data) {
      return I18n.t("notifications." + notificationName, {
        group_name: data.group_name
      });
    }
  });
});
define("discourse/widgets/membership-request-consolidated-notification-item", ["discourse/widgets/widget", "discourse/widgets/default-notification-item", "discourse/lib/url"], function (_widget, _defaultNotificationItem, _url) {
  "use strict";

  (0, _widget.createWidgetFrom)(_defaultNotificationItem.DefaultNotificationItem, "membership-request-consolidated-notification-item", {
    url: function url() {
      return (0, _url.userPath)((this.attrs.username || this.currentUser.username) + "/messages");
    },
    text: function text(notificationName, data) {
      return I18n.t("notifications.membership_request_consolidated", {
        group_name: data.group_name,
        count: parseInt(data.count, 10)
      });
    }
  });
});
define("discourse/widgets/menu-panel", ["discourse/widgets/widget", "virtual-dom"], function (_widget, _virtualDom) {
  "use strict";

  (0, _widget.createWidget)("menu-links", {
    buildClasses: function buildClasses(attrs) {
      if (attrs.name && attrs.name.length) {
        return "menu-container-" + attrs.name;
      }
    },
    html: function html(attrs) {
      var links = [].concat(attrs.contents());
      var liOpts = {};

      if (attrs.heading) {
        liOpts.className = "header";
      }

      var result = [];
      result.push((0, _virtualDom.h)("ul.menu-links.columned", links.map(function (l) {
        return (0, _virtualDom.h)("li", liOpts, l);
      })));

      result.push((0, _virtualDom.h)("div.clearfix"));
      if (!attrs.omitRule) {
        result.push((0, _virtualDom.h)("hr"));
      }
      return result;
    }
  });

  (0, _widget.createWidget)("menu-panel", {
    tagName: "div.menu-panel",
    template: function (attrs, state) {
      var _r = [];

      _r.push("\n    ");

      var _a0 = [];

      _a0.push("\n      ");

      var _a1 = [];

      _a1.push("\n        ");

      _a1.push(this.attrs.contents());

      _a1.push("\n      ");

      _a0.push(virtualDom.h('div', {
        "className": "panel-body-contents clearfix"
      }, _a1));

      _a0.push("\n    ");

      _r.push(virtualDom.h('div', {
        "className": "panel-body"
      }, _a0));

      _r.push("\n  ");

      return _r;
    },

    buildAttributes: function buildAttributes(attrs) {
      if (attrs.maxWidth) {
        return { "data-max-width": attrs.maxWidth };
      }
    }
  });
});
define("discourse/widgets/post-admin-menu", ["exports", "discourse/widgets/widget", "virtual-dom", "discourse/widgets/button"], function (exports, _widget, _virtualDom, _button) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.buildManageButtons = buildManageButtons;


  (0, _widget.createWidget)("post-admin-menu-button", jQuery.extend(_button.ButtonClass, { tagName: "li.btn" }));

  function buildManageButtons(attrs, currentUser, siteSettings) {
    if (!currentUser) {
      return [];
    }

    var contents = [];
    if (currentUser.staff) {
      contents.push({
        icon: "list",
        className: "btn-default",
        label: "review.moderation_history",
        url: "/review?topic_id=" + attrs.topicId + "&status=all"
      });
    }

    if (!attrs.isWhisper && currentUser.staff) {
      var buttonAtts = {
        action: "togglePostType",
        icon: "shield-alt",
        className: "btn-default toggle-post-type"
      };

      if (attrs.isModeratorAction) {
        buttonAtts.label = "post.controls.revert_to_regular";
      } else {
        buttonAtts.label = "post.controls.convert_to_moderator";
      }
      contents.push(buttonAtts);
    }

    if (currentUser.staff) {
      if (attrs.noticeType) {
        contents.push({
          icon: "user-shield",
          label: "post.controls.remove_post_notice",
          action: "removeNotice",
          className: "btn-default remove-notice"
        });
      } else {
        contents.push({
          icon: "user-shield",
          label: "post.controls.add_post_notice",
          action: "addNotice",
          className: "btn-default add-notice"
        });
      }
    }

    if (attrs.canManage && attrs.hidden) {
      contents.push({
        icon: "far-eye",
        label: "post.controls.unhide",
        action: "unhidePost",
        className: "btn-default unhide-post"
      });
    }

    if (currentUser.admin) {
      contents.push({
        icon: "user",
        label: "post.controls.change_owner",
        action: "changePostOwner",
        className: "btn-default change-owner"
      });
    }

    if (currentUser.staff) {
      if (siteSettings.enable_badges) {
        contents.push({
          icon: "certificate",
          label: "post.controls.grant_badge",
          action: "grantBadge",
          className: "btn-default grant-badge"
        });
      }

      if (attrs.locked) {
        contents.push({
          icon: "unlock",
          label: "post.controls.unlock_post",
          action: "unlockPost",
          title: "post.controls.unlock_post_description",
          className: "btn-default unlock-post"
        });
      } else {
        contents.push({
          icon: "lock",
          label: "post.controls.lock_post",
          action: "lockPost",
          title: "post.controls.lock_post_description",
          className: "btn-default lock-post"
        });
      }
    }

    if (attrs.canManage || attrs.canWiki) {
      if (attrs.wiki) {
        contents.push({
          action: "toggleWiki",
          label: "post.controls.unwiki",
          icon: "far-edit",
          className: "btn-default wiki wikied"
        });
      } else {
        contents.push({
          action: "toggleWiki",
          label: "post.controls.wiki",
          icon: "far-edit",
          className: "btn-default wiki"
        });
      }
    }

    if (attrs.canManage) {
      contents.push({
        icon: "cog",
        label: "post.controls.rebake",
        action: "rebakePost",
        className: "btn-default rebuild-html"
      });
    }

    return contents;
  }

  exports.default = (0, _widget.createWidget)("post-admin-menu", {
    tagName: "div.post-admin-menu.popup-menu",

    html: function html() {
      var _this = this;

      var contents = [];
      contents.push((0, _virtualDom.h)("h3", I18n.t("admin_title")));

      buildManageButtons(this.attrs, this.currentUser, this.siteSettings).forEach(function (b) {
        b.secondaryAction = "closeAdminMenu";
        contents.push(_this.attach("post-admin-menu-button", b));
      });

      return contents;
    },
    clickOutside: function clickOutside() {
      this.sendWidgetAction("closeAdminMenu");
    }
  });
});
define("discourse/widgets/post-cooked", ["exports", "discourse-common/lib/icon-library", "discourse/lib/ajax", "discourse/lib/click-track", "discourse/lib/formatter", "discourse/lib/highlight-text"], function (exports, _iconLibrary, _ajax, _clickTrack, _formatter, _highlightText) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  exports.addDecorator = addDecorator;
  exports.resetDecorators = resetDecorators;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var _decorators = [];

  // Don't call this directly: use `plugin-api/decorateCooked`
  function addDecorator(cb) {
    _decorators.push(cb);
  }

  function resetDecorators() {
    _decorators = [];
  }

  var PostCooked = function () {
    function PostCooked(attrs, decoratorHelper, currentUser) {
      _classCallCheck(this, PostCooked);

      this.attrs = attrs;
      this.expanding = false;
      this._highlighted = false;
      this.decoratorHelper = decoratorHelper;
      this.currentUser = currentUser;
      this.ignoredUsers = this.currentUser ? this.currentUser.ignored_users : null;
    }

    _createClass(PostCooked, [{
      key: "update",
      value: function update(prev) {
        if (prev.attrs.cooked !== this.attrs.cooked || prev.attrs.highlightTerm !== this.attrs.highlightTerm) {
          return this.init();
        }
      }
    }, {
      key: "init",
      value: function init() {
        var _this = this;

        var $html = this._computeCooked();
        this._insertQuoteControls($html);
        this._showLinkCounts($html);
        this._fixImageSizes($html);
        this._applySearchHighlight($html);

        _decorators.forEach(function (cb) {
          return cb($html, _this.decoratorHelper);
        });
        return $html[0];
      }
    }, {
      key: "_applySearchHighlight",
      value: function _applySearchHighlight($html) {
        var highlight = this.attrs.highlightTerm;

        if (highlight && highlight.length > 2) {
          if (this._highlighted) {
            $html.unhighlight();
          }

          (0, _highlightText.default)($html, highlight, { defaultClassName: true });
          this._highlighted = true;
        } else if (this._highlighted) {
          $html.unhighlight();
          this._highlighted = false;
        }
      }
    }, {
      key: "_fixImageSizes",
      value: function _fixImageSizes($html) {
        var _this2 = this;

        var maxImageWidth = Discourse.SiteSettings.max_image_width;
        var maxImageHeight = Discourse.SiteSettings.max_image_height;

        var maxWindowWidth = void 0;
        $html.find("img:not(.avatar)").each(function (idx, img) {
          // deferring work only for posts with images
          // we got to use screen here, cause nothing is rendered yet.
          // long term we may want to allow for weird margins that are enforced, instead of hardcoding at 70/20
          maxWindowWidth = maxWindowWidth || $(window).width() - (_this2.attrs.mobileView ? 20 : 70);
          if (maxImageWidth < maxWindowWidth) {
            maxWindowWidth = maxImageWidth;
          }

          var aspect = img.height / img.width;
          if (img.width > maxWindowWidth) {
            img.width = maxWindowWidth;
            img.height = parseInt(maxWindowWidth * aspect, 10);
          }

          // very unlikely but lets fix this too
          if (img.height > maxImageHeight) {
            img.height = maxImageHeight;
            img.width = parseInt(maxWindowWidth / aspect, 10);
          }
        });
      }
    }, {
      key: "_showLinkCounts",
      value: function _showLinkCounts($html) {
        var linkCounts = this.attrs.linkCounts;
        if (!linkCounts) {
          return;
        }

        linkCounts.forEach(function (lc) {
          if (!lc.clicks || lc.clicks < 1) {
            return;
          }

          $html.find("a[href]").each(function (i, e) {
            var $link = $(e);
            var href = $link.attr("href");

            var valid = href === lc.url;

            // this might be an attachment
            if (lc.internal && /^\/uploads\//.test(lc.url)) {
              valid = href.indexOf(lc.url) >= 0;
            }

            // Match server-side behaviour for internal links with query params
            if (lc.internal && /\?/.test(href)) {
              valid = href.split("?")[0] === lc.url;
            }

            // don't display badge counts on category badge & oneboxes (unless when explicitely stated)
            if (valid && (0, _clickTrack.isValidLink)($link)) {
              var title = I18n.t("topic_map.clicks", { count: lc.clicks });
              $link.append(" <span class='badge badge-notification clicks' title='" + title + "'>" + (0, _formatter.number)(lc.clicks) + "</span>");
            }
          });
        });
      }
    }, {
      key: "_toggleQuote",
      value: function _toggleQuote($aside) {
        var _this3 = this;

        if (this.expanding) {
          return;
        }

        this.expanding = true;

        $aside.data("expanded", !$aside.data("expanded"));

        var finished = function finished() {
          return _this3.expanding = false;
        };

        if ($aside.data("expanded")) {
          this._updateQuoteElements($aside, "chevron-up");
          // Show expanded quote
          var $blockQuote = $("> blockquote", $aside);
          $aside.data("original-contents", $blockQuote.html());

          var originalText = $blockQuote.text().trim() || $("> blockquote", this.attrs.cooked).text().trim();
          $blockQuote.html(I18n.t("loading"));
          var topicId = this.attrs.topicId;
          if ($aside.data("topic")) {
            topicId = $aside.data("topic");
          }

          var postId = parseInt($aside.data("post"), 10);
          topicId = parseInt(topicId, 10);

          (0, _ajax.ajax)("/posts/by_number/" + topicId + "/" + postId).then(function (result) {
            var post = _this3.decoratorHelper.getModel();
            var quotedPosts = post.quoted || {};
            quotedPosts[result.id] = result;
            post.set("quoted", quotedPosts);

            var div = $("<div class='expanded-quote'></div>");
            div.data("post-id", result.id);
            div.html(result.cooked);
            _decorators.forEach(function (cb) {
              return cb(div, _this3.decoratorHelper);
            });

            div.highlight(originalText, {
              caseSensitive: true,
              element: "span",
              className: "highlighted"
            });
            $blockQuote.showHtml(div, "fast", finished);
          }).catch(function (e) {
            if ([403, 404].includes(e.jqXHR.status)) {
              var icon = e.jqXHR.status === 403 ? "lock" : "far-trash-alt";
              $blockQuote.showHtml($("<div class='expanded-quote'>" + (0, _iconLibrary.iconHTML)(icon) + "</div>"), "fast", finished);
            }
          });
        } else {
          // Hide expanded quote
          this._updateQuoteElements($aside, "chevron-down");
          $("blockquote", $aside).showHtml($aside.data("original-contents"), "fast", finished);
        }
        return false;
      }
    }, {
      key: "_urlForPostNumber",
      value: function _urlForPostNumber(postNumber) {
        return postNumber > 0 ? this.attrs.topicUrl + "/" + postNumber : this.attrs.topicUrl;
      }
    }, {
      key: "_updateQuoteElements",
      value: function _updateQuoteElements($aside, desc) {
        var navLink = "";
        var quoteTitle = I18n.t("post.follow_quote");
        var postNumber = $aside.data("post");
        var topicNumber = $aside.data("topic");

        // If we have a post reference
        if (topicNumber && topicNumber === this.attrs.topicId && postNumber) {
          var icon = (0, _iconLibrary.iconHTML)("arrow-up");
          navLink = "<a href='" + this._urlForPostNumber(postNumber) + "' title='" + quoteTitle + "' class='back'>" + icon + "</a>";
        }

        // Only add the expand/contract control if it's not a full post
        var expandContract = "";
        if (!$aside.data("full")) {
          expandContract = (0, _iconLibrary.iconHTML)(desc, { title: "post.expand_collapse" });
          $(".title", $aside).css("cursor", "pointer");
        }
        if (this.ignoredUsers && this.ignoredUsers.length > 0) {
          var username = $aside.find(".title").text().trim().slice(0, -1);
          if (username.length > 0 && this.ignoredUsers.includes(username)) {
            $aside.find("p").remove();
          }
        }
        $(".quote-controls", $aside).html(expandContract + navLink);
      }
    }, {
      key: "_insertQuoteControls",
      value: function _insertQuoteControls($html) {
        var _this4 = this;

        var $quotes = $html.find("aside.quote");
        if ($quotes.length === 0) {
          return;
        }

        $quotes.each(function (i, e) {
          var $aside = $(e);
          if ($aside.data("post")) {
            _this4._updateQuoteElements($aside, "chevron-down");
            var $title = $(".title", $aside);

            // Unless it's a full quote, allow click to expand
            if (!($aside.data("full") || $title.data("has-quote-controls"))) {
              $title.on("click", function (e2) {
                var $target = $(e2.target);
                if ($target.closest("a").length) {
                  return true;
                }
                _this4._toggleQuote($aside);
              });
              $title.data("has-quote-controls", true);
            }
          }
        });
      }
    }, {
      key: "_computeCooked",
      value: function _computeCooked() {
        if ((this.attrs.firstPost || this.attrs.embeddedPost) && this.ignoredUsers && this.ignoredUsers.length > 0 && this.ignoredUsers.includes(this.attrs.username)) {
          return $("<div class='cooked post-ignored'>" + I18n.t("post.ignored") + "</div>");
        }

        return $("<div class='cooked'>" + this.attrs.cooked + "</div>");
      }
    }]);

    return PostCooked;
  }();

  exports.default = PostCooked;


  PostCooked.prototype.type = "Widget";
});
define("discourse/widgets/post-edits-indicator", ["exports", "discourse/widgets/widget", "discourse-common/lib/icon-library", "discourse/lib/formatter", "virtual-dom"], function (exports, _widget, _iconLibrary, _formatter, _virtualDom) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.historyHeat = historyHeat;


  function mult(val) {
    return 60 * 50 * 1000 * val;
  }

  function historyHeat(siteSettings, updatedAt) {
    if (!updatedAt) {
      return;
    }

    // Show heat on age
    var rightNow = new Date().getTime();
    var updatedAtTime = updatedAt.getTime();

    if (updatedAtTime > rightNow - mult(siteSettings.history_hours_low)) {
      return "heatmap-high";
    }

    if (updatedAtTime > rightNow - mult(siteSettings.history_hours_medium)) {
      return "heatmap-med";
    }

    if (updatedAtTime > rightNow - mult(siteSettings.history_hours_high)) {
      return "heatmap-low";
    }
  }

  exports.default = (0, _widget.createWidget)("post-edits-indicator", {
    tagName: "div.post-info.edits",

    html: function html(attrs) {
      var icon = "pencil-alt";
      var updatedAt = new Date(attrs.updated_at);
      var className = historyHeat(this.siteSettings, updatedAt);
      var date = (0, _formatter.longDate)(updatedAt);
      var title = void 0;

      if (attrs.wiki) {
        icon = "far-edit";
        className = ((className || "") + " wiki").trim();

        if (attrs.version > 1) {
          title = I18n.t("post.last_edited_on") + " " + date;
        } else {
          title = I18n.t("post.wiki.about");
        }
      } else {
        title = I18n.t("post.last_edited_on") + " " + date;
      }

      var contents = [attrs.version > 1 ? attrs.version - 1 : "", " ", (0, _iconLibrary.iconNode)(icon)];

      return (0, _virtualDom.h)("a", {
        className: className,
        attributes: { title: title, href: "#" }
      }, contents);
    },
    click: function click(e) {
      e.preventDefault();
      if (this.attrs.wiki && this.attrs.version === 1) {
        this.sendWidgetAction("editPost");
      } else if (this.attrs.canViewEditHistory) {
        this.sendWidgetAction("showHistory");
      }
    }
  });
});
define("discourse/widgets/post-gap", ["exports", "discourse/widgets/widget"], function (exports, _widget) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _widget.createWidget)("post-gap", {
    tagName: "div.gap",
    buildKey: function buildKey(attrs) {
      return "post-gap-" + attrs.pos + "-" + attrs.postId;
    },

    defaultState: function defaultState() {
      return { loading: false };
    },
    html: function html(attrs, state) {
      return state.loading ? I18n.t("loading") : I18n.t("post.gap", { count: attrs.gap.length });
    },
    click: function click() {
      var attrs = this.attrs,
          state = this.state;


      if (state.loading) {
        return;
      }
      state.loading = true;

      var args = { gap: attrs.gap, post: this.model };
      return this.sendWidgetAction(attrs.pos === "before" ? "fillGapBefore" : "fillGapAfter", args);
    }
  });
});
define("discourse/widgets/post-links", ["exports", "discourse-common/lib/icon-library", "discourse/widgets/widget", "virtual-dom", "discourse/widgets/emoji"], function (exports, _iconLibrary, _widget, _virtualDom, _emoji) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _widget.createWidget)("post-links", {
    tagName: "div.post-links-container",
    buildKey: function buildKey(attrs) {
      return "post-links-" + attrs.id;
    },

    defaultState: function defaultState() {
      return { collapsed: true };
    },
    linkHtml: function linkHtml(link) {
      var linkBody = (0, _emoji.replaceEmoji)(link.title);
      if (link.clicks) {
        linkBody.push((0, _virtualDom.h)("span.badge.badge-notification.clicks", link.clicks.toString()));
      }

      return (0, _virtualDom.h)("li", (0, _virtualDom.h)("a.track-link", {
        className: "inbound",
        attributes: { href: link.url }
      }, [(0, _iconLibrary.iconNode)("link"), linkBody]));
    },
    html: function html(attrs, state) {
      var _this = this;

      if (!this.attrs.links || this.attrs.links.length === 0) {
        // shortcut all work
        return;
      }

      // only show incoming
      var links = this.attrs.links.filter(function (l) {
        return l.reflection;
      }).uniqBy("title");

      if (links.length === 0) {
        return;
      }

      var result = [];

      // show all links
      if (links.length <= 5 || !state.collapsed) {
        links.forEach(function (l) {
          return result.push(_this.linkHtml(l));
        });
      } else {
        var max = Math.min(5, links.length);
        for (var i = 0; i < max; i++) {
          result.push(this.linkHtml(links[i]));
        }
        // 'show more' link
        if (links.length > max) {
          result.push((0, _virtualDom.h)("li", this.attach("link", {
            labelCount: "post_links.title",
            title: "post_links.about",
            count: links.length - max,
            action: "expandLinks",
            className: "expand-links"
          })));
        }
      }

      if (result.length) {
        return (0, _virtualDom.h)("ul.post-links", result);
      }
    },
    expandLinks: function expandLinks() {
      this.state.collapsed = false;
    }
  });
});
define("discourse/widgets/post-menu", ["exports", "@ember/runloop", "discourse/widgets/widget", "discourse/widgets/actions-summary", "virtual-dom", "discourse/lib/show-modal", "rsvp", "discourse-common/config/environment"], function (exports, _runloop, _widget, _actionsSummary, _virtualDom, _showModal, _rsvp, _environment) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addButton = addButton;
  exports.buildButton = buildButton;


  var LIKE_ACTION = 2;
  var VIBRATE_DURATION = 5;

  function animateHeart($elem, start, end, complete) {
    if (_environment.default.environment === "test") {
      return (0, _runloop.run)(this, complete);
    }

    $elem.stop().css("textIndent", start).animate({ textIndent: end }, {
      complete: complete,
      step: function step(now) {
        $(this).css("transform", "scale(" + now + ")").addClass("d-liked").removeClass("d-unliked");
      },

      duration: 150
    }, "linear");
  }

  var _builders = {};
  var _extraButtons = {};

  function addButton(name, builder) {
    _extraButtons[name] = builder;
  }

  function registerButton(name, builder) {
    _builders[name] = builder;
  }

  function buildButton(name, widget) {
    var attrs = widget.attrs,
        state = widget.state,
        siteSettings = widget.siteSettings,
        settings = widget.settings;

    var builder = _builders[name];
    if (builder) {
      var button = builder(attrs, state, siteSettings, settings);
      if (button && !button.id) {
        button.id = name;
      }
      return button;
    }
  }

  registerButton("read-count", function (attrs) {
    if (attrs.showReadIndicator) {
      var count = attrs.readCount;
      if (count > 0) {
        return {
          action: "toggleWhoRead",
          title: "post.controls.read_indicator",
          className: "button-count read-indicator",
          contents: count,
          iconRight: true,
          addContainer: false
        };
      }
    }
  });

  registerButton("read", function (attrs) {
    var readBySomeone = attrs.readCount > 0;
    if (attrs.showReadIndicator && readBySomeone) {
      return {
        action: "toggleWhoRead",
        title: "post.controls.read_indicator",
        icon: "book-reader",
        before: "read-count",
        addContainer: false
      };
    }
  });

  function likeCount(attrs) {
    var count = attrs.likeCount;

    if (count > 0) {
      var title = attrs.liked ? count === 1 ? "post.has_likes_title_only_you" : "post.has_likes_title_you" : "post.has_likes_title";
      var icon = attrs.yours ? "d-liked" : "";
      var addContainer = attrs.yours;
      var additionalClass = attrs.yours ? "my-likes" : "regular-likes";

      if (!attrs.showLike) {
        icon = attrs.yours ? "d-liked" : "d-unliked";
        addContainer = true;
      }

      return {
        action: "toggleWhoLiked",
        title: title,
        className: "button-count like-count highlight-action " + additionalClass,
        contents: count,
        icon: icon,
        iconRight: true,
        addContainer: addContainer,
        titleOptions: { count: attrs.liked ? count - 1 : count }
      };
    }
  }

  registerButton("like-count", likeCount);

  registerButton("like", function (attrs) {
    if (!attrs.showLike) {
      return likeCount(attrs);
    }

    var className = attrs.liked ? "toggle-like has-like fade-out" : "toggle-like like";

    var button = {
      action: "like",
      icon: attrs.liked ? "d-liked" : "d-unliked",
      className: className,
      before: "like-count"
    };

    // If the user has already liked the post and doesn't have permission
    // to undo that operation, then indicate via the title that they've liked it
    // and disable the button. Otherwise, set the title even if the user
    // is anonymous (meaning they don't currently have permission to like);
    // this is important for accessibility.
    if (attrs.liked && !attrs.canToggleLike) {
      button.title = "post.controls.has_liked";
      button.disabled = true;
    } else {
      button.title = attrs.liked ? "post.controls.undo_like" : "post.controls.like";
    }

    return button;
  });

  registerButton("flag-count", function (attrs) {
    var className = "button-count";
    if (attrs.reviewableScorePendingCount > 0) {
      className += " has-pending";
    }
    return {
      className: className,
      contents: (0, _virtualDom.h)("span", attrs.reviewableScoreCount.toString()),
      url: "/review/" + attrs.reviewableId
    };
  });

  registerButton("flag", function (attrs) {
    if (attrs.reviewableId || attrs.canFlag && !attrs.hidden) {
      var button = {
        action: "showFlags",
        title: "post.controls.flag",
        icon: "flag",
        className: "create-flag"
      };
      if (attrs.reviewableId) {
        button.before = "flag-count";
      }
      return button;
    }
  });

  registerButton("edit", function (attrs) {
    if (attrs.canEdit) {
      return {
        action: "editPost",
        className: "edit",
        title: "post.controls.edit",
        icon: "pencil-alt",
        alwaysShowYours: true
      };
    }
  });

  registerButton("reply-small", function (attrs) {
    if (!attrs.canCreatePost) {
      return;
    }

    var args = {
      action: "replyToPost",
      title: "post.controls.reply",
      icon: "reply",
      className: "reply"
    };

    return args;
  });

  registerButton("wiki-edit", function (attrs) {
    if (attrs.canEdit) {
      var args = {
        action: "editPost",
        className: "edit create",
        title: "post.controls.edit",
        icon: "far-edit",
        alwaysShowYours: true
      };
      if (!attrs.mobileView) {
        args.label = "post.controls.edit_action";
      }
      return args;
    }
  });

  registerButton("replies", function (attrs, state, siteSettings) {
    var replyCount = attrs.replyCount;

    if (!replyCount) {
      return;
    }

    // Omit replies if the setting `suppress_reply_directly_below` is enabled
    if (replyCount === 1 && attrs.replyDirectlyBelow && siteSettings.suppress_reply_directly_below) {
      return;
    }

    return {
      action: "toggleRepliesBelow",
      className: "show-replies",
      icon: state.repliesShown ? "chevron-up" : "chevron-down",
      titleOptions: { count: replyCount },
      title: "post.has_replies",
      labelOptions: { count: replyCount },
      label: "post.has_replies",
      iconRight: true
    };
  });

  registerButton("share", function (attrs) {
    return {
      action: "share",
      className: "share",
      title: "post.controls.share",
      icon: "link",
      data: {
        "share-url": attrs.shareUrl,
        "post-number": attrs.post_number
      }
    };
  });

  registerButton("reply", function (attrs, state, siteSettings, postMenuSettings) {
    var args = {
      action: "replyToPost",
      title: "post.controls.reply",
      icon: "reply",
      className: "reply create fade-out"
    };

    if (!attrs.canCreatePost) {
      return;
    }

    if (postMenuSettings.showReplyTitleOnMobile || !attrs.mobileView) {
      args.label = "topic.reply.title";
    }

    return args;
  });

  registerButton("bookmark", function (attrs) {
    if (!attrs.canBookmark) {
      return;
    }

    var className = "bookmark";

    if (attrs.bookmarked) {
      className += " bookmarked";
    }

    return {
      id: attrs.bookmarked ? "unbookmark" : "bookmark",
      action: "toggleBookmark",
      title: attrs.bookmarked ? "bookmarks.created" : "bookmarks.not_bookmarked",
      className: className,
      icon: "bookmark"
    };
  });

  registerButton("bookmarkWithReminder", function (attrs, state, siteSettings) {
    if (!attrs.canBookmark || !siteSettings.enable_bookmarks_with_reminders) {
      return;
    }

    var classNames = ["bookmark", "with-reminder"];
    var title = "bookmarks.not_bookmarked";
    var titleOptions = {};

    if (attrs.bookmarkedWithReminder) {
      classNames.push("bookmarked");

      if (attrs.bookmarkReminderAt) {
        var reminderAtDate = moment(attrs.bookmarkReminderAt).tz(Discourse.currentUser.timezone);
        title = "bookmarks.created_with_reminder";
        titleOptions = {
          date: reminderAtDate.format(I18n.t("dates.long_with_year"))
        };
      } else {
        title = "bookmarks.created";
      }
    }

    return {
      id: attrs.bookmarkedWithReminder ? "unbookmark" : "bookmark",
      action: "toggleBookmarkWithReminder",
      title: title,
      titleOptions: titleOptions,
      className: classNames.join(" "),
      icon: attrs.bookmarkReminderAt ? "discourse-bookmark-clock" : "bookmark"
    };
  });

  registerButton("admin", function (attrs) {
    if (!attrs.canManage && !attrs.canWiki) {
      return;
    }
    return {
      action: "openAdminMenu",
      title: "post.controls.admin",
      className: "show-post-admin-menu",
      icon: "wrench"
    };
  });

  registerButton("delete", function (attrs) {
    if (attrs.canRecoverTopic) {
      return {
        id: "recover_topic",
        action: "recoverPost",
        title: "topic.actions.recover",
        icon: "undo",
        className: "recover"
      };
    } else if (attrs.canDeleteTopic) {
      return {
        id: "delete_topic",
        action: "deletePost",
        title: "post.controls.delete_topic",
        icon: "far-trash-alt",
        className: "delete"
      };
    } else if (attrs.canRecover) {
      return {
        id: "recover",
        action: "recoverPost",
        title: "post.controls.undelete",
        icon: "undo",
        className: "recover"
      };
    } else if (attrs.canDelete) {
      return {
        id: "delete",
        action: "deletePost",
        title: "post.controls.delete",
        icon: "far-trash-alt",
        className: "delete"
      };
    } else if (attrs.showFlagDelete) {
      return {
        id: "delete_topic",
        action: "showDeleteTopicModal",
        title: "post.controls.delete_topic_disallowed",
        icon: "far-trash-alt",
        className: "delete"
      };
    }
  });

  function replaceButton(buttons, find, replace) {
    var idx = buttons.indexOf(find);
    if (idx !== -1) {
      buttons[idx] = replace;
    }
  }

  exports.default = (0, _widget.createWidget)("post-menu", {
    tagName: "section.post-menu-area.clearfix",

    settings: {
      collapseButtons: true,
      buttonType: "flat-button",
      showReplyTitleOnMobile: false
    },

    defaultState: function defaultState() {
      return {
        collapsed: true,
        likedUsers: [],
        readers: [],
        adminVisible: false
      };
    },


    buildKey: function buildKey(attrs) {
      return "post-menu-" + attrs.id;
    },

    attachButton: function attachButton(name) {
      var buttonAtts = buildButton(name, this);
      if (buttonAtts) {
        var button = this.attach(this.settings.buttonType, buttonAtts);
        if (buttonAtts.before) {
          var before = this.attachButton(buttonAtts.before);
          return (0, _virtualDom.h)("div.double-button", [before, button]);
        } else if (buttonAtts.addContainer) {
          return (0, _virtualDom.h)("div.double-button", [button]);
        }

        return button;
      }
    },
    menuItems: function menuItems() {
      return this.siteSettings.post_menu.split("|").filter(Boolean);
    },
    html: function html(attrs, state) {
      var _this = this;

      var currentUser = this.currentUser,
          keyValueStore = this.keyValueStore,
          siteSettings = this.siteSettings;


      var hiddenSetting = siteSettings.post_menu_hidden_items || "";
      var hiddenButtons = hiddenSetting.split("|").filter(function (s) {
        return !attrs.bookmarked || s !== "bookmark";
      }).filter(function (s) {
        return !attrs.bookmarkedWithReminder || s !== "bookmarkWithReminder";
      });

      if (currentUser && keyValueStore) {
        var likedPostId = keyValueStore.getInt("likedPostId");
        if (likedPostId === attrs.id) {
          keyValueStore.remove("likedPostId");
          (0, _runloop.next)(function () {
            return _this.sendWidgetAction("toggleLike");
          });
        }
      }

      var allButtons = [];
      var visibleButtons = [];

      // filter menu items based on site settings
      var orderedButtons = this.menuItems().filter(function (button) {
        if (_this.siteSettings.enable_bookmarks_with_reminders && button === "bookmark") {
          return false;
        }
        return true;
      });

      // If the post is a wiki, make Edit more prominent
      if (attrs.wiki && attrs.canEdit) {
        replaceButton(orderedButtons, "edit", "reply-small");
        replaceButton(orderedButtons, "reply", "wiki-edit");
      }

      orderedButtons.forEach(function (i) {
        var button = _this.attachButton(i, attrs);

        if (button) {
          allButtons.push(button);

          if (attrs.yours && button.attrs && button.attrs.alwaysShowYours || attrs.reviewableId && i === "flag" || hiddenButtons.indexOf(i) === -1) {
            visibleButtons.push(button);
          }
        }
      });

      if (!this.settings.collapseButtons) {
        visibleButtons = allButtons;
      }

      // Only show ellipsis if there is more than one button hidden
      // if there are no more buttons, we are not collapsed
      if (!state.collapsed || allButtons.length <= visibleButtons.length + 1) {
        visibleButtons = allButtons;
        if (state.collapsed) {
          state.collapsed = false;
        }
      } else {
        var showMore = this.attach("flat-button", {
          action: "showMoreActions",
          title: "show_more",
          className: "show-more-actions",
          icon: "ellipsis-h"
        });
        visibleButtons.splice(visibleButtons.length - 1, 0, showMore);
      }

      Object.values(_extraButtons).forEach(function (builder) {
        if (builder) {
          var buttonAtts = builder(attrs, _this.state, _this.siteSettings);
          if (buttonAtts) {
            var position = buttonAtts.position,
                beforeButton = buttonAtts.beforeButton,
                afterButton = buttonAtts.afterButton;

            delete buttonAtts.position;

            var button = _this.attach(_this.settings.buttonType, buttonAtts);

            var content = [];
            if (beforeButton) {
              content.push(beforeButton(_virtualDom.h));
            }
            content.push(button);
            if (afterButton) {
              content.push(afterButton(_virtualDom.h));
            }
            button = (0, _virtualDom.h)("span.extra-buttons", content);

            if (button) {
              switch (position) {
                case "first":
                  visibleButtons.unshift(button);
                  break;
                case "second":
                  visibleButtons.splice(1, 0, button);
                  break;
                case "second-last-hidden":
                  if (!state.collapsed) {
                    visibleButtons.splice(visibleButtons.length - 2, 0, button);
                  }
                  break;
                default:
                  visibleButtons.push(button);
                  break;
              }
            }
          }
        }
      });

      var postControls = [];

      var repliesButton = this.attachButton("replies", attrs);
      if (repliesButton) {
        postControls.push(repliesButton);
      }

      var extraControls = (0, _widget.applyDecorators)(this, "extra-controls", attrs, state);
      postControls.push((0, _virtualDom.h)("div.actions", visibleButtons.concat(extraControls)));
      if (state.adminVisible) {
        postControls.push(this.attach("post-admin-menu", attrs));
      }

      var contents = [(0, _virtualDom.h)("nav.post-controls.clearfix" + (this.state.collapsed ? ".collapsed" : ".expanded"), postControls)];

      if (state.readers.length) {
        var remaining = state.totalReaders - state.readers.length;
        var description = remaining > 0 ? "post.actions.people.read_capped" : "post.actions.people.read";
        var count = remaining > 0 ? remaining : state.totalReaders;

        contents.push(this.attach("small-user-list", {
          users: state.readers,
          addSelf: false,
          listClassName: "who-read",
          description: description,
          count: count
        }));
      }

      if (state.likedUsers.length) {
        var _remaining = state.total - state.likedUsers.length;
        var _description = _remaining > 0 ? "post.actions.people.like_capped" : "post.actions.people.like";
        var _count = _remaining > 0 ? _remaining : state.total;

        contents.push(this.attach("small-user-list", {
          users: state.likedUsers,
          addSelf: attrs.liked && _remaining === 0,
          listClassName: "who-liked",
          description: _description,
          count: _count
        }));
      }

      return contents;
    },
    openAdminMenu: function openAdminMenu() {
      this.state.adminVisible = true;
    },
    closeAdminMenu: function closeAdminMenu() {
      this.state.adminVisible = false;
    },
    showDeleteTopicModal: function showDeleteTopicModal() {
      (0, _showModal.default)("delete-topic-disallowed");
    },
    showMoreActions: function showMoreActions() {
      var _this2 = this;

      this.state.collapsed = false;
      var likesPromise = !this.state.likedUsers.length ? this.getWhoLiked() : _rsvp.Promise.resolve();

      return likesPromise.then(function () {
        if (!_this2.state.readers.length && _this2.attrs.showReadIndicator) {
          return _this2.getWhoRead();
        }
      });
    },
    like: function like() {
      var _this3 = this;

      var attrs = this.attrs,
          currentUser = this.currentUser,
          keyValueStore = this.keyValueStore;


      if (!currentUser) {
        keyValueStore && keyValueStore.set({ key: "likedPostId", value: attrs.id });
        return this.sendWidgetAction("showLogin");
      }

      if (this.capabilities.canVibrate) {
        navigator.vibrate(VIBRATE_DURATION);
      }

      if (attrs.liked) {
        return this.sendWidgetAction("toggleLike");
      }

      var $heart = $("[data-post-id=" + attrs.id + "] .toggle-like .d-icon");
      $heart.closest("button").addClass("has-like");

      var scale = [1.0, 1.5];
      return new _rsvp.Promise(function (resolve) {
        animateHeart($heart, scale[0], scale[1], function () {
          animateHeart($heart, scale[1], scale[0], function () {
            _this3.sendWidgetAction("toggleLike").then(function () {
              return resolve();
            });
          });
        });
      });
    },
    refreshLikes: function refreshLikes() {
      if (this.state.likedUsers.length) {
        return this.getWhoLiked();
      }
    },
    refreshReaders: function refreshReaders() {
      if (this.state.readers.length) {
        return this.getWhoRead();
      }
    },
    getWhoLiked: function getWhoLiked() {
      var attrs = this.attrs,
          state = this.state;


      return this.store.find("post-action-user", {
        id: attrs.id,
        post_action_type_id: LIKE_ACTION
      }).then(function (users) {
        state.likedUsers = users.map(_actionsSummary.avatarAtts);
        state.total = users.totalRows;
      });
    },
    getWhoRead: function getWhoRead() {
      var attrs = this.attrs,
          state = this.state;


      return this.store.find("post-reader", { id: attrs.id }).then(function (users) {
        state.readers = users.map(_actionsSummary.avatarAtts);
        state.totalReaders = users.totalRows;
      });
    },
    toggleWhoLiked: function toggleWhoLiked() {
      var state = this.state;
      if (state.likedUsers.length) {
        state.likedUsers = [];
      } else {
        return this.getWhoLiked();
      }
    },
    toggleWhoRead: function toggleWhoRead() {
      var state = this.state;
      if (this.state.readers.length) {
        state.readers = [];
      } else {
        return this.getWhoRead();
      }
    }
  });
});
define("discourse/widgets/post-placeholder", ["exports", "discourse/widgets/widget"], function (exports, _widget) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _widget.createWidget)("post-placeholder", {
    tagName: "article.placeholder",
    template: function (attrs, state) {
      var _r = [];

      _r.push("\n    ");

      var _a0 = [];

      _a0.push("\n      ");

      var _a1 = [];

      _a1.push("\n        ");

      var _a2 = [];

      _a1.push(virtualDom.h('div', {
        "className": "placeholder-avatar placeholder-animation"
      }, _a2));

      _a1.push("\n      ");

      _a0.push(virtualDom.h('div', {
        "className": "topic-avatar"
      }, _a1));

      _a0.push("\n      ");

      var _a3 = [];

      _a3.push("\n        ");

      var _a4 = [];

      _a3.push(virtualDom.h('div', {
        "className": "placeholder-text placeholder-animation"
      }, _a4));

      _a3.push("\n        ");

      var _a5 = [];

      _a3.push(virtualDom.h('div', {
        "className": "placeholder-text placeholder-animation"
      }, _a5));

      _a3.push("\n        ");

      var _a6 = [];

      _a3.push(virtualDom.h('div', {
        "className": "placeholder-text placeholder-animation"
      }, _a6));

      _a3.push("\n      ");

      _a0.push(virtualDom.h('div', {
        "className": "topic-body"
      }, _a3));

      _a0.push("\n    ");

      _r.push(virtualDom.h('div', {
        "className": "row"
      }, _a0));

      _r.push("\n  ");

      return _r;
    }
  });
});
define("discourse/widgets/post-small-action", ["exports", "discourse/widgets/widget", "discourse/widgets/raw-html", "discourse-common/lib/icon-library", "virtual-dom", "discourse/widgets/post", "discourse/lib/url", "discourse/lib/formatter", "@ember/object"], function (exports, _widget, _rawHtml, _iconLibrary, _virtualDom, _post, _url, _formatter, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.actionDescriptionHtml = actionDescriptionHtml;
  exports.actionDescription = actionDescription;
  exports.addPostSmallActionIcon = addPostSmallActionIcon;
  function actionDescriptionHtml(actionCode, createdAt, username) {
    var dt = new Date(createdAt);
    var when = (0, _formatter.autoUpdatingRelativeAge)(dt, { format: "medium-with-ago" });

    var who = "";
    if (username) {
      if (actionCode === "invited_group" || actionCode === "removed_group") {
        who = "<a class=\"mention-group\" href=\"/g/" + username + "\">@" + username + "</a>";
      } else {
        who = "<a class=\"mention\" href=\"" + (0, _url.userPath)(username) + "\">@" + username + "</a>";
      }
    }
    return I18n.t("action_codes." + actionCode, { who: who, when: when }).htmlSafe();
  }

  function actionDescription(actionCode, createdAt, username) {
    return (0, _object.computed)(actionCode, createdAt, function () {
      var ac = this.get(actionCode);
      if (ac) {
        return actionDescriptionHtml(ac, this.get(createdAt), this.get(username));
      }
    });
  }

  var icons = {
    "closed.enabled": "lock",
    "closed.disabled": "unlock-alt",
    "autoclosed.enabled": "lock",
    "autoclosed.disabled": "unlock-alt",
    "archived.enabled": "folder",
    "archived.disabled": "folder-open",
    "pinned.enabled": "thumbtack",
    "pinned.disabled": "thumbtack unpinned",
    "pinned_globally.enabled": "thumbtack",
    "pinned_globally.disabled": "thumbtack unpinned",
    "banner.enabled": "thumbtack",
    "banner.disabled": "thumbtack unpinned",
    "visible.enabled": "far-eye",
    "visible.disabled": "far-eye-slash",
    split_topic: "sign-out-alt",
    invited_user: "plus-circle",
    invited_group: "plus-circle",
    user_left: "minus-circle",
    removed_user: "minus-circle",
    removed_group: "minus-circle",
    public_topic: "comment",
    private_topic: "envelope",
    autobumped: "hand-point-right"
  };

  function addPostSmallActionIcon(key, icon) {
    icons[key] = icon;
  }

  exports.default = (0, _widget.createWidget)("post-small-action", {
    buildKey: function buildKey(attrs) {
      return "post-small-act-" + attrs.id;
    },
    tagName: "div.small-action.onscreen-post",

    buildId: function buildId(attrs) {
      return "post_" + attrs.post_number;
    },
    buildClasses: function buildClasses(attrs) {
      if (attrs.deleted) {
        return "deleted";
      }
    },
    html: function html(attrs) {
      var contents = [];

      if (attrs.canDelete) {
        contents.push(this.attach("button", {
          className: "small-action-delete",
          icon: "trash-alt",
          action: "deletePost",
          title: "post.controls.delete"
        }));
      }

      if (attrs.canEdit) {
        contents.push(this.attach("button", {
          className: "small-action-edit",
          icon: "pencil-alt",
          action: "editPost",
          title: "post.controls.edit"
        }));
      }

      contents.push(_post.avatarFor.call(this, "small", {
        template: attrs.avatar_template,
        username: attrs.username,
        url: attrs.usernameUrl
      }));

      var description = actionDescriptionHtml(attrs.actionCode, new Date(attrs.created_at), attrs.actionCodeWho);
      contents.push(new _rawHtml.default({ html: "<p>" + description + "</p>" }));

      if (attrs.cooked) {
        contents.push(new _rawHtml.default({
          html: "<div class='custom-message'>" + attrs.cooked + "</div>"
        }));
      }

      return [(0, _virtualDom.h)("div.topic-avatar", (0, _iconLibrary.iconNode)(icons[attrs.actionCode] || "exclamation")), (0, _virtualDom.h)("div.small-action-desc", contents)];
    }
  });
});
define("discourse/widgets/post-stream", ["exports", "@ember/runloop", "discourse/widgets/widget", "discourse/lib/transform-post", "discourse/lib/posts-with-placeholders", "discourse/components/mount-widget"], function (exports, _runloop, _widget, _transformPost, _postsWithPlaceholders, _mountWidget) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.postTransformCallbacks = postTransformCallbacks;
  exports.addPostTransformCallback = addPostTransformCallback;
  exports.preventCloak = preventCloak;
  exports.cloak = cloak;
  exports.uncloak = uncloak;


  var transformCallbacks = null;
  function postTransformCallbacks(transformed) {
    if (transformCallbacks === null) {
      return;
    }

    for (var i = 0; i < transformCallbacks.length; i++) {
      transformCallbacks[i].call(this, transformed);
    }
  }
  function addPostTransformCallback(callback) {
    transformCallbacks = transformCallbacks || [];
    transformCallbacks.push(callback);
  }

  var CLOAKING_ENABLED = !window.inTestEnv;
  var DAY = 1000 * 60 * 60 * 24;

  var _dontCloak = {};
  var _cloaked = {};
  var _heights = {};

  function preventCloak(postId) {
    _dontCloak[postId] = true;
  }

  function cloak(post, component) {
    if (!CLOAKING_ENABLED || _cloaked[post.id] || _dontCloak[post.id]) {
      return;
    }

    var $post = $("#post_" + post.post_number).parent();
    _cloaked[post.id] = true;
    _heights[post.id] = $post.outerHeight();

    component.dirtyKeys.keyDirty("post-" + post.id);
    (0, _runloop.debounce)(component, "queueRerender", 1000);
  }

  function uncloak(post, component) {
    if (!CLOAKING_ENABLED || !_cloaked[post.id]) {
      return;
    }
    _cloaked[post.id] = null;
    component.dirtyKeys.keyDirty("post-" + post.id);
    component.queueRerender();
  }

  (0, _mountWidget.addWidgetCleanCallback)("post-stream", function () {
    _cloaked = {};
    _heights = {};
  });

  exports.default = (0, _widget.createWidget)("post-stream", {
    tagName: "div.post-stream",

    html: function html(attrs) {
      var posts = attrs.posts || [];
      var postArray = posts.toArray();

      var result = [];

      var before = attrs.gaps && attrs.gaps.before ? attrs.gaps.before : {};
      var after = attrs.gaps && attrs.gaps.after ? attrs.gaps.after : {};

      var prevPost = void 0;
      var prevDate = void 0;

      var mobileView = this.site.mobileView;
      for (var i = 0; i < postArray.length; i++) {
        var post = postArray[i];

        if (post instanceof _postsWithPlaceholders.Placeholder) {
          result.push(this.attach("post-placeholder"));
          continue;
        }

        var nextPost = i < postArray.length - 1 ? postArray[i + 1] : null;

        var transformed = (0, _transformPost.default)(this.currentUser, this.site, post, prevPost, nextPost);
        transformed.canCreatePost = attrs.canCreatePost;
        transformed.mobileView = mobileView;

        if (transformed.canManage) {
          transformed.multiSelect = attrs.multiSelect;

          if (attrs.multiSelect) {
            transformed.selected = attrs.selectedQuery(post);
          }
        }

        if (attrs.searchService) {
          transformed.highlightTerm = attrs.searchService.highlightTerm;
        }

        // Post gap - before
        var beforeGap = before[post.id];
        if (beforeGap) {
          result.push(this.attach("post-gap", { pos: "before", postId: post.id, gap: beforeGap }, { model: post }));
        }

        // Handle time gaps
        var curTime = new Date(transformed.created_at).getTime();
        if (prevDate) {
          var daysSince = Math.floor((curTime - prevDate) / DAY);
          if (daysSince > this.siteSettings.show_time_gap_days) {
            result.push(this.attach("time-gap", { daysSince: daysSince }));
          }
        }
        prevDate = curTime;

        transformed.height = _heights[post.id];
        transformed.cloaked = _cloaked[post.id];

        postTransformCallbacks(transformed);

        if (transformed.isSmallAction) {
          result.push(this.attach("post-small-action", transformed, { model: post }));
        } else {
          transformed.showReadIndicator = attrs.showReadIndicator;
          result.push(this.attach("post", transformed, { model: post }));
        }

        // Post gap - after
        var afterGap = after[post.id];
        if (afterGap) {
          result.push(this.attach("post-gap", { pos: "after", postId: post.id, gap: afterGap }, { model: post }));
        }

        prevPost = post;
      }
      return result;
    }
  });
});
define("discourse/widgets/post", ["exports", "discourse/widgets/post-cooked", "discourse/widgets/decorator-helper", "discourse/widgets/widget", "discourse/widgets/raw-html", "discourse-common/lib/icon-library", "discourse/lib/transform-post", "discourse/widgets/post-stream", "virtual-dom", "discourse/lib/url", "discourse/helpers/node", "discourse/lib/utilities", "discourse/lib/formatter", "discourse/lib/settings", "rsvp"], function (exports, _postCooked, _decoratorHelper, _widget, _rawHtml, _iconLibrary, _transformPost, _postStream, _virtualDom, _url, _node, _utilities, _formatter, _settings, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.avatarImg = avatarImg;
  exports.avatarFor = avatarFor;
  exports.addPostClassesCallback = addPostClassesCallback;


  function transformWithCallbacks(post) {
    var transformed = (0, _transformPost.transformBasicPost)(post);
    (0, _postStream.postTransformCallbacks)(transformed);
    return transformed;
  }

  function avatarImg(wanted, attrs) {
    var size = (0, _utilities.translateSize)(wanted);
    var url = (0, _utilities.avatarUrl)(attrs.template, size);

    // We won't render an invalid url
    if (!url || url.length === 0) {
      return;
    }
    var title = attrs.name || (0, _utilities.formatUsername)(attrs.username);

    var className = "avatar" + (attrs.extraClasses ? " " + attrs.extraClasses : "");

    var properties = {
      attributes: {
        alt: "",
        width: size,
        height: size,
        src: Discourse.getURLWithCDN(url),
        title: title
      },
      className: className
    };

    return (0, _virtualDom.h)("img", properties);
  }

  function avatarFor(wanted, attrs) {
    return (0, _virtualDom.h)("a", {
      className: "trigger-user-card " + (attrs.className || ""),
      attributes: { href: attrs.url, "data-user-card": attrs.username }
    }, avatarImg(wanted, attrs));
  }

  // TODO: Improve how helpers are registered for vdom compliation
  if (typeof Discourse !== "undefined") {
    Discourse.__widget_helpers.avatar = avatarFor;
  }

  (0, _widget.createWidget)("select-post", {
    tagName: "div.select-posts",

    html: function html(attrs) {
      var buttons = [];

      if (!attrs.selected && attrs.post_number > 1) {
        if (attrs.replyCount > 0) {
          buttons.push(this.attach("button", {
            label: "topic.multi_select.select_replies.label",
            title: "topic.multi_select.select_replies.title",
            action: "selectReplies",
            className: "select-replies"
          }));
        }
        buttons.push(this.attach("button", {
          label: "topic.multi_select.select_below.label",
          title: "topic.multi_select.select_below.title",
          action: "selectBelow",
          className: "select-below"
        }));
      }

      var key = "topic.multi_select." + (attrs.selected ? "selected" : "select") + "_post";
      buttons.push(this.attach("button", {
        label: key + ".label",
        title: key + ".title",
        action: "togglePostSelection",
        className: "select-post"
      }));

      return buttons;
    }
  });

  (0, _widget.createWidget)("reply-to-tab", {
    tagName: "a.reply-to-tab",
    buildKey: function buildKey(attrs) {
      return "reply-to-tab-" + attrs.id;
    },

    defaultState: function defaultState() {
      return { loading: false };
    },
    html: function html(attrs, state) {
      if (state.loading) {
        return I18n.t("loading");
      }

      return [(0, _iconLibrary.iconNode)("share"), " ", avatarImg("small", {
        template: attrs.replyToAvatarTemplate,
        username: attrs.replyToUsername
      }), " ", (0, _virtualDom.h)("span", (0, _utilities.formatUsername)(attrs.replyToUsername))];
    },
    click: function click() {
      var _this = this;

      this.state.loading = true;
      this.sendWidgetAction("toggleReplyAbove").then(function () {
        return _this.state.loading = false;
      });
    }
  });

  (0, _widget.createWidget)("post-avatar-user-info", {
    tagName: "div.post-avatar-user-info",

    html: function html(attrs) {
      return this.attach("poster-name", attrs);
    }
  });

  (0, _widget.createWidget)("post-avatar", {
    tagName: "div.topic-avatar",

    settings: {
      size: "large",
      displayPosterName: false
    },

    html: function html(attrs) {
      var body = void 0;
      if (!attrs.user_id) {
        body = (0, _iconLibrary.iconNode)("far-trash-alt", { class: "deleted-user-avatar" });
      } else {
        body = avatarFor.call(this, this.settings.size, {
          template: attrs.avatar_template,
          username: attrs.username,
          name: attrs.name,
          url: attrs.usernameUrl,
          className: "main-avatar"
        });
      }

      var result = [body];

      if (attrs.primary_group_flair_url || attrs.primary_group_flair_bg_color) {
        result.push(this.attach("avatar-flair", attrs));
      }

      result.push((0, _virtualDom.h)("div.poster-avatar-extra"));

      if (this.settings.displayPosterName) {
        result.push(this.attach("post-avatar-user-info", attrs));
      }

      return result;
    }
  });

  (0, _widget.createWidget)("post-locked-indicator", {
    tagName: "div.post-info.post-locked",
    template: function (attrs, state) {
      var __h1 = Discourse.__widget_helpers.iconNode;
      var _r = [];

      _r.push(__h1("lock"));

      return _r;
    },
    title: function title() {
      return I18n.t("post.locked");
    }
  });

  (0, _widget.createWidget)("post-email-indicator", {
    tagName: "div.post-info.via-email",

    title: function title(attrs) {
      return attrs.isAutoGenerated ? I18n.t("post.via_auto_generated_email") : I18n.t("post.via_email");
    },
    buildClasses: function buildClasses(attrs) {
      return attrs.canViewRawEmail ? "raw-email" : null;
    },
    html: function html(attrs) {
      return attrs.isAutoGenerated ? (0, _iconLibrary.iconNode)("envelope") : (0, _iconLibrary.iconNode)("far-envelope");
    },
    click: function click() {
      if (this.attrs.canViewRawEmail) {
        this.sendWidgetAction("showRawEmail");
      }
    }
  });

  function showReplyTab(attrs, siteSettings) {
    return attrs.replyToUsername && (!attrs.replyDirectlyAbove || !siteSettings.suppress_reply_directly_above);
  }

  (0, _widget.createWidget)("post-meta-data", {
    tagName: "div.topic-meta-data",

    settings: {
      displayPosterName: true
    },

    html: function html(attrs) {
      var postInfo = [];

      if (attrs.isWhisper) {
        postInfo.push((0, _virtualDom.h)("div.post-info.whisper", {
          attributes: { title: I18n.t("post.whisper") }
        }, (0, _iconLibrary.iconNode)("far-eye-slash")));
      }

      var lastWikiEdit = attrs.wiki && attrs.lastWikiEdit && new Date(attrs.lastWikiEdit);
      var createdAt = new Date(attrs.created_at);
      var date = lastWikiEdit ? (0, _node.dateNode)(lastWikiEdit) : (0, _node.dateNode)(createdAt);
      var attributes = {
        class: "post-date",
        href: attrs.shareUrl,
        "data-share-url": attrs.shareUrl,
        "data-post-number": attrs.post_number
      };

      if (lastWikiEdit) {
        attributes["class"] += " last-wiki-edit";
      }

      if (attrs.via_email) {
        postInfo.push(this.attach("post-email-indicator", attrs));
      }

      if (attrs.locked) {
        postInfo.push(this.attach("post-locked-indicator", attrs));
      }

      if (attrs.version > 1 || attrs.wiki) {
        postInfo.push(this.attach("post-edits-indicator", attrs));
      }

      if (attrs.multiSelect) {
        postInfo.push(this.attach("select-post", attrs));
      }

      if (showReplyTab(attrs, this.siteSettings)) {
        postInfo.push(this.attach("reply-to-tab", attrs));
      }

      postInfo.push((0, _virtualDom.h)("div.post-info.post-date", (0, _virtualDom.h)("a", { attributes: attributes }, date)));

      postInfo.push((0, _virtualDom.h)("div.read-state", {
        className: attrs.read ? "read" : null,
        attributes: {
          title: I18n.t("post.unread")
        }
      }, (0, _iconLibrary.iconNode)("circle")));

      var result = [];
      if (this.settings.displayPosterName) {
        result.push(this.attach("poster-name", attrs));
      }
      result.push((0, _virtualDom.h)("div.post-infos", postInfo));

      return result;
    }
  });

  (0, _widget.createWidget)("expand-hidden", {
    tagName: "a.expand-hidden",

    html: function html() {
      return I18n.t("post.show_hidden");
    },
    click: function click() {
      this.sendWidgetAction("expandHidden");
    }
  });

  (0, _widget.createWidget)("expand-post-button", {
    tagName: "button.btn.expand-post",
    buildKey: function buildKey(attrs) {
      return "expand-post-button-" + attrs.id;
    },

    defaultState: function defaultState() {
      return { loadingExpanded: false };
    },
    html: function html(attrs, state) {
      if (state.loadingExpanded) {
        return I18n.t("loading");
      } else {
        return [I18n.t("post.show_full"), "..."];
      }
    },
    click: function click() {
      this.state.loadingExpanded = true;
      this.sendWidgetAction("expandFirstPost");
    }
  });

  (0, _widget.createWidget)("post-contents", {
    buildKey: function buildKey(attrs) {
      return "post-contents-" + attrs.id;
    },

    defaultState: function defaultState() {
      return { expandedFirstPost: false, repliesBelow: [] };
    },
    buildClasses: function buildClasses(attrs) {
      var classes = ["regular"];
      if (!this.state.repliesShown) {
        classes.push("contents");
      }
      if (showReplyTab(attrs, this.siteSettings)) {
        classes.push("avoid-tab");
      }
      return classes;
    },
    html: function html(attrs, state) {
      var _this2 = this;

      var result = [new _postCooked.default(attrs, new _decoratorHelper.default(this), this.currentUser)];
      result = result.concat((0, _widget.applyDecorators)(this, "after-cooked", attrs, state));

      if (attrs.cooked_hidden) {
        result.push(this.attach("expand-hidden", attrs));
      }

      if (!state.expandedFirstPost && attrs.expandablePost) {
        result.push(this.attach("expand-post-button", attrs));
      }

      var extraState = { state: { repliesShown: !!state.repliesBelow.length } };
      result.push(this.attach("post-menu", attrs, extraState));

      var repliesBelow = state.repliesBelow;
      if (repliesBelow.length) {
        result.push((0, _virtualDom.h)("section.embedded-posts.bottom", [repliesBelow.map(function (p) {
          return _this2.attach("embedded-post", p, {
            model: _this2.store.createRecord("post", p)
          });
        }), this.attach("button", {
          title: "post.collapse",
          icon: "chevron-up",
          action: "toggleRepliesBelow",
          actionParam: "true",
          className: "btn collapse-up"
        })]));
      }

      return result;
    },
    _date: function _date(attrs) {
      var lastWikiEdit = attrs.wiki && attrs.lastWikiEdit && new Date(attrs.lastWikiEdit);
      var createdAt = new Date(attrs.created_at);
      return lastWikiEdit ? lastWikiEdit : createdAt;
    },
    toggleRepliesBelow: function toggleRepliesBelow() {
      var _this3 = this;

      var goToPost = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "false";

      if (this.state.repliesBelow.length) {
        this.state.repliesBelow = [];
        if (goToPost === "true") {
          _url.default.routeTo(this.attrs.topicUrl + "/" + this.attrs.post_number);
        }
        return;
      }

      var post = this.findAncestorModel();
      var topicUrl = post ? post.get("topic.url") : null;
      return this.store.find("post-reply", { postId: this.attrs.id }).then(function (posts) {
        _this3.state.repliesBelow = posts.map(function (p) {
          p.shareUrl = topicUrl + "/" + p.post_number;
          return transformWithCallbacks(p);
        });
      });
    },
    expandFirstPost: function expandFirstPost() {
      var _this4 = this;

      var post = this.findAncestorModel();
      return post.expand().then(function () {
        return _this4.state.expandedFirstPost = true;
      });
    }
  });

  (0, _widget.createWidget)("post-notice", {
    tagName: "div.post-notice",

    buildClasses: function buildClasses(attrs) {
      var classes = [attrs.noticeType.replace(/_/g, "-")];

      if (new Date() - new Date(attrs.created_at) > this.siteSettings.old_post_notice_days * 86400000) {
        classes.push("old");
      }

      return classes;
    },
    html: function html(attrs) {
      var user = this.siteSettings.display_name_on_posts && (0, _settings.prioritizeNameInUx)(attrs.name) ? attrs.name : attrs.username;
      var text = void 0,
          icon = void 0;
      if (attrs.noticeType === "custom") {
        icon = "user-shield";
        text = new _rawHtml.default({ html: "<div>" + attrs.noticeMessage + "</div>" });
      } else if (attrs.noticeType === "new_user") {
        icon = "hands-helping";
        text = (0, _virtualDom.h)("p", I18n.t("post.notice.new_user", { user: user }));
      } else if (attrs.noticeType === "returning_user") {
        icon = "far-smile";
        var distance = (new Date() - new Date(attrs.noticeTime)) / 1000;
        text = (0, _virtualDom.h)("p", I18n.t("post.notice.returning_user", {
          user: user,
          time: (0, _formatter.relativeAgeMediumSpan)(distance, true)
        }));
      }

      return [(0, _iconLibrary.iconNode)(icon), text];
    }
  });

  (0, _widget.createWidget)("post-body", {
    tagName: "div.topic-body.clearfix",

    html: function html(attrs, state) {
      var postContents = this.attach("post-contents", attrs);
      var result = [this.attach("post-meta-data", attrs)];
      result = result.concat((0, _widget.applyDecorators)(this, "after-meta-data", attrs, state));
      result.push(postContents);
      result.push(this.attach("actions-summary", attrs));
      result.push(this.attach("post-links", attrs));
      if (attrs.showTopicMap) {
        result.push(this.attach("topic-map", attrs));
      }

      return result;
    }
  });

  (0, _widget.createWidget)("post-article", {
    tagName: "article.boxed.onscreen-post",
    buildKey: function buildKey(attrs) {
      return "post-article-" + attrs.id;
    },

    defaultState: function defaultState() {
      return { repliesAbove: [] };
    },
    buildId: function buildId(attrs) {
      return "post_" + attrs.post_number;
    },
    buildClasses: function buildClasses(attrs) {
      var classNames = [];
      if (attrs.via_email) {
        classNames.push("via-email");
      }
      if (attrs.isAutoGenerated) {
        classNames.push("is-auto-generated");
      }
      return classNames;
    },
    buildAttributes: function buildAttributes(attrs) {
      return {
        "data-post-id": attrs.id,
        "data-topic-id": attrs.topicId,
        "data-user-id": attrs.user_id
      };
    },
    html: function html(attrs, state) {
      var _this5 = this;

      var rows = [(0, _virtualDom.h)("a.tabLoc", { attributes: { href: "", "aria-hidden": true } })];
      if (state.repliesAbove.length) {
        var replies = state.repliesAbove.map(function (p) {
          return _this5.attach("embedded-post", p, {
            model: _this5.store.createRecord("post", p),
            state: { above: true }
          });
        });

        rows.push((0, _virtualDom.h)("div.row", (0, _virtualDom.h)("section.embedded-posts.top.topic-body.offset2", [this.attach("button", {
          title: "post.collapse",
          icon: "chevron-down",
          action: "toggleReplyAbove",
          actionParam: "true",
          className: "btn collapse-down"
        }), replies])));
      }

      if (attrs.noticeType) {
        rows.push((0, _virtualDom.h)("div.row", [this.attach("post-notice", attrs)]));
      }

      rows.push((0, _virtualDom.h)("div.row", [this.attach("post-avatar", attrs), this.attach("post-body", attrs)]));
      return rows;
    },
    _getTopicUrl: function _getTopicUrl() {
      var post = this.findAncestorModel();
      return post ? post.get("topic.url") : null;
    },
    toggleReplyAbove: function toggleReplyAbove() {
      var _this6 = this;

      var goToPost = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "false";

      var replyPostNumber = this.attrs.reply_to_post_number;

      // jump directly on mobile
      if (this.attrs.mobileView) {
        var topicUrl = this._getTopicUrl();
        if (topicUrl) {
          _url.default.routeTo(topicUrl + "/" + replyPostNumber);
        }
        return _rsvp.Promise.resolve();
      }

      if (this.state.repliesAbove.length) {
        this.state.repliesAbove = [];
        if (goToPost === "true") {
          _url.default.routeTo(this.attrs.topicUrl + "/" + this.attrs.post_number);
        }
        return _rsvp.Promise.resolve();
      } else {
        var _topicUrl = this._getTopicUrl();
        return this.store.find("post-reply-history", { postId: this.attrs.id }).then(function (posts) {
          _this6.state.repliesAbove = posts.map(function (p) {
            p.shareUrl = _topicUrl + "/" + p.post_number;
            return transformWithCallbacks(p);
          });
        });
      }
    }
  });

  var addPostClassesCallbacks = null;
  function addPostClassesCallback(callback) {
    addPostClassesCallbacks = addPostClassesCallbacks || [];
    addPostClassesCallbacks.push(callback);
  }

  exports.default = (0, _widget.createWidget)("post", {
    buildKey: function buildKey(attrs) {
      return "post-" + attrs.id;
    },
    shadowTree: true,

    buildAttributes: function buildAttributes(attrs) {
      return attrs.height ? { style: "min-height: " + attrs.height + "px" } : undefined;
    },
    buildId: function buildId(attrs) {
      return attrs.cloaked ? "post_" + attrs.post_number : undefined;
    },
    buildClasses: function buildClasses(attrs) {
      if (attrs.cloaked) {
        return "cloaked-post";
      }
      var classNames = ["topic-post", "clearfix"];

      if (attrs.id === -1 || attrs.isSaving) {
        classNames.push("staged");
      }
      if (attrs.selected) {
        classNames.push("selected");
      }
      if (attrs.topicOwner) {
        classNames.push("topic-owner");
      }
      if (attrs.hidden) {
        classNames.push("post-hidden");
      }
      if (attrs.deleted) {
        classNames.push("deleted");
      }
      if (attrs.primary_group_name) {
        classNames.push("group-" + attrs.primary_group_name);
      }
      if (attrs.wiki) {
        classNames.push("wiki");
      }
      if (attrs.isWhisper) {
        classNames.push("whisper");
      }
      if (attrs.isModeratorAction || attrs.isWarning && attrs.firstPost) {
        classNames.push("moderator");
      } else {
        classNames.push("regular");
      }
      if (addPostClassesCallbacks) {
        for (var i = 0; i < addPostClassesCallbacks.length; i++) {
          var pluginClasses = addPostClassesCallbacks[i].call(this, attrs);
          if (pluginClasses) {
            classNames.push.apply(classNames, pluginClasses);
          }
        }
      }
      return classNames;
    },
    html: function html(attrs) {
      if (attrs.cloaked) {
        return "";
      }

      return this.attach("post-article", attrs);
    },
    toggleLike: function toggleLike() {
      var _this7 = this;

      var post = this.model;
      var likeAction = post.get("likeAction");

      if (likeAction && likeAction.get("canToggle")) {
        return likeAction.togglePromise(post).then(function (result) {
          _this7.appEvents.trigger("page:like-toggled", post, likeAction);
          return _this7._warnIfClose(result);
        });
      }
    },
    _warnIfClose: function _warnIfClose(result) {
      if (!result || !result.acted) {
        return;
      }

      var kvs = this.keyValueStore;
      var lastWarnedLikes = kvs.get("lastWarnedLikes");

      // only warn once per day
      var yesterday = new Date().getTime() - 1000 * 60 * 60 * 24;
      if (lastWarnedLikes && parseInt(lastWarnedLikes, 10) > yesterday) {
        return;
      }

      var remaining = result.remaining,
          max = result.max;

      var threshold = Math.ceil(max * 0.1);
      if (remaining === threshold) {
        bootbox.alert(I18n.t("post.few_likes_left"));
        kvs.set({ key: "lastWarnedLikes", value: new Date().getTime() });
      }
    }
  });
});
define("discourse/widgets/poster-name", ["exports", "discourse-common/lib/icon-library", "discourse/widgets/widget", "virtual-dom", "discourse/lib/utilities", "discourse/lib/settings"], function (exports, _iconLibrary, _widget, _virtualDom, _utilities, _settings) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.disableNameSuppression = disableNameSuppression;


  var sanitizeName = function sanitizeName(name) {
    return name.toLowerCase().replace(/[\s\._-]/g, "");
  };

  function disableNameSuppression() {
    sanitizeName = function sanitizeName(name) {
      return name;
    };
  }

  (0, _widget.createWidget)("poster-name-title", {
    tagName: "span.user-title",

    html: function html(attrs) {
      var titleContents = attrs.title;
      if (attrs.primaryGroupName) {
        var href = Discourse.getURL("/g/" + attrs.primaryGroupName);
        titleContents = (0, _virtualDom.h)("a.user-group", {
          className: attrs.extraClasses,
          attributes: { href: href, "data-group-card": attrs.primaryGroupName }
        }, attrs.title);
      }
      return titleContents;
    }
  });

  exports.default = (0, _widget.createWidget)("poster-name", {
    tagName: "div.names.trigger-user-card",

    settings: {
      showNameAndGroup: true,
      showGlyph: true
    },

    // TODO: Allow extensibility
    posterGlyph: function posterGlyph(attrs) {
      if (attrs.moderator) {
        return (0, _iconLibrary.iconNode)("shield-alt", {
          title: I18n.t("user.moderator_tooltip")
        });
      }
    },
    userLink: function userLink(attrs, text) {
      return (0, _virtualDom.h)("a", {
        attributes: {
          href: attrs.usernameUrl,
          "data-user-card": attrs.username
        }
      }, (0, _utilities.formatUsername)(text));
    },
    html: function html(attrs) {
      var username = attrs.username;
      var name = attrs.name;
      var nameFirst = this.siteSettings.display_name_on_posts && (0, _settings.prioritizeNameInUx)(name, this.siteSettings);
      var classNames = nameFirst ? ["first", "full-name"] : ["first", "username"];

      if (attrs.staff) {
        classNames.push("staff");
      }
      if (attrs.admin) {
        classNames.push("admin");
      }
      if (attrs.moderator) {
        classNames.push("moderator");
      }
      if (attrs.new_user) {
        classNames.push("new-user");
      }

      var afterNameContents = (0, _widget.applyDecorators)(this, "after-name", attrs, this.state) || [];

      var primaryGroupName = attrs.primary_group_name;
      if (primaryGroupName && primaryGroupName.length) {
        classNames.push(primaryGroupName);
      }
      var nameContents = [this.userLink(attrs, nameFirst ? name : username)];

      if (this.settings.showGlyph) {
        var glyph = this.posterGlyph(attrs);
        if (glyph) {
          nameContents.push(glyph);
        }
      }
      nameContents = nameContents.concat(afterNameContents);

      var contents = [(0, _virtualDom.h)("span", { className: classNames.join(" ") }, nameContents)];

      if (!this.settings.showNameAndGroup) {
        return contents;
      }

      if (name && this.siteSettings.display_name_on_posts && sanitizeName(name) !== sanitizeName(username)) {
        contents.push((0, _virtualDom.h)("span.second." + (nameFirst ? "username" : "full-name"), [this.userLink(attrs, nameFirst ? username : name)].concat(afterNameContents)));
      }

      var title = attrs.user_title;
      if (title && title.length) {
        contents.push(this.attach("poster-name-title", { title: title, primaryGroupName: primaryGroupName }));
      }

      return contents;
    }
  });
});
define("discourse/widgets/private-message-map", ["exports", "discourse-common/lib/helpers", "discourse/widgets/widget", "virtual-dom", "discourse/widgets/post"], function (exports, _helpers, _widget, _virtualDom, _post) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  (0, _widget.createWidget)("pm-remove-group-link", {
    tagName: "a.remove-invited.no-text.btn-icon.btn",
    template: function (attrs, state) {
      var __h1 = Discourse.__widget_helpers.iconNode;
      var _r = [];

      _r.push(__h1("times"));

      return _r;
    },

    click: function click() {
      var _this = this;

      bootbox.confirm(I18n.t("private_message_info.remove_allowed_group", {
        name: this.attrs.name
      }), function (confirmed) {
        if (confirmed) {
          _this.sendWidgetAction("removeAllowedGroup", _this.attrs);
        }
      });
    }
  });

  (0, _widget.createWidget)("pm-map-user-group", {
    tagName: "div.user.group",

    transform: function transform(attrs) {
      return { href: Discourse.getURL("/g/" + attrs.group.name) };
    },


    template: function (attrs, state) {
      var __h1 = Discourse.__widget_helpers.iconNode;
      var _r = [];

      _r.push("\n    ");

      var _a0 = [];

      _a0.push("\n      ");

      _a0.push(__h1("users"));

      _a0.push("\n      ");

      var _a1 = [];

      _a1.push(attrs.group.name);

      _a0.push(virtualDom.h('span', {
        "className": "group-name"
      }, _a1));

      _a0.push("\n    ");

      _r.push(virtualDom.h('a', {
        "href": this.transformed.href,
        "className": "group-link"
      }, _a0));

      _r.push("\n");

      if (attrs.isEditing) {
        if (attrs.canRemoveAllowedUsers) {
          _r.push("        ");

          _r.push(this.attach("pm-remove-group-link", attrs.group));

          _r.push("\n");
        }
      }

      _r.push("  ");

      return _r;
    }
  });

  (0, _widget.createWidget)("pm-remove-link", {
    tagName: "a.remove-invited.no-text.btn-icon.btn",
    template: function (attrs, state) {
      var __h1 = Discourse.__widget_helpers.iconNode;
      var _r = [];

      _r.push(__h1("times"));

      return _r;
    },

    click: function click() {
      var _this2 = this;

      var messageKey = this.attrs.isCurrentUser ? "leave_message" : "remove_allowed_user";

      bootbox.confirm(I18n.t("private_message_info." + messageKey, {
        name: this.attrs.user.username
      }), function (confirmed) {
        if (confirmed) {
          _this2.sendWidgetAction("removeAllowedUser", _this2.attrs.user);
        }
      });
    }
  });

  (0, _widget.createWidget)("pm-map-user", {
    tagName: "div.user",

    html: function html(attrs) {
      var user = attrs.user;
      var username = (0, _virtualDom.h)("span.username", user.username);

      var link = void 0;

      if (this.site && this.site.mobileView) {
        var avatar = (0, _post.avatarImg)("tiny", {
          template: user.avatar_template,
          username: user.username
        });
        link = (0, _virtualDom.h)("a", { attributes: { href: user.get("path") } }, [avatar, username]);
      } else {
        var _avatar = (0, _post.avatarFor)("tiny", {
          template: user.avatar_template,
          username: user.username
        });

        link = (0, _virtualDom.h)("a", { attributes: { class: "user-link", href: user.get("path") } }, [_avatar, username]);
      }

      var result = [link];
      var isCurrentUser = attrs.canRemoveSelfId === user.get("id");

      if (attrs.isEditing && (attrs.canRemoveAllowedUsers || isCurrentUser)) {
        result.push(this.attach("pm-remove-link", { user: user, isCurrentUser: isCurrentUser }));
      }

      return result;
    }
  });

  exports.default = (0, _widget.createWidget)("private-message-map", {
    tagName: "section.information.private-message-map",

    buildKey: function buildKey(attrs) {
      return "private-message-map-" + attrs.id;
    },

    defaultState: function defaultState() {
      return { isEditing: false };
    },
    html: function html(attrs) {
      var _this3 = this;

      var participants = [];

      if (attrs.allowedGroups.length) {
        participants.push(attrs.allowedGroups.map(function (group) {
          return _this3.attach("pm-map-user-group", {
            group: group,
            canRemoveAllowedUsers: attrs.canRemoveAllowedUsers,
            isEditing: _this3.state.isEditing
          });
        }));
      }

      if (attrs.allowedUsers.length) {
        participants.push(attrs.allowedUsers.map(function (au) {
          return _this3.attach("pm-map-user", {
            user: au,
            canRemoveAllowedUsers: attrs.canRemoveAllowedUsers,
            canRemoveSelfId: attrs.canRemoveSelfId,
            isEditing: _this3.state.isEditing
          });
        }));
      }

      var hideNamesClass = "";
      if (!this.state.isEditing && this.site.mobileView && (0, _helpers.makeArray)(participants[0]).length > 4) {
        hideNamesClass = ".hide-names";
      }

      var result = [(0, _virtualDom.h)("div.participants" + hideNamesClass, participants)];
      var controls = [];

      if (attrs.canInvite || attrs.canRemoveAllowedUsers || attrs.canRemoveSelfId) {
        controls.push(this.attach("button", {
          action: "toggleEditing",
          label: "private_message_info.edit",
          className: "btn btn-default add-remove-participant-btn"
        }));
      }

      if (attrs.canInvite && this.state.isEditing) {
        controls.push(this.attach("button", {
          action: "showInvite",
          icon: "plus",
          className: "btn.no-text.btn-icon"
        }));
      }

      if (controls.length) {
        result.push((0, _virtualDom.h)("div.controls", controls));
      }

      return result;
    },
    toggleEditing: function toggleEditing() {
      this.state.isEditing = !this.state.isEditing;
    }
  });
});
define("discourse/widgets/quick-access-bookmarks", ["virtual-dom", "discourse/widgets/quick-access-panel", "discourse/models/user-action", "discourse/lib/ajax", "discourse/widgets/widget", "discourse/lib/utilities"], function (_virtualDom, _quickAccessPanel, _userAction, _ajax, _widget, _utilities) {
  "use strict";

  var ICON = "bookmark";

  (0, _widget.createWidgetFrom)(_quickAccessPanel.default, "quick-access-bookmarks", {
    buildKey: function buildKey() {
      return "quick-access-bookmarks";
    },

    hasMore: function hasMore() {
      // Always show the button to the bookmarks page.
      return true;
    },
    showAllHref: function showAllHref() {
      return this.attrs.path + "/activity/bookmarks";
    },
    emptyStatePlaceholderItem: function emptyStatePlaceholderItem() {
      return (0, _virtualDom.h)("li.read", this.state.emptyStatePlaceholderItemText);
    },
    findNewItems: function findNewItems() {
      var _this = this;

      return (0, _ajax.ajax)("/user_actions.json", {
        cache: "false",
        data: {
          username: this.currentUser.username,
          filter: _userAction.default.TYPES.bookmarks,
          limit: this.estimateItemLimit(),
          no_results_help_key: "user_activity.no_bookmarks"
        }
      }).then(function (_ref) {
        var user_actions = _ref.user_actions,
            no_results_help = _ref.no_results_help;

        // The empty state help text for bookmarks page is localized on the
        // server.
        _this.state.emptyStatePlaceholderItemText = no_results_help;
        return user_actions;
      });
    },
    itemHtml: function itemHtml(bookmark) {
      return this.attach("quick-access-item", {
        icon: ICON,
        href: (0, _utilities.postUrl)(bookmark.slug, bookmark.topic_id, bookmark.post_number),
        content: bookmark.title,
        username: bookmark.username
      });
    }
  });
});
define("discourse/widgets/quick-access-item", ["virtual-dom", "discourse/widgets/raw-html", "discourse/widgets/widget", "discourse/lib/text", "discourse-common/lib/icon-library", "discourse/lib/utilities"], function (_virtualDom, _rawHtml, _widget, _text, _iconLibrary, _utilities) {
  "use strict";

  /**
   * This helper widget tries to enforce a consistent look and behavior for any
   * item under any quick access panels.
   *
   * It accepts the following attributes:
   *   action
   *   actionParam
   *   content
   *   escapedContent
   *   href
   *   icon
   *   read
   *   username
   */
  (0, _widget.createWidget)("quick-access-item", {
    tagName: "li",

    buildClasses: function buildClasses(attrs) {
      var result = [];
      if (attrs.className) {
        result.push(attrs.className);
      }
      if (attrs.read === undefined || attrs.read) {
        result.push("read");
      }
      return result;
    },
    html: function html(_ref) {
      var href = _ref.href,
          icon = _ref.icon;

      var content = this._contentHtml();

      if (href) {
        var topicId = href.match(/\/t\/.*?\/(\d+)/);
        if (topicId && topicId[1]) {
          topicId = (0, _utilities.escapeExpression)(topicId[1]);
          content = "<span data-topic-id=\"" + topicId + "\">" + content + "</span>";
        }
      }

      return (0, _virtualDom.h)("a", { attributes: { href: href } }, [(0, _iconLibrary.iconNode)(icon), new _rawHtml.default({
        html: "<div>" + this._usernameHtml() + content + "</div>"
      })]);
    },
    click: function click(e) {
      this.attrs.read = true;
      if (this.attrs.action) {
        e.preventDefault();
        return this.sendWidgetAction(this.attrs.action, this.attrs.actionParam);
      }
    },
    _contentHtml: function _contentHtml() {
      var content = this.attrs.escapedContent || (0, _utilities.escapeExpression)(this.attrs.content);
      return (0, _text.emojiUnescape)(content);
    },
    _usernameHtml: function _usernameHtml() {
      // Generate an empty `<span>` even if there is no username, because the
      // first `<span>` is styled differently.
      return this.attrs.username ? "<span>" + this.attrs.username + "</span> " : "<span></span>";
    }
  });
});
define("discourse/widgets/quick-access-messages", ["discourse/widgets/quick-access-panel", "discourse/widgets/widget", "discourse/lib/utilities"], function (_quickAccessPanel, _widget, _utilities) {
  "use strict";

  var ICON = "notification.private_message";

  function toItem(message) {
    var lastReadPostNumber = message.last_read_post_number || 0;
    var nextUnreadPostNumber = Math.min(lastReadPostNumber + 1, message.highest_post_number);

    return {
      escapedContent: message.fancy_title,
      href: (0, _utilities.postUrl)(message.slug, message.id, nextUnreadPostNumber),
      icon: ICON,
      read: message.last_read_post_number >= message.highest_post_number,
      username: message.last_poster_username
    };
  }

  (0, _widget.createWidgetFrom)(_quickAccessPanel.default, "quick-access-messages", {
    buildKey: function buildKey() {
      return "quick-access-messages";
    },
    emptyStatePlaceholderItemKey: "choose_topic.none_found",

    hasMore: function hasMore() {
      // Always show the button to the messages page for composing, archiving,
      // etc.
      return true;
    },
    showAllHref: function showAllHref() {
      return this.attrs.path + "/messages";
    },
    findNewItems: function findNewItems() {
      var _this = this;

      return this.store.findFiltered("topicList", {
        filter: "topics/private-messages/" + this.currentUser.username_lower
      }).then(function (_ref) {
        var topic_list = _ref.topic_list;

        return topic_list.topics.map(toItem).slice(0, _this.estimateItemLimit());
      });
    },
    itemHtml: function itemHtml(message) {
      return this.attach("quick-access-item", message);
    }
  });
});
define("discourse/widgets/quick-access-notifications", ["discourse/lib/ajax", "discourse/widgets/widget", "discourse/widgets/quick-access-panel"], function (_ajax, _widget, _quickAccessPanel) {
  "use strict";

  (0, _widget.createWidgetFrom)(_quickAccessPanel.default, "quick-access-notifications", {
    buildKey: function buildKey() {
      return "quick-access-notifications";
    },
    emptyStatePlaceholderItemKey: "notifications.empty",

    markReadRequest: function markReadRequest() {
      return (0, _ajax.ajax)("/notifications/mark-read", { method: "PUT" });
    },
    newItemsLoaded: function newItemsLoaded() {
      if (!this.currentUser.enforcedSecondFactor) {
        this.currentUser.set("unread_notifications", 0);
      }
    },
    itemHtml: function itemHtml(notification) {
      var notificationName = this.site.notificationLookup[notification.notification_type];

      return this.attach(notificationName.dasherize() + "-notification-item", notification, {}, { fallbackWidgetName: "default-notification-item" });
    },
    findNewItems: function findNewItems() {
      return this._findStaleItemsInStore().refresh();
    },
    showAllHref: function showAllHref() {
      return this.attrs.path + "/notifications";
    },
    hasUnread: function hasUnread() {
      return this.getItems().filterBy("read", false).length > 0;
    },
    _findStaleItemsInStore: function _findStaleItemsInStore() {
      return this.store.findStale("notification", {
        recent: true,
        silent: this.currentUser.enforcedSecondFactor,
        limit: this.estimateItemLimit()
      }, { cacheKey: "recent-notifications" });
    }
  });
});
define("discourse/widgets/quick-access-panel", ["exports", "discourse/models/session", "discourse/widgets/widget", "virtual-dom", "discourse/components/site-header", "rsvp"], function (exports, _session, _widget, _virtualDom, _siteHeader, _rsvp) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  // even a 2 liner notification should be under 50px in default view
  var AVERAGE_ITEM_HEIGHT = 50;

  // our UX usually carries about 100px of padding around the notification excluding header
  var PADDING = 100;

  /**
   * This tries to enforce a consistent flow of fetching, caching, refreshing,
   * and rendering for "quick access items".
   *
   * There are parts to introducing a new quick access panel:
   * 1. A user menu link that sends a `quickAccess` action, with a unique `type`.
   * 2. A `quick-access-${type}` widget, extended from `quick-access-panel`.
   */
  exports.default = (0, _widget.createWidget)("quick-access-panel", {
    tagName: "div.quick-access-panel",
    emptyStatePlaceholderItemKey: "",

    buildKey: function buildKey() {
      throw Error('Cannot attach abstract widget "quick-access-panel".');
    },

    markReadRequest: function markReadRequest() {
      return _rsvp.Promise.resolve();
    },
    hasUnread: function hasUnread() {
      return false;
    },
    showAllHref: function showAllHref() {
      return "";
    },
    hasMore: function hasMore() {
      return this.getItems().length >= this.estimateItemLimit();
    },
    findNewItems: function findNewItems() {
      return _rsvp.Promise.resolve([]);
    },
    newItemsLoaded: function newItemsLoaded() {},
    itemHtml: function itemHtml(item) {},
    // eslint-disable-line no-unused-vars

    emptyStatePlaceholderItem: function emptyStatePlaceholderItem() {
      if (this.emptyStatePlaceholderItemKey) {
        return (0, _virtualDom.h)("li.read", I18n.t(this.emptyStatePlaceholderItemKey));
      } else {
        return "";
      }
    },
    defaultState: function defaultState() {
      return { items: [], loading: false, loaded: false };
    },
    markRead: function markRead() {
      var _this = this;

      return this.markReadRequest().then(function () {
        _this.refreshNotifications(_this.state);
      });
    },
    estimateItemLimit: function estimateItemLimit() {
      // Estimate (poorly) the amount of notifications to return.
      var limit = Math.round(($(window).height() - (0, _siteHeader.headerHeight)() - PADDING) / AVERAGE_ITEM_HEIGHT);

      // We REALLY don't want to be asking for negative counts of notifications
      // less than 5 is also not that useful.
      if (limit < 5) {
        limit = 5;
      } else if (limit > 40) {
        limit = 40;
      }

      return limit;
    },
    refreshNotifications: function refreshNotifications(state) {
      var _this2 = this;

      if (this.loading) {
        return;
      }

      if (this.getItems().length === 0) {
        state.loading = true;
      }

      this.findNewItems().then(function (newItems) {
        return _this2.setItems(newItems);
      }).catch(function () {
        return _this2.setItems([]);
      }).finally(function () {
        state.loading = false;
        state.loaded = true;
        _this2.newItemsLoaded();
        _this2.sendWidgetAction("itemsLoaded", {
          hasUnread: _this2.hasUnread(),
          markRead: function markRead() {
            return _this2.markRead();
          }
        });
        _this2.scheduleRerender();
      });
    },
    html: function html(attrs, state) {
      var _this3 = this;

      if (!state.loaded) {
        this.refreshNotifications(state);
      }

      if (state.loading) {
        return [(0, _virtualDom.h)("div.spinner-container", (0, _virtualDom.h)("div.spinner"))];
      }

      var items = this.getItems().length ? this.getItems().map(function (item) {
        return _this3.itemHtml(item);
      }) : [this.emptyStatePlaceholderItem()];

      if (this.hasMore()) {
        items.push((0, _virtualDom.h)("li.read.last.show-all", this.attach("link", {
          title: "view_all",
          icon: "chevron-down",
          href: this.showAllHref()
        })));
      }

      return [(0, _virtualDom.h)("ul", items)];
    },
    getItems: function getItems() {
      return _session.default.currentProp(this.key + "-items") || [];
    },
    setItems: function setItems(newItems) {
      _session.default.currentProp(this.key + "-items", newItems);
    }
  });
});
define("discourse/widgets/quick-access-profile", ["discourse/widgets/quick-access-panel", "discourse/widgets/widget", "rsvp"], function (_quickAccessPanel, _widget, _rsvp) {
  "use strict";

  (0, _widget.createWidgetFrom)(_quickAccessPanel.default, "quick-access-profile", {
    buildKey: function buildKey() {
      return "quick-access-profile";
    },

    hasMore: function hasMore() {
      // Never show the button to the full profile page.
      return false;
    },
    findNewItems: function findNewItems() {
      return _rsvp.Promise.resolve(this._getItems());
    },
    itemHtml: function itemHtml(item) {
      return this.attach("quick-access-item", item);
    },
    _getItems: function _getItems() {
      var items = this._getDefaultItems();
      if (this._showToggleAnonymousButton()) {
        items.push(this._toggleAnonymousButton());
      }
      if (this.attrs.showLogoutButton) {
        items.push(this._logOutButton());
      }
      return items;
    },
    _getDefaultItems: function _getDefaultItems() {
      var defaultItems = [{
        icon: "user",
        href: this.attrs.path + "/summary",
        content: I18n.t("user.summary.title")
      }, {
        icon: "stream",
        href: this.attrs.path + "/activity",
        content: I18n.t("user.activity_stream")
      }];
      if (this.siteSettings.enable_personal_messages) {
        defaultItems.push({
          icon: "envelope",
          href: this.attrs.path + "/messages",
          content: I18n.t("user.private_messages")
        });
      }
      defaultItems.push({
        icon: "pencil-alt",
        href: this.attrs.path + "/activity/drafts",
        content: I18n.t("user_action_groups.15")
      }, {
        icon: "cog",
        href: this.attrs.path + "/preferences",
        content: I18n.t("user.preferences")
      });
      return defaultItems;
    },
    _toggleAnonymousButton: function _toggleAnonymousButton() {
      if (this.currentUser.is_anonymous) {
        return {
          action: "toggleAnonymous",
          className: "disable-anonymous",
          content: I18n.t("switch_from_anon"),
          icon: "ban"
        };
      } else {
        return {
          action: "toggleAnonymous",
          className: "enable-anonymous",
          content: I18n.t("switch_to_anon"),
          icon: "user-secret"
        };
      }
    },
    _logOutButton: function _logOutButton() {
      return {
        action: "logout",
        className: "logout",
        content: I18n.t("user.log_out"),
        icon: "sign-out-alt"
      };
    },
    _showToggleAnonymousButton: function _showToggleAnonymousButton() {
      return this.siteSettings.allow_anonymous_posting && this.currentUser.trust_level >= this.siteSettings.anonymous_posting_min_trust_level || this.currentUser.is_anonymous;
    }
  });
});
define("discourse/widgets/raw-html", ["exports"], function (exports) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var RawHtml = function () {
    function RawHtml(attrs) {
      _classCallCheck(this, RawHtml);

      this.html = attrs.html;
    }

    _createClass(RawHtml, [{
      key: "init",
      value: function init() {
        var $html = $(this.html);
        this.decorate($html);
        return $html[0];
      }
    }, {
      key: "decorate",
      value: function decorate() {}
    }, {
      key: "update",
      value: function update(prev) {
        if (prev.html === this.html) {
          return;
        }
        return this.init();
      }
    }, {
      key: "destroy",
      value: function destroy() {}
    }]);

    return RawHtml;
  }();

  exports.default = RawHtml;


  RawHtml.prototype.type = "Widget";

  // TODO: Improve how helpers are registered for vdom compliation
  if (typeof Discourse !== "undefined") {
    Discourse.__widget_helpers.rawHtml = RawHtml;
  }
});
define("discourse/widgets/search-menu-controls", ["@ember/object", "discourse/lib/search", "virtual-dom", "discourse/widgets/widget"], function (_object, _search, _virtualDom, _widget) {
  "use strict";

  (0, _widget.createWidget)("search-term", {
    tagName: "input",
    buildId: function buildId() {
      return "search-term";
    },
    buildKey: function buildKey() {
      return "search-term";
    },

    defaultState: function defaultState() {
      return { afterAutocomplete: false };
    },
    searchAutocompleteAfterComplete: function searchAutocompleteAfterComplete() {
      this.state.afterAutocomplete = true;
    },
    buildAttributes: function buildAttributes(attrs) {
      return {
        type: "text",
        value: attrs.value || "",
        autocomplete: "discourse",
        placeholder: attrs.contextEnabled ? "" : I18n.t("search.title")
      };
    },
    keyUp: function keyUp(e) {
      if (e.which === 13) {
        if (this.state.afterAutocomplete) {
          this.state.afterAutocomplete = false;
        } else {
          return this.sendWidgetAction("fullSearch");
        }
      }

      var val = this.attrs.value;
      var newVal = $("#" + this.buildId()).val();

      if (newVal !== val) {
        this.sendWidgetAction("searchTermChanged", newVal);
      }
    }
  });

  (0, _widget.createWidget)("search-context", {
    tagName: "div.search-context",

    html: function html(attrs) {
      var service = this.register.lookup("search-service:main");
      var ctx = service.get("searchContext");

      var result = [];
      if (ctx) {
        var description = (0, _search.searchContextDescription)((0, _object.get)(ctx, "type"), (0, _object.get)(ctx, "user.username") || (0, _object.get)(ctx, "category.name") || (0, _object.get)(ctx, "tag.id"));
        result.push((0, _virtualDom.h)("label", [(0, _virtualDom.h)("input", { type: "checkbox", checked: attrs.contextEnabled }), " ", description]));
      }

      if (!attrs.contextEnabled) {
        result.push(this.attach("link", {
          href: attrs.url,
          label: "show_help",
          className: "show-help"
        }));
      }

      result.push((0, _virtualDom.h)("div.clearfix"));
      return result;
    },
    click: function click() {
      var val = $(".search-context input").is(":checked");
      if (val !== this.attrs.contextEnabled) {
        this.sendWidgetAction("searchContextChanged", val);
      }
    }
  });
});
define("discourse/widgets/search-menu-results", ["discourse/widgets/post", "discourse/helpers/node", "discourse/widgets/raw-html", "discourse/widgets/widget", "virtual-dom", "discourse/lib/highlight-text", "discourse/lib/utilities", "discourse-common/lib/icon-library", "discourse/lib/render-tag"], function (_post, _node, _rawHtml, _widget, _virtualDom, _highlightText, _utilities, _iconLibrary, _renderTag) {
  "use strict";

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  function _possibleConstructorReturn(self, call) {
    if (!self) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return call && (typeof call === "object" || typeof call === "function") ? call : self;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
  }

  var Highlighted = function (_RawHtml) {
    _inherits(Highlighted, _RawHtml);

    function Highlighted(html, term) {
      _classCallCheck(this, Highlighted);

      var _this = _possibleConstructorReturn(this, (Highlighted.__proto__ || Object.getPrototypeOf(Highlighted)).call(this, { html: "<span>" + html + "</span>" }));

      _this.term = term;
      return _this;
    }

    _createClass(Highlighted, [{
      key: "decorate",
      value: function decorate($html) {
        (0, _highlightText.default)($html, this.term);
      }
    }]);

    return Highlighted;
  }(_rawHtml.default);

  function createSearchResult(_ref) {
    var type = _ref.type,
        linkField = _ref.linkField,
        builder = _ref.builder;

    return (0, _widget.createWidget)("search-result-" + type, {
      tagName: "ul.list",

      html: function html(attrs) {
        var _this2 = this;

        return attrs.results.map(function (r) {
          var searchResultId = void 0;

          if (type === "topic") {
            searchResultId = r.topic_id;
          } else {
            searchResultId = r.id;
          }

          return (0, _virtualDom.h)("li.item", _this2.attach("link", {
            href: r[linkField],
            contents: function contents() {
              return builder.call(_this2, r, attrs.term);
            },
            className: "search-link",
            searchResultId: searchResultId,
            searchResultType: type,
            searchContextEnabled: attrs.searchContextEnabled,
            searchLogId: attrs.searchLogId
          }));
        });
      }
    });
  }

  function postResult(result, link, term) {
    var html = [link];

    if (!this.site.mobileView) {
      html.push((0, _virtualDom.h)("span.blurb", [(0, _node.dateNode)(result.created_at), (0, _virtualDom.h)("span", " - "), new Highlighted(result.blurb, term)]));
    }

    return html;
  }

  createSearchResult({
    type: "tag",
    linkField: "url",
    builder: function builder(t) {
      var tag = (0, _utilities.escapeExpression)(t.id);
      return new _rawHtml.default({ html: (0, _renderTag.default)(tag, { tagName: "span" }) });
    }
  });

  createSearchResult({
    type: "category",
    linkField: "url",
    builder: function builder(c) {
      return this.attach("category-link", { category: c, link: false });
    }
  });

  createSearchResult({
    type: "group",
    linkField: "url",
    builder: function builder(group) {
      var fullName = (0, _utilities.escapeExpression)(group.fullName);
      var name = (0, _utilities.escapeExpression)(group.name);
      var groupNames = [(0, _virtualDom.h)("span.name", fullName || name)];

      if (fullName) {
        groupNames.push((0, _virtualDom.h)("span.slug", name));
      }

      var avatarFlair = void 0;
      if (group.flairUrl) {
        avatarFlair = this.attach("avatar-flair", {
          primary_group_flair_url: group.flairUrl,
          primary_group_flair_bg_color: group.flairBgColor,
          primary_group_flair_color: group.flairColor,
          primary_group_name: name
        });
      } else {
        avatarFlair = (0, _iconLibrary.iconNode)("users");
      }

      var groupResultContents = [avatarFlair, (0, _virtualDom.h)("div.group-names", groupNames)];

      return (0, _virtualDom.h)("div.group-result", groupResultContents);
    }
  });

  createSearchResult({
    type: "user",
    linkField: "path",
    builder: function builder(u) {
      var userTitles = [];

      if (u.name) {
        userTitles.push((0, _virtualDom.h)("span.name", u.name));
      }

      userTitles.push((0, _virtualDom.h)("span.username", (0, _utilities.formatUsername)(u.username)));

      var userResultContents = [(0, _post.avatarImg)("small", {
        template: u.avatar_template,
        username: u.username
      }), (0, _virtualDom.h)("div.user-titles", userTitles)];

      return (0, _virtualDom.h)("div.user-result", userResultContents);
    }
  });

  createSearchResult({
    type: "topic",
    linkField: "url",
    builder: function builder(result, term) {
      var topic = result.topic;

      var firstLine = [this.attach("topic-status", { topic: topic, disableActions: true }), (0, _virtualDom.h)("span.topic-title", new Highlighted(topic.fancyTitle, term))];

      var secondLine = [this.attach("category-link", {
        category: topic.category,
        link: false
      })];
      if (Discourse.SiteSettings.tagging_enabled) {
        secondLine.push(this.attach("discourse-tags", { topic: topic, tagName: "span" }));
      }

      var link = (0, _virtualDom.h)("span.topic", [(0, _virtualDom.h)("div.first-line", firstLine), (0, _virtualDom.h)("div.second-line", secondLine)]);

      return postResult.call(this, result, link, term);
    }
  });

  createSearchResult({
    type: "post",
    linkField: "url",
    builder: function builder(result, term) {
      return postResult.call(this, result, I18n.t("search.post_format", result), term);
    }
  });

  (0, _widget.createWidget)("search-menu-results", {
    tagName: "div.results",

    html: function html(attrs) {
      var _this3 = this;

      if (attrs.invalidTerm) {
        return (0, _virtualDom.h)("div.no-results", I18n.t("search.too_short"));
      }

      if (attrs.noResults) {
        return (0, _virtualDom.h)("div.no-results", I18n.t("search.no_results"));
      }

      var results = attrs.results;
      var resultTypes = results.resultTypes || [];

      var mainResultsContent = [];
      var usersAndGroups = [];
      var categoriesAndTags = [];
      var usersAndGroupsMore = [];
      var categoriesAndTagsMore = [];

      var buildMoreNode = function buildMoreNode(result) {
        var more = [];

        var moreArgs = {
          className: "filter",
          contents: function contents() {
            return [I18n.t("more"), "..."];
          }
        };

        if (result.moreUrl) {
          more.push(_this3.attach("link", $.extend(moreArgs, { href: result.moreUrl })));
        } else if (result.more) {
          more.push(_this3.attach("link", $.extend(moreArgs, {
            action: "moreOfType",
            actionParam: result.type,
            className: "filter filter-type"
          })));
        }

        if (more.length) {
          return more;
        }
      };

      var assignContainer = function assignContainer(result, node) {
        if (["topic"].includes(result.type)) {
          mainResultsContent.push(node);
        }

        if (["user", "group"].includes(result.type)) {
          usersAndGroups.push(node);
          usersAndGroupsMore.push(buildMoreNode(result));
        }

        if (["category", "tag"].includes(result.type)) {
          categoriesAndTags.push(node);
          categoriesAndTagsMore.push(buildMoreNode(result));
        }
      };

      resultTypes.forEach(function (rt) {
        var resultNodeContents = [_this3.attach(rt.componentName, {
          searchContextEnabled: attrs.searchContextEnabled,
          searchLogId: attrs.results.grouped_search_result.search_log_id,
          results: rt.results,
          term: attrs.term
        })];

        if (["topic"].includes(rt.type)) {
          var more = buildMoreNode(rt);
          if (more) {
            resultNodeContents.push((0, _virtualDom.h)("div.show-more", more));
          }
        }

        assignContainer(rt, (0, _virtualDom.h)("div." + rt.componentName, resultNodeContents));
      });

      var content = [];

      if (mainResultsContent.length) {
        content.push((0, _virtualDom.h)("div.main-results", mainResultsContent));
      }

      if (usersAndGroups.length || categoriesAndTags.length) {
        var secondaryResultsContents = [];

        secondaryResultsContents.push(usersAndGroups);
        secondaryResultsContents.push(usersAndGroupsMore);

        if (usersAndGroups.length && categoriesAndTags.length) {
          secondaryResultsContents.push((0, _virtualDom.h)("div.separator"));
        }

        secondaryResultsContents.push(categoriesAndTags);
        secondaryResultsContents.push(categoriesAndTagsMore);

        var secondaryResults = (0, _virtualDom.h)("div.secondary-results", secondaryResultsContents);

        content.push(secondaryResults);
      }

      return content;
    }
  });
});
define("discourse/widgets/search-menu", ["exports", "@ember/object", "@ember/runloop", "discourse/lib/ajax-error", "discourse/lib/search", "discourse/widgets/widget", "virtual-dom", "discourse/lib/url"], function (exports, _object, _runloop, _ajaxError, _search, _widget, _virtualDom, _url) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.initSearchData = initSearchData;


  var searchData = {};

  function initSearchData() {
    searchData.loading = false;
    searchData.results = {};
    searchData.noResults = false;
    searchData.term = undefined;
    searchData.typeFilter = null;
    searchData.invalidTerm = false;
    searchData.topicId = null;
  }

  initSearchData();

  // Helps with debouncing and cancelling promises
  var SearchHelper = {
    _activeSearch: null,
    _cancelSearch: null,

    cancel: function cancel() {
      var _this = this;

      if (this._activeSearch) {
        this._activeSearch.abort();
      }

      this._cancelSearch = true;
      (0, _runloop.later)(function () {
        return _this._cancelSearch = false;
      }, 400);
    },
    perform: function perform(widget) {
      var _this2 = this;

      if (this._cancelSearch) {
        this._cancelSearch = null;
        return;
      }

      if (this._activeSearch) {
        this._activeSearch.abort();
        this._activeSearch = null;
      }

      var term = searchData.term,
          typeFilter = searchData.typeFilter,
          contextEnabled = searchData.contextEnabled;

      var searchContext = contextEnabled ? widget.searchContext() : null;
      var fullSearchUrl = widget.fullSearchUrl();

      if (!(0, _search.isValidSearchTerm)(term)) {
        searchData.noResults = true;
        searchData.results = [];
        searchData.loading = false;
        searchData.invalidTerm = true;

        widget.scheduleRerender();
      } else {
        searchData.invalidTerm = false;
        this._activeSearch = (0, _search.searchForTerm)(term, {
          typeFilter: typeFilter,
          searchContext: searchContext,
          fullSearchUrl: fullSearchUrl
        });
        this._activeSearch.then(function (content) {
          searchData.noResults = content.resultTypes.length === 0;

          if (content.grouped_search_result) {
            searchData.term = content.grouped_search_result.term;
          }

          searchData.results = content;

          if (searchContext && searchContext.type === "topic") {
            widget.appEvents.trigger("post-stream:refresh", { force: true });
            searchData.topicId = searchContext.id;
          } else {
            searchData.topicId = null;
          }
        }).catch(_ajaxError.popupAjaxError).finally(function () {
          searchData.loading = false;
          widget.scheduleRerender();
          _this2._activeSearch = null;
        });
      }
    }
  };

  exports.default = (0, _widget.createWidget)("search-menu", {
    tagName: "div.search-menu",
    searchData: searchData,

    fullSearchUrl: function fullSearchUrl(opts) {
      var contextEnabled = searchData.contextEnabled;

      var ctx = contextEnabled ? this.searchContext() : null;
      var type = ctx ? (0, _object.get)(ctx, "type") : null;

      var url = "/search";
      var params = [];

      if (searchData.term) {
        var query = "";

        query += "q=" + encodeURIComponent(searchData.term);

        if (contextEnabled && ctx) {
          if (this.currentUser && ctx.id.toString().toLowerCase() === this.currentUser.get("username_lower") && type === "private_messages") {
            query += " in:personal";
          } else {
            query += encodeURIComponent(" " + type + ":" + ctx.id);
          }
        }

        if (query) params.push(query);
      }

      if (opts && opts.expanded) params.push("expanded=true");

      if (params.length > 0) {
        url = url + "?" + params.join("&");
      }

      return Discourse.getURL(url);
    },
    panelContents: function panelContents() {
      var contextEnabled = searchData.contextEnabled;

      var searchInput = [this.attach("search-term", { value: searchData.term, contextEnabled: contextEnabled })];
      if (searchData.term && searchData.loading) {
        searchInput.push((0, _virtualDom.h)("div.searching", (0, _virtualDom.h)("div.spinner")));
      }

      var results = [(0, _virtualDom.h)("div.search-input", searchInput), this.attach("search-context", {
        contextEnabled: contextEnabled,
        url: this.fullSearchUrl({ expanded: true })
      })];

      if (searchData.term && !searchData.loading) {
        results.push(this.attach("search-menu-results", {
          term: searchData.term,
          noResults: searchData.noResults,
          results: searchData.results,
          invalidTerm: searchData.invalidTerm,
          searchContextEnabled: searchData.contextEnabled
        }));
      }

      return results;
    },
    searchService: function searchService() {
      if (!this._searchService) {
        this._searchService = this.register.lookup("search-service:main");
      }
      return this._searchService;
    },
    searchContext: function searchContext() {
      if (!this._searchContext) {
        this._searchContext = this.searchService().get("searchContext");
      }
      return this._searchContext;
    },
    html: function html(attrs) {
      var _this3 = this;

      var searchContext = this.searchContext();

      var shouldTriggerSearch = searchData.contextEnabled !== attrs.contextEnabled || searchContext && searchContext.type === "topic" && searchData.topicId !== null && searchData.topicId !== searchContext.id;

      if (shouldTriggerSearch && searchData.term) {
        this.triggerSearch();
      }

      searchData.contextEnabled = attrs.contextEnabled;

      return this.attach("menu-panel", {
        maxWidth: 500,
        contents: function contents() {
          return _this3.panelContents();
        }
      });
    },
    mouseDownOutside: function mouseDownOutside() {
      this.sendWidgetAction("toggleSearchMenu");
    },
    keyDown: function keyDown(e) {
      if (e.which === 27 /* escape */) {
          this.sendWidgetAction("toggleSearchMenu");
          e.preventDefault();
          return false;
        }

      if (searchData.loading || searchData.noResults) {
        return;
      }

      if (e.which === 65 /* a */) {
          var focused = $("header .results .search-link:focus");
          if (focused.length === 1) {
            if ($("#reply-control.open").length === 1) {
              // add a link and focus composer

              this.appEvents.trigger("composer:insert-text", focused[0].href, {
                ensureSpace: true
              });
              this.appEvents.trigger("header:keyboard-trigger", { type: "search" });

              e.preventDefault();
              $("#reply-control.open textarea").focus();
              return false;
            }
          }
        }

      var up = e.which === 38;
      var down = e.which === 40;
      if (up || down) {
        var _focused = $("header .panel-body *:focus")[0];

        if (!_focused) {
          return;
        }

        var links = $("header .panel-body .results a");
        var results = $("header .panel-body .results .search-link");

        var prevResult = void 0;
        var result = void 0;

        links.each(function (idx, item) {
          if ($(item).hasClass("search-link")) {
            prevResult = item;
          }

          if (item === _focused) {
            result = prevResult;
          }
        });

        var index = -1;

        if (result) {
          index = results.index(result);
        }

        if (index === -1 && down) {
          $("header .panel-body .search-link:first").focus();
        } else if (index === 0 && up) {
          $("header .panel-body input:first").focus();
        } else if (index > -1) {
          index += down ? 1 : -1;
          if (index >= 0 && index < results.length) {
            $(results[index]).focus();
          }
        }

        e.preventDefault();
        return false;
      }
    },
    triggerSearch: function triggerSearch() {
      searchData.noResults = false;
      this.searchService().set("highlightTerm", searchData.term);
      searchData.loading = true;
      (0, _runloop.debounce)(SearchHelper, SearchHelper.perform, this, 400);
    },
    moreOfType: function moreOfType(type) {
      searchData.typeFilter = type;
      this.triggerSearch();
    },
    searchContextChanged: function searchContextChanged(enabled) {
      // This indicates the checkbox has been clicked, NOT that the context has changed.
      searchData.typeFilter = null;
      this.sendWidgetAction("searchMenuContextChanged", enabled);
      searchData.contextEnabled = enabled;
      this.triggerSearch();
    },
    searchTermChanged: function searchTermChanged(term) {
      searchData.typeFilter = null;
      searchData.term = term;
      this.triggerSearch();
    },
    fullSearch: function fullSearch() {
      if (!(0, _search.isValidSearchTerm)(searchData.term)) {
        return;
      }

      searchData.results = [];
      searchData.loading = false;
      SearchHelper.cancel();
      var url = this.fullSearchUrl();
      if (url) {
        this.sendWidgetEvent("linkClicked");
        _url.default.routeTo(url);
      }
    }
  });
});
define("discourse/widgets/time-gap", ["exports", "discourse/widgets/widget", "virtual-dom"], function (exports, _widget, _virtualDom) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  function description(attrs) {
    var daysSince = attrs.daysSince;

    if (daysSince < 30) {
      return I18n.t("dates.later.x_days", { count: daysSince });
    } else if (daysSince < 365) {
      var gapMonths = Math.round(daysSince / 30);
      return I18n.t("dates.later.x_months", { count: gapMonths });
    } else {
      var gapYears = Math.round(daysSince / 365);
      return I18n.t("dates.later.x_years", { count: gapYears });
    }
  }

  exports.default = (0, _widget.createWidget)("time-gap", {
    tagName: "div.time-gap.small-action",

    html: function html(attrs) {
      return [(0, _virtualDom.h)("div.topic-avatar", ""), (0, _virtualDom.h)("div.small-action-desc.timegap", description(attrs))];
    }
  });
});
define("discourse/widgets/toggle-topic-summary", ["exports", "discourse/widgets/raw-html", "discourse/widgets/widget"], function (exports, _rawHtml, _widget) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var MIN_POST_READ_TIME = 4;

  (0, _widget.createWidget)("toggle-summary-description", {
    description: function description(attrs) {
      if (attrs.topicSummaryEnabled) {
        return I18n.t("summary.enabled_description");
      }

      if (attrs.topicWordCount && this.siteSettings.read_time_word_count > 0) {
        var readingTime = Math.ceil(Math.max(attrs.topicWordCount / this.siteSettings.read_time_word_count, attrs.topicPostsCount * MIN_POST_READ_TIME / 60));
        return I18n.t("summary.description_time", {
          replyCount: attrs.topicReplyCount,
          readingTime: readingTime
        });
      }
      return I18n.t("summary.description", { replyCount: attrs.topicReplyCount });
    },
    html: function html(attrs) {
      // vdom makes putting html in the i18n difficult
      return new _rawHtml.default({ html: "<p>" + this.description(attrs) + "</p>" });
    }
  });

  exports.default = (0, _widget.createWidget)("toggle-topic-summary", {
    tagName: "section.information.toggle-summary",
    html: function html(attrs) {
      return [this.attach("toggle-summary-description", attrs), this.attach("button", {
        className: "btn btn-primary",
        label: attrs.topicSummaryEnabled ? "summary.disable" : "summary.enable",
        action: "toggleSummary"
      })];
    }
  });
});
define("discourse/widgets/topic-admin-menu", ["exports", "discourse/widgets/widget", "virtual-dom"], function (exports, _widget, _virtualDom) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  (0, _widget.createWidget)("admin-menu-button", {
    html: function html(attrs) {
      var className = void 0;
      if (attrs.buttonClass) {
        className = attrs.buttonClass;
      }

      return (0, _virtualDom.h)("li", { className: attrs.className }, this.attach("button", {
        className: className,
        action: attrs.action,
        url: attrs.url,
        icon: attrs.icon,
        label: attrs.fullLabel || "topic." + attrs.label,
        secondaryAction: "hideAdminMenu"
      }));
    }
  });

  (0, _widget.createWidget)("topic-admin-menu-button", {
    tagName: "span",
    buildKey: function buildKey() {
      return "topic-admin-menu-button";
    },

    defaultState: function defaultState() {
      return { expanded: false, position: null };
    },
    html: function html(attrs, state) {
      var result = [];

      var menu = this.attach("topic-admin-menu", {
        position: state.position,
        fixed: attrs.fixed,
        topic: attrs.topic,
        openUpwards: attrs.openUpwards,
        rightSide: !this.site.mobileView && attrs.rightSide,
        actionButtons: []
      });

      // We don't show the button when expanded on the right side on desktop
      if (menu.attrs.actionButtons.length && (!(attrs.rightSide && state.expanded) || this.site.mobileView)) {
        result.push(this.attach("button", {
          className: "btn-default toggle-admin-menu" + (attrs.fixed ? " show-topic-admin" : "") + (attrs.addKeyboardTargetClass ? " keyboard-target-admin-menu" : ""),
          title: "topic_admin_menu",
          icon: "wrench",
          action: "showAdminMenu",
          sendActionEvent: true
        }));
      }

      if (state.expanded) {
        result.push(menu);
      }

      return result;
    },
    hideAdminMenu: function hideAdminMenu() {
      this.state.expanded = false;
      this.state.position = null;

      if (this.site.mobileView && !this.attrs.rightSide) {
        $(".header-cloak").css("display", "");
      }
    },
    showAdminMenu: function showAdminMenu(e) {
      this.state.expanded = true;
      var $button = void 0;

      if (e === undefined) {
        $button = $(".keyboard-target-admin-menu");
      } else {
        $button = $(e.target).closest("button");
      }

      var position = $button.position();

      var rtl = $("html").hasClass("rtl");
      position.left = position.left;
      position.outerHeight = $button.outerHeight();

      if (rtl) {
        position.left -= 217 - $button.outerWidth();
      }

      if (this.attrs.fixed) {
        position.left += $button.width() - 203;
      }

      if (this.site.mobileView && !this.attrs.rightSide) {
        $(".header-cloak").css("display", "block");
      }

      this.state.position = position;
    },
    topicToggleActions: function topicToggleActions() {
      this.state.expanded ? this.hideAdminMenu() : this.showAdminMenu();
    }
  });

  exports.default = (0, _widget.createWidget)("topic-admin-menu", {
    tagName: "div.popup-menu.topic-admin-popup-menu",

    buildClasses: function buildClasses(attrs) {
      if (attrs.rightSide) {
        return "right-side";
      }
    },
    init: function init(attrs) {
      var topic = attrs.topic;
      var details = topic.get("details");
      var isPrivateMessage = topic.get("isPrivateMessage");
      var featured = topic.get("pinned_at") || topic.get("isBanner");
      var visible = topic.get("visible");

      // Admin actions
      if (this.currentUser && this.currentUser.get("canManageTopic")) {
        this.addActionButton({
          className: "topic-admin-multi-select",
          buttonClass: "btn-default",
          action: "toggleMultiSelect",
          icon: "tasks",
          label: "actions.multi_select"
        });

        if (details.get("can_delete")) {
          this.addActionButton({
            className: "topic-admin-delete",
            buttonClass: "btn-danger",
            action: "deleteTopic",
            icon: "far-trash-alt",
            label: "actions.delete"
          });
        }

        if (topic.get("deleted") && details.get("can_recover")) {
          this.addActionButton({
            className: "topic-admin-recover",
            buttonClass: "btn-default",
            action: "recoverTopic",
            icon: "undo",
            label: "actions.recover"
          });
        }

        if (topic.get("closed")) {
          this.addActionButton({
            className: "topic-admin-open",
            buttonClass: "btn-default",
            action: "toggleClosed",
            icon: "unlock",
            label: "actions.open"
          });
        } else {
          this.addActionButton({
            className: "topic-admin-close",
            buttonClass: "btn-default",
            action: "toggleClosed",
            icon: "lock",
            label: "actions.close"
          });
        }

        this.addActionButton({
          className: "topic-admin-status-update",
          buttonClass: "btn-default",
          action: "showTopicStatusUpdate",
          icon: "far-clock",
          label: "actions.timed_update"
        });

        if (!isPrivateMessage && (topic.get("visible") || featured)) {
          this.addActionButton({
            className: "topic-admin-pin",
            buttonClass: "btn-default",
            action: "showFeatureTopic",
            icon: "thumbtack",
            label: featured ? "actions.unpin" : "actions.pin"
          });
        }

        if (this.currentUser.get("staff")) {
          this.addActionButton({
            className: "topic-admin-change-timestamp",
            buttonClass: "btn-default",
            action: "showChangeTimestamp",
            icon: "calendar-alt",
            label: "change_timestamp.title"
          });
        }

        this.addActionButton({
          className: "topic-admin-reset-bump-date",
          buttonClass: "btn-default",
          action: "resetBumpDate",
          icon: "anchor",
          label: "actions.reset_bump_date"
        });

        if (!isPrivateMessage) {
          this.addActionButton({
            className: "topic-admin-archive",
            buttonClass: "btn-default",
            action: "toggleArchived",
            icon: "folder",
            label: topic.get("archived") ? "actions.unarchive" : "actions.archive"
          });
        }

        this.addActionButton({
          className: "topic-admin-visible",
          buttonClass: "btn-default",
          action: "toggleVisibility",
          icon: visible ? "far-eye-slash" : "far-eye",
          label: visible ? "actions.invisible" : "actions.visible"
        });

        if (details.get("can_convert_topic")) {
          this.addActionButton({
            className: "topic-admin-convert",
            buttonClass: "btn-default",
            action: isPrivateMessage ? "convertToPublicTopic" : "convertToPrivateMessage",
            icon: isPrivateMessage ? "comment" : "envelope",
            label: isPrivateMessage ? "actions.make_public" : "actions.make_private"
          });
        }

        if (this.currentUser.get("staff")) {
          this.addActionButton({
            icon: "list",
            buttonClass: "btn-default",
            fullLabel: "review.moderation_history",
            url: "/review?topic_id=" + topic.id + "&status=all"
          });
        }
      }
    },
    buildAttributes: function buildAttributes(attrs) {
      var _attrs$position = attrs.position,
          top = _attrs$position.top,
          left = _attrs$position.left,
          outerHeight = _attrs$position.outerHeight;

      var position = attrs.fixed || this.site.mobileView ? "fixed" : "absolute";

      if (attrs.rightSide) {
        return;
      }

      if (attrs.openUpwards) {
        var documentHeight = $(document).height();
        var mainHeight = $("#main").height();
        var bottom = documentHeight - top - 70 - $("#main").offset().top;

        if (documentHeight > mainHeight) {
          bottom = bottom - (documentHeight - mainHeight) - outerHeight;
        }

        if (this.site.mobileView) {
          bottom = 0;
          left = 0;
        }

        return {
          style: "position: " + position + "; bottom: " + bottom + "px; left: " + left + "px;"
        };
      } else {
        return {
          style: "position: " + position + "; top: " + top + "px; left: " + left + "px;"
        };
      }
    },
    addActionButton: function addActionButton(button) {
      this.attrs.actionButtons.push(button);
    },
    html: function html(attrs) {
      var _this = this;

      var extraButtons = (0, _widget.applyDecorators)(this, "adminMenuButtons", this.attrs, this.state);
      return [(0, _virtualDom.h)("div.header", [(0, _virtualDom.h)("h3", I18n.t("topic.actions.title")), (0, _virtualDom.h)("div", this.attach("button", {
        action: "clickOutside",
        icon: "times",
        className: "close-button"
      }))]), (0, _virtualDom.h)("ul", attrs.actionButtons.concat(extraButtons).filter(Boolean).map(function (b) {
        return _this.attach("admin-menu-button", b);
      }))];
    },
    clickOutside: function clickOutside() {
      this.sendWidgetAction("hideAdminMenu");
    }
  });
});
define("discourse/widgets/topic-map", ["exports", "discourse/widgets/widget", "virtual-dom", "discourse/widgets/post", "discourse/helpers/node", "discourse/widgets/emoji"], function (exports, _widget, _virtualDom, _post, _node, _emoji) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var LINKS_SHOWN = 5;

  function renderParticipants(userFilters, participants) {
    var _this = this;

    if (!participants) {
      return;
    }

    userFilters = userFilters || [];
    return participants.map(function (p) {
      return _this.attach("topic-participant", p, {
        state: { toggled: userFilters.includes(p.username) }
      });
    });
  }

  (0, _widget.createWidget)("topic-map-show-links", {
    tagName: "div.link-summary",
    html: function html() {
      return (0, _virtualDom.h)("span", this.attach("button", {
        title: "topic_map.links_shown",
        icon: "chevron-down",
        action: "showLinks",
        className: "btn"
      }));
    },
    showLinks: function showLinks() {
      this.sendWidgetAction("showAllLinks");
    }
  });

  (0, _widget.createWidget)("topic-participant", {
    buildClasses: function buildClasses(attrs) {
      if (attrs.primary_group_name) {
        return "group-" + attrs.primary_group_name;
      }
    },
    html: function html(attrs, state) {
      var linkContents = [(0, _post.avatarImg)("medium", {
        username: attrs.username,
        template: attrs.avatar_template,
        name: attrs.name
      })];

      if (attrs.post_count > 2) {
        linkContents.push((0, _virtualDom.h)("span.post-count", attrs.post_count.toString()));
      }

      if (attrs.primary_group_flair_url || attrs.primary_group_flair_bg_color) {
        linkContents.push(this.attach("avatar-flair", attrs));
      }

      return (0, _virtualDom.h)("a.poster.trigger-user-card", {
        className: state.toggled ? "toggled" : null,
        attributes: { title: attrs.username, "data-user-card": attrs.username }
      }, linkContents);
    }
  });

  (0, _widget.createWidget)("topic-map-summary", {
    tagName: "section.map",

    buildClasses: function buildClasses(attrs, state) {
      if (state.collapsed) {
        return "map-collapsed";
      }
    },
    html: function html(attrs, state) {
      var contents = [];
      contents.push((0, _virtualDom.h)("li", [(0, _virtualDom.h)("h4", {
        attributes: { role: "presentation" }
      }, I18n.t("created_lowercase")), (0, _virtualDom.h)("div.topic-map-post.created-at", [(0, _post.avatarFor)("tiny", {
        username: attrs.createdByUsername,
        template: attrs.createdByAvatarTemplate,
        name: attrs.createdByName
      }), (0, _node.dateNode)(attrs.topicCreatedAt)])]));
      contents.push((0, _virtualDom.h)("li", (0, _virtualDom.h)("a", { attributes: { href: attrs.lastPostUrl } }, [(0, _virtualDom.h)("h4", {
        attributes: { role: "presentation" }
      }, I18n.t("last_reply_lowercase")), (0, _virtualDom.h)("div.topic-map-post.last-reply", [(0, _post.avatarFor)("tiny", {
        username: attrs.lastPostUsername,
        template: attrs.lastPostAvatarTemplate,
        name: attrs.lastPostName
      }), (0, _node.dateNode)(attrs.lastPostAt)])])));
      contents.push((0, _virtualDom.h)("li", [(0, _node.numberNode)(attrs.topicReplyCount), (0, _virtualDom.h)("h4", {
        attributes: { role: "presentation" }
      }, I18n.t("replies_lowercase", {
        count: attrs.topicReplyCount
      }).toString())]));
      contents.push((0, _virtualDom.h)("li.secondary", [(0, _node.numberNode)(attrs.topicViews, { className: attrs.topicViewsHeat }), (0, _virtualDom.h)("h4", {
        attributes: { role: "presentation" }
      }, I18n.t("views_lowercase", { count: attrs.topicViews }).toString())]));

      if (attrs.participantCount > 0) {
        contents.push((0, _virtualDom.h)("li.secondary", [(0, _node.numberNode)(attrs.participantCount), (0, _virtualDom.h)("h4", {
          attributes: { role: "presentation" }
        }, I18n.t("users_lowercase", {
          count: attrs.participantCount
        }).toString())]));
      }

      if (attrs.topicLikeCount) {
        contents.push((0, _virtualDom.h)("li.secondary", [(0, _node.numberNode)(attrs.topicLikeCount), (0, _virtualDom.h)("h4", {
          attributes: { role: "presentation" }
        }, I18n.t("likes_lowercase", {
          count: attrs.topicLikeCount
        }).toString())]));
      }

      if (attrs.topicLinkLength > 0) {
        contents.push((0, _virtualDom.h)("li.secondary", [(0, _node.numberNode)(attrs.topicLinkLength), (0, _virtualDom.h)("h4", {
          attributes: { role: "presentation" }
        }, I18n.t("links_lowercase", {
          count: attrs.topicLinkLength
        }).toString())]));
      }

      if (state.collapsed && attrs.topicPostsCount > 2 && attrs.participants && attrs.participants.length > 0) {
        var participants = renderParticipants.call(this, attrs.userFilters, attrs.participants.slice(0, 3));
        contents.push((0, _virtualDom.h)("li.avatars", participants));
      }

      var nav = (0, _virtualDom.h)("nav.buttons", this.attach("button", {
        title: "topic.toggle_information",
        icon: state.collapsed ? "chevron-down" : "chevron-up",
        action: "toggleMap",
        className: "btn"
      }));

      return [nav, (0, _virtualDom.h)("ul.clearfix", contents)];
    }
  });

  (0, _widget.createWidget)("topic-map-link", {
    tagName: "a.topic-link.track-link",

    buildClasses: function buildClasses(attrs) {
      if (attrs.attachment) {
        return "attachment";
      }
    },
    buildAttributes: function buildAttributes(attrs) {
      return {
        href: attrs.url,
        target: "_blank",
        "data-user-id": attrs.user_id,
        "data-ignore-post-id": "true",
        title: attrs.url,
        rel: "nofollow ugc noopener"
      };
    },
    html: function html(attrs) {
      var content = attrs.title || attrs.url;
      var truncateLength = 85;

      if (content.length > truncateLength) {
        content = content.substr(0, truncateLength).trim() + "...";
      }

      return attrs.title ? (0, _emoji.replaceEmoji)(content) : content;
    }
  });

  (0, _widget.createWidget)("topic-map-expanded", {
    tagName: "section.topic-map-expanded",
    buildKey: function buildKey(attrs) {
      return "topic-map-expanded-" + attrs.id;
    },

    defaultState: function defaultState() {
      return { allLinksShown: false };
    },
    html: function html(attrs, state) {
      var _this2 = this;

      var avatars = void 0;

      if (attrs.participants && attrs.participants.length > 0) {
        avatars = (0, _virtualDom.h)("section.avatars.clearfix", [(0, _virtualDom.h)("h3", I18n.t("topic_map.participants_title")), renderParticipants.call(this, attrs.userFilters, attrs.participants)]);
      }

      var result = [avatars];
      if (attrs.topicLinks) {
        var toShow = state.allLinksShown ? attrs.topicLinks : attrs.topicLinks.slice(0, LINKS_SHOWN);

        var links = toShow.map(function (l) {
          var host = "";

          if (l.title && l.title.length) {
            var rootDomain = l.root_domain;

            if (rootDomain && rootDomain.length) {
              host = (0, _virtualDom.h)("span.domain", rootDomain);
            }
          }

          return (0, _virtualDom.h)("tr", [(0, _virtualDom.h)("td", (0, _virtualDom.h)("span.badge.badge-notification.clicks", {
            attributes: {
              title: I18n.t("topic_map.clicks", { count: l.clicks })
            }
          }, l.clicks.toString())), (0, _virtualDom.h)("td", [_this2.attach("topic-map-link", l), " ", host])]);
        });

        var showAllLinksContent = [(0, _virtualDom.h)("h3", I18n.t("topic_map.links_title")), (0, _virtualDom.h)("table.topic-links", links)];

        if (!state.allLinksShown && links.length < attrs.topicLinks.length) {
          showAllLinksContent.push(this.attach("topic-map-show-links"));
        }

        var section = (0, _virtualDom.h)("section.links", showAllLinksContent);
        result.push(section);
      }
      return result;
    },
    showAllLinks: function showAllLinks() {
      this.state.allLinksShown = true;
    }
  });

  exports.default = (0, _widget.createWidget)("topic-map", {
    tagName: "div.topic-map",
    buildKey: function buildKey(attrs) {
      return "topic-map-" + attrs.id;
    },

    defaultState: function defaultState(attrs) {
      return { collapsed: !attrs.hasTopicSummary };
    },
    html: function html(attrs, state) {
      var contents = [this.attach("topic-map-summary", attrs, { state: state })];

      if (!state.collapsed) {
        contents.push(this.attach("topic-map-expanded", attrs));
      }

      if (attrs.hasTopicSummary) {
        contents.push(this.attach("toggle-topic-summary", attrs));
      }

      if (attrs.showPMMap) {
        contents.push(this.attach("private-message-map", attrs));
      }
      return contents;
    },
    toggleMap: function toggleMap() {
      this.state.collapsed = !this.state.collapsed;
    }
  });
});
define("discourse/widgets/topic-status", ["exports", "discourse/widgets/widget", "discourse-common/lib/icon-library", "virtual-dom", "discourse/lib/utilities", "discourse/helpers/topic-status-icons"], function (exports, _widget, _iconLibrary, _virtualDom, _utilities, _topicStatusIcons) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = (0, _widget.createWidget)("topic-status", {
    tagName: "div.topic-statuses",

    html: function html(attrs) {
      var topic = attrs.topic;
      var canAct = this.currentUser && !attrs.disableActions;

      var result = [];

      _topicStatusIcons.default.render(topic, function (name, key) {
        var iconArgs = key === "unpinned" ? { class: "unpinned" } : null;
        var icon = (0, _iconLibrary.iconNode)(name, iconArgs);

        var attributes = {
          title: (0, _utilities.escapeExpression)(I18n.t("topic_statuses." + key + ".help"))
        };
        result.push((0, _virtualDom.h)((canAct ? "a" : "span") + ".topic-status", attributes, icon));
      });

      return result;
    }
  });
});
define("discourse/widgets/topic-timeline", ["exports", "@ember/runloop", "discourse/widgets/widget", "discourse/widgets/component-connector", "virtual-dom", "discourse/lib/formatter", "discourse-common/lib/icon-library", "discourse/widgets/raw-html", "discourse/lib/render-tags", "discourse/lib/render-topic-featured-link"], function (exports, _runloop, _widget, _componentConnector, _virtualDom, _formatter, _iconLibrary, _rawHtml, _renderTags, _renderTopicFeaturedLink) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  var SCROLLER_HEIGHT = 50;
  var LAST_READ_HEIGHT = 20;
  var MIN_SCROLLAREA_HEIGHT = 170;
  var MAX_SCROLLAREA_HEIGHT = 300;

  function scrollareaHeight() {
    var composerHeight = document.getElementById("reply-control").offsetHeight || 0,
        headerHeight = document.querySelectorAll(".d-header")[0].offsetHeight || 0;

    // scrollarea takes up about half of the timeline's height
    var availableHeight = (window.innerHeight - composerHeight - headerHeight) / 2;

    return Math.max(MIN_SCROLLAREA_HEIGHT, Math.min(availableHeight, MAX_SCROLLAREA_HEIGHT));
  }

  function scrollareaRemaining() {
    return scrollareaHeight() - SCROLLER_HEIGHT;
  }

  function clamp(p) {
    var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.0;
    var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1.0;

    return Math.max(Math.min(p, max), min);
  }

  function attachBackButton(widget) {
    return widget.attach("button", {
      className: "btn-primary btn-small back-button",
      label: "topic.timeline.back",
      title: "topic.timeline.back_description",
      action: "goBack"
    });
  }

  (0, _widget.createWidget)("timeline-last-read", {
    tagName: "div.timeline-last-read",

    buildAttributes: function buildAttributes(attrs) {
      var bottom = scrollareaHeight() - LAST_READ_HEIGHT / 2;
      var top = attrs.top > bottom ? bottom : attrs.top;
      return { style: "height: " + LAST_READ_HEIGHT + "px; top: " + top + "px" };
    },
    html: function html(attrs) {
      var result = [(0, _iconLibrary.iconNode)("minus", { class: "progress" })];
      if (attrs.showButton) {
        result.push(attachBackButton(this));
      }

      return result;
    }
  });

  function timelineDate(date) {
    var fmt = date.getFullYear() === new Date().getFullYear() ? "long_no_year_no_time" : "timeline_date";
    return moment(date).format(I18n.t("dates." + fmt));
  }

  (0, _widget.createWidget)("timeline-scroller", {
    tagName: "div.timeline-scroller",
    buildKey: function buildKey() {
      return "timeline-scroller";
    },

    defaultState: function defaultState() {
      return { dragging: false };
    },
    buildAttributes: function buildAttributes() {
      return { style: "height: " + SCROLLER_HEIGHT + "px" };
    },
    html: function html(attrs, state) {
      var current = attrs.current,
          total = attrs.total,
          date = attrs.date;


      var contents = [(0, _virtualDom.h)("div.timeline-replies", I18n.t("topic.timeline.replies_short", { current: current, total: total }))];

      if (date) {
        contents.push((0, _virtualDom.h)("div.timeline-ago", timelineDate(date)));
      }

      if (attrs.showDockedButton && !state.dragging) {
        contents.push(attachBackButton(this));
      }
      var result = [(0, _virtualDom.h)("div.timeline-handle"), (0, _virtualDom.h)("div.timeline-scroller-content", contents)];

      if (attrs.fullScreen) {
        result = [result[1], result[0]];
      }

      return result;
    },
    drag: function drag(e) {
      this.state.dragging = true;
      this.sendWidgetAction("updatePercentage", e.pageY);
    },
    dragEnd: function dragEnd(e) {
      this.state.dragging = false;
      if ($(e.target).is("button")) {
        this.sendWidgetAction("goBack");
      } else {
        this.sendWidgetAction("commit");
      }
    }
  });

  (0, _widget.createWidget)("timeline-padding", {
    tagName: "div.timeline-padding",
    buildAttributes: function buildAttributes(attrs) {
      return { style: "height: " + attrs.height + "px" };
    },
    click: function click(e) {
      this.sendWidgetAction("updatePercentage", e.pageY);
      this.sendWidgetAction("commit");
    }
  });

  (0, _widget.createWidget)("timeline-scrollarea", {
    tagName: "div.timeline-scrollarea",
    buildKey: function buildKey() {
      return "timeline-scrollarea";
    },

    buildAttributes: function buildAttributes() {
      return { style: "height: " + scrollareaHeight() + "px" };
    },
    defaultState: function defaultState(attrs) {
      return {
        percentage: this._percentFor(attrs.topic, attrs.enteredIndex + 1),
        scrolledPost: 1
      };
    },
    position: function position() {
      var attrs = this.attrs;

      var percentage = this.state.percentage;
      var topic = attrs.topic;
      var postStream = topic.get("postStream");
      var total = postStream.get("filteredPostsCount");

      var scrollPosition = clamp(Math.floor(total * percentage), 0, total) + 1;
      var current = clamp(scrollPosition, 1, total);

      var daysAgo = postStream.closestDaysAgoFor(current);
      var date = void 0;

      if (daysAgo === undefined) {
        var post = postStream.get("posts").findBy("id", postStream.get("stream")[current]);

        if (post) date = new Date(post.get("created_at"));
      } else if (daysAgo !== null) {
        date = new Date();
        date.setDate(date.getDate() - daysAgo || 0);
      } else {
        date = null;
      }

      var result = {
        current: current,
        scrollPosition: scrollPosition,
        total: total,
        date: date,
        lastRead: null,
        lastReadPercentage: null
      };

      var lastReadId = topic.last_read_post_id;
      var lastReadNumber = topic.last_read_post_number;

      if (lastReadId && lastReadNumber) {
        var idx = postStream.get("stream").indexOf(lastReadId) + 1;
        result.lastRead = idx;
        result.lastReadPercentage = this._percentFor(topic, idx);
      }

      if (this.state.position !== result.scrollPosition) {
        this.state.position = result.scrollPosition;
        this.sendWidgetAction("updatePosition", current);
      }

      return result;
    },
    html: function html(attrs, state) {
      var position = this.position();

      state.scrolledPost = position.current;
      var percentage = state.percentage;
      if (percentage === null) {
        return;
      }

      var before = scrollareaRemaining() * percentage;
      var after = scrollareaHeight() - before - SCROLLER_HEIGHT;

      var showButton = false;
      var hasBackPosition = position.lastRead > 3 && Math.abs(position.lastRead - position.current) > 3 && Math.abs(position.lastRead - position.total) > 1 && position.lastRead && position.lastRead !== position.total;

      if (hasBackPosition) {
        var lastReadTop = Math.round(position.lastReadPercentage * scrollareaHeight());
        showButton = before + SCROLLER_HEIGHT - 5 < lastReadTop || before > lastReadTop + 25;
      }

      var result = [this.attach("timeline-padding", { height: before }), this.attach("timeline-scroller", _.merge(position, {
        showDockedButton: !attrs.mobileView && hasBackPosition && !showButton,
        fullScreen: attrs.fullScreen
      })), this.attach("timeline-padding", { height: after })];

      if (hasBackPosition) {
        var _lastReadTop = Math.round(position.lastReadPercentage * scrollareaHeight());
        result.push(this.attach("timeline-last-read", {
          top: _lastReadTop,
          lastRead: position.lastRead,
          showButton: showButton
        }));
      }

      return result;
    },
    updatePercentage: function updatePercentage(y) {
      var $area = $(".timeline-scrollarea");
      var areaTop = $area.offset().top;

      var percentage = clamp(parseFloat(y - areaTop) / $area.height());

      this.state.percentage = percentage;
    },
    commit: function commit() {
      var position = this.position();
      this.state.scrolledPost = position.current;

      if (position.current === position.scrollPosition) {
        this.sendWidgetAction("jumpToIndex", position.current);
      } else {
        this.sendWidgetAction("jumpEnd");
      }
    },
    topicCurrentPostScrolled: function topicCurrentPostScrolled(event) {
      this.state.percentage = event.percent;
    },
    _percentFor: function _percentFor(topic, postIndex) {
      var total = topic.get("postStream.filteredPostsCount");
      return clamp(parseFloat(postIndex - 1.0) / total);
    },
    goBack: function goBack() {
      this.sendWidgetAction("jumpToIndex", this.position().lastRead);
    }
  });

  (0, _widget.createWidget)("topic-timeline-container", {
    tagName: "div.timeline-container",
    buildClasses: function buildClasses(attrs) {
      if (attrs.fullScreen) {
        if (attrs.addShowClass) {
          return "timeline-fullscreen show";
        } else {
          return "timeline-fullscreen";
        }
      }
      if (attrs.dockAt) {
        var result = ["timeline-docked"];
        if (attrs.dockBottom) {
          result.push("timeline-docked-bottom");
        }
        return result.join(" ");
      }
    },
    buildAttributes: function buildAttributes(attrs) {
      if (attrs.top) {
        return { style: "top: " + attrs.top + "px" };
      }
    },
    html: function html(attrs) {
      return this.attach("topic-timeline", attrs);
    }
  });

  (0, _widget.createWidget)("timeline-controls", {
    tagName: "div.timeline-controls",

    html: function html(attrs) {
      var controls = [];
      var fullScreen = attrs.fullScreen,
          currentUser = attrs.currentUser,
          topic = attrs.topic;


      if (!fullScreen && currentUser) {
        controls.push(this.attach("topic-admin-menu-button", {
          topic: topic,
          addKeyboardTargetClass: true
        }));
      }

      return controls;
    }
  });

  (0, _widget.createWidget)("timeline-footer-controls", {
    tagName: "div.timeline-footer-controls",

    html: function html(attrs) {
      var controls = [];
      var currentUser = attrs.currentUser,
          fullScreen = attrs.fullScreen,
          topic = attrs.topic,
          notificationLevel = attrs.notificationLevel;


      if (currentUser && !fullScreen) {
        if (topic.get("details.can_create_post")) {
          controls.push(this.attach("button", {
            className: "btn-default create",
            icon: "reply",
            title: "topic.reply.help",
            action: "replyToPost"
          }));
        }
      }

      if (fullScreen) {
        controls.push(this.attach("button", {
          className: "jump-to-post",
          title: "topic.progress.jump_prompt_long",
          label: "topic.progress.jump_prompt",
          action: "jumpToPostPrompt"
        }));
      }

      if (currentUser) {
        controls.push(new _componentConnector.default(this, "topic-notifications-button", {
          notificationLevel: notificationLevel,
          topic: topic,
          showFullTitle: false,
          appendReason: false,
          placement: "bottom-end"
        }, ["notificationLevel"]));
      }

      return controls;
    }
  });

  exports.default = (0, _widget.createWidget)("topic-timeline", {
    tagName: "div.topic-timeline",

    buildKey: function buildKey() {
      return "topic-timeline-area";
    },

    defaultState: function defaultState() {
      return { position: null, excerpt: null };
    },
    updatePosition: function updatePosition(scrollPosition) {
      var _this = this;

      if (!this.attrs.fullScreen) {
        return;
      }

      this.state.position = scrollPosition;
      this.state.excerpt = "";
      var stream = this.attrs.topic.get("postStream");

      // a little debounce to avoid flashing
      (0, _runloop.later)(function () {
        if (!_this.state.position === scrollPosition) {
          return;
        }

        // we have an off by one, stream is zero based,
        stream.excerpt(scrollPosition - 1).then(function (info) {
          if (info && _this.state.position === scrollPosition) {
            var excerpt = "";

            if (info.username) {
              excerpt = "<span class='username'>" + info.username + ":</span> ";
            }

            _this.state.excerpt = excerpt + info.excerpt;
            _this.scheduleRerender();
          }
        });
      }, 50);
    },
    html: function html(attrs) {
      var topic = attrs.topic;

      var createdAt = new Date(topic.created_at);
      var stream = attrs.topic.get("postStream.stream");
      var currentUser = this.currentUser;
      var _siteSettings = this.siteSettings,
          tagging_enabled = _siteSettings.tagging_enabled,
          topic_featured_link_enabled = _siteSettings.topic_featured_link_enabled;


      attrs["currentUser"] = currentUser;

      var result = [];

      if (attrs.fullScreen) {
        var titleHTML = "";
        if (attrs.mobileView) {
          titleHTML = new _rawHtml.default({
            html: "<span>" + topic.get("fancyTitle") + "</span>"
          });
        }

        var elems = [(0, _virtualDom.h)("h2", this.attach("link", {
          contents: function contents() {
            return titleHTML;
          },
          className: "fancy-title",
          action: "jumpTop"
        }))];

        // duplicate of the {{topic-category}} component
        var category = [];

        if (!topic.get("isPrivateMessage")) {
          if (topic.category.parentCategory) {
            category.push(this.attach("category-link", {
              category: topic.category.parentCategory
            }));
          }
          category.push(this.attach("category-link", { category: topic.category }));
        }

        var showTags = tagging_enabled && topic.tags && topic.tags.length > 0;

        if (showTags || topic_featured_link_enabled) {
          var extras = [];
          if (showTags) {
            var tagsHtml = new _rawHtml.default({
              html: (0, _renderTags.default)(topic, { mode: "list" })
            });
            extras.push((0, _virtualDom.h)("div.list-tags", tagsHtml));
          }
          if (topic_featured_link_enabled) {
            extras.push(new _rawHtml.default({ html: (0, _renderTopicFeaturedLink.default)(topic) }));
          }
          category.push((0, _virtualDom.h)("div.topic-header-extra", extras));
        }

        if (category.length > 0) {
          elems.push((0, _virtualDom.h)("div.topic-category", category));
        }

        if (this.state.excerpt) {
          elems.push(new _rawHtml.default({
            html: "<div class='post-excerpt'>" + this.state.excerpt + "</div>"
          }));
        }

        result.push((0, _virtualDom.h)("div.title", elems));
      }

      result.push(this.attach("timeline-controls", attrs));
      var streamLength = stream.length;

      if (streamLength !== 0 && streamLength < 3) {
        var topicHeight = $("#topic").height();
        var windowHeight = $(window).height();
        if (topicHeight / windowHeight < 2.0) {
          return result;
        }
      }

      var bottomAge = (0, _formatter.relativeAge)(new Date(topic.last_posted_at), {
        addAgo: true,
        defaultFormat: timelineDate
      });
      var scroller = [(0, _virtualDom.h)("div.timeline-date-wrapper", this.attach("link", {
        className: "start-date",
        rawLabel: timelineDate(createdAt),
        action: "jumpTop"
      })), this.attach("timeline-scrollarea", attrs), (0, _virtualDom.h)("div.timeline-date-wrapper", this.attach("link", {
        className: "now-date",
        rawLabel: bottomAge,
        action: "jumpBottom"
      }))];

      result.push((0, _virtualDom.h)("div.timeline-scrollarea-wrapper", scroller));
      result.push(this.attach("timeline-footer-controls", attrs));

      return result;
    }
  });
});
define("discourse/widgets/user-menu", ["exports", "@ember/runloop", "discourse/widgets/widget", "virtual-dom", "discourse/lib/utilities"], function (exports, _runloop, _widget, _virtualDom, _utilities) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.addUserMenuGlyph = addUserMenuGlyph;


  var UserMenuAction = {
    QUICK_ACCESS: "quickAccess"
  };

  var QuickAccess = {
    BOOKMARKS: "bookmarks",
    MESSAGES: "messages",
    NOTIFICATIONS: "notifications",
    PROFILE: "profile"
  };

  var extraGlyphs = void 0;

  function addUserMenuGlyph(glyph) {
    extraGlyphs = extraGlyphs || [];
    extraGlyphs.push(glyph);
  }

  (0, _widget.createWidget)("user-menu-links", {
    tagName: "div.menu-links-header",

    profileLink: function profileLink() {
      var link = {
        action: UserMenuAction.QUICK_ACCESS,
        actionParam: QuickAccess.PROFILE,
        route: "user",
        model: this.currentUser,
        className: "user-activity-link",
        icon: "user",
        rawLabel: (0, _utilities.formatUsername)(this.currentUser.username)
      };

      if (this.currentUser.is_anonymous) {
        link.label = "user.profile";
        link.rawLabel = null;
      }

      return link;
    },
    notificationsGlyph: function notificationsGlyph() {
      return {
        label: "user.notifications",
        className: "user-notifications-link",
        icon: "bell",
        href: this.attrs.path + "/notifications",
        action: UserMenuAction.QUICK_ACCESS,
        actionParam: QuickAccess.NOTIFICATIONS
      };
    },
    bookmarksGlyph: function bookmarksGlyph() {
      return {
        action: UserMenuAction.QUICK_ACCESS,
        actionParam: QuickAccess.BOOKMARKS,
        label: "user.bookmarks",
        className: "user-bookmarks-link",
        icon: "bookmark",
        href: this.attrs.path + "/activity/bookmarks"
      };
    },
    messagesGlyph: function messagesGlyph() {
      return {
        action: UserMenuAction.QUICK_ACCESS,
        actionParam: QuickAccess.MESSAGES,
        label: "user.private_messages",
        className: "user-pms-link",
        icon: "envelope",
        href: this.attrs.path + "/messages"
      };
    },
    linkHtml: function linkHtml(link) {
      if (this.isActive(link)) {
        link = this.markAsActive(link);
      }
      return this.attach("link", link);
    },
    glyphHtml: function glyphHtml(glyph) {
      if (this.isActive(glyph)) {
        glyph = this.markAsActive(glyph);
      }
      return this.attach("link", $.extend(glyph, { hideLabel: true }));
    },
    html: function html() {
      var _this = this;

      var links = [this.profileLink()];
      var glyphs = [];

      if (extraGlyphs) {
        extraGlyphs.forEach(function (g) {
          if (typeof g === "function") {
            g = g(_this);
          }
          if (g) {
            glyphs.push(g);
          }
        });
      }

      glyphs.push(this.notificationsGlyph());
      glyphs.push(this.bookmarksGlyph());

      if (this.siteSettings.enable_personal_messages || this.currentUser.staff) {
        glyphs.push(this.messagesGlyph());
      }

      return (0, _virtualDom.h)("ul.menu-links-row", [links.map(function (l) {
        return (0, _virtualDom.h)("li.user", _this.linkHtml(l));
      }), (0, _virtualDom.h)("li.glyphs", glyphs.map(function (l) {
        return _this.glyphHtml(l);
      }))]);
    },
    markAsActive: function markAsActive(definition) {
      // Clicking on an active quick access tab icon should redirect the user to
      // the full page.
      definition.action = null;
      definition.actionParam = null;

      if (definition.className) {
        definition.className += " active";
      } else {
        definition.className = "active";
      }

      return definition;
    },
    isActive: function isActive(_ref2) {
      var action = _ref2.action,
          actionParam = _ref2.actionParam;

      return action === UserMenuAction.QUICK_ACCESS && actionParam === this.attrs.currentQuickAccess;
    }
  });

  (0, _widget.createWidget)("user-menu-dismiss-link", {
    tagName: "div.dismiss-link",

    template: function (attrs, state) {
      var _r = [];

      _r.push("\n    ");

      var _a0 = [];

      _a0.push("\n      ");

      var _a1 = [];

      _a1.push("\n        ");

      _a1.push(this.attach("link", {
        "action": "dismissNotifications",
        "className": "dismiss",
        "tabindex": "0",
        "icon": "check",
        "label": "user.dismiss",
        "title": "user.dismiss_notifications_tooltip"
      }));

      _a1.push("\n      ");

      _a0.push(virtualDom.h('li', _a1));

      _a0.push("\n    ");

      _r.push(virtualDom.h('ul', {
        "className": "menu-links"
      }, _a0));

      _r.push("\n  ");

      return _r;
    }
  });

  exports.default = (0, _widget.createWidget)("user-menu", {
    tagName: "div.user-menu",
    buildKey: function buildKey() {
      return "user-menu";
    },

    settings: {
      maxWidth: 320,
      showLogoutButton: true
    },

    defaultState: function defaultState() {
      return {
        currentQuickAccess: QuickAccess.NOTIFICATIONS,
        hasUnread: false,
        markUnread: null
      };
    },
    panelContents: function panelContents() {
      var path = this.currentUser.get("path");
      var currentQuickAccess = this.state.currentQuickAccess;


      var result = [this.attach("user-menu-links", {
        path: path,
        currentQuickAccess: currentQuickAccess
      }), this.quickAccessPanel(path)];

      if (this.state.hasUnread) {
        result.push((0, _virtualDom.h)("hr.bottom-area"));
        result.push(this.attach("user-menu-dismiss-link"));
      }

      return result;
    },
    dismissNotifications: function dismissNotifications() {
      return this.state.markRead();
    },
    itemsLoaded: function itemsLoaded(_ref3) {
      var hasUnread = _ref3.hasUnread,
          markRead = _ref3.markRead;

      this.state.hasUnread = hasUnread;
      this.state.markRead = markRead;
    },
    html: function html() {
      var _this2 = this;

      return this.attach("menu-panel", {
        maxWidth: this.settings.maxWidth,
        contents: function contents() {
          return _this2.panelContents();
        }
      });
    },
    clickOutsideMobile: function clickOutsideMobile(e) {
      var _this3 = this;

      var $centeredElement = $(document.elementFromPoint(e.clientX, e.clientY));
      if ($centeredElement.parents(".panel").length && !$centeredElement.hasClass("header-cloak")) {
        this.sendWidgetAction("toggleUserMenu");
      } else {
        var $window = $(window);
        var windowWidth = $window.width();
        var $panel = $(".menu-panel");
        $panel.addClass("animate");
        $panel.css("right", -windowWidth);
        var $headerCloak = $(".header-cloak");
        $headerCloak.addClass("animate");
        $headerCloak.css("opacity", 0);
        (0, _runloop.later)(function () {
          return _this3.sendWidgetAction("toggleUserMenu");
        }, 200);
      }
    },
    clickOutside: function clickOutside(e) {
      if (this.site.mobileView) {
        this.clickOutsideMobile(e);
      } else {
        this.sendWidgetAction("toggleUserMenu");
      }
    },
    quickAccess: function quickAccess(type) {
      if (this.state.currentQuickAccess !== type) {
        this.state.currentQuickAccess = type;
      }
    },
    quickAccessPanel: function quickAccessPanel(path) {
      var showLogoutButton = this.settings.showLogoutButton;
      // This deliberately does NOT fallback to a default quick access panel.

      return this.attach("quick-access-" + this.state.currentQuickAccess, {
        path: path,
        showLogoutButton: showLogoutButton
      });
    }
  });
});
define("discourse/widgets/user-notifications-large", ["exports", "discourse/widgets/widget", "virtual-dom", "discourse/helpers/node"], function (exports, _widget, _virtualDom, _node) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });


  (0, _widget.createWidget)("large-notification-item", {
    buildClasses: function buildClasses(attrs) {
      var result = ["item", "notification", "large-notification"];
      if (!attrs.get("read")) {
        result.push("unread");
      }
      return result;
    },
    html: function html(attrs) {
      var notificationName = this.site.notificationLookup[attrs.notification_type];

      return [this.attach(notificationName.dasherize() + "-notification-item", attrs, {}, { fallbackWidgetName: "default-notification-item" }), (0, _virtualDom.h)("span.time", (0, _node.dateNode)(attrs.created_at))];
    }
  });

  exports.default = (0, _widget.createWidget)("user-notifications-large", {
    html: function html(attrs) {
      var _this = this;

      var notifications = attrs.notifications;
      var username = notifications.findArgs.username;

      return notifications.map(function (n) {
        n.username = username;
        return _this.attach("large-notification-item", n);
      });
    }
  });
});
define("discourse/widgets/widget", ["exports", "discourse/widgets/hooks", "virtual-dom", "discourse/widgets/decorator-helper", "rsvp", "discourse-common/config/environment", "@ember/object"], function (exports, _hooks, _virtualDom, _decoratorHelper, _rsvp, _environment, _object) {
  "use strict";

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  exports.queryRegistry = queryRegistry;
  exports.decorateWidget = decorateWidget;
  exports.applyDecorators = applyDecorators;
  exports.resetDecorators = resetDecorators;
  exports.changeSetting = changeSetting;
  exports.createWidgetFrom = createWidgetFrom;
  exports.createWidget = createWidget;
  exports.reopenWidget = reopenWidget;

  var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _possibleConstructorReturn(self, call) {
    if (!self) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return call && (typeof call === "object" || typeof call === "function") ? call : self;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
  }

  var _registry = {};

  function queryRegistry(name) {
    return _registry[name];
  }

  var _decorators = {};

  function decorateWidget(widgetName, cb) {
    _decorators[widgetName] = _decorators[widgetName] || [];
    _decorators[widgetName].push(cb);
  }

  function applyDecorators(widget, type, attrs, state) {
    var decorators = _decorators[widget.name + ":" + type] || [];

    if (decorators.length) {
      var helper = new _decoratorHelper.default(widget, attrs, state);
      return decorators.map(function (d) {
        return d(helper);
      });
    }

    return [];
  }

  function resetDecorators() {
    Object.keys(_decorators).forEach(function (key) {
      return delete _decorators[key];
    });
  }

  var _customSettings = {};
  function changeSetting(widgetName, settingName, newValue) {
    _customSettings[widgetName] = _customSettings[widgetName] || {};
    _customSettings[widgetName][settingName] = newValue;
  }

  function createWidgetFrom(base, name, opts) {
    var result = function (_base) {
      _inherits(CustomWidget, _base);

      function CustomWidget() {
        _classCallCheck(this, CustomWidget);

        return _possibleConstructorReturn(this, (CustomWidget.__proto__ || Object.getPrototypeOf(CustomWidget)).apply(this, arguments));
      }

      return CustomWidget;
    }(base);

    if (name) {
      _registry[name] = result;
    }

    opts.name = name;

    if (opts.template) {
      opts.html = opts.template;
    }

    Object.keys(opts).forEach(function (k) {
      return result.prototype[k] = opts[k];
    });
    return result;
  }

  function createWidget(name, opts) {
    return createWidgetFrom(Widget, name, opts);
  }

  function reopenWidget(name, opts) {
    var existing = _registry[name];
    if (!existing) {
      // eslint-disable-next-line no-console
      console.error("Could not find widget " + name + " in registry");
      return;
    }

    if (opts.template) {
      opts.html = opts.template;
    }

    Object.keys(opts).forEach(function (k) {
      var old = existing.prototype[k];

      if (old instanceof Function) {
        // Add support for `this._super()` to reopened widgets if the prototype exists in the
        // base object
        existing.prototype[k] = function () {
          var _this2 = this;

          var ctx = Object.create(this);
          ctx._super = function () {
            for (var _len2 = arguments.length, superArgs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              superArgs[_key2] = arguments[_key2];
            }

            return old.apply(_this2, superArgs);
          };

          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          return opts[k].apply(ctx, args);
        };
      } else {
        existing.prototype[k] = opts[k];
      }
    });
    return existing;
  }

  var Widget = function () {
    function Widget(attrs, register, opts) {
      var _this3 = this;

      _classCallCheck(this, Widget);

      opts = opts || {};
      this.attrs = attrs || {};
      this.mergeState = opts.state;
      this.model = opts.model;
      this.register = register;
      this.dirtyKeys = opts.dirtyKeys;

      register.deprecateContainer(this);

      this.key = this.buildKey ? this.buildKey(attrs) : null;
      this.site = register.lookup("site:main");
      this.siteSettings = register.lookup("site-settings:main");
      this.currentUser = register.lookup("current-user:main");
      this.capabilities = register.lookup("capabilities:main");
      this.store = register.lookup("service:store");
      this.appEvents = register.lookup("service:app-events");
      this.keyValueStore = register.lookup("key-value-store:main");

      this.init(this.attrs);

      // Helps debug widgets
      if (Discourse.Environment === "development" || _environment.default.environment === "test") {
        var ds = this.defaultState(attrs);
        if ((typeof ds === "undefined" ? "undefined" : _typeof(ds)) !== "object") {
          throw new Error("defaultState must return an object");
        } else if (Object.keys(ds).length > 0 && !this.key) {
          throw new Error("you need a key when using state in " + this.name);
        }
      }

      if (this.name) {
        var custom = _customSettings[this.name];
        if (custom) {
          Object.keys(custom).forEach(function (k) {
            return _this3.settings[k] = custom[k];
          });
        }
      }
    }

    _createClass(Widget, [{
      key: "transform",
      value: function transform() {
        return {};
      }
    }, {
      key: "defaultState",
      value: function defaultState() {
        return {};
      }
    }, {
      key: "init",
      value: function init() {}
    }, {
      key: "destroy",
      value: function destroy() {}
    }, {
      key: "get",
      value: function get(propertyPath) {
        return (0, _object.get)(this, propertyPath);
      }
    }, {
      key: "render",
      value: function render(prev) {
        var dirtyKeys = this.dirtyKeys;


        if (prev && prev.key && prev.key === this.key) {
          this.state = prev.state;
        } else {
          this.state = this.defaultState(this.attrs, this.state);
        }

        // Sometimes we pass state down from the parent
        if (this.mergeState) {
          this.state = _.merge(this.state, this.mergeState);
        }

        if (prev) {
          var dirtyOpts = dirtyKeys.optionsFor(prev.key);

          if (prev.shadowTree) {
            this.shadowTree = true;
            if (!dirtyOpts.dirty && !dirtyKeys.allDirty()) {
              return prev.vnode;
            }
          }
          if (prev.key) {
            dirtyKeys.renderedKey(prev.key);
          }

          var refreshAction = dirtyOpts.onRefresh;
          if (refreshAction) {
            this.sendWidgetAction(refreshAction, dirtyOpts.refreshArg);
          }
        }

        return this.draw(_virtualDom.h, this.attrs, this.state);
      }
    }, {
      key: "_findAncestorWithProperty",
      value: function _findAncestorWithProperty(property) {
        var widget = this;
        while (widget) {
          var value = widget[property];
          if (value) {
            return widget;
          }
          widget = widget.parentWidget;
        }
      }
    }, {
      key: "_findView",
      value: function _findView() {
        var widget = this._findAncestorWithProperty("_emberView");
        if (widget) {
          return widget._emberView;
        }
      }
    }, {
      key: "lookupWidgetClass",
      value: function lookupWidgetClass(widgetName) {
        var WidgetClass = _registry[widgetName];
        if (WidgetClass) {
          return WidgetClass;
        }

        if (!this.register) {
          // eslint-disable-next-line no-console
          console.error("couldn't find register");
          return null;
        }

        WidgetClass = this.register.lookupFactory("widget:" + widgetName);
        if (WidgetClass && WidgetClass.class) {
          return WidgetClass.class;
        }

        return null;
      }
    }, {
      key: "attach",
      value: function attach(widgetName, attrs, opts) {
        var otherOpts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

        var WidgetClass = this.lookupWidgetClass(widgetName);

        if (!WidgetClass && otherOpts.fallbackWidgetName) {
          WidgetClass = this.lookupWidgetClass(otherOpts.fallbackWidgetName);
        }

        if (WidgetClass) {
          var result = new WidgetClass(attrs, this.register, opts);
          result.parentWidget = this;
          result.dirtyKeys = this.dirtyKeys;
          return result;
        } else {
          throw new Error("Couldn't find " + widgetName + " or fallback " + otherOpts.fallbackWidgetName);
        }
      }
    }, {
      key: "scheduleRerender",
      value: function scheduleRerender() {
        var widget = this;
        while (widget) {
          if (widget.shadowTree) {
            this.dirtyKeys.keyDirty(widget.key);
          }

          var rerenderable = widget._rerenderable;
          if (rerenderable) {
            return rerenderable.queueRerender();
          }

          widget = widget.parentWidget;
        }
      }
    }, {
      key: "_sendComponentAction",
      value: function _sendComponentAction(name, param) {
        var promise = void 0;

        var view = this._findView();
        if (view) {
          var method = view.get(name);
          if (!method) {
            // eslint-disable-next-line no-console
            console.warn(name + " not found");
            return;
          }

          if (typeof method === "string") {
            view[method](param);
            promise = _rsvp.Promise.resolve();
          } else {
            var target = view.get("target") || view;
            promise = method.call(target, param);
            if (!promise || !promise.then) {
              promise = _rsvp.Promise.resolve(promise);
            }
          }
        }

        return this.rerenderResult(function () {
          return promise;
        });
      }
    }, {
      key: "findAncestorModel",
      value: function findAncestorModel() {
        var modelWidget = this._findAncestorWithProperty("model");
        if (modelWidget) {
          return modelWidget.model;
        }
      }
    }, {
      key: "rerenderResult",
      value: function rerenderResult(fn) {
        var _this4 = this;

        this.scheduleRerender();
        var result = fn();
        // re-render after any promises complete, too!
        if (result && result.then) {
          return result.then(function () {
            return _this4.scheduleRerender();
          });
        }
        return result;
      }
    }, {
      key: "sendWidgetEvent",
      value: function sendWidgetEvent(name, attrs) {
        var _this5 = this;

        var methodName = name + "Event";
        return this.rerenderResult(function () {
          var widget = _this5._findAncestorWithProperty(methodName);
          if (widget) {
            return widget[methodName](attrs);
          }
        });
      }
    }, {
      key: "sendWidgetAction",
      value: function sendWidgetAction(name, param) {
        var _this6 = this;

        return this.rerenderResult(function () {
          var widget = _this6._findAncestorWithProperty(name);
          if (widget) {
            return widget[name].call(widget, param);
          }

          return _this6._sendComponentAction(name, param || _this6.findAncestorModel());
        });
      }
    }, {
      key: "html",
      value: function html() {}
    }, {
      key: "draw",
      value: function draw(builder, attrs, state) {
        var properties = {};

        if (this.buildClasses) {
          var classes = this.buildClasses(attrs, state) || [];
          if (!Array.isArray(classes)) {
            classes = [classes];
          }

          var customClasses = applyDecorators(this, "classNames", attrs, state);
          if (customClasses && customClasses.length) {
            classes = classes.concat(customClasses);
          }

          if (classes.length) {
            properties.className = classes.join(" ");
          }
        }
        if (this.buildId) {
          properties.id = this.buildId(attrs);
        }

        if (this.buildAttributes) {
          properties.attributes = this.buildAttributes(attrs);
        }

        if (this.keyUp) {
          properties["widget-key-up"] = new _hooks.WidgetKeyUpHook(this);
        }

        if (this.keyDown) {
          properties["widget-key-down"] = new _hooks.WidgetKeyDownHook(this);
        }

        if (this.clickOutside) {
          properties["widget-click-outside"] = new _hooks.WidgetClickOutsideHook(this);
        }
        if (this.click) {
          properties["widget-click"] = new _hooks.WidgetClickHook(this);
        }
        if (this.doubleClick) {
          properties["widget-double-click"] = new _hooks.WidgetDoubleClickHook(this);
        }

        if (this.mouseDownOutside) {
          properties["widget-mouse-down-outside"] = new _hooks.WidgetMouseDownOutsideHook(this);
        }

        if (this.drag) {
          properties["widget-drag"] = new _hooks.WidgetDragHook(this);
        }

        if (this.input) {
          properties["widget-input"] = new _hooks.WidgetInputHook(this);
        }

        if (this.change) {
          properties["widget-change"] = new _hooks.WidgetChangeHook(this);
        }

        if (this.mouseDown) {
          properties["widget-mouse-down"] = new _hooks.WidgetMouseDownHook(this);
        }

        if (this.mouseUp) {
          properties["widget-mouse-up"] = new _hooks.WidgetMouseUpHook(this);
        }

        if (this.mouseMove) {
          properties["widget-mouse-move"] = new _hooks.WidgetMouseMoveHook(this);
        }

        var attributes = properties["attributes"] || {};
        properties.attributes = attributes;

        if (this.title) {
          if (typeof this.title === "function") {
            attributes.title = this.title(attrs, state);
          } else {
            attributes.title = I18n.t(this.title);
          }
        }

        this.transformed = this.transform(this.attrs, this.state);

        var contents = this.html(attrs, state);
        if (this.name) {
          var beforeContents = applyDecorators(this, "before", attrs, state) || [];
          var afterContents = applyDecorators(this, "after", attrs, state) || [];
          contents = beforeContents.concat(contents).concat(afterContents);
        }

        return (0, _virtualDom.h)(this.tagName || "div", properties, contents);
      }
    }]);

    return Widget;
  }();

  exports.default = Widget;


  Widget.prototype.type = "Thunk";
});










// Stuff we need to load first




























































































;
